function nN(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();var mr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Nb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function sN(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Cb={exports:{}},Tu={},Eb={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nl=Symbol.for("react.element"),oN=Symbol.for("react.portal"),aN=Symbol.for("react.fragment"),iN=Symbol.for("react.strict_mode"),lN=Symbol.for("react.profiler"),cN=Symbol.for("react.provider"),uN=Symbol.for("react.context"),dN=Symbol.for("react.forward_ref"),fN=Symbol.for("react.suspense"),hN=Symbol.for("react.memo"),mN=Symbol.for("react.lazy"),y0=Symbol.iterator;function gN(e){return e===null||typeof e!="object"?null:(e=y0&&e[y0]||e["@@iterator"],typeof e=="function"?e:null)}var Pb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Tb=Object.assign,Ab={};function la(e,t,r){this.props=e,this.context=t,this.refs=Ab,this.updater=r||Pb}la.prototype.isReactComponent={};la.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};la.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Rb(){}Rb.prototype=la.prototype;function qm(e,t,r){this.props=e,this.context=t,this.refs=Ab,this.updater=r||Pb}var Wm=qm.prototype=new Rb;Wm.constructor=qm;Tb(Wm,la.prototype);Wm.isPureReactComponent=!0;var x0=Array.isArray,Mb=Object.prototype.hasOwnProperty,Hm={current:null},Lb={key:!0,ref:!0,__self:!0,__source:!0};function Db(e,t,r){var n,s={},o=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)Mb.call(t,n)&&!Lb.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:nl,type:e,key:o,ref:i,props:s,_owner:Hm.current}}function pN(e,t){return{$$typeof:nl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Km(e){return typeof e=="object"&&e!==null&&e.$$typeof===nl}function yN(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var v0=/\/+/g;function Pd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?yN(""+e.key):t.toString(36)}function ic(e,t,r,n,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case nl:case oN:i=!0}}if(i)return i=e,s=s(i),e=n===""?"."+Pd(i,0):n,x0(s)?(r="",e!=null&&(r=e.replace(v0,"$&/")+"/"),ic(s,t,r,"",function(u){return u})):s!=null&&(Km(s)&&(s=pN(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(v0,"$&/")+"/")+e)),t.push(s)),1;if(i=0,n=n===""?".":n+":",x0(e))for(var l=0;l<e.length;l++){o=e[l];var c=n+Pd(o,l);i+=ic(o,t,r,c,s)}else if(c=gN(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=n+Pd(o,l++),i+=ic(o,t,r,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function kl(e,t,r){if(e==null)return e;var n=[],s=0;return ic(e,n,"","",function(o){return t.call(r,o,s++)}),n}function xN(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Dt={current:null},lc={transition:null},vN={ReactCurrentDispatcher:Dt,ReactCurrentBatchConfig:lc,ReactCurrentOwner:Hm};function Ob(){throw Error("act(...) is not supported in production builds of React.")}_e.Children={map:kl,forEach:function(e,t,r){kl(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return kl(e,function(){t++}),t},toArray:function(e){return kl(e,function(t){return t})||[]},only:function(e){if(!Km(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};_e.Component=la;_e.Fragment=aN;_e.Profiler=lN;_e.PureComponent=qm;_e.StrictMode=iN;_e.Suspense=fN;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vN;_e.act=Ob;_e.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Tb({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=Hm.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Mb.call(t,c)&&!Lb.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:nl,type:e.type,key:s,ref:o,props:n,_owner:i}};_e.createContext=function(e){return e={$$typeof:uN,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:cN,_context:e},e.Consumer=e};_e.createElement=Db;_e.createFactory=function(e){var t=Db.bind(null,e);return t.type=e,t};_e.createRef=function(){return{current:null}};_e.forwardRef=function(e){return{$$typeof:dN,render:e}};_e.isValidElement=Km;_e.lazy=function(e){return{$$typeof:mN,_payload:{_status:-1,_result:e},_init:xN}};_e.memo=function(e,t){return{$$typeof:hN,type:e,compare:t===void 0?null:t}};_e.startTransition=function(e){var t=lc.transition;lc.transition={};try{e()}finally{lc.transition=t}};_e.unstable_act=Ob;_e.useCallback=function(e,t){return Dt.current.useCallback(e,t)};_e.useContext=function(e){return Dt.current.useContext(e)};_e.useDebugValue=function(){};_e.useDeferredValue=function(e){return Dt.current.useDeferredValue(e)};_e.useEffect=function(e,t){return Dt.current.useEffect(e,t)};_e.useId=function(){return Dt.current.useId()};_e.useImperativeHandle=function(e,t,r){return Dt.current.useImperativeHandle(e,t,r)};_e.useInsertionEffect=function(e,t){return Dt.current.useInsertionEffect(e,t)};_e.useLayoutEffect=function(e,t){return Dt.current.useLayoutEffect(e,t)};_e.useMemo=function(e,t){return Dt.current.useMemo(e,t)};_e.useReducer=function(e,t,r){return Dt.current.useReducer(e,t,r)};_e.useRef=function(e){return Dt.current.useRef(e)};_e.useState=function(e){return Dt.current.useState(e)};_e.useSyncExternalStore=function(e,t,r){return Dt.current.useSyncExternalStore(e,t,r)};_e.useTransition=function(){return Dt.current.useTransition()};_e.version="18.3.1";Eb.exports=_e;var m=Eb.exports;const ht=Nb(m),Ym=nN({__proto__:null,default:ht},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bN=m,wN=Symbol.for("react.element"),_N=Symbol.for("react.fragment"),kN=Object.prototype.hasOwnProperty,SN=bN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jN={key:!0,ref:!0,__self:!0,__source:!0};function Ib(e,t,r){var n,s={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)kN.call(t,n)&&!jN.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:wN,type:e,key:o,ref:i,props:s,_owner:SN.current}}Tu.Fragment=_N;Tu.jsx=Ib;Tu.jsxs=Ib;Cb.exports=Tu;var a=Cb.exports,Fb={exports:{}},er={},$b={exports:{}},Ub={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(S,M){var T=S.length;S.push(M);e:for(;0<T;){var B=T-1>>>1,V=S[B];if(0<s(V,M))S[B]=M,S[T]=V,T=B;else break e}}function r(S){return S.length===0?null:S[0]}function n(S){if(S.length===0)return null;var M=S[0],T=S.pop();if(T!==M){S[0]=T;e:for(var B=0,V=S.length,re=V>>>1;B<re;){var se=2*(B+1)-1,fe=S[se],oe=se+1,R=S[oe];if(0>s(fe,T))oe<V&&0>s(R,fe)?(S[B]=R,S[oe]=T,B=oe):(S[B]=fe,S[se]=T,B=se);else if(oe<V&&0>s(R,T))S[B]=R,S[oe]=T,B=oe;else break e}}return M}function s(S,M){var T=S.sortIndex-M.sortIndex;return T!==0?T:S.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,h=3,g=!1,b=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(S){for(var M=r(u);M!==null;){if(M.callback===null)n(u);else if(M.startTime<=S)n(u),M.sortIndex=M.expirationTime,t(c,M);else break;M=r(u)}}function _(S){if(x=!1,v(S),!b)if(r(c)!==null)b=!0,D(k);else{var M=r(u);M!==null&&z(_,M.startTime-S)}}function k(S,M){b=!1,x&&(x=!1,p(N),N=-1),g=!0;var T=h;try{for(v(M),f=r(c);f!==null&&(!(f.expirationTime>M)||S&&!I());){var B=f.callback;if(typeof B=="function"){f.callback=null,h=f.priorityLevel;var V=B(f.expirationTime<=M);M=e.unstable_now(),typeof V=="function"?f.callback=V:f===r(c)&&n(c),v(M)}else n(c);f=r(c)}if(f!==null)var re=!0;else{var se=r(u);se!==null&&z(_,se.startTime-M),re=!1}return re}finally{f=null,h=T,g=!1}}var j=!1,C=null,N=-1,F=5,E=-1;function I(){return!(e.unstable_now()-E<F)}function P(){if(C!==null){var S=e.unstable_now();E=S;var M=!0;try{M=C(!0,S)}finally{M?O():(j=!1,C=null)}}else j=!1}var O;if(typeof y=="function")O=function(){y(P)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,$=A.port2;A.port1.onmessage=P,O=function(){$.postMessage(null)}}else O=function(){w(P,0)};function D(S){C=S,j||(j=!0,O())}function z(S,M){N=w(function(){S(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(S){S.callback=null},e.unstable_continueExecution=function(){b||g||(b=!0,D(k))},e.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<S?Math.floor(1e3/S):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(S){switch(h){case 1:case 2:case 3:var M=3;break;default:M=h}var T=h;h=M;try{return S()}finally{h=T}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(S,M){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var T=h;h=S;try{return M()}finally{h=T}},e.unstable_scheduleCallback=function(S,M,T){var B=e.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?B+T:B):T=B,S){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=T+V,S={id:d++,callback:M,priorityLevel:S,startTime:T,expirationTime:V,sortIndex:-1},T>B?(S.sortIndex=T,t(u,S),r(c)===null&&S===r(u)&&(x?(p(N),N=-1):x=!0,z(_,T-B))):(S.sortIndex=V,t(c,S),b||g||(b=!0,D(k))),S},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(S){var M=h;return function(){var T=h;h=M;try{return S.apply(this,arguments)}finally{h=T}}}})(Ub);$b.exports=Ub;var NN=$b.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CN=m,Zt=NN;function ee(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zb=new Set,bi={};function Hs(e,t){qo(e,t),qo(e+"Capture",t)}function qo(e,t){for(bi[e]=t,e=0;e<t.length;e++)zb.add(t[e])}var un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kf=Object.prototype.hasOwnProperty,EN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,b0={},w0={};function PN(e){return Kf.call(w0,e)?!0:Kf.call(b0,e)?!1:EN.test(e)?w0[e]=!0:(b0[e]=!0,!1)}function TN(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function AN(e,t,r,n){if(t===null||typeof t>"u"||TN(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ot(e,t,r,n,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){vt[e]=new Ot(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];vt[t]=new Ot(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){vt[e]=new Ot(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){vt[e]=new Ot(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){vt[e]=new Ot(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){vt[e]=new Ot(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){vt[e]=new Ot(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){vt[e]=new Ot(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){vt[e]=new Ot(e,5,!1,e.toLowerCase(),null,!1,!1)});var Jm=/[\-:]([a-z])/g;function Xm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Jm,Xm);vt[t]=new Ot(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Jm,Xm);vt[t]=new Ot(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Jm,Xm);vt[t]=new Ot(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){vt[e]=new Ot(e,1,!1,e.toLowerCase(),null,!1,!1)});vt.xlinkHref=new Ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){vt[e]=new Ot(e,1,!1,e.toLowerCase(),null,!0,!0)});function Qm(e,t,r,n){var s=vt.hasOwnProperty(t)?vt[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(AN(t,r,s,n)&&(r=null),n||s===null?PN(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var vn=CN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Sl=Symbol.for("react.element"),xo=Symbol.for("react.portal"),vo=Symbol.for("react.fragment"),Zm=Symbol.for("react.strict_mode"),Yf=Symbol.for("react.profiler"),Bb=Symbol.for("react.provider"),Vb=Symbol.for("react.context"),eg=Symbol.for("react.forward_ref"),Jf=Symbol.for("react.suspense"),Xf=Symbol.for("react.suspense_list"),tg=Symbol.for("react.memo"),Pn=Symbol.for("react.lazy"),Gb=Symbol.for("react.offscreen"),_0=Symbol.iterator;function Ea(e){return e===null||typeof e!="object"?null:(e=_0&&e[_0]||e["@@iterator"],typeof e=="function"?e:null)}var Je=Object.assign,Td;function Ga(e){if(Td===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Td=t&&t[1]||""}return`
`+Td+e}var Ad=!1;function Rd(e,t){if(!e||Ad)return"";Ad=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=n.stack.split(`
`),i=s.length-1,l=o.length-1;1<=i&&0<=l&&s[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==o[l]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{Ad=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ga(e):""}function RN(e){switch(e.tag){case 5:return Ga(e.type);case 16:return Ga("Lazy");case 13:return Ga("Suspense");case 19:return Ga("SuspenseList");case 0:case 2:case 15:return e=Rd(e.type,!1),e;case 11:return e=Rd(e.type.render,!1),e;case 1:return e=Rd(e.type,!0),e;default:return""}}function Qf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case vo:return"Fragment";case xo:return"Portal";case Yf:return"Profiler";case Zm:return"StrictMode";case Jf:return"Suspense";case Xf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Vb:return(e.displayName||"Context")+".Consumer";case Bb:return(e._context.displayName||"Context")+".Provider";case eg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case tg:return t=e.displayName||null,t!==null?t:Qf(e.type)||"Memo";case Pn:t=e._payload,e=e._init;try{return Qf(e(t))}catch{}}return null}function MN(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qf(t);case 8:return t===Zm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Jn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qb(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function LN(e){var t=qb(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function jl(e){e._valueTracker||(e._valueTracker=LN(e))}function Wb(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=qb(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Pc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Zf(e,t){var r=t.checked;return Je({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function k0(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Jn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Hb(e,t){t=t.checked,t!=null&&Qm(e,"checked",t,!1)}function eh(e,t){Hb(e,t);var r=Jn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?th(e,t.type,r):t.hasOwnProperty("defaultValue")&&th(e,t.type,Jn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function S0(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function th(e,t,r){(t!=="number"||Pc(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var qa=Array.isArray;function Do(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Jn(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function rh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ee(91));return Je({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function j0(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ee(92));if(qa(r)){if(1<r.length)throw Error(ee(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Jn(r)}}function Kb(e,t){var r=Jn(t.value),n=Jn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function N0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Yb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Yb(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Nl,Jb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Nl=Nl||document.createElement("div"),Nl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Nl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function wi(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ei={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},DN=["Webkit","ms","Moz","O"];Object.keys(ei).forEach(function(e){DN.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ei[t]=ei[e]})});function Xb(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ei.hasOwnProperty(e)&&ei[e]?(""+t).trim():t+"px"}function Qb(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Xb(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var ON=Je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sh(e,t){if(t){if(ON[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ee(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ee(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ee(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ee(62))}}function oh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ah=null;function rg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ih=null,Oo=null,Io=null;function C0(e){if(e=al(e)){if(typeof ih!="function")throw Error(ee(280));var t=e.stateNode;t&&(t=Du(t),ih(e.stateNode,e.type,t))}}function Zb(e){Oo?Io?Io.push(e):Io=[e]:Oo=e}function ew(){if(Oo){var e=Oo,t=Io;if(Io=Oo=null,C0(e),t)for(e=0;e<t.length;e++)C0(t[e])}}function tw(e,t){return e(t)}function rw(){}var Md=!1;function nw(e,t,r){if(Md)return e(t,r);Md=!0;try{return tw(e,t,r)}finally{Md=!1,(Oo!==null||Io!==null)&&(rw(),ew())}}function _i(e,t){var r=e.stateNode;if(r===null)return null;var n=Du(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ee(231,t,typeof r));return r}var lh=!1;if(un)try{var Pa={};Object.defineProperty(Pa,"passive",{get:function(){lh=!0}}),window.addEventListener("test",Pa,Pa),window.removeEventListener("test",Pa,Pa)}catch{lh=!1}function IN(e,t,r,n,s,o,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var ti=!1,Tc=null,Ac=!1,ch=null,FN={onError:function(e){ti=!0,Tc=e}};function $N(e,t,r,n,s,o,i,l,c){ti=!1,Tc=null,IN.apply(FN,arguments)}function UN(e,t,r,n,s,o,i,l,c){if($N.apply(this,arguments),ti){if(ti){var u=Tc;ti=!1,Tc=null}else throw Error(ee(198));Ac||(Ac=!0,ch=u)}}function Ks(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function sw(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function E0(e){if(Ks(e)!==e)throw Error(ee(188))}function zN(e){var t=e.alternate;if(!t){if(t=Ks(e),t===null)throw Error(ee(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return E0(s),e;if(o===n)return E0(s),t;o=o.sibling}throw Error(ee(188))}if(r.return!==n.return)r=s,n=o;else{for(var i=!1,l=s.child;l;){if(l===r){i=!0,r=s,n=o;break}if(l===n){i=!0,n=s,r=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===r){i=!0,r=o,n=s;break}if(l===n){i=!0,n=o,r=s;break}l=l.sibling}if(!i)throw Error(ee(189))}}if(r.alternate!==n)throw Error(ee(190))}if(r.tag!==3)throw Error(ee(188));return r.stateNode.current===r?e:t}function ow(e){return e=zN(e),e!==null?aw(e):null}function aw(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=aw(e);if(t!==null)return t;e=e.sibling}return null}var iw=Zt.unstable_scheduleCallback,P0=Zt.unstable_cancelCallback,BN=Zt.unstable_shouldYield,VN=Zt.unstable_requestPaint,et=Zt.unstable_now,GN=Zt.unstable_getCurrentPriorityLevel,ng=Zt.unstable_ImmediatePriority,lw=Zt.unstable_UserBlockingPriority,Rc=Zt.unstable_NormalPriority,qN=Zt.unstable_LowPriority,cw=Zt.unstable_IdlePriority,Au=null,Gr=null;function WN(e){if(Gr&&typeof Gr.onCommitFiberRoot=="function")try{Gr.onCommitFiberRoot(Au,e,void 0,(e.current.flags&128)===128)}catch{}}var Cr=Math.clz32?Math.clz32:YN,HN=Math.log,KN=Math.LN2;function YN(e){return e>>>=0,e===0?32:31-(HN(e)/KN|0)|0}var Cl=64,El=4194304;function Wa(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Mc(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,o=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~s;l!==0?n=Wa(l):(o&=i,o!==0&&(n=Wa(o)))}else i=r&~s,i!==0?n=Wa(i):o!==0&&(n=Wa(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Cr(t),s=1<<r,n|=e[r],t&=~s;return n}function JN(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function XN(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-Cr(o),l=1<<i,c=s[i];c===-1?(!(l&r)||l&n)&&(s[i]=JN(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function uh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function uw(){var e=Cl;return Cl<<=1,!(Cl&4194240)&&(Cl=64),e}function Ld(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function sl(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Cr(t),e[t]=r}function QN(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Cr(r),o=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~o}}function sg(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Cr(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Ae=0;function dw(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var fw,og,hw,mw,gw,dh=!1,Pl=[],Un=null,zn=null,Bn=null,ki=new Map,Si=new Map,Rn=[],ZN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function T0(e,t){switch(e){case"focusin":case"focusout":Un=null;break;case"dragenter":case"dragleave":zn=null;break;case"mouseover":case"mouseout":Bn=null;break;case"pointerover":case"pointerout":ki.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Si.delete(t.pointerId)}}function Ta(e,t,r,n,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[s]},t!==null&&(t=al(t),t!==null&&og(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function eC(e,t,r,n,s){switch(t){case"focusin":return Un=Ta(Un,e,t,r,n,s),!0;case"dragenter":return zn=Ta(zn,e,t,r,n,s),!0;case"mouseover":return Bn=Ta(Bn,e,t,r,n,s),!0;case"pointerover":var o=s.pointerId;return ki.set(o,Ta(ki.get(o)||null,e,t,r,n,s)),!0;case"gotpointercapture":return o=s.pointerId,Si.set(o,Ta(Si.get(o)||null,e,t,r,n,s)),!0}return!1}function pw(e){var t=ks(e.target);if(t!==null){var r=Ks(t);if(r!==null){if(t=r.tag,t===13){if(t=sw(r),t!==null){e.blockedOn=t,gw(e.priority,function(){hw(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function cc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=fh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);ah=n,r.target.dispatchEvent(n),ah=null}else return t=al(r),t!==null&&og(t),e.blockedOn=r,!1;t.shift()}return!0}function A0(e,t,r){cc(e)&&r.delete(t)}function tC(){dh=!1,Un!==null&&cc(Un)&&(Un=null),zn!==null&&cc(zn)&&(zn=null),Bn!==null&&cc(Bn)&&(Bn=null),ki.forEach(A0),Si.forEach(A0)}function Aa(e,t){e.blockedOn===t&&(e.blockedOn=null,dh||(dh=!0,Zt.unstable_scheduleCallback(Zt.unstable_NormalPriority,tC)))}function ji(e){function t(s){return Aa(s,e)}if(0<Pl.length){Aa(Pl[0],e);for(var r=1;r<Pl.length;r++){var n=Pl[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Un!==null&&Aa(Un,e),zn!==null&&Aa(zn,e),Bn!==null&&Aa(Bn,e),ki.forEach(t),Si.forEach(t),r=0;r<Rn.length;r++)n=Rn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Rn.length&&(r=Rn[0],r.blockedOn===null);)pw(r),r.blockedOn===null&&Rn.shift()}var Fo=vn.ReactCurrentBatchConfig,Lc=!0;function rC(e,t,r,n){var s=Ae,o=Fo.transition;Fo.transition=null;try{Ae=1,ag(e,t,r,n)}finally{Ae=s,Fo.transition=o}}function nC(e,t,r,n){var s=Ae,o=Fo.transition;Fo.transition=null;try{Ae=4,ag(e,t,r,n)}finally{Ae=s,Fo.transition=o}}function ag(e,t,r,n){if(Lc){var s=fh(e,t,r,n);if(s===null)Gd(e,t,n,Dc,r),T0(e,n);else if(eC(s,e,t,r,n))n.stopPropagation();else if(T0(e,n),t&4&&-1<ZN.indexOf(e)){for(;s!==null;){var o=al(s);if(o!==null&&fw(o),o=fh(e,t,r,n),o===null&&Gd(e,t,n,Dc,r),o===s)break;s=o}s!==null&&n.stopPropagation()}else Gd(e,t,n,null,r)}}var Dc=null;function fh(e,t,r,n){if(Dc=null,e=rg(n),e=ks(e),e!==null)if(t=Ks(e),t===null)e=null;else if(r=t.tag,r===13){if(e=sw(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Dc=e,null}function yw(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(GN()){case ng:return 1;case lw:return 4;case Rc:case qN:return 16;case cw:return 536870912;default:return 16}default:return 16}}var On=null,ig=null,uc=null;function xw(){if(uc)return uc;var e,t=ig,r=t.length,n,s="value"in On?On.value:On.textContent,o=s.length;for(e=0;e<r&&t[e]===s[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===s[o-n];n++);return uc=s.slice(e,1<n?1-n:void 0)}function dc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Tl(){return!0}function R0(){return!1}function tr(e){function t(r,n,s,o,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Tl:R0,this.isPropagationStopped=R0,this}return Je(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Tl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Tl)},persist:function(){},isPersistent:Tl}),t}var ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lg=tr(ca),ol=Je({},ca,{view:0,detail:0}),sC=tr(ol),Dd,Od,Ra,Ru=Je({},ol,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ra&&(Ra&&e.type==="mousemove"?(Dd=e.screenX-Ra.screenX,Od=e.screenY-Ra.screenY):Od=Dd=0,Ra=e),Dd)},movementY:function(e){return"movementY"in e?e.movementY:Od}}),M0=tr(Ru),oC=Je({},Ru,{dataTransfer:0}),aC=tr(oC),iC=Je({},ol,{relatedTarget:0}),Id=tr(iC),lC=Je({},ca,{animationName:0,elapsedTime:0,pseudoElement:0}),cC=tr(lC),uC=Je({},ca,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),dC=tr(uC),fC=Je({},ca,{data:0}),L0=tr(fC),hC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=gC[e])?!!t[e]:!1}function cg(){return pC}var yC=Je({},ol,{key:function(e){if(e.key){var t=hC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=dc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?mC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cg,charCode:function(e){return e.type==="keypress"?dc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?dc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xC=tr(yC),vC=Je({},Ru,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),D0=tr(vC),bC=Je({},ol,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cg}),wC=tr(bC),_C=Je({},ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),kC=tr(_C),SC=Je({},Ru,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jC=tr(SC),NC=[9,13,27,32],ug=un&&"CompositionEvent"in window,ri=null;un&&"documentMode"in document&&(ri=document.documentMode);var CC=un&&"TextEvent"in window&&!ri,vw=un&&(!ug||ri&&8<ri&&11>=ri),O0=" ",I0=!1;function bw(e,t){switch(e){case"keyup":return NC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ww(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var bo=!1;function EC(e,t){switch(e){case"compositionend":return ww(t);case"keypress":return t.which!==32?null:(I0=!0,O0);case"textInput":return e=t.data,e===O0&&I0?null:e;default:return null}}function PC(e,t){if(bo)return e==="compositionend"||!ug&&bw(e,t)?(e=xw(),uc=ig=On=null,bo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vw&&t.locale!=="ko"?null:t.data;default:return null}}var TC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function F0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!TC[e.type]:t==="textarea"}function _w(e,t,r,n){Zb(n),t=Oc(t,"onChange"),0<t.length&&(r=new lg("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ni=null,Ni=null;function AC(e){Mw(e,0)}function Mu(e){var t=ko(e);if(Wb(t))return e}function RC(e,t){if(e==="change")return t}var kw=!1;if(un){var Fd;if(un){var $d="oninput"in document;if(!$d){var $0=document.createElement("div");$0.setAttribute("oninput","return;"),$d=typeof $0.oninput=="function"}Fd=$d}else Fd=!1;kw=Fd&&(!document.documentMode||9<document.documentMode)}function U0(){ni&&(ni.detachEvent("onpropertychange",Sw),Ni=ni=null)}function Sw(e){if(e.propertyName==="value"&&Mu(Ni)){var t=[];_w(t,Ni,e,rg(e)),nw(AC,t)}}function MC(e,t,r){e==="focusin"?(U0(),ni=t,Ni=r,ni.attachEvent("onpropertychange",Sw)):e==="focusout"&&U0()}function LC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Mu(Ni)}function DC(e,t){if(e==="click")return Mu(t)}function OC(e,t){if(e==="input"||e==="change")return Mu(t)}function IC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pr=typeof Object.is=="function"?Object.is:IC;function Ci(e,t){if(Pr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Kf.call(t,s)||!Pr(e[s],t[s]))return!1}return!0}function z0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function B0(e,t){var r=z0(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=z0(r)}}function jw(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?jw(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Nw(){for(var e=window,t=Pc();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Pc(e.document)}return t}function dg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function FC(e){var t=Nw(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&jw(r.ownerDocument.documentElement,r)){if(n!==null&&dg(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,o=Math.min(n.start,s);n=n.end===void 0?o:Math.min(n.end,s),!e.extend&&o>n&&(s=n,n=o,o=s),s=B0(r,o);var i=B0(r,n);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var $C=un&&"documentMode"in document&&11>=document.documentMode,wo=null,hh=null,si=null,mh=!1;function V0(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;mh||wo==null||wo!==Pc(n)||(n=wo,"selectionStart"in n&&dg(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),si&&Ci(si,n)||(si=n,n=Oc(hh,"onSelect"),0<n.length&&(t=new lg("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=wo)))}function Al(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var _o={animationend:Al("Animation","AnimationEnd"),animationiteration:Al("Animation","AnimationIteration"),animationstart:Al("Animation","AnimationStart"),transitionend:Al("Transition","TransitionEnd")},Ud={},Cw={};un&&(Cw=document.createElement("div").style,"AnimationEvent"in window||(delete _o.animationend.animation,delete _o.animationiteration.animation,delete _o.animationstart.animation),"TransitionEvent"in window||delete _o.transitionend.transition);function Lu(e){if(Ud[e])return Ud[e];if(!_o[e])return e;var t=_o[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Cw)return Ud[e]=t[r];return e}var Ew=Lu("animationend"),Pw=Lu("animationiteration"),Tw=Lu("animationstart"),Aw=Lu("transitionend"),Rw=new Map,G0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ns(e,t){Rw.set(e,t),Hs(t,[e])}for(var zd=0;zd<G0.length;zd++){var Bd=G0[zd],UC=Bd.toLowerCase(),zC=Bd[0].toUpperCase()+Bd.slice(1);ns(UC,"on"+zC)}ns(Ew,"onAnimationEnd");ns(Pw,"onAnimationIteration");ns(Tw,"onAnimationStart");ns("dblclick","onDoubleClick");ns("focusin","onFocus");ns("focusout","onBlur");ns(Aw,"onTransitionEnd");qo("onMouseEnter",["mouseout","mouseover"]);qo("onMouseLeave",["mouseout","mouseover"]);qo("onPointerEnter",["pointerout","pointerover"]);qo("onPointerLeave",["pointerout","pointerover"]);Hs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ha="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ha));function q0(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,UN(n,t,void 0,e),e.currentTarget=null}function Mw(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;q0(s,l,u),o=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;q0(s,l,u),o=c}}}if(Ac)throw e=ch,Ac=!1,ch=null,e}function $e(e,t){var r=t[vh];r===void 0&&(r=t[vh]=new Set);var n=e+"__bubble";r.has(n)||(Lw(t,e,2,!1),r.add(n))}function Vd(e,t,r){var n=0;t&&(n|=4),Lw(r,e,n,t)}var Rl="_reactListening"+Math.random().toString(36).slice(2);function Ei(e){if(!e[Rl]){e[Rl]=!0,zb.forEach(function(r){r!=="selectionchange"&&(BC.has(r)||Vd(r,!1,e),Vd(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Rl]||(t[Rl]=!0,Vd("selectionchange",!1,t))}}function Lw(e,t,r,n){switch(yw(t)){case 1:var s=rC;break;case 4:s=nC;break;default:s=ag}r=s.bind(null,t,r,e),s=void 0,!lh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Gd(e,t,r,n,s){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=ks(l),i===null)return;if(c=i.tag,c===5||c===6){n=o=i;continue e}l=l.parentNode}}n=n.return}nw(function(){var u=o,d=rg(r),f=[];e:{var h=Rw.get(e);if(h!==void 0){var g=lg,b=e;switch(e){case"keypress":if(dc(r)===0)break e;case"keydown":case"keyup":g=xC;break;case"focusin":b="focus",g=Id;break;case"focusout":b="blur",g=Id;break;case"beforeblur":case"afterblur":g=Id;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=M0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=aC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=wC;break;case Ew:case Pw:case Tw:g=cC;break;case Aw:g=kC;break;case"scroll":g=sC;break;case"wheel":g=jC;break;case"copy":case"cut":case"paste":g=dC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=D0}var x=(t&4)!==0,w=!x&&e==="scroll",p=x?h!==null?h+"Capture":null:h;x=[];for(var y=u,v;y!==null;){v=y;var _=v.stateNode;if(v.tag===5&&_!==null&&(v=_,p!==null&&(_=_i(y,p),_!=null&&x.push(Pi(y,_,v)))),w)break;y=y.return}0<x.length&&(h=new g(h,b,null,r,d),f.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",h&&r!==ah&&(b=r.relatedTarget||r.fromElement)&&(ks(b)||b[dn]))break e;if((g||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,g?(b=r.relatedTarget||r.toElement,g=u,b=b?ks(b):null,b!==null&&(w=Ks(b),b!==w||b.tag!==5&&b.tag!==6)&&(b=null)):(g=null,b=u),g!==b)){if(x=M0,_="onMouseLeave",p="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(x=D0,_="onPointerLeave",p="onPointerEnter",y="pointer"),w=g==null?h:ko(g),v=b==null?h:ko(b),h=new x(_,y+"leave",g,r,d),h.target=w,h.relatedTarget=v,_=null,ks(d)===u&&(x=new x(p,y+"enter",b,r,d),x.target=v,x.relatedTarget=w,_=x),w=_,g&&b)t:{for(x=g,p=b,y=0,v=x;v;v=to(v))y++;for(v=0,_=p;_;_=to(_))v++;for(;0<y-v;)x=to(x),y--;for(;0<v-y;)p=to(p),v--;for(;y--;){if(x===p||p!==null&&x===p.alternate)break t;x=to(x),p=to(p)}x=null}else x=null;g!==null&&W0(f,h,g,x,!1),b!==null&&w!==null&&W0(f,w,b,x,!0)}}e:{if(h=u?ko(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var k=RC;else if(F0(h))if(kw)k=OC;else{k=LC;var j=MC}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=DC);if(k&&(k=k(e,u))){_w(f,k,r,d);break e}j&&j(e,h,u),e==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&th(h,"number",h.value)}switch(j=u?ko(u):window,e){case"focusin":(F0(j)||j.contentEditable==="true")&&(wo=j,hh=u,si=null);break;case"focusout":si=hh=wo=null;break;case"mousedown":mh=!0;break;case"contextmenu":case"mouseup":case"dragend":mh=!1,V0(f,r,d);break;case"selectionchange":if($C)break;case"keydown":case"keyup":V0(f,r,d)}var C;if(ug)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else bo?bw(e,r)&&(N="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(vw&&r.locale!=="ko"&&(bo||N!=="onCompositionStart"?N==="onCompositionEnd"&&bo&&(C=xw()):(On=d,ig="value"in On?On.value:On.textContent,bo=!0)),j=Oc(u,N),0<j.length&&(N=new L0(N,e,null,r,d),f.push({event:N,listeners:j}),C?N.data=C:(C=ww(r),C!==null&&(N.data=C)))),(C=CC?EC(e,r):PC(e,r))&&(u=Oc(u,"onBeforeInput"),0<u.length&&(d=new L0("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=C))}Mw(f,t)})}function Pi(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Oc(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=_i(e,r),o!=null&&n.unshift(Pi(e,o,s)),o=_i(e,t),o!=null&&n.push(Pi(e,o,s))),e=e.return}return n}function to(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function W0(e,t,r,n,s){for(var o=t._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=_i(r,o),c!=null&&i.unshift(Pi(r,c,l))):s||(c=_i(r,o),c!=null&&i.push(Pi(r,c,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var VC=/\r\n?/g,GC=/\u0000|\uFFFD/g;function H0(e){return(typeof e=="string"?e:""+e).replace(VC,`
`).replace(GC,"")}function Ml(e,t,r){if(t=H0(t),H0(e)!==t&&r)throw Error(ee(425))}function Ic(){}var gh=null,ph=null;function yh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var xh=typeof setTimeout=="function"?setTimeout:void 0,qC=typeof clearTimeout=="function"?clearTimeout:void 0,K0=typeof Promise=="function"?Promise:void 0,WC=typeof queueMicrotask=="function"?queueMicrotask:typeof K0<"u"?function(e){return K0.resolve(null).then(e).catch(HC)}:xh;function HC(e){setTimeout(function(){throw e})}function qd(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),ji(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);ji(t)}function Vn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Y0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ua=Math.random().toString(36).slice(2),zr="__reactFiber$"+ua,Ti="__reactProps$"+ua,dn="__reactContainer$"+ua,vh="__reactEvents$"+ua,KC="__reactListeners$"+ua,YC="__reactHandles$"+ua;function ks(e){var t=e[zr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[dn]||r[zr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Y0(e);e!==null;){if(r=e[zr])return r;e=Y0(e)}return t}e=r,r=e.parentNode}return null}function al(e){return e=e[zr]||e[dn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ko(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ee(33))}function Du(e){return e[Ti]||null}var bh=[],So=-1;function ss(e){return{current:e}}function Ue(e){0>So||(e.current=bh[So],bh[So]=null,So--)}function Ie(e,t){So++,bh[So]=e.current,e.current=t}var Xn={},Nt=ss(Xn),Vt=ss(!1),Ds=Xn;function Wo(e,t){var r=e.type.contextTypes;if(!r)return Xn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Gt(e){return e=e.childContextTypes,e!=null}function Fc(){Ue(Vt),Ue(Nt)}function J0(e,t,r){if(Nt.current!==Xn)throw Error(ee(168));Ie(Nt,t),Ie(Vt,r)}function Dw(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(ee(108,MN(e)||"Unknown",s));return Je({},r,n)}function $c(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xn,Ds=Nt.current,Ie(Nt,e),Ie(Vt,Vt.current),!0}function X0(e,t,r){var n=e.stateNode;if(!n)throw Error(ee(169));r?(e=Dw(e,t,Ds),n.__reactInternalMemoizedMergedChildContext=e,Ue(Vt),Ue(Nt),Ie(Nt,e)):Ue(Vt),Ie(Vt,r)}var nn=null,Ou=!1,Wd=!1;function Ow(e){nn===null?nn=[e]:nn.push(e)}function JC(e){Ou=!0,Ow(e)}function os(){if(!Wd&&nn!==null){Wd=!0;var e=0,t=Ae;try{var r=nn;for(Ae=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}nn=null,Ou=!1}catch(s){throw nn!==null&&(nn=nn.slice(e+1)),iw(ng,os),s}finally{Ae=t,Wd=!1}}return null}var jo=[],No=0,Uc=null,zc=0,ir=[],lr=0,Os=null,sn=1,on="";function ys(e,t){jo[No++]=zc,jo[No++]=Uc,Uc=e,zc=t}function Iw(e,t,r){ir[lr++]=sn,ir[lr++]=on,ir[lr++]=Os,Os=e;var n=sn;e=on;var s=32-Cr(n)-1;n&=~(1<<s),r+=1;var o=32-Cr(t)+s;if(30<o){var i=s-s%5;o=(n&(1<<i)-1).toString(32),n>>=i,s-=i,sn=1<<32-Cr(t)+s|r<<s|n,on=o+e}else sn=1<<o|r<<s|n,on=e}function fg(e){e.return!==null&&(ys(e,1),Iw(e,1,0))}function hg(e){for(;e===Uc;)Uc=jo[--No],jo[No]=null,zc=jo[--No],jo[No]=null;for(;e===Os;)Os=ir[--lr],ir[lr]=null,on=ir[--lr],ir[lr]=null,sn=ir[--lr],ir[lr]=null}var Xt=null,Jt=null,Ge=!1,jr=null;function Fw(e,t){var r=cr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Q0(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Xt=e,Jt=Vn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Xt=e,Jt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Os!==null?{id:sn,overflow:on}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=cr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Xt=e,Jt=null,!0):!1;default:return!1}}function wh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function _h(e){if(Ge){var t=Jt;if(t){var r=t;if(!Q0(e,t)){if(wh(e))throw Error(ee(418));t=Vn(r.nextSibling);var n=Xt;t&&Q0(e,t)?Fw(n,r):(e.flags=e.flags&-4097|2,Ge=!1,Xt=e)}}else{if(wh(e))throw Error(ee(418));e.flags=e.flags&-4097|2,Ge=!1,Xt=e}}}function Z0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Xt=e}function Ll(e){if(e!==Xt)return!1;if(!Ge)return Z0(e),Ge=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!yh(e.type,e.memoizedProps)),t&&(t=Jt)){if(wh(e))throw $w(),Error(ee(418));for(;t;)Fw(e,t),t=Vn(t.nextSibling)}if(Z0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ee(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Jt=Vn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Jt=null}}else Jt=Xt?Vn(e.stateNode.nextSibling):null;return!0}function $w(){for(var e=Jt;e;)e=Vn(e.nextSibling)}function Ho(){Jt=Xt=null,Ge=!1}function mg(e){jr===null?jr=[e]:jr.push(e)}var XC=vn.ReactCurrentBatchConfig;function Ma(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ee(309));var n=r.stateNode}if(!n)throw Error(ee(147,e));var s=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var l=s.refs;i===null?delete l[o]:l[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(ee(284));if(!r._owner)throw Error(ee(290,e))}return e}function Dl(e,t){throw e=Object.prototype.toString.call(t),Error(ee(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ey(e){var t=e._init;return t(e._payload)}function Uw(e){function t(p,y){if(e){var v=p.deletions;v===null?(p.deletions=[y],p.flags|=16):v.push(y)}}function r(p,y){if(!e)return null;for(;y!==null;)t(p,y),y=y.sibling;return null}function n(p,y){for(p=new Map;y!==null;)y.key!==null?p.set(y.key,y):p.set(y.index,y),y=y.sibling;return p}function s(p,y){return p=Hn(p,y),p.index=0,p.sibling=null,p}function o(p,y,v){return p.index=v,e?(v=p.alternate,v!==null?(v=v.index,v<y?(p.flags|=2,y):v):(p.flags|=2,y)):(p.flags|=1048576,y)}function i(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,y,v,_){return y===null||y.tag!==6?(y=Zd(v,p.mode,_),y.return=p,y):(y=s(y,v),y.return=p,y)}function c(p,y,v,_){var k=v.type;return k===vo?d(p,y,v.props.children,_,v.key):y!==null&&(y.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Pn&&ey(k)===y.type)?(_=s(y,v.props),_.ref=Ma(p,y,v),_.return=p,_):(_=xc(v.type,v.key,v.props,null,p.mode,_),_.ref=Ma(p,y,v),_.return=p,_)}function u(p,y,v,_){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=ef(v,p.mode,_),y.return=p,y):(y=s(y,v.children||[]),y.return=p,y)}function d(p,y,v,_,k){return y===null||y.tag!==7?(y=Ts(v,p.mode,_,k),y.return=p,y):(y=s(y,v),y.return=p,y)}function f(p,y,v){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Zd(""+y,p.mode,v),y.return=p,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Sl:return v=xc(y.type,y.key,y.props,null,p.mode,v),v.ref=Ma(p,null,y),v.return=p,v;case xo:return y=ef(y,p.mode,v),y.return=p,y;case Pn:var _=y._init;return f(p,_(y._payload),v)}if(qa(y)||Ea(y))return y=Ts(y,p.mode,v,null),y.return=p,y;Dl(p,y)}return null}function h(p,y,v,_){var k=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return k!==null?null:l(p,y,""+v,_);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Sl:return v.key===k?c(p,y,v,_):null;case xo:return v.key===k?u(p,y,v,_):null;case Pn:return k=v._init,h(p,y,k(v._payload),_)}if(qa(v)||Ea(v))return k!==null?null:d(p,y,v,_,null);Dl(p,v)}return null}function g(p,y,v,_,k){if(typeof _=="string"&&_!==""||typeof _=="number")return p=p.get(v)||null,l(y,p,""+_,k);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Sl:return p=p.get(_.key===null?v:_.key)||null,c(y,p,_,k);case xo:return p=p.get(_.key===null?v:_.key)||null,u(y,p,_,k);case Pn:var j=_._init;return g(p,y,v,j(_._payload),k)}if(qa(_)||Ea(_))return p=p.get(v)||null,d(y,p,_,k,null);Dl(y,_)}return null}function b(p,y,v,_){for(var k=null,j=null,C=y,N=y=0,F=null;C!==null&&N<v.length;N++){C.index>N?(F=C,C=null):F=C.sibling;var E=h(p,C,v[N],_);if(E===null){C===null&&(C=F);break}e&&C&&E.alternate===null&&t(p,C),y=o(E,y,N),j===null?k=E:j.sibling=E,j=E,C=F}if(N===v.length)return r(p,C),Ge&&ys(p,N),k;if(C===null){for(;N<v.length;N++)C=f(p,v[N],_),C!==null&&(y=o(C,y,N),j===null?k=C:j.sibling=C,j=C);return Ge&&ys(p,N),k}for(C=n(p,C);N<v.length;N++)F=g(C,p,N,v[N],_),F!==null&&(e&&F.alternate!==null&&C.delete(F.key===null?N:F.key),y=o(F,y,N),j===null?k=F:j.sibling=F,j=F);return e&&C.forEach(function(I){return t(p,I)}),Ge&&ys(p,N),k}function x(p,y,v,_){var k=Ea(v);if(typeof k!="function")throw Error(ee(150));if(v=k.call(v),v==null)throw Error(ee(151));for(var j=k=null,C=y,N=y=0,F=null,E=v.next();C!==null&&!E.done;N++,E=v.next()){C.index>N?(F=C,C=null):F=C.sibling;var I=h(p,C,E.value,_);if(I===null){C===null&&(C=F);break}e&&C&&I.alternate===null&&t(p,C),y=o(I,y,N),j===null?k=I:j.sibling=I,j=I,C=F}if(E.done)return r(p,C),Ge&&ys(p,N),k;if(C===null){for(;!E.done;N++,E=v.next())E=f(p,E.value,_),E!==null&&(y=o(E,y,N),j===null?k=E:j.sibling=E,j=E);return Ge&&ys(p,N),k}for(C=n(p,C);!E.done;N++,E=v.next())E=g(C,p,N,E.value,_),E!==null&&(e&&E.alternate!==null&&C.delete(E.key===null?N:E.key),y=o(E,y,N),j===null?k=E:j.sibling=E,j=E);return e&&C.forEach(function(P){return t(p,P)}),Ge&&ys(p,N),k}function w(p,y,v,_){if(typeof v=="object"&&v!==null&&v.type===vo&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Sl:e:{for(var k=v.key,j=y;j!==null;){if(j.key===k){if(k=v.type,k===vo){if(j.tag===7){r(p,j.sibling),y=s(j,v.props.children),y.return=p,p=y;break e}}else if(j.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Pn&&ey(k)===j.type){r(p,j.sibling),y=s(j,v.props),y.ref=Ma(p,j,v),y.return=p,p=y;break e}r(p,j);break}else t(p,j);j=j.sibling}v.type===vo?(y=Ts(v.props.children,p.mode,_,v.key),y.return=p,p=y):(_=xc(v.type,v.key,v.props,null,p.mode,_),_.ref=Ma(p,y,v),_.return=p,p=_)}return i(p);case xo:e:{for(j=v.key;y!==null;){if(y.key===j)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){r(p,y.sibling),y=s(y,v.children||[]),y.return=p,p=y;break e}else{r(p,y);break}else t(p,y);y=y.sibling}y=ef(v,p.mode,_),y.return=p,p=y}return i(p);case Pn:return j=v._init,w(p,y,j(v._payload),_)}if(qa(v))return b(p,y,v,_);if(Ea(v))return x(p,y,v,_);Dl(p,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,y!==null&&y.tag===6?(r(p,y.sibling),y=s(y,v),y.return=p,p=y):(r(p,y),y=Zd(v,p.mode,_),y.return=p,p=y),i(p)):r(p,y)}return w}var Ko=Uw(!0),zw=Uw(!1),Bc=ss(null),Vc=null,Co=null,gg=null;function pg(){gg=Co=Vc=null}function yg(e){var t=Bc.current;Ue(Bc),e._currentValue=t}function kh(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function $o(e,t){Vc=e,gg=Co=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(zt=!0),e.firstContext=null)}function gr(e){var t=e._currentValue;if(gg!==e)if(e={context:e,memoizedValue:t,next:null},Co===null){if(Vc===null)throw Error(ee(308));Co=e,Vc.dependencies={lanes:0,firstContext:e}}else Co=Co.next=e;return t}var Ss=null;function xg(e){Ss===null?Ss=[e]:Ss.push(e)}function Bw(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,xg(t)):(r.next=s.next,s.next=r),t.interleaved=r,fn(e,n)}function fn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Tn=!1;function vg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vw(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function an(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Gn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ce&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,fn(e,r)}return s=n.interleaved,s===null?(t.next=t,xg(n)):(t.next=s.next,s.next=t),n.interleaved=t,fn(e,r)}function fc(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,sg(e,r)}}function ty(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?s=o=t:o=o.next=t}else s=o=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Gc(e,t,r,n){var s=e.updateQueue;Tn=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(o!==null){var f=s.baseState;i=0,d=u=c=null,l=o;do{var h=l.lane,g=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=e,x=l;switch(h=t,g=r,x.tag){case 1:if(b=x.payload,typeof b=="function"){f=b.call(g,f,h);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=x.payload,h=typeof b=="function"?b.call(g,f,h):b,h==null)break e;f=Je({},f,h);break e;case 2:Tn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else g={eventTime:g,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=g,c=f):d=d.next=g,i|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);Fs|=i,e.lanes=i,e.memoizedState=f}}function ry(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(ee(191,s));s.call(n)}}}var il={},qr=ss(il),Ai=ss(il),Ri=ss(il);function js(e){if(e===il)throw Error(ee(174));return e}function bg(e,t){switch(Ie(Ri,t),Ie(Ai,e),Ie(qr,il),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:nh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=nh(t,e)}Ue(qr),Ie(qr,t)}function Yo(){Ue(qr),Ue(Ai),Ue(Ri)}function Gw(e){js(Ri.current);var t=js(qr.current),r=nh(t,e.type);t!==r&&(Ie(Ai,e),Ie(qr,r))}function wg(e){Ai.current===e&&(Ue(qr),Ue(Ai))}var We=ss(0);function qc(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Hd=[];function _g(){for(var e=0;e<Hd.length;e++)Hd[e]._workInProgressVersionPrimary=null;Hd.length=0}var hc=vn.ReactCurrentDispatcher,Kd=vn.ReactCurrentBatchConfig,Is=0,Ke=null,lt=null,ft=null,Wc=!1,oi=!1,Mi=0,QC=0;function wt(){throw Error(ee(321))}function kg(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Pr(e[r],t[r]))return!1;return!0}function Sg(e,t,r,n,s,o){if(Is=o,Ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,hc.current=e===null||e.memoizedState===null?r3:n3,e=r(n,s),oi){o=0;do{if(oi=!1,Mi=0,25<=o)throw Error(ee(301));o+=1,ft=lt=null,t.updateQueue=null,hc.current=s3,e=r(n,s)}while(oi)}if(hc.current=Hc,t=lt!==null&&lt.next!==null,Is=0,ft=lt=Ke=null,Wc=!1,t)throw Error(ee(300));return e}function jg(){var e=Mi!==0;return Mi=0,e}function $r(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?Ke.memoizedState=ft=e:ft=ft.next=e,ft}function pr(){if(lt===null){var e=Ke.alternate;e=e!==null?e.memoizedState:null}else e=lt.next;var t=ft===null?Ke.memoizedState:ft.next;if(t!==null)ft=t,lt=e;else{if(e===null)throw Error(ee(310));lt=e,e={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},ft===null?Ke.memoizedState=ft=e:ft=ft.next=e}return ft}function Li(e,t){return typeof t=="function"?t(e):t}function Yd(e){var t=pr(),r=t.queue;if(r===null)throw Error(ee(311));r.lastRenderedReducer=e;var n=lt,s=n.baseQueue,o=r.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}n.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,n=n.baseState;var l=i=null,c=null,u=o;do{var d=u.lane;if((Is&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=n):c=c.next=f,Ke.lanes|=d,Fs|=d}u=u.next}while(u!==null&&u!==o);c===null?i=n:c.next=l,Pr(n,t.memoizedState)||(zt=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do o=s.lane,Ke.lanes|=o,Fs|=o,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Jd(e){var t=pr(),r=t.queue;if(r===null)throw Error(ee(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,o=t.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);Pr(o,t.memoizedState)||(zt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function qw(){}function Ww(e,t){var r=Ke,n=pr(),s=t(),o=!Pr(n.memoizedState,s);if(o&&(n.memoizedState=s,zt=!0),n=n.queue,Ng(Yw.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||ft!==null&&ft.memoizedState.tag&1){if(r.flags|=2048,Di(9,Kw.bind(null,r,n,s,t),void 0,null),mt===null)throw Error(ee(349));Is&30||Hw(r,t,s)}return s}function Hw(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ke.updateQueue,t===null?(t={lastEffect:null,stores:null},Ke.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Kw(e,t,r,n){t.value=r,t.getSnapshot=n,Jw(t)&&Xw(e)}function Yw(e,t,r){return r(function(){Jw(t)&&Xw(e)})}function Jw(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Pr(e,r)}catch{return!0}}function Xw(e){var t=fn(e,1);t!==null&&Er(t,e,1,-1)}function ny(e){var t=$r();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:e},t.queue=e,e=e.dispatch=t3.bind(null,Ke,e),[t.memoizedState,e]}function Di(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ke.updateQueue,t===null?(t={lastEffect:null,stores:null},Ke.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Qw(){return pr().memoizedState}function mc(e,t,r,n){var s=$r();Ke.flags|=e,s.memoizedState=Di(1|t,r,void 0,n===void 0?null:n)}function Iu(e,t,r,n){var s=pr();n=n===void 0?null:n;var o=void 0;if(lt!==null){var i=lt.memoizedState;if(o=i.destroy,n!==null&&kg(n,i.deps)){s.memoizedState=Di(t,r,o,n);return}}Ke.flags|=e,s.memoizedState=Di(1|t,r,o,n)}function sy(e,t){return mc(8390656,8,e,t)}function Ng(e,t){return Iu(2048,8,e,t)}function Zw(e,t){return Iu(4,2,e,t)}function e1(e,t){return Iu(4,4,e,t)}function t1(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function r1(e,t,r){return r=r!=null?r.concat([e]):null,Iu(4,4,t1.bind(null,t,e),r)}function Cg(){}function n1(e,t){var r=pr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&kg(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function s1(e,t){var r=pr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&kg(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function o1(e,t,r){return Is&21?(Pr(r,t)||(r=uw(),Ke.lanes|=r,Fs|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,zt=!0),e.memoizedState=r)}function ZC(e,t){var r=Ae;Ae=r!==0&&4>r?r:4,e(!0);var n=Kd.transition;Kd.transition={};try{e(!1),t()}finally{Ae=r,Kd.transition=n}}function a1(){return pr().memoizedState}function e3(e,t,r){var n=Wn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},i1(e))l1(t,r);else if(r=Bw(e,t,r,n),r!==null){var s=Lt();Er(r,e,n,s),c1(r,t,n)}}function t3(e,t,r){var n=Wn(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(i1(e))l1(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,l=o(i,r);if(s.hasEagerState=!0,s.eagerState=l,Pr(l,i)){var c=t.interleaved;c===null?(s.next=s,xg(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=Bw(e,t,s,n),r!==null&&(s=Lt(),Er(r,e,n,s),c1(r,t,n))}}function i1(e){var t=e.alternate;return e===Ke||t!==null&&t===Ke}function l1(e,t){oi=Wc=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function c1(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,sg(e,r)}}var Hc={readContext:gr,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useInsertionEffect:wt,useLayoutEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useMutableSource:wt,useSyncExternalStore:wt,useId:wt,unstable_isNewReconciler:!1},r3={readContext:gr,useCallback:function(e,t){return $r().memoizedState=[e,t===void 0?null:t],e},useContext:gr,useEffect:sy,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,mc(4194308,4,t1.bind(null,t,e),r)},useLayoutEffect:function(e,t){return mc(4194308,4,e,t)},useInsertionEffect:function(e,t){return mc(4,2,e,t)},useMemo:function(e,t){var r=$r();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=$r();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=e3.bind(null,Ke,e),[n.memoizedState,e]},useRef:function(e){var t=$r();return e={current:e},t.memoizedState=e},useState:ny,useDebugValue:Cg,useDeferredValue:function(e){return $r().memoizedState=e},useTransition:function(){var e=ny(!1),t=e[0];return e=ZC.bind(null,e[1]),$r().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ke,s=$r();if(Ge){if(r===void 0)throw Error(ee(407));r=r()}else{if(r=t(),mt===null)throw Error(ee(349));Is&30||Hw(n,t,r)}s.memoizedState=r;var o={value:r,getSnapshot:t};return s.queue=o,sy(Yw.bind(null,n,o,e),[e]),n.flags|=2048,Di(9,Kw.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=$r(),t=mt.identifierPrefix;if(Ge){var r=on,n=sn;r=(n&~(1<<32-Cr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Mi++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=QC++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},n3={readContext:gr,useCallback:n1,useContext:gr,useEffect:Ng,useImperativeHandle:r1,useInsertionEffect:Zw,useLayoutEffect:e1,useMemo:s1,useReducer:Yd,useRef:Qw,useState:function(){return Yd(Li)},useDebugValue:Cg,useDeferredValue:function(e){var t=pr();return o1(t,lt.memoizedState,e)},useTransition:function(){var e=Yd(Li)[0],t=pr().memoizedState;return[e,t]},useMutableSource:qw,useSyncExternalStore:Ww,useId:a1,unstable_isNewReconciler:!1},s3={readContext:gr,useCallback:n1,useContext:gr,useEffect:Ng,useImperativeHandle:r1,useInsertionEffect:Zw,useLayoutEffect:e1,useMemo:s1,useReducer:Jd,useRef:Qw,useState:function(){return Jd(Li)},useDebugValue:Cg,useDeferredValue:function(e){var t=pr();return lt===null?t.memoizedState=e:o1(t,lt.memoizedState,e)},useTransition:function(){var e=Jd(Li)[0],t=pr().memoizedState;return[e,t]},useMutableSource:qw,useSyncExternalStore:Ww,useId:a1,unstable_isNewReconciler:!1};function wr(e,t){if(e&&e.defaultProps){t=Je({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Sh(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Je({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Fu={isMounted:function(e){return(e=e._reactInternals)?Ks(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Lt(),s=Wn(e),o=an(n,s);o.payload=t,r!=null&&(o.callback=r),t=Gn(e,o,s),t!==null&&(Er(t,e,s,n),fc(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Lt(),s=Wn(e),o=an(n,s);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=Gn(e,o,s),t!==null&&(Er(t,e,s,n),fc(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Lt(),n=Wn(e),s=an(r,n);s.tag=2,t!=null&&(s.callback=t),t=Gn(e,s,n),t!==null&&(Er(t,e,n,r),fc(t,e,n))}};function oy(e,t,r,n,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,i):t.prototype&&t.prototype.isPureReactComponent?!Ci(r,n)||!Ci(s,o):!0}function u1(e,t,r){var n=!1,s=Xn,o=t.contextType;return typeof o=="object"&&o!==null?o=gr(o):(s=Gt(t)?Ds:Nt.current,n=t.contextTypes,o=(n=n!=null)?Wo(e,s):Xn),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Fu,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function ay(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Fu.enqueueReplaceState(t,t.state,null)}function jh(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},vg(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=gr(o):(o=Gt(t)?Ds:Nt.current,s.context=Wo(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Sh(e,t,o,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Fu.enqueueReplaceState(s,s.state,null),Gc(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Jo(e,t){try{var r="",n=t;do r+=RN(n),n=n.return;while(n);var s=r}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Xd(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Nh(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var o3=typeof WeakMap=="function"?WeakMap:Map;function d1(e,t,r){r=an(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Yc||(Yc=!0,Oh=n),Nh(e,t)},r}function f1(e,t,r){r=an(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Nh(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){Nh(e,t),typeof n!="function"&&(qn===null?qn=new Set([this]):qn.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function iy(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new o3;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=v3.bind(null,e,t,r),t.then(e,e))}function ly(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function cy(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=an(-1,1),t.tag=2,Gn(r,t,1))),r.lanes|=1),e)}var a3=vn.ReactCurrentOwner,zt=!1;function At(e,t,r,n){t.child=e===null?zw(t,null,r,n):Ko(t,e.child,r,n)}function uy(e,t,r,n,s){r=r.render;var o=t.ref;return $o(t,s),n=Sg(e,t,r,n,o,s),r=jg(),e!==null&&!zt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,hn(e,t,s)):(Ge&&r&&fg(t),t.flags|=1,At(e,t,n,s),t.child)}function dy(e,t,r,n,s){if(e===null){var o=r.type;return typeof o=="function"&&!Dg(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,h1(e,t,o,n,s)):(e=xc(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:Ci,r(i,n)&&e.ref===t.ref)return hn(e,t,s)}return t.flags|=1,e=Hn(o,n),e.ref=t.ref,e.return=t,t.child=e}function h1(e,t,r,n,s){if(e!==null){var o=e.memoizedProps;if(Ci(o,n)&&e.ref===t.ref)if(zt=!1,t.pendingProps=n=o,(e.lanes&s)!==0)e.flags&131072&&(zt=!0);else return t.lanes=e.lanes,hn(e,t,s)}return Ch(e,t,r,n,s)}function m1(e,t,r){var n=t.pendingProps,s=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ie(Po,Kt),Kt|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ie(Po,Kt),Kt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Ie(Po,Kt),Kt|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,Ie(Po,Kt),Kt|=n;return At(e,t,s,r),t.child}function g1(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ch(e,t,r,n,s){var o=Gt(r)?Ds:Nt.current;return o=Wo(t,o),$o(t,s),r=Sg(e,t,r,n,o,s),n=jg(),e!==null&&!zt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,hn(e,t,s)):(Ge&&n&&fg(t),t.flags|=1,At(e,t,r,s),t.child)}function fy(e,t,r,n,s){if(Gt(r)){var o=!0;$c(t)}else o=!1;if($o(t,s),t.stateNode===null)gc(e,t),u1(t,r,n),jh(t,r,n,s),n=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=gr(u):(u=Gt(r)?Ds:Nt.current,u=Wo(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&ay(t,i,n,u),Tn=!1;var h=t.memoizedState;i.state=h,Gc(t,n,i,s),c=t.memoizedState,l!==n||h!==c||Vt.current||Tn?(typeof d=="function"&&(Sh(t,r,d,n),c=t.memoizedState),(l=Tn||oy(t,r,l,n,h,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Vw(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:wr(t.type,l),i.props=u,f=t.pendingProps,h=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=gr(c):(c=Gt(r)?Ds:Nt.current,c=Wo(t,c));var g=r.getDerivedStateFromProps;(d=typeof g=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||h!==c)&&ay(t,i,n,c),Tn=!1,h=t.memoizedState,i.state=h,Gc(t,n,i,s);var b=t.memoizedState;l!==f||h!==b||Vt.current||Tn?(typeof g=="function"&&(Sh(t,r,g,n),b=t.memoizedState),(u=Tn||oy(t,r,u,n,h,b,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,b,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,b,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=b),i.props=n,i.state=b,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Eh(e,t,r,n,o,s)}function Eh(e,t,r,n,s,o){g1(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return s&&X0(t,r,!1),hn(e,t,o);n=t.stateNode,a3.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Ko(t,e.child,null,o),t.child=Ko(t,null,l,o)):At(e,t,l,o),t.memoizedState=n.state,s&&X0(t,r,!0),t.child}function p1(e){var t=e.stateNode;t.pendingContext?J0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&J0(e,t.context,!1),bg(e,t.containerInfo)}function hy(e,t,r,n,s){return Ho(),mg(s),t.flags|=256,At(e,t,r,n),t.child}var Ph={dehydrated:null,treeContext:null,retryLane:0};function Th(e){return{baseLanes:e,cachePool:null,transitions:null}}function y1(e,t,r){var n=t.pendingProps,s=We.current,o=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ie(We,s&1),e===null)return _h(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,o?(n=t.mode,o=t.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=zu(i,n,0,null),e=Ts(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Th(r),t.memoizedState=Ph,e):Eg(t,i));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return i3(e,t,i,n,l,s,r);if(o){o=n.fallback,i=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Hn(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=Hn(l,o):(o=Ts(o,i,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,i=e.child.memoizedState,i=i===null?Th(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=Ph,n}return o=e.child,e=o.sibling,n=Hn(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Eg(e,t){return t=zu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ol(e,t,r,n){return n!==null&&mg(n),Ko(t,e.child,null,r),e=Eg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function i3(e,t,r,n,s,o,i){if(r)return t.flags&256?(t.flags&=-257,n=Xd(Error(ee(422))),Ol(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,s=t.mode,n=zu({mode:"visible",children:n.children},s,0,null),o=Ts(o,s,i,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&Ko(t,e.child,null,i),t.child.memoizedState=Th(i),t.memoizedState=Ph,o);if(!(t.mode&1))return Ol(e,t,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,o=Error(ee(419)),n=Xd(o,n,void 0),Ol(e,t,i,n)}if(l=(i&e.childLanes)!==0,zt||l){if(n=mt,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,fn(e,s),Er(n,e,s,-1))}return Lg(),n=Xd(Error(ee(421))),Ol(e,t,i,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=b3.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,Jt=Vn(s.nextSibling),Xt=t,Ge=!0,jr=null,e!==null&&(ir[lr++]=sn,ir[lr++]=on,ir[lr++]=Os,sn=e.id,on=e.overflow,Os=t),t=Eg(t,n.children),t.flags|=4096,t)}function my(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),kh(e.return,t,r)}function Qd(e,t,r,n,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=s)}function x1(e,t,r){var n=t.pendingProps,s=n.revealOrder,o=n.tail;if(At(e,t,n.children,r),n=We.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&my(e,r,t);else if(e.tag===19)my(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ie(We,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&qc(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Qd(t,!1,s,r,o);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&qc(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Qd(t,!0,r,null,o);break;case"together":Qd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function gc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function hn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Fs|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ee(153));if(t.child!==null){for(e=t.child,r=Hn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Hn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function l3(e,t,r){switch(t.tag){case 3:p1(t),Ho();break;case 5:Gw(t);break;case 1:Gt(t.type)&&$c(t);break;case 4:bg(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Ie(Bc,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ie(We,We.current&1),t.flags|=128,null):r&t.child.childLanes?y1(e,t,r):(Ie(We,We.current&1),e=hn(e,t,r),e!==null?e.sibling:null);Ie(We,We.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return x1(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ie(We,We.current),n)break;return null;case 22:case 23:return t.lanes=0,m1(e,t,r)}return hn(e,t,r)}var v1,Ah,b1,w1;v1=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ah=function(){};b1=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,js(qr.current);var o=null;switch(r){case"input":s=Zf(e,s),n=Zf(e,n),o=[];break;case"select":s=Je({},s,{value:void 0}),n=Je({},n,{value:void 0}),o=[];break;case"textarea":s=rh(e,s),n=rh(e,n),o=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ic)}sh(r,n);var i;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(bi.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(o||(o=[]),o.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(bi.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&$e("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};w1=function(e,t,r,n){r!==n&&(t.flags|=4)};function La(e,t){if(!Ge)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function _t(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function c3(e,t,r){var n=t.pendingProps;switch(hg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(t),null;case 1:return Gt(t.type)&&Fc(),_t(t),null;case 3:return n=t.stateNode,Yo(),Ue(Vt),Ue(Nt),_g(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ll(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,jr!==null&&($h(jr),jr=null))),Ah(e,t),_t(t),null;case 5:wg(t);var s=js(Ri.current);if(r=t.type,e!==null&&t.stateNode!=null)b1(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ee(166));return _t(t),null}if(e=js(qr.current),Ll(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[zr]=t,n[Ti]=o,e=(t.mode&1)!==0,r){case"dialog":$e("cancel",n),$e("close",n);break;case"iframe":case"object":case"embed":$e("load",n);break;case"video":case"audio":for(s=0;s<Ha.length;s++)$e(Ha[s],n);break;case"source":$e("error",n);break;case"img":case"image":case"link":$e("error",n),$e("load",n);break;case"details":$e("toggle",n);break;case"input":k0(n,o),$e("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},$e("invalid",n);break;case"textarea":j0(n,o),$e("invalid",n)}sh(r,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?n.textContent!==l&&(o.suppressHydrationWarning!==!0&&Ml(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Ml(n.textContent,l,e),s=["children",""+l]):bi.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&$e("scroll",n)}switch(r){case"input":jl(n),S0(n,o,!0);break;case"textarea":jl(n),N0(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Ic)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Yb(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[zr]=t,e[Ti]=n,v1(e,t,!1,!1),t.stateNode=e;e:{switch(i=oh(r,n),r){case"dialog":$e("cancel",e),$e("close",e),s=n;break;case"iframe":case"object":case"embed":$e("load",e),s=n;break;case"video":case"audio":for(s=0;s<Ha.length;s++)$e(Ha[s],e);s=n;break;case"source":$e("error",e),s=n;break;case"img":case"image":case"link":$e("error",e),$e("load",e),s=n;break;case"details":$e("toggle",e),s=n;break;case"input":k0(e,n),s=Zf(e,n),$e("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Je({},n,{value:void 0}),$e("invalid",e);break;case"textarea":j0(e,n),s=rh(e,n),$e("invalid",e);break;default:s=n}sh(r,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?Qb(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Jb(e,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&wi(e,c):typeof c=="number"&&wi(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(bi.hasOwnProperty(o)?c!=null&&o==="onScroll"&&$e("scroll",e):c!=null&&Qm(e,o,c,i))}switch(r){case"input":jl(e),S0(e,n,!1);break;case"textarea":jl(e),N0(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Jn(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?Do(e,!!n.multiple,o,!1):n.defaultValue!=null&&Do(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ic)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return _t(t),null;case 6:if(e&&t.stateNode!=null)w1(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ee(166));if(r=js(Ri.current),js(qr.current),Ll(t)){if(n=t.stateNode,r=t.memoizedProps,n[zr]=t,(o=n.nodeValue!==r)&&(e=Xt,e!==null))switch(e.tag){case 3:Ml(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ml(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[zr]=t,t.stateNode=n}return _t(t),null;case 13:if(Ue(We),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ge&&Jt!==null&&t.mode&1&&!(t.flags&128))$w(),Ho(),t.flags|=98560,o=!1;else if(o=Ll(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(ee(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ee(317));o[zr]=t}else Ho(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;_t(t),o=!1}else jr!==null&&($h(jr),jr=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||We.current&1?ct===0&&(ct=3):Lg())),t.updateQueue!==null&&(t.flags|=4),_t(t),null);case 4:return Yo(),Ah(e,t),e===null&&Ei(t.stateNode.containerInfo),_t(t),null;case 10:return yg(t.type._context),_t(t),null;case 17:return Gt(t.type)&&Fc(),_t(t),null;case 19:if(Ue(We),o=t.memoizedState,o===null)return _t(t),null;if(n=(t.flags&128)!==0,i=o.rendering,i===null)if(n)La(o,!1);else{if(ct!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=qc(e),i!==null){for(t.flags|=128,La(o,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ie(We,We.current&1|2),t.child}e=e.sibling}o.tail!==null&&et()>Xo&&(t.flags|=128,n=!0,La(o,!1),t.lanes=4194304)}else{if(!n)if(e=qc(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),La(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Ge)return _t(t),null}else 2*et()-o.renderingStartTime>Xo&&r!==1073741824&&(t.flags|=128,n=!0,La(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(r=o.last,r!==null?r.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=et(),t.sibling=null,r=We.current,Ie(We,n?r&1|2:r&1),t):(_t(t),null);case 22:case 23:return Mg(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Kt&1073741824&&(_t(t),t.subtreeFlags&6&&(t.flags|=8192)):_t(t),null;case 24:return null;case 25:return null}throw Error(ee(156,t.tag))}function u3(e,t){switch(hg(t),t.tag){case 1:return Gt(t.type)&&Fc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Yo(),Ue(Vt),Ue(Nt),_g(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return wg(t),null;case 13:if(Ue(We),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ee(340));Ho()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ue(We),null;case 4:return Yo(),null;case 10:return yg(t.type._context),null;case 22:case 23:return Mg(),null;case 24:return null;default:return null}}var Il=!1,St=!1,d3=typeof WeakSet=="function"?WeakSet:Set,ae=null;function Eo(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Qe(e,t,n)}else r.current=null}function Rh(e,t,r){try{r()}catch(n){Qe(e,t,n)}}var gy=!1;function f3(e,t){if(gh=Lc,e=Nw(),dg(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var g;f!==r||s!==0&&f.nodeType!==3||(l=i+s),f!==o||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===e)break t;if(h===r&&++u===s&&(l=i),h===o&&++d===n&&(c=i),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ph={focusedElem:e,selectionRange:r},Lc=!1,ae=t;ae!==null;)if(t=ae,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ae=e;else for(;ae!==null;){t=ae;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var x=b.memoizedProps,w=b.memoizedState,p=t.stateNode,y=p.getSnapshotBeforeUpdate(t.elementType===t.type?x:wr(t.type,x),w);p.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ee(163))}}catch(_){Qe(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,ae=e;break}ae=t.return}return b=gy,gy=!1,b}function ai(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&Rh(t,r,o)}s=s.next}while(s!==n)}}function $u(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Mh(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function _1(e){var t=e.alternate;t!==null&&(e.alternate=null,_1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[zr],delete t[Ti],delete t[vh],delete t[KC],delete t[YC])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function k1(e){return e.tag===5||e.tag===3||e.tag===4}function py(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||k1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Lh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ic));else if(n!==4&&(e=e.child,e!==null))for(Lh(e,t,r),e=e.sibling;e!==null;)Lh(e,t,r),e=e.sibling}function Dh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Dh(e,t,r),e=e.sibling;e!==null;)Dh(e,t,r),e=e.sibling}var pt=null,kr=!1;function _n(e,t,r){for(r=r.child;r!==null;)S1(e,t,r),r=r.sibling}function S1(e,t,r){if(Gr&&typeof Gr.onCommitFiberUnmount=="function")try{Gr.onCommitFiberUnmount(Au,r)}catch{}switch(r.tag){case 5:St||Eo(r,t);case 6:var n=pt,s=kr;pt=null,_n(e,t,r),pt=n,kr=s,pt!==null&&(kr?(e=pt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):pt.removeChild(r.stateNode));break;case 18:pt!==null&&(kr?(e=pt,r=r.stateNode,e.nodeType===8?qd(e.parentNode,r):e.nodeType===1&&qd(e,r),ji(e)):qd(pt,r.stateNode));break;case 4:n=pt,s=kr,pt=r.stateNode.containerInfo,kr=!0,_n(e,t,r),pt=n,kr=s;break;case 0:case 11:case 14:case 15:if(!St&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&Rh(r,t,i),s=s.next}while(s!==n)}_n(e,t,r);break;case 1:if(!St&&(Eo(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Qe(r,t,l)}_n(e,t,r);break;case 21:_n(e,t,r);break;case 22:r.mode&1?(St=(n=St)||r.memoizedState!==null,_n(e,t,r),St=n):_n(e,t,r);break;default:_n(e,t,r)}}function yy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new d3),t.forEach(function(n){var s=w3.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function xr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var o=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:pt=l.stateNode,kr=!1;break e;case 3:pt=l.stateNode.containerInfo,kr=!0;break e;case 4:pt=l.stateNode.containerInfo,kr=!0;break e}l=l.return}if(pt===null)throw Error(ee(160));S1(o,i,s),pt=null,kr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Qe(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)j1(t,e),t=t.sibling}function j1(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xr(t,e),Or(e),n&4){try{ai(3,e,e.return),$u(3,e)}catch(x){Qe(e,e.return,x)}try{ai(5,e,e.return)}catch(x){Qe(e,e.return,x)}}break;case 1:xr(t,e),Or(e),n&512&&r!==null&&Eo(r,r.return);break;case 5:if(xr(t,e),Or(e),n&512&&r!==null&&Eo(r,r.return),e.flags&32){var s=e.stateNode;try{wi(s,"")}catch(x){Qe(e,e.return,x)}}if(n&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=r!==null?r.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Hb(s,o),oh(l,i);var u=oh(l,o);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?Qb(s,f):d==="dangerouslySetInnerHTML"?Jb(s,f):d==="children"?wi(s,f):Qm(s,d,f,u)}switch(l){case"input":eh(s,o);break;case"textarea":Kb(s,o);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?Do(s,!!o.multiple,g,!1):h!==!!o.multiple&&(o.defaultValue!=null?Do(s,!!o.multiple,o.defaultValue,!0):Do(s,!!o.multiple,o.multiple?[]:"",!1))}s[Ti]=o}catch(x){Qe(e,e.return,x)}}break;case 6:if(xr(t,e),Or(e),n&4){if(e.stateNode===null)throw Error(ee(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(x){Qe(e,e.return,x)}}break;case 3:if(xr(t,e),Or(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ji(t.containerInfo)}catch(x){Qe(e,e.return,x)}break;case 4:xr(t,e),Or(e);break;case 13:xr(t,e),Or(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Ag=et())),n&4&&yy(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(St=(u=St)||d,xr(t,e),St=u):xr(t,e),Or(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ae=e,d=e.child;d!==null;){for(f=ae=d;ae!==null;){switch(h=ae,g=h.child,h.tag){case 0:case 11:case 14:case 15:ai(4,h,h.return);break;case 1:Eo(h,h.return);var b=h.stateNode;if(typeof b.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(x){Qe(n,r,x)}}break;case 5:Eo(h,h.return);break;case 22:if(h.memoizedState!==null){vy(f);continue}}g!==null?(g.return=h,ae=g):vy(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Xb("display",i))}catch(x){Qe(e,e.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){Qe(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:xr(t,e),Or(e),n&4&&yy(e);break;case 21:break;default:xr(t,e),Or(e)}}function Or(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(k1(r)){var n=r;break e}r=r.return}throw Error(ee(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(wi(s,""),n.flags&=-33);var o=py(e);Dh(e,o,s);break;case 3:case 4:var i=n.stateNode.containerInfo,l=py(e);Lh(e,l,i);break;default:throw Error(ee(161))}}catch(c){Qe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function h3(e,t,r){ae=e,N1(e)}function N1(e,t,r){for(var n=(e.mode&1)!==0;ae!==null;){var s=ae,o=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||Il;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||St;l=Il;var u=St;if(Il=i,(St=c)&&!u)for(ae=s;ae!==null;)i=ae,c=i.child,i.tag===22&&i.memoizedState!==null?by(s):c!==null?(c.return=i,ae=c):by(s);for(;o!==null;)ae=o,N1(o),o=o.sibling;ae=s,Il=l,St=u}xy(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,ae=o):xy(e)}}function xy(e){for(;ae!==null;){var t=ae;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:St||$u(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!St)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:wr(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&ry(t,o,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}ry(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&ji(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ee(163))}St||t.flags&512&&Mh(t)}catch(h){Qe(t,t.return,h)}}if(t===e){ae=null;break}if(r=t.sibling,r!==null){r.return=t.return,ae=r;break}ae=t.return}}function vy(e){for(;ae!==null;){var t=ae;if(t===e){ae=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ae=r;break}ae=t.return}}function by(e){for(;ae!==null;){var t=ae;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{$u(4,t)}catch(c){Qe(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Qe(t,s,c)}}var o=t.return;try{Mh(t)}catch(c){Qe(t,o,c)}break;case 5:var i=t.return;try{Mh(t)}catch(c){Qe(t,i,c)}}}catch(c){Qe(t,t.return,c)}if(t===e){ae=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ae=l;break}ae=t.return}}var m3=Math.ceil,Kc=vn.ReactCurrentDispatcher,Pg=vn.ReactCurrentOwner,ur=vn.ReactCurrentBatchConfig,Ce=0,mt=null,nt=null,xt=0,Kt=0,Po=ss(0),ct=0,Oi=null,Fs=0,Uu=0,Tg=0,ii=null,$t=null,Ag=0,Xo=1/0,tn=null,Yc=!1,Oh=null,qn=null,Fl=!1,In=null,Jc=0,li=0,Ih=null,pc=-1,yc=0;function Lt(){return Ce&6?et():pc!==-1?pc:pc=et()}function Wn(e){return e.mode&1?Ce&2&&xt!==0?xt&-xt:XC.transition!==null?(yc===0&&(yc=uw()),yc):(e=Ae,e!==0||(e=window.event,e=e===void 0?16:yw(e.type)),e):1}function Er(e,t,r,n){if(50<li)throw li=0,Ih=null,Error(ee(185));sl(e,r,n),(!(Ce&2)||e!==mt)&&(e===mt&&(!(Ce&2)&&(Uu|=r),ct===4&&Mn(e,xt)),qt(e,n),r===1&&Ce===0&&!(t.mode&1)&&(Xo=et()+500,Ou&&os()))}function qt(e,t){var r=e.callbackNode;XN(e,t);var n=Mc(e,e===mt?xt:0);if(n===0)r!==null&&P0(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&P0(r),t===1)e.tag===0?JC(wy.bind(null,e)):Ow(wy.bind(null,e)),WC(function(){!(Ce&6)&&os()}),r=null;else{switch(dw(n)){case 1:r=ng;break;case 4:r=lw;break;case 16:r=Rc;break;case 536870912:r=cw;break;default:r=Rc}r=L1(r,C1.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function C1(e,t){if(pc=-1,yc=0,Ce&6)throw Error(ee(327));var r=e.callbackNode;if(Uo()&&e.callbackNode!==r)return null;var n=Mc(e,e===mt?xt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Xc(e,n);else{t=n;var s=Ce;Ce|=2;var o=P1();(mt!==e||xt!==t)&&(tn=null,Xo=et()+500,Ps(e,t));do try{y3();break}catch(l){E1(e,l)}while(!0);pg(),Kc.current=o,Ce=s,nt!==null?t=0:(mt=null,xt=0,t=ct)}if(t!==0){if(t===2&&(s=uh(e),s!==0&&(n=s,t=Fh(e,s))),t===1)throw r=Oi,Ps(e,0),Mn(e,n),qt(e,et()),r;if(t===6)Mn(e,n);else{if(s=e.current.alternate,!(n&30)&&!g3(s)&&(t=Xc(e,n),t===2&&(o=uh(e),o!==0&&(n=o,t=Fh(e,o))),t===1))throw r=Oi,Ps(e,0),Mn(e,n),qt(e,et()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(ee(345));case 2:xs(e,$t,tn);break;case 3:if(Mn(e,n),(n&130023424)===n&&(t=Ag+500-et(),10<t)){if(Mc(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Lt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=xh(xs.bind(null,e,$t,tn),t);break}xs(e,$t,tn);break;case 4:if(Mn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var i=31-Cr(n);o=1<<i,i=t[i],i>s&&(s=i),n&=~o}if(n=s,n=et()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*m3(n/1960))-n,10<n){e.timeoutHandle=xh(xs.bind(null,e,$t,tn),n);break}xs(e,$t,tn);break;case 5:xs(e,$t,tn);break;default:throw Error(ee(329))}}}return qt(e,et()),e.callbackNode===r?C1.bind(null,e):null}function Fh(e,t){var r=ii;return e.current.memoizedState.isDehydrated&&(Ps(e,t).flags|=256),e=Xc(e,t),e!==2&&(t=$t,$t=r,t!==null&&$h(t)),e}function $h(e){$t===null?$t=e:$t.push.apply($t,e)}function g3(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],o=s.getSnapshot;s=s.value;try{if(!Pr(o(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Mn(e,t){for(t&=~Tg,t&=~Uu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Cr(t),n=1<<r;e[r]=-1,t&=~n}}function wy(e){if(Ce&6)throw Error(ee(327));Uo();var t=Mc(e,0);if(!(t&1))return qt(e,et()),null;var r=Xc(e,t);if(e.tag!==0&&r===2){var n=uh(e);n!==0&&(t=n,r=Fh(e,n))}if(r===1)throw r=Oi,Ps(e,0),Mn(e,t),qt(e,et()),r;if(r===6)throw Error(ee(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xs(e,$t,tn),qt(e,et()),null}function Rg(e,t){var r=Ce;Ce|=1;try{return e(t)}finally{Ce=r,Ce===0&&(Xo=et()+500,Ou&&os())}}function $s(e){In!==null&&In.tag===0&&!(Ce&6)&&Uo();var t=Ce;Ce|=1;var r=ur.transition,n=Ae;try{if(ur.transition=null,Ae=1,e)return e()}finally{Ae=n,ur.transition=r,Ce=t,!(Ce&6)&&os()}}function Mg(){Kt=Po.current,Ue(Po)}function Ps(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,qC(r)),nt!==null)for(r=nt.return;r!==null;){var n=r;switch(hg(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Fc();break;case 3:Yo(),Ue(Vt),Ue(Nt),_g();break;case 5:wg(n);break;case 4:Yo();break;case 13:Ue(We);break;case 19:Ue(We);break;case 10:yg(n.type._context);break;case 22:case 23:Mg()}r=r.return}if(mt=e,nt=e=Hn(e.current,null),xt=Kt=t,ct=0,Oi=null,Tg=Uu=Fs=0,$t=ii=null,Ss!==null){for(t=0;t<Ss.length;t++)if(r=Ss[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=s,n.next=i}r.pending=n}Ss=null}return e}function E1(e,t){do{var r=nt;try{if(pg(),hc.current=Hc,Wc){for(var n=Ke.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Wc=!1}if(Is=0,ft=lt=Ke=null,oi=!1,Mi=0,Pg.current=null,r===null||r.return===null){ct=1,Oi=t,nt=null;break}e:{var o=e,i=r.return,l=r,c=t;if(t=xt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=ly(i);if(g!==null){g.flags&=-257,cy(g,i,l,o,t),g.mode&1&&iy(o,u,t),t=g,c=u;var b=t.updateQueue;if(b===null){var x=new Set;x.add(c),t.updateQueue=x}else b.add(c);break e}else{if(!(t&1)){iy(o,u,t),Lg();break e}c=Error(ee(426))}}else if(Ge&&l.mode&1){var w=ly(i);if(w!==null){!(w.flags&65536)&&(w.flags|=256),cy(w,i,l,o,t),mg(Jo(c,l));break e}}o=c=Jo(c,l),ct!==4&&(ct=2),ii===null?ii=[o]:ii.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var p=d1(o,c,t);ty(o,p);break e;case 1:l=c;var y=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(qn===null||!qn.has(v)))){o.flags|=65536,t&=-t,o.lanes|=t;var _=f1(o,l,t);ty(o,_);break e}}o=o.return}while(o!==null)}A1(r)}catch(k){t=k,nt===r&&r!==null&&(nt=r=r.return);continue}break}while(!0)}function P1(){var e=Kc.current;return Kc.current=Hc,e===null?Hc:e}function Lg(){(ct===0||ct===3||ct===2)&&(ct=4),mt===null||!(Fs&268435455)&&!(Uu&268435455)||Mn(mt,xt)}function Xc(e,t){var r=Ce;Ce|=2;var n=P1();(mt!==e||xt!==t)&&(tn=null,Ps(e,t));do try{p3();break}catch(s){E1(e,s)}while(!0);if(pg(),Ce=r,Kc.current=n,nt!==null)throw Error(ee(261));return mt=null,xt=0,ct}function p3(){for(;nt!==null;)T1(nt)}function y3(){for(;nt!==null&&!BN();)T1(nt)}function T1(e){var t=M1(e.alternate,e,Kt);e.memoizedProps=e.pendingProps,t===null?A1(e):nt=t,Pg.current=null}function A1(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=u3(r,t),r!==null){r.flags&=32767,nt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ct=6,nt=null;return}}else if(r=c3(r,t,Kt),r!==null){nt=r;return}if(t=t.sibling,t!==null){nt=t;return}nt=t=e}while(t!==null);ct===0&&(ct=5)}function xs(e,t,r){var n=Ae,s=ur.transition;try{ur.transition=null,Ae=1,x3(e,t,r,n)}finally{ur.transition=s,Ae=n}return null}function x3(e,t,r,n){do Uo();while(In!==null);if(Ce&6)throw Error(ee(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ee(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(QN(e,o),e===mt&&(nt=mt=null,xt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Fl||(Fl=!0,L1(Rc,function(){return Uo(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=ur.transition,ur.transition=null;var i=Ae;Ae=1;var l=Ce;Ce|=4,Pg.current=null,f3(e,r),j1(r,e),FC(ph),Lc=!!gh,ph=gh=null,e.current=r,h3(r),VN(),Ce=l,Ae=i,ur.transition=o}else e.current=r;if(Fl&&(Fl=!1,In=e,Jc=s),o=e.pendingLanes,o===0&&(qn=null),WN(r.stateNode),qt(e,et()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Yc)throw Yc=!1,e=Oh,Oh=null,e;return Jc&1&&e.tag!==0&&Uo(),o=e.pendingLanes,o&1?e===Ih?li++:(li=0,Ih=e):li=0,os(),null}function Uo(){if(In!==null){var e=dw(Jc),t=ur.transition,r=Ae;try{if(ur.transition=null,Ae=16>e?16:e,In===null)var n=!1;else{if(e=In,In=null,Jc=0,Ce&6)throw Error(ee(331));var s=Ce;for(Ce|=4,ae=e.current;ae!==null;){var o=ae,i=o.child;if(ae.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ae=u;ae!==null;){var d=ae;switch(d.tag){case 0:case 11:case 15:ai(8,d,o)}var f=d.child;if(f!==null)f.return=d,ae=f;else for(;ae!==null;){d=ae;var h=d.sibling,g=d.return;if(_1(d),d===u){ae=null;break}if(h!==null){h.return=g,ae=h;break}ae=g}}}var b=o.alternate;if(b!==null){var x=b.child;if(x!==null){b.child=null;do{var w=x.sibling;x.sibling=null,x=w}while(x!==null)}}ae=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,ae=i;else e:for(;ae!==null;){if(o=ae,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ai(9,o,o.return)}var p=o.sibling;if(p!==null){p.return=o.return,ae=p;break e}ae=o.return}}var y=e.current;for(ae=y;ae!==null;){i=ae;var v=i.child;if(i.subtreeFlags&2064&&v!==null)v.return=i,ae=v;else e:for(i=y;ae!==null;){if(l=ae,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:$u(9,l)}}catch(k){Qe(l,l.return,k)}if(l===i){ae=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,ae=_;break e}ae=l.return}}if(Ce=s,os(),Gr&&typeof Gr.onPostCommitFiberRoot=="function")try{Gr.onPostCommitFiberRoot(Au,e)}catch{}n=!0}return n}finally{Ae=r,ur.transition=t}}return!1}function _y(e,t,r){t=Jo(r,t),t=d1(e,t,1),e=Gn(e,t,1),t=Lt(),e!==null&&(sl(e,1,t),qt(e,t))}function Qe(e,t,r){if(e.tag===3)_y(e,e,r);else for(;t!==null;){if(t.tag===3){_y(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(qn===null||!qn.has(n))){e=Jo(r,e),e=f1(t,e,1),t=Gn(t,e,1),e=Lt(),t!==null&&(sl(t,1,e),qt(t,e));break}}t=t.return}}function v3(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Lt(),e.pingedLanes|=e.suspendedLanes&r,mt===e&&(xt&r)===r&&(ct===4||ct===3&&(xt&130023424)===xt&&500>et()-Ag?Ps(e,0):Tg|=r),qt(e,t)}function R1(e,t){t===0&&(e.mode&1?(t=El,El<<=1,!(El&130023424)&&(El=4194304)):t=1);var r=Lt();e=fn(e,t),e!==null&&(sl(e,t,r),qt(e,r))}function b3(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),R1(e,r)}function w3(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ee(314))}n!==null&&n.delete(t),R1(e,r)}var M1;M1=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Vt.current)zt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return zt=!1,l3(e,t,r);zt=!!(e.flags&131072)}else zt=!1,Ge&&t.flags&1048576&&Iw(t,zc,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;gc(e,t),e=t.pendingProps;var s=Wo(t,Nt.current);$o(t,r),s=Sg(null,t,n,e,s,r);var o=jg();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Gt(n)?(o=!0,$c(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,vg(t),s.updater=Fu,t.stateNode=s,s._reactInternals=t,jh(t,n,e,r),t=Eh(null,t,n,!0,o,r)):(t.tag=0,Ge&&o&&fg(t),At(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(gc(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=k3(n),e=wr(n,e),s){case 0:t=Ch(null,t,n,e,r);break e;case 1:t=fy(null,t,n,e,r);break e;case 11:t=uy(null,t,n,e,r);break e;case 14:t=dy(null,t,n,wr(n.type,e),r);break e}throw Error(ee(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:wr(n,s),Ch(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:wr(n,s),fy(e,t,n,s,r);case 3:e:{if(p1(t),e===null)throw Error(ee(387));n=t.pendingProps,o=t.memoizedState,s=o.element,Vw(e,t),Gc(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Jo(Error(ee(423)),t),t=hy(e,t,n,r,s);break e}else if(n!==s){s=Jo(Error(ee(424)),t),t=hy(e,t,n,r,s);break e}else for(Jt=Vn(t.stateNode.containerInfo.firstChild),Xt=t,Ge=!0,jr=null,r=zw(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ho(),n===s){t=hn(e,t,r);break e}At(e,t,n,r)}t=t.child}return t;case 5:return Gw(t),e===null&&_h(t),n=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,yh(n,s)?i=null:o!==null&&yh(n,o)&&(t.flags|=32),g1(e,t),At(e,t,i,r),t.child;case 6:return e===null&&_h(t),null;case 13:return y1(e,t,r);case 4:return bg(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ko(t,null,n,r):At(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:wr(n,s),uy(e,t,n,s,r);case 7:return At(e,t,t.pendingProps,r),t.child;case 8:return At(e,t,t.pendingProps.children,r),t.child;case 12:return At(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,Ie(Bc,n._currentValue),n._currentValue=i,o!==null)if(Pr(o.value,i)){if(o.children===s.children&&!Vt.current){t=hn(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=an(-1,r&-r),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),kh(o.return,r,t),l.lanes|=r;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(ee(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),kh(i,r,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}At(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,$o(t,r),s=gr(s),n=n(s),t.flags|=1,At(e,t,n,r),t.child;case 14:return n=t.type,s=wr(n,t.pendingProps),s=wr(n.type,s),dy(e,t,n,s,r);case 15:return h1(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:wr(n,s),gc(e,t),t.tag=1,Gt(n)?(e=!0,$c(t)):e=!1,$o(t,r),u1(t,n,s),jh(t,n,s,r),Eh(null,t,n,!0,e,r);case 19:return x1(e,t,r);case 22:return m1(e,t,r)}throw Error(ee(156,t.tag))};function L1(e,t){return iw(e,t)}function _3(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cr(e,t,r,n){return new _3(e,t,r,n)}function Dg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function k3(e){if(typeof e=="function")return Dg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===eg)return 11;if(e===tg)return 14}return 2}function Hn(e,t){var r=e.alternate;return r===null?(r=cr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function xc(e,t,r,n,s,o){var i=2;if(n=e,typeof e=="function")Dg(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case vo:return Ts(r.children,s,o,t);case Zm:i=8,s|=8;break;case Yf:return e=cr(12,r,t,s|2),e.elementType=Yf,e.lanes=o,e;case Jf:return e=cr(13,r,t,s),e.elementType=Jf,e.lanes=o,e;case Xf:return e=cr(19,r,t,s),e.elementType=Xf,e.lanes=o,e;case Gb:return zu(r,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Bb:i=10;break e;case Vb:i=9;break e;case eg:i=11;break e;case tg:i=14;break e;case Pn:i=16,n=null;break e}throw Error(ee(130,e==null?e:typeof e,""))}return t=cr(i,r,t,s),t.elementType=e,t.type=n,t.lanes=o,t}function Ts(e,t,r,n){return e=cr(7,e,n,t),e.lanes=r,e}function zu(e,t,r,n){return e=cr(22,e,n,t),e.elementType=Gb,e.lanes=r,e.stateNode={isHidden:!1},e}function Zd(e,t,r){return e=cr(6,e,null,t),e.lanes=r,e}function ef(e,t,r){return t=cr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function S3(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ld(0),this.expirationTimes=Ld(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ld(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Og(e,t,r,n,s,o,i,l,c){return e=new S3(e,t,r,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=cr(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},vg(o),e}function j3(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xo,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function D1(e){if(!e)return Xn;e=e._reactInternals;e:{if(Ks(e)!==e||e.tag!==1)throw Error(ee(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Gt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ee(171))}if(e.tag===1){var r=e.type;if(Gt(r))return Dw(e,r,t)}return t}function O1(e,t,r,n,s,o,i,l,c){return e=Og(r,n,!0,e,s,o,i,l,c),e.context=D1(null),r=e.current,n=Lt(),s=Wn(r),o=an(n,s),o.callback=t??null,Gn(r,o,s),e.current.lanes=s,sl(e,s,n),qt(e,n),e}function Bu(e,t,r,n){var s=t.current,o=Lt(),i=Wn(s);return r=D1(r),t.context===null?t.context=r:t.pendingContext=r,t=an(o,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Gn(s,t,i),e!==null&&(Er(e,s,i,o),fc(e,s,i)),i}function Qc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ky(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Ig(e,t){ky(e,t),(e=e.alternate)&&ky(e,t)}function N3(){return null}var I1=typeof reportError=="function"?reportError:function(e){console.error(e)};function Fg(e){this._internalRoot=e}Vu.prototype.render=Fg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ee(409));Bu(e,t,null,null)};Vu.prototype.unmount=Fg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;$s(function(){Bu(null,e,null,null)}),t[dn]=null}};function Vu(e){this._internalRoot=e}Vu.prototype.unstable_scheduleHydration=function(e){if(e){var t=mw();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Rn.length&&t!==0&&t<Rn[r].priority;r++);Rn.splice(r,0,e),r===0&&pw(e)}};function $g(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Gu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Sy(){}function C3(e,t,r,n,s){if(s){if(typeof n=="function"){var o=n;n=function(){var u=Qc(i);o.call(u)}}var i=O1(t,n,e,0,null,!1,!1,"",Sy);return e._reactRootContainer=i,e[dn]=i.current,Ei(e.nodeType===8?e.parentNode:e),$s(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Qc(c);l.call(u)}}var c=Og(e,0,!1,null,null,!1,!1,"",Sy);return e._reactRootContainer=c,e[dn]=c.current,Ei(e.nodeType===8?e.parentNode:e),$s(function(){Bu(t,c,r,n)}),c}function qu(e,t,r,n,s){var o=r._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var l=s;s=function(){var c=Qc(i);l.call(c)}}Bu(t,i,e,s)}else i=C3(r,t,e,s,n);return Qc(i)}fw=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Wa(t.pendingLanes);r!==0&&(sg(t,r|1),qt(t,et()),!(Ce&6)&&(Xo=et()+500,os()))}break;case 13:$s(function(){var n=fn(e,1);if(n!==null){var s=Lt();Er(n,e,1,s)}}),Ig(e,1)}};og=function(e){if(e.tag===13){var t=fn(e,134217728);if(t!==null){var r=Lt();Er(t,e,134217728,r)}Ig(e,134217728)}};hw=function(e){if(e.tag===13){var t=Wn(e),r=fn(e,t);if(r!==null){var n=Lt();Er(r,e,t,n)}Ig(e,t)}};mw=function(){return Ae};gw=function(e,t){var r=Ae;try{return Ae=e,t()}finally{Ae=r}};ih=function(e,t,r){switch(t){case"input":if(eh(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Du(n);if(!s)throw Error(ee(90));Wb(n),eh(n,s)}}}break;case"textarea":Kb(e,r);break;case"select":t=r.value,t!=null&&Do(e,!!r.multiple,t,!1)}};tw=Rg;rw=$s;var E3={usingClientEntryPoint:!1,Events:[al,ko,Du,Zb,ew,Rg]},Da={findFiberByHostInstance:ks,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},P3={bundleType:Da.bundleType,version:Da.version,rendererPackageName:Da.rendererPackageName,rendererConfig:Da.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ow(e),e===null?null:e.stateNode},findFiberByHostInstance:Da.findFiberByHostInstance||N3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $l=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$l.isDisabled&&$l.supportsFiber)try{Au=$l.inject(P3),Gr=$l}catch{}}er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=E3;er.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$g(t))throw Error(ee(200));return j3(e,t,null,r)};er.createRoot=function(e,t){if(!$g(e))throw Error(ee(299));var r=!1,n="",s=I1;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Og(e,1,!1,null,null,r,!1,n,s),e[dn]=t.current,Ei(e.nodeType===8?e.parentNode:e),new Fg(t)};er.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ee(188)):(e=Object.keys(e).join(","),Error(ee(268,e)));return e=ow(t),e=e===null?null:e.stateNode,e};er.flushSync=function(e){return $s(e)};er.hydrate=function(e,t,r){if(!Gu(t))throw Error(ee(200));return qu(null,e,t,!0,r)};er.hydrateRoot=function(e,t,r){if(!$g(e))throw Error(ee(405));var n=r!=null&&r.hydratedSources||null,s=!1,o="",i=I1;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=O1(t,null,e,1,r??null,s,!1,o,i),e[dn]=t.current,Ei(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Vu(t)};er.render=function(e,t,r){if(!Gu(t))throw Error(ee(200));return qu(null,e,t,!1,r)};er.unmountComponentAtNode=function(e){if(!Gu(e))throw Error(ee(40));return e._reactRootContainer?($s(function(){qu(null,null,e,!1,function(){e._reactRootContainer=null,e[dn]=null})}),!0):!1};er.unstable_batchedUpdates=Rg;er.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Gu(r))throw Error(ee(200));if(e==null||e._reactInternals===void 0)throw Error(ee(38));return qu(e,t,r,!1,n)};er.version="18.3.1-next-f1338f8080-20240426";function F1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(F1)}catch(e){console.error(e)}}F1(),Fb.exports=er;var da=Fb.exports;const T3=Nb(da);var $1,jy=da;$1=jy.createRoot,jy.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ii(){return Ii=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ii.apply(this,arguments)}var Fn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Fn||(Fn={}));const Ny="popstate";function A3(e){e===void 0&&(e={});function t(n,s){let{pathname:o,search:i,hash:l}=n.location;return Uh("",{pathname:o,search:i,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Zc(s)}return M3(t,r,null,e)}function tt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function U1(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function R3(){return Math.random().toString(36).substr(2,8)}function Cy(e,t){return{usr:e.state,key:e.key,idx:t}}function Uh(e,t,r,n){return r===void 0&&(r=null),Ii({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?fa(t):t,{state:r,key:t&&t.key||n||R3()})}function Zc(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function fa(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function M3(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:o=!1}=n,i=s.history,l=Fn.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(Ii({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){l=Fn.Pop;let w=d(),p=w==null?null:w-u;u=w,c&&c({action:l,location:x.location,delta:p})}function h(w,p){l=Fn.Push;let y=Uh(x.location,w,p);u=d()+1;let v=Cy(y,u),_=x.createHref(y);try{i.pushState(v,"",_)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(_)}o&&c&&c({action:l,location:x.location,delta:1})}function g(w,p){l=Fn.Replace;let y=Uh(x.location,w,p);u=d();let v=Cy(y,u),_=x.createHref(y);i.replaceState(v,"",_),o&&c&&c({action:l,location:x.location,delta:0})}function b(w){let p=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof w=="string"?w:Zc(w);return y=y.replace(/ $/,"%20"),tt(p,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,p)}let x={get action(){return l},get location(){return e(s,i)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Ny,f),c=w,()=>{s.removeEventListener(Ny,f),c=null}},createHref(w){return t(s,w)},createURL:b,encodeLocation(w){let p=b(w);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:h,replace:g,go(w){return i.go(w)}};return x}var Ey;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ey||(Ey={}));function L3(e,t,r){return r===void 0&&(r="/"),D3(e,t,r)}function D3(e,t,r,n){let s=typeof t=="string"?fa(t):t,o=Ug(s.pathname||"/",r);if(o==null)return null;let i=z1(e);O3(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=K3(o);l=q3(i[c],u)}return l}function z1(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(o,i,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(tt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Kn([n,c.relativePath]),d=r.concat(c);o.children&&o.children.length>0&&(tt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),z1(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:V3(u,o.index),routesMeta:d})};return e.forEach((o,i)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,i);else for(let c of B1(o.path))s(o,i,c)}),t}function B1(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let i=B1(n.join("/")),l=[];return l.push(...i.map(c=>c===""?o:[o,c].join("/"))),s&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function O3(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:G3(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const I3=/^:[\w-]+$/,F3=3,$3=2,U3=1,z3=10,B3=-2,Py=e=>e==="*";function V3(e,t){let r=e.split("/"),n=r.length;return r.some(Py)&&(n+=B3),t&&(n+=$3),r.filter(s=>!Py(s)).reduce((s,o)=>s+(I3.test(o)?F3:o===""?U3:z3),n)}function G3(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function q3(e,t,r){let{routesMeta:n}=e,s={},o="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=W3({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:Kn([o,f.pathname]),pathnameBase:Q3(Kn([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=Kn([o,f.pathnameBase]))}return i}function W3(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=H3(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:g}=d;if(h==="*"){let x=l[f]||"";i=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const b=l[f];return g&&!b?u[h]=void 0:u[h]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:e}}function H3(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),U1(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function K3(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return U1(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ug(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Y3(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?fa(e):e;return{pathname:r?r.startsWith("/")?r:J3(r,t):t,search:Z3(n),hash:eE(s)}}function J3(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function tf(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function X3(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function zg(e,t){let r=X3(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Bg(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=fa(e):(s=Ii({},e),tt(!s.pathname||!s.pathname.includes("?"),tf("?","pathname","search",s)),tt(!s.pathname||!s.pathname.includes("#"),tf("#","pathname","hash",s)),tt(!s.search||!s.search.includes("#"),tf("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,l;if(i==null)l=r;else{let f=t.length-1;if(!n&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=Y3(s,l),u=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Kn=e=>e.join("/").replace(/\/\/+/g,"/"),Q3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Z3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,eE=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function tE(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const V1=["post","put","patch","delete"];new Set(V1);const rE=["get",...V1];new Set(rE);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fi(){return Fi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fi.apply(this,arguments)}const Vg=m.createContext(null),nE=m.createContext(null),as=m.createContext(null),Wu=m.createContext(null),Xr=m.createContext({outlet:null,matches:[],isDataRoute:!1}),G1=m.createContext(null);function sE(e,t){let{relative:r}=t===void 0?{}:t;ha()||tt(!1);let{basename:n,navigator:s}=m.useContext(as),{hash:o,pathname:i,search:l}=W1(e,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:Kn([n,i])),s.createHref({pathname:c,search:l,hash:o})}function ha(){return m.useContext(Wu)!=null}function rr(){return ha()||tt(!1),m.useContext(Wu).location}function q1(e){m.useContext(as).static||m.useLayoutEffect(e)}function st(){let{isDataRoute:e}=m.useContext(Xr);return e?vE():oE()}function oE(){ha()||tt(!1);let e=m.useContext(Vg),{basename:t,future:r,navigator:n}=m.useContext(as),{matches:s}=m.useContext(Xr),{pathname:o}=rr(),i=JSON.stringify(zg(s,r.v7_relativeSplatPath)),l=m.useRef(!1);return q1(()=>{l.current=!0}),m.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=Bg(u,JSON.parse(i),o,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Kn([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,i,o,e])}const aE=m.createContext(null);function iE(e){let t=m.useContext(Xr).outlet;return t&&m.createElement(aE.Provider,{value:e},t)}function Hu(){let{matches:e}=m.useContext(Xr),t=e[e.length-1];return t?t.params:{}}function W1(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=m.useContext(as),{matches:s}=m.useContext(Xr),{pathname:o}=rr(),i=JSON.stringify(zg(s,n.v7_relativeSplatPath));return m.useMemo(()=>Bg(e,JSON.parse(i),o,r==="path"),[e,i,o,r])}function lE(e,t){return cE(e,t)}function cE(e,t,r,n){ha()||tt(!1);let{navigator:s,static:o}=m.useContext(as),{matches:i}=m.useContext(Xr),l=i[i.length-1],c=l?l.params:{};l&&l.pathname;let u=l?l.pathnameBase:"/";l&&l.route;let d=rr(),f;if(t){var h;let p=typeof t=="string"?fa(t):t;u==="/"||(h=p.pathname)!=null&&h.startsWith(u)||tt(!1),f=p}else f=d;let g=f.pathname||"/",b=g;if(u!=="/"){let p=u.replace(/^\//,"").split("/");b="/"+g.replace(/^\//,"").split("/").slice(p.length).join("/")}let x=L3(e,{pathname:b}),w=mE(x&&x.map(p=>Object.assign({},p,{params:Object.assign({},c,p.params),pathname:Kn([u,s.encodeLocation?s.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?u:Kn([u,s.encodeLocation?s.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),i,r,n);return t&&w?m.createElement(Wu.Provider,{value:{location:Fi({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Fn.Pop}},w):w}function uE(){let e=xE(),t=tE(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),r?m.createElement("pre",{style:s},r):null,null)}const dE=m.createElement(uE,null);class fE extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?m.createElement(Xr.Provider,{value:this.props.routeContext},m.createElement(G1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function hE(e){let{routeContext:t,match:r,children:n}=e,s=m.useContext(Vg);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),m.createElement(Xr.Provider,{value:t},n)}function mE(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var o;if(!r)return null;if(r.errors)e=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||tt(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:g}=r,b=f.route.loader&&h[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||b){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,h)=>{let g,b=!1,x=null,w=null;r&&(g=l&&f.route.id?l[f.route.id]:void 0,x=f.route.errorElement||dE,c&&(u<0&&h===0?(bE("route-fallback"),b=!0,w=null):u===h&&(b=!0,w=f.route.hydrateFallbackElement||null)));let p=t.concat(i.slice(0,h+1)),y=()=>{let v;return g?v=x:b?v=w:f.route.Component?v=m.createElement(f.route.Component,null):f.route.element?v=f.route.element:v=d,m.createElement(hE,{match:f,routeContext:{outlet:d,matches:p,isDataRoute:r!=null},children:v})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?m.createElement(fE,{location:r.location,revalidation:r.revalidation,component:x,error:g,children:y(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):y()},null)}var H1=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(H1||{}),K1=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(K1||{});function gE(e){let t=m.useContext(Vg);return t||tt(!1),t}function pE(e){let t=m.useContext(nE);return t||tt(!1),t}function yE(e){let t=m.useContext(Xr);return t||tt(!1),t}function Y1(e){let t=yE(),r=t.matches[t.matches.length-1];return r.route.id||tt(!1),r.route.id}function xE(){var e;let t=m.useContext(G1),r=pE(),n=Y1();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function vE(){let{router:e}=gE(H1.UseNavigateStable),t=Y1(K1.UseNavigateStable),r=m.useRef(!1);return q1(()=>{r.current=!0}),m.useCallback(function(s,o){o===void 0&&(o={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Fi({fromRouteId:t},o)))},[e,t])}const Ty={};function bE(e,t,r){Ty[e]||(Ty[e]=!0)}function wE(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function ci(e){let{to:t,replace:r,state:n,relative:s}=e;ha()||tt(!1);let{future:o,static:i}=m.useContext(as),{matches:l}=m.useContext(Xr),{pathname:c}=rr(),u=st(),d=Bg(t,zg(l,o.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return m.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:s}),[u,f,s,r,n]),null}function _E(e){return iE(e.context)}function Me(e){tt(!1)}function kE(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Fn.Pop,navigator:o,static:i=!1,future:l}=e;ha()&&tt(!1);let c=t.replace(/^\/*/,"/"),u=m.useMemo(()=>({basename:c,navigator:o,static:i,future:Fi({v7_relativeSplatPath:!1},l)}),[c,l,o,i]);typeof n=="string"&&(n=fa(n));let{pathname:d="/",search:f="",hash:h="",state:g=null,key:b="default"}=n,x=m.useMemo(()=>{let w=Ug(d,c);return w==null?null:{location:{pathname:w,search:f,hash:h,state:g,key:b},navigationType:s}},[c,d,f,h,g,b,s]);return x==null?null:m.createElement(as.Provider,{value:u},m.createElement(Wu.Provider,{children:r,value:x}))}function SE(e){let{children:t,location:r}=e;return lE(zh(t),r)}new Promise(()=>{});function zh(e,t){t===void 0&&(t=[]);let r=[];return m.Children.forEach(e,(n,s)=>{if(!m.isValidElement(n))return;let o=[...t,s];if(n.type===m.Fragment){r.push.apply(r,zh(n.props.children,o));return}n.type!==Me&&tt(!1),!n.props.index||!n.props.children||tt(!1);let i={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=zh(n.props.children,o)),r.push(i)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bh(){return Bh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bh.apply(this,arguments)}function jE(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,o;for(o=0;o<n.length;o++)s=n[o],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function NE(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function CE(e,t){return e.button===0&&(!t||t==="_self")&&!NE(e)}const EE=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],PE="6";try{window.__reactRouterVersion=PE}catch{}const TE="startTransition",Ay=Ym[TE];function AE(e){let{basename:t,children:r,future:n,window:s}=e,o=m.useRef();o.current==null&&(o.current=A3({window:s,v5Compat:!0}));let i=o.current,[l,c]=m.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},d=m.useCallback(f=>{u&&Ay?Ay(()=>c(f)):c(f)},[c,u]);return m.useLayoutEffect(()=>i.listen(d),[i,d]),m.useEffect(()=>wE(n),[n]),m.createElement(kE,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:i,future:n})}const RE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ME=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,be=m.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:o,replace:i,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=jE(t,EE),{basename:g}=m.useContext(as),b,x=!1;if(typeof u=="string"&&ME.test(u)&&(b=u,RE))try{let v=new URL(window.location.href),_=u.startsWith("//")?new URL(v.protocol+u):new URL(u),k=Ug(_.pathname,g);_.origin===v.origin&&k!=null?u=k+_.search+_.hash:x=!0}catch{}let w=sE(u,{relative:s}),p=LE(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function y(v){n&&n(v),v.defaultPrevented||p(v)}return m.createElement("a",Bh({},h,{href:b||w,onClick:x||o?n:y,ref:r,target:c}))});var Ry;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ry||(Ry={}));var My;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(My||(My={}));function LE(e,t){let{target:r,replace:n,state:s,preventScrollReset:o,relative:i,viewTransition:l}=t===void 0?{}:t,c=st(),u=rr(),d=W1(e,{relative:i});return m.useCallback(f=>{if(CE(f,r)){f.preventDefault();let h=n!==void 0?n:Zc(u)===Zc(d);c(e,{replace:h,state:s,preventScrollReset:o,relative:i,viewTransition:l})}},[u,c,d,n,s,r,e,o,i,l])}function DE(){if(console&&console.warn){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];typeof t[0]=="string"&&(t[0]=`react-i18next:: ${t[0]}`),console.warn(...t)}}const Ly={};function Vh(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];typeof t[0]=="string"&&Ly[t[0]]||(typeof t[0]=="string"&&(Ly[t[0]]=new Date),DE(...t))}const J1=(e,t)=>()=>{if(e.isInitialized)t();else{const r=()=>{setTimeout(()=>{e.off("initialized",r)},0),t()};e.on("initialized",r)}};function Dy(e,t,r){e.loadNamespaces(t,J1(e,r))}function Oy(e,t,r,n){typeof r=="string"&&(r=[r]),r.forEach(s=>{e.options.ns.indexOf(s)<0&&e.options.ns.push(s)}),e.loadLanguages(t,J1(e,n))}function OE(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n=t.languages[0],s=t.options?t.options.fallbackLng:!1,o=t.languages[t.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const i=(l,c)=>{const u=t.services.backendConnector.state[`${l}|${c}`];return u===-1||u===2};return r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!i(t.isLanguageChangingTo,e)?!1:!!(t.hasResourceBundle(n,e)||!t.services.backendConnector.backend||t.options.resources&&!t.options.partialBundledLanguages||i(n,e)&&(!s||i(o,e)))}function IE(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!t.languages||!t.languages.length?(Vh("i18n.languages were undefined or empty",t.languages),!0):t.options.ignoreJSONStructure!==void 0?t.hasLoadedNamespace(e,{lng:r.lng,precheck:(s,o)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!o(s.isLanguageChangingTo,e))return!1}}):OE(e,t,r)}const FE=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,$E={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},UE=e=>$E[e],zE=e=>e.replace(FE,UE);let Gh={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:zE};function BE(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Gh={...Gh,...e}}function VE(){return Gh}let X1;function GE(e){X1=e}function qE(){return X1}const WE={type:"3rdParty",init(e){BE(e.options.react),GE(e)}},HE=m.createContext();class KE{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const YE=(e,t)=>{const r=m.useRef();return m.useEffect(()=>{r.current=e},[e,t]),r.current};function Mr(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:r}=t,{i18n:n,defaultNS:s}=m.useContext(HE)||{},o=r||n||qE();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new KE),!o){Vh("You will need to pass in an i18next instance by using initReactI18next");const v=(k,j)=>typeof j=="string"?j:j&&typeof j=="object"&&typeof j.defaultValue=="string"?j.defaultValue:Array.isArray(k)?k[k.length-1]:k,_=[v,{},!1];return _.t=v,_.i18n={},_.ready=!1,_}o.options.react&&o.options.react.wait!==void 0&&Vh("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const i={...VE(),...o.options.react,...t},{useSuspense:l,keyPrefix:c}=i;let u=s||o.options&&o.options.defaultNS;u=typeof u=="string"?[u]:u||["translation"],o.reportNamespaces.addUsedNamespaces&&o.reportNamespaces.addUsedNamespaces(u);const d=(o.isInitialized||o.initializedStoreOnce)&&u.every(v=>IE(v,o,i));function f(){return o.getFixedT(t.lng||null,i.nsMode==="fallback"?u:u[0],c)}const[h,g]=m.useState(f);let b=u.join();t.lng&&(b=`${t.lng}${b}`);const x=YE(b),w=m.useRef(!0);m.useEffect(()=>{const{bindI18n:v,bindI18nStore:_}=i;w.current=!0,!d&&!l&&(t.lng?Oy(o,t.lng,u,()=>{w.current&&g(f)}):Dy(o,u,()=>{w.current&&g(f)})),d&&x&&x!==b&&w.current&&g(f);function k(){w.current&&g(f)}return v&&o&&o.on(v,k),_&&o&&o.store.on(_,k),()=>{w.current=!1,v&&o&&v.split(" ").forEach(j=>o.off(j,k)),_&&o&&_.split(" ").forEach(j=>o.store.off(j,k))}},[o,b]);const p=m.useRef(!0);m.useEffect(()=>{w.current&&!p.current&&g(f),p.current=!1},[o,c]);const y=[h,o,d];if(y.t=h,y.i18n=o,y.ready=d,d||!d&&!l)return y;throw new Promise(v=>{t.lng?Oy(o,t.lng,u,()=>v()):Dy(o,u,()=>v())})}const Q1="http://localhost:3005",JE="/health",XE="/google-translate",QE=`${Q1}${JE}`,ZE=`${Q1}${XE}`;let ar=!0,eu=0;const Gg=6e4;let hs=0;const rf=3;async function Z1(e,t={},r=2e3){const n=new AbortController,s=setTimeout(()=>n.abort(),r);try{const o=await fetch(e,{...t,signal:n.signal});return clearTimeout(s),o}catch(o){throw clearTimeout(s),o}}async function $i(e=1,t=1e3){if(hs>=rf)return ar=!0,!1;if(ar&&Date.now()-eu<Gg)return!1;let r=0;for(eu=Date.now();r<e;)try{const n=await Z1(QE,{headers:{"Cache-Control":"no-cache"}},1e3);if(n.ok)return ar&&(console.log("Translation service reconnected and re-enabled"),ar=!1,hs=0),!0;console.warn(`Translation server health check failed (attempt ${r+1}/${e}): ${n.status}`),r++,hs++,r<e&&hs<rf?await new Promise(s=>setTimeout(s,t)):ar=!0}catch(n){const s=n instanceof Error?n.message:"Unknown error";console.error(`Translation server connection error (attempt ${r+1}/${e}): ${s}`),r++,hs++,r<e&&hs<rf?await new Promise(o=>setTimeout(o,t)):ar=!0}return ar=!0,console.log(`Translation service disabled due to connection issues (total attempts: ${hs})`),!1}const Iy={EN:"en",RU:"ru",KK:"kk",TR:"tr"};async function Fy(e,t,r="EN"){if(t==="EN"||!e||e.trim()===""||ar)return e;try{if(Date.now()-eu>Gg&&!await $i(1,500))return e;try{const s=await Z1(ZE,{method:"POST",headers:{"Content-Type":"application/json","Cache-Control":"no-cache",Accept:"application/json"},mode:"cors",credentials:"omit",body:JSON.stringify({text:e,target:Iy[t]||t.toLowerCase(),source:Iy[r]||r.toLowerCase()})},5e3);if(!s.ok)return console.error("Translation API error:",s.status,s.statusText),e;const o=await s.json();return o.translatedText?o.translatedText:o.translations&&o.translations.length>0?o.translations[0].translatedText:(console.warn("Translation returned unexpected format:",o),e)}catch(s){const o=s instanceof Error?s.message:"Unknown error";return console.error(`Translation request error: ${o}`),e}}catch(n){const s=n instanceof Error?n.message:"Unknown error";return console.error(`Translation health check error: ${s}`),ar=!0,e}}async function qh(e,t,r="EN"){if(!e||e.length===0)return[];if(t==="EN"||ar)return e;try{if(e.length===1)return[await Fy(e[0],t,r)];if(Date.now()-eu>Gg&&!await $i(1,500))return e;try{const o=[...e];for(let i=0;i<e.length;i+=10){const c=e.slice(i,i+10).map(d=>Fy(d,t,r).catch(f=>(console.error(`Error translating batch item: ${f}`),d))),u=await Promise.all(c);for(let d=0;d<u.length;d++)o[i+d]=u[d]}return o}catch(s){return console.error("Batch translation error:",s),e}}catch(n){return console.error("Translation batch processing error:",n),e}}let e5={data:""},t5=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||e5,r5=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,n5=/\/\*[^]*?\*\/|  +/g,$y=/\n+/g,Ln=(e,t)=>{let r="",n="",s="";for(let o in e){let i=e[o];o[0]=="@"?o[1]=="i"?r=o+" "+i+";":n+=o[1]=="f"?Ln(i,o):o+"{"+Ln(i,o[1]=="k"?"":t)+"}":typeof i=="object"?n+=Ln(i,t?t.replace(/([^,])+/g,l=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):o):i!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Ln.p?Ln.p(o,i):o+":"+i+";")}return r+(t&&s?t+"{"+s+"}":s)+n},Zr={},e2=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+e2(e[r]);return t}return e},s5=(e,t,r,n,s)=>{let o=e2(e),i=Zr[o]||(Zr[o]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(o));if(!Zr[i]){let c=o!==e?e:(u=>{let d,f,h=[{}];for(;d=r5.exec(u.replace(n5,""));)d[4]?h.shift():d[3]?(f=d[3].replace($y," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][d[1]]=d[2].replace($y," ").trim();return h[0]})(e);Zr[i]=Ln(s?{["@keyframes "+i]:c}:c,r?"":"."+i)}let l=r&&Zr.g?Zr.g:null;return r&&(Zr.g=Zr[i]),((c,u,d,f)=>{f?u.data=u.data.replace(f,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(Zr[i],t,n,l),i},o5=(e,t,r)=>e.reduce((n,s,o)=>{let i=t[o];if(i&&i.call){let l=i(r),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;i=c?"."+c:l&&typeof l=="object"?l.props?"":Ln(l,""):l===!1?"":l}return n+s+(i??"")},"");function Ku(e){let t=this||{},r=e.call?e(t.p):e;return s5(r.unshift?r.raw?o5(r,[].slice.call(arguments,1),t.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(t.p):s),{}):r,t5(t.target),t.g,t.o,t.k)}let t2,Wh,Hh;Ku.bind({g:1});let mn=Ku.bind({k:1});function a5(e,t,r,n){Ln.p=t,t2=e,Wh=r,Hh=n}function is(e,t){let r=this||{};return function(){let n=arguments;function s(o,i){let l=Object.assign({},o),c=l.className||s.className;r.p=Object.assign({theme:Wh&&Wh()},l),r.o=/ *go\d+/.test(c),l.className=Ku.apply(r,n)+(c?" "+c:"");let u=e;return e[0]&&(u=l.as||e,delete l.as),Hh&&u[0]&&Hh(l),t2(u,l)}return s}}var i5=e=>typeof e=="function",tu=(e,t)=>i5(e)?e(t):e,l5=(()=>{let e=0;return()=>(++e).toString()})(),r2=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),c5=20,n2=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,c5)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:r}=t;return n2(e,{type:e.toasts.find(o=>o.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map(o=>o.id===n||n===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let s=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+s}))}}},vc=[],Ns={toasts:[],pausedAt:void 0},Ys=e=>{Ns=n2(Ns,e),vc.forEach(t=>{t(Ns)})},u5={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},d5=(e={})=>{let[t,r]=m.useState(Ns),n=m.useRef(Ns);m.useEffect(()=>(n.current!==Ns&&r(Ns),vc.push(r),()=>{let o=vc.indexOf(r);o>-1&&vc.splice(o,1)}),[]);let s=t.toasts.map(o=>{var i,l,c;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((i=e[o.type])==null?void 0:i.removeDelay)||(e==null?void 0:e.removeDelay),duration:o.duration||((l=e[o.type])==null?void 0:l.duration)||(e==null?void 0:e.duration)||u5[o.type],style:{...e.style,...(c=e[o.type])==null?void 0:c.style,...o.style}}});return{...t,toasts:s}},f5=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||l5()}),ll=e=>(t,r)=>{let n=f5(t,e,r);return Ys({type:2,toast:n}),n.id},q=(e,t)=>ll("blank")(e,t);q.error=ll("error");q.success=ll("success");q.loading=ll("loading");q.custom=ll("custom");q.dismiss=e=>{Ys({type:3,toastId:e})};q.remove=e=>Ys({type:4,toastId:e});q.promise=(e,t,r)=>{let n=q.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let o=t.success?tu(t.success,s):void 0;return o?q.success(o,{id:n,...r,...r==null?void 0:r.success}):q.dismiss(n),s}).catch(s=>{let o=t.error?tu(t.error,s):void 0;o?q.error(o,{id:n,...r,...r==null?void 0:r.error}):q.dismiss(n)}),e};var h5=(e,t)=>{Ys({type:1,toast:{id:e,height:t}})},m5=()=>{Ys({type:5,time:Date.now()})},ui=new Map,g5=1e3,p5=(e,t=g5)=>{if(ui.has(e))return;let r=setTimeout(()=>{ui.delete(e),Ys({type:4,toastId:e})},t);ui.set(e,r)},y5=e=>{let{toasts:t,pausedAt:r}=d5(e);m.useEffect(()=>{if(r)return;let o=Date.now(),i=t.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(o-l.createdAt);if(c<0){l.visible&&q.dismiss(l.id);return}return setTimeout(()=>q.dismiss(l.id),c)});return()=>{i.forEach(l=>l&&clearTimeout(l))}},[t,r]);let n=m.useCallback(()=>{r&&Ys({type:6,time:Date.now()})},[r]),s=m.useCallback((o,i)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:u}=i||{},d=t.filter(g=>(g.position||u)===(o.position||u)&&g.height),f=d.findIndex(g=>g.id===o.id),h=d.filter((g,b)=>b<f&&g.visible).length;return d.filter(g=>g.visible).slice(...l?[h+1]:[0,h]).reduce((g,b)=>g+(b.height||0)+c,0)},[t]);return m.useEffect(()=>{t.forEach(o=>{if(o.dismissed)p5(o.id,o.removeDelay);else{let i=ui.get(o.id);i&&(clearTimeout(i),ui.delete(o.id))}})},[t]),{toasts:t,handlers:{updateHeight:h5,startPause:m5,endPause:n,calculateOffset:s}}},x5=mn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,v5=mn`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,b5=mn`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,w5=is("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${x5} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${v5} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${b5} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,_5=mn`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,k5=is("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${_5} 1s linear infinite;
`,S5=mn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,j5=mn`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,N5=is("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${S5} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${j5} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,C5=is("div")`
  position: absolute;
`,E5=is("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,P5=mn`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,T5=is("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${P5} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,A5=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?m.createElement(T5,null,t):t:r==="blank"?null:m.createElement(E5,null,m.createElement(k5,{...n}),r!=="loading"&&m.createElement(C5,null,r==="error"?m.createElement(w5,{...n}):m.createElement(N5,{...n})))},R5=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,M5=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,L5="0%{opacity:0;} 100%{opacity:1;}",D5="0%{opacity:1;} 100%{opacity:0;}",O5=is("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,I5=is("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,F5=(e,t)=>{let r=e.includes("top")?1:-1,[n,s]=r2()?[L5,D5]:[R5(r),M5(r)];return{animation:t?`${mn(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${mn(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},$5=m.memo(({toast:e,position:t,style:r,children:n})=>{let s=e.height?F5(e.position||t||"top-center",e.visible):{opacity:0},o=m.createElement(A5,{toast:e}),i=m.createElement(I5,{...e.ariaProps},tu(e.message,e));return m.createElement(O5,{className:e.className,style:{...s,...r,...e.style}},typeof n=="function"?n({icon:o,message:i}):m.createElement(m.Fragment,null,o,i))});a5(m.createElement);var U5=({id:e,className:t,style:r,onHeightUpdate:n,children:s})=>{let o=m.useCallback(i=>{if(i){let l=()=>{let c=i.getBoundingClientRect().height;n(e,c)};l(),new MutationObserver(l).observe(i,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return m.createElement("div",{ref:o,className:t,style:r},s)},z5=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:r2()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...s}},B5=Ku`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ul=16,V5=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:s,containerStyle:o,containerClassName:i})=>{let{toasts:l,handlers:c}=y5(r);return m.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Ul,left:Ul,right:Ul,bottom:Ul,pointerEvents:"none",...o},className:i,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(u=>{let d=u.position||t,f=c.calculateOffset(u,{reverseOrder:e,gutter:n,defaultPosition:t}),h=z5(d,f);return m.createElement(U5,{id:u.id,key:u.id,onHeightUpdate:c.updateHeight,className:u.visible?B5:"",style:h},u.type==="custom"?tu(u.message,u):s?s(u):m.createElement($5,{toast:u,position:d}))}))},Z=q;const s2="app_language",Uy=()=>{if(typeof window>"u")return"EN";const e=localStorage.getItem(s2);return e&&["EN","RU","KK","TR"].includes(e)?e:"EN"},o2=m.createContext(void 0),a2=({children:e})=>{const{t,i18n:r}=Mr(),[n,s]=m.useState(Uy()),[o,i]=m.useState(!1),[l,c]=m.useState("en"),u=m.useCallback(()=>{const p=new Map;return{get:y=>p.get(y),set:(y,v)=>p.set(y,v),has:y=>p.has(y),clear:()=>p.clear()}},[])(),d=m.useCallback(async(p,y)=>{if(!p)return"";const v=y||n;if(v==="EN"||ar)return p;const _=`${p}:${v}`;if(u.has(_))return u.get(_)||p;try{const k=await qh([p],v,"EN");if(k&&k.length>0){const j=k[0];return u.set(_,j),j}return p}catch(k){return console.error("Error translating text:",k),p}},[n,u]),f=m.useCallback(async()=>{if(!(n==="EN"||ar))try{const p=document.querySelectorAll("[data-i18n]");if(p.length===0)return;const y=[],v=new Map;if(p.forEach(k=>{var C;const j=(C=k.textContent)==null?void 0:C.trim();j&&j.length>0&&(y.push(j),v.set(y.length-1,k))}),y.length===0)return;const _=await qh(y,n,"EN");_&&_.length>0&&_.forEach((k,j)=>{const C=v.get(j);C&&(C.getAttribute("data-i18n-original")||C.setAttribute("data-i18n-original",y[j]),C.textContent=k)})}catch(p){console.error("Error translating dynamic content:",p)}},[n]),h=m.useCallback(async()=>{u.clear(),await r.reloadResources(),await f(),window.dispatchEvent(new CustomEvent("languageChanged"))},[r,f,u]),g=m.useCallback(async p=>{if(p!==n){i(!0);try{s(p),localStorage.setItem(s2,p);const y=p.toLowerCase();await r.changeLanguage(y),u.clear(),p!=="EN"&&await f(),window.dispatchEvent(new CustomEvent("languageChanged"))}catch(y){console.error("Error changing language:",y),q.error("Error changing language. Some translations may be missing.")}finally{i(!1)}}},[n,r,f,u]);m.useEffect(()=>{typeof document<"u"&&(document.documentElement.lang=n.toLowerCase(),document.documentElement.dir=["AR","FA","HE","UR"].includes(n)?"rtl":"ltr",["AR","FA","HE","UR"].includes(n)?document.documentElement.classList.add("rtl"):document.documentElement.classList.remove("rtl"))},[n]),m.useEffect(()=>{(async()=>{const v=Uy();r.language!==v.toLowerCase()&&await r.changeLanguage(v.toLowerCase()),v!=="EN"&&setTimeout(()=>f(),500)})();const y=new MutationObserver(v=>{let _=!1;v.forEach(k=>{k.type==="childList"&&k.addedNodes.length>0&&k.addedNodes.forEach(j=>{if(j.nodeType===Node.ELEMENT_NODE){const C=j;(C.querySelector("[data-i18n]")||C.hasAttribute("data-i18n"))&&(_=!0)}})}),_&&n!=="EN"&&f()});return y.observe(document.body,{childList:!0,subtree:!0}),()=>{y.disconnect()}},[r,n,f]);const b=m.useCallback((p,y)=>{try{if(!p)return"";const v=t(p,y);return v===p||v.startsWith(p.charAt(0))&&v.endsWith(p.charAt(p.length-1))?p:v}catch(v){return console.error(`Error translating key: ${p}`,v),p}},[t]),w={language:n,setLanguage:g,isTranslating:o,forceRefreshTranslations:h,translateText:d,tWithTemplate:b,currentLanguage:l,setCurrentLanguage:p=>{c(p)},t};return a.jsx(o2.Provider,{value:w,children:e})},ot=()=>{const e=m.useContext(o2);if(!e)throw new Error("useLanguage must be used within a LanguageProvider");return e},i2=m.createContext({isDarkMode:!1,toggleDarkMode:()=>{}}),qg=()=>m.useContext(i2),G5=({children:e})=>{const[t,r]=m.useState(()=>{const s=localStorage.getItem("theme");return s==="dark"||!s&&window.matchMedia("(prefers-color-scheme: dark)").matches});m.useEffect(()=>{t?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[t]);const n=()=>{r(!t)};return a.jsx(i2.Provider,{value:{isDarkMode:t,toggleDarkMode:n},children:e})},q5="modulepreload",W5=function(e){return"/"+e},zy={},Qo=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=W5(c),c in zy)return;zy[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":q5,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,g)=>{f.addEventListener("load",h),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return s.then(i=>{for(const l of i||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})},H5=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Qo(async()=>{const{default:n}=await Promise.resolve().then(()=>ma);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Wg extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class K5 extends Wg{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Y5 extends Wg{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class J5 extends Wg{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Kh;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Kh||(Kh={}));var X5=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class Q5{constructor(t,{headers:r={},customFetch:n,region:s=Kh.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=H5(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return X5(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:i}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=i):typeof i=="string"?(l["Content-Type"]="text/plain",u=i):typeof FormData<"u"&&i instanceof FormData?u=i:(l["Content-Type"]="application/json",u=JSON.stringify(i)));const d=yield this.fetch(`${this.url}/${t}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(b=>{throw new K5(b)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new Y5(d);if(!d.ok)throw new J5(d);let h=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return h==="application/json"?g=yield d.json():h==="application/octet-stream"?g=yield d.blob():h==="text/event-stream"?g=d:h==="multipart/form-data"?g=yield d.formData():g=yield d.text(),{data:g,error:null}}catch(s){return{data:null,error:s}}})}}var Ut={},Hg={},Yu={},cl={},Ju={},Xu={},Z5=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Zo=Z5();const eP=Zo.fetch,l2=Zo.fetch.bind(Zo),c2=Zo.Headers,tP=Zo.Request,rP=Zo.Response,ma=Object.freeze(Object.defineProperty({__proto__:null,Headers:c2,Request:tP,Response:rP,default:l2,fetch:eP},Symbol.toStringTag,{value:"Module"})),nP=sN(ma);var Qu={};Object.defineProperty(Qu,"__esModule",{value:!0});let sP=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Qu.default=sP;var u2=mr&&mr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xu,"__esModule",{value:!0});const oP=u2(nP),aP=u2(Qu);let iP=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=oP.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,l,c;let u=null,d=null,f=null,h=o.status,g=o.statusText;if(o.ok){if(this.method!=="HEAD"){const p=await o.text();p===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=p:d=JSON.parse(p))}const x=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),w=(l=o.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");x&&w&&w.length>1&&(f=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const x=await o.text();try{u=JSON.parse(x),Array.isArray(u)&&o.status===404&&(d=[],u=null,h=200,g="OK")}catch{o.status===404&&x===""?(h=204,g="No Content"):u={message:x}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,g="OK"),u&&this.shouldThrowOnError)throw new aP.default(u)}return{error:u,data:d,count:f,status:h,statusText:g}});return this.shouldThrowOnError||(s=s.catch(o=>{var i,l,c;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(l=o==null?void 0:o.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=o==null?void 0:o.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};Xu.default=iP;var lP=mr&&mr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ju,"__esModule",{value:!0});const cP=lP(Xu);let uP=class extends cP.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:o=s}={}){const i=o?`${o}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const o=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(i,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:o=!1,format:i="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${u}"; options=${c};`,i==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ju.default=uP;var dP=mr&&mr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cl,"__esModule",{value:!0});const fP=dP(Ju);let hP=class extends fP.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${o}fts${i}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};cl.default=hP;var mP=mr&&mr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yu,"__esModule",{value:!0});const Oa=mP(cl);let gP=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let o=!1;const i=(t??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",i),n&&(this.headers.Prefer=`count=${n}`),new Oa.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),r&&o.push(`count=${r}`),n||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const i=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(i.length>0){const l=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Oa.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:o=!0}={}){const i="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Oa.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Oa.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Oa.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Yu.default=gP;var Zu={},ed={};Object.defineProperty(ed,"__esModule",{value:!0});ed.version=void 0;ed.version="0.0.0-automated";Object.defineProperty(Zu,"__esModule",{value:!0});Zu.DEFAULT_HEADERS=void 0;const pP=ed;Zu.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${pP.version}`};var d2=mr&&mr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Hg,"__esModule",{value:!0});const yP=d2(Yu),xP=d2(cl),vP=Zu;let bP=class f2{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},vP.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new yP.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new f2(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:o}={}){let i;const l=new URL(`${this.url}/rpc/${t}`);let c;n||s?(i=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(i="POST",c=r);const u=Object.assign({},this.headers);return o&&(u.Prefer=`count=${o}`),new xP.default({method:i,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Hg.default=bP;var ga=mr&&mr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ut,"__esModule",{value:!0});Ut.PostgrestError=Ut.PostgrestBuilder=Ut.PostgrestTransformBuilder=Ut.PostgrestFilterBuilder=Ut.PostgrestQueryBuilder=Ut.PostgrestClient=void 0;const h2=ga(Hg);Ut.PostgrestClient=h2.default;const m2=ga(Yu);Ut.PostgrestQueryBuilder=m2.default;const g2=ga(cl);Ut.PostgrestFilterBuilder=g2.default;const p2=ga(Ju);Ut.PostgrestTransformBuilder=p2.default;const y2=ga(Xu);Ut.PostgrestBuilder=y2.default;const x2=ga(Qu);Ut.PostgrestError=x2.default;var wP=Ut.default={PostgrestClient:h2.default,PostgrestQueryBuilder:m2.default,PostgrestFilterBuilder:g2.default,PostgrestTransformBuilder:p2.default,PostgrestBuilder:y2.default,PostgrestError:x2.default};const{PostgrestClient:_P,PostgrestQueryBuilder:RG,PostgrestFilterBuilder:MG,PostgrestTransformBuilder:LG,PostgrestBuilder:DG,PostgrestError:OG}=wP,kP="2.11.2",SP={"X-Client-Info":`realtime-js/${kP}`},jP="1.0.0",v2=1e4,NP=1e3;var zo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(zo||(zo={}));var Wt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Wt||(Wt={}));var Sr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Sr||(Sr={}));var Yh;(function(e){e.websocket="websocket"})(Yh||(Yh={}));var _s;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(_s||(_s={}));class CP{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),o=r.getUint8(2);let i=this.HEADER_LENGTH+2;const l=n.decode(t.slice(i,i+s));i=i+s;const c=n.decode(t.slice(i,i+o));i=i+o;const u=JSON.parse(n.decode(t.slice(i,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class b2{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Oe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Oe||(Oe={}));const By=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((o,i)=>(o[i]=EP(i,e,t,s),o),{})},EP=(e,t,r,n)=>{const s=t.find(l=>l.name===e),o=s==null?void 0:s.type,i=r[e];return o&&!n.includes(o)?w2(o,i):Jh(i)},w2=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return RP(t,r)}switch(e){case Oe.bool:return PP(t);case Oe.float4:case Oe.float8:case Oe.int2:case Oe.int4:case Oe.int8:case Oe.numeric:case Oe.oid:return TP(t);case Oe.json:case Oe.jsonb:return AP(t);case Oe.timestamp:return MP(t);case Oe.abstime:case Oe.date:case Oe.daterange:case Oe.int4range:case Oe.int8range:case Oe.money:case Oe.reltime:case Oe.text:case Oe.time:case Oe.timestamptz:case Oe.timetz:case Oe.tsrange:case Oe.tstzrange:return Jh(t);default:return Jh(t)}},Jh=e=>e,PP=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},TP=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},AP=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},RP=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let o;const i=e.slice(1,r);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(l=>w2(t,l))}return e},MP=e=>typeof e=="string"?e.replace(" ","T"):e,_2=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class nf{constructor(t,r,n={},s=v2){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Vy;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Vy||(Vy={}));class di{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=di.syncState(this.state,s,o,i),this.pendingDiffs.forEach(c=>{this.state=di.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=di.syncDiff(this.state,s,o,i),l())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const o=this.cloneDeep(t),i=this.transformState(r),l={},c={};return this.map(o,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const f=o[u];if(f){const h=d.map(w=>w.presence_ref),g=f.map(w=>w.presence_ref),b=d.filter(w=>g.indexOf(w.presence_ref)<0),x=f.filter(w=>h.indexOf(w.presence_ref)<0);b.length>0&&(l[u]=b),x.length>0&&(c[u]=x)}else l[u]=d}),this.syncDiff(o,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:o,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(g=>g.presence_ref),h=d.filter(g=>f.indexOf(g.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(i,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Gy;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Gy||(Gy={}));var qy;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(qy||(qy={}));var rn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(rn||(rn={}));class Kg{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Wt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new nf(this,Sr.join,this.params,this.timeout),this.rejoinTimer=new b2(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Wt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Wt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Wt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Wt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Sr.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new di(this),this.broadcastEndpointURL=_2(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:i,private:l}}=this.params;this._onError(d=>t==null?void 0:t(rn.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(rn.CLOSED));const c={},u={broadcast:o,presence:i,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(rn.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,g=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,b=[];for(let x=0;x<g;x++){const w=h[x],{filter:{event:p,schema:y,table:v,filter:_}}=w,k=d&&d[x];if(k&&k.event===p&&k.schema===y&&k.table===v&&k.filter===_)b.push(Object.assign(Object.assign({},w),{id:k.id}));else{this.unsubscribe(),t==null||t(rn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(rn.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(rn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(rn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Wt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Sr.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new nf(this,Sr.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new nf(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,o;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Sr;if(n&&[l,c,u,d].indexOf(i)>=0&&n!==this._joinRef())return;let h=this._onMessage(i,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var b,x,w;return((b=g.filter)===null||b===void 0?void 0:b.event)==="*"||((w=(x=g.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===i}).map(g=>g.callback(h,n)):(o=this.bindings[i])===null||o===void 0||o.filter(g=>{var b,x,w,p,y,v;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in g){const _=g.id,k=(b=g.filter)===null||b===void 0?void 0:b.event;return _&&((x=r.ids)===null||x===void 0?void 0:x.includes(_))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const _=(y=(p=g==null?void 0:g.filter)===null||p===void 0?void 0:p.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return _==="*"||_===((v=r==null?void 0:r.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===i}).map(g=>{if(typeof h=="object"&&"ids"in h){const b=h.data,{schema:x,table:w,commit_timestamp:p,type:y,errors:v}=b;h=Object.assign(Object.assign({},{schema:x,table:w,commit_timestamp:p,eventType:y,new:{},old:{},errors:v}),this._getPayloadRecords(b))}g.callback(h,n)})}_isClosed(){return this.state===Wt.closed}_isJoined(){return this.state===Wt.joined}_isJoining(){return this.state===Wt.joining}_isLeaving(){return this.state===Wt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&Kg.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Sr.close,{},t)}_onError(t){this._on(Sr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Wt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=By(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=By(t.columns,t.old_record)),r}}const LP=()=>{},DP=typeof WebSocket<"u",OP=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class IP{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=SP,this.params={},this.timeout=v2,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=LP,this.conn=null,this.sendBuffer=[],this.serializer=new CP,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...l)=>Qo(async()=>{const{default:c}=await Promise.resolve().then(()=>ma);return{default:c}},void 0).then(({default:c})=>c(...l)):i=fetch,(...l)=>i(...l)},this.endPoint=`${t}/${Yh.websocket}`,this.httpEndpoint=_2(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(o,i)=>i(JSON.stringify(o)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new b2(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(DP){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new FP(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Qo(async()=>{const{default:t}=await import("./browser-BV26cnT6.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:jP}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case zo.connecting:return _s.Connecting;case zo.open:return _s.Open;case zo.closing:return _s.Closing;default:return _s.Closed}}isConnected(){return this.connectionState()===_s.Open}channel(t,r={config:{}}){const n=new Kg(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:s,ref:o}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(Sr.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(NP,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:o,ref:i}=r;i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${n} ${s} ${i&&"("+i+")"||""}`,o),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,o,i)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Sr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([OP],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class FP{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=zo.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class Yg extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function dt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class $P extends Yg{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Xh extends Yg{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var UP=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const k2=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Qo(async()=>{const{default:n}=await Promise.resolve().then(()=>ma);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},zP=()=>UP(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Qo(()=>Promise.resolve().then(()=>ma),void 0)).Response:Response}),Qh=e=>{if(Array.isArray(e))return e.map(r=>Qh(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=Qh(n)}),t};var Js=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const sf=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),BP=(e,t,r)=>Js(void 0,void 0,void 0,function*(){const n=yield zP();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new $P(sf(s),e.status||500))}).catch(s=>{t(new Xh(sf(s),s))}):t(new Xh(sf(e),e))}),VP=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function ul(e,t,r,n,s,o){return Js(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(r,VP(t,n,s,o)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>BP(c,l,n))})})}function ru(e,t,r,n){return Js(this,void 0,void 0,function*(){return ul(e,"GET",t,r,n)})}function An(e,t,r,n,s){return Js(this,void 0,void 0,function*(){return ul(e,"POST",t,n,s,r)})}function GP(e,t,r,n,s){return Js(this,void 0,void 0,function*(){return ul(e,"PUT",t,n,s,r)})}function qP(e,t,r,n){return Js(this,void 0,void 0,function*(){return ul(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function S2(e,t,r,n,s){return Js(this,void 0,void 0,function*(){return ul(e,"DELETE",t,n,s,r)})}var Ft=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const WP={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Wy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class HP{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=k2(s)}uploadOrUpdate(t,r,n,s){return Ft(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},Wy),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=n,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:o,headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(o){if(dt(o))return{data:null,error:o};throw o}})}upload(t,r,n){return Ft(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Ft(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),i=this._getFinalPath(o),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Wy.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),h=yield f.json();return f.ok?{data:{path:o,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(dt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Ft(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const o=yield An(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(this.url+o.url),l=i.searchParams.get("token");if(!l)throw new Yg("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:l},error:null}}catch(n){if(dt(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ft(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ft(this,void 0,void 0,function*(){try{return{data:yield An(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(dt(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Ft(this,void 0,void 0,function*(){try{return{data:{path:(yield An(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(dt(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Ft(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield An(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(dt(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Ft(this,void 0,void 0,function*(){try{const s=yield An(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(dt(s))return{data:null,error:s};throw s}})}download(t,r){return Ft(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=o?`?${o}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield ru(this.fetch,`${this.url}/${s}/${l}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(dt(l))return{data:null,error:l};throw l}})}info(t){return Ft(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield ru(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Qh(n),error:null}}catch(n){if(dt(n))return{data:null,error:n};throw n}})}exists(t){return Ft(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield qP(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(dt(n)&&n instanceof Xh){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&s.push(o);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Ft(this,void 0,void 0,function*(){try{return{data:yield S2(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ft(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},WP),r),{prefix:t||""});return{data:yield An(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(dt(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const KP="2.7.1",YP={"X-Client-Info":`storage-js/${KP}`};var ro=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class JP{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},YP),r),this.fetch=k2(n)}listBuckets(){return ro(this,void 0,void 0,function*(){try{return{data:yield ru(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(dt(t))return{data:null,error:t};throw t}})}getBucket(t){return ro(this,void 0,void 0,function*(){try{return{data:yield ru(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return ro(this,void 0,void 0,function*(){try{return{data:yield An(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(dt(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return ro(this,void 0,void 0,function*(){try{return{data:yield GP(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(dt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return ro(this,void 0,void 0,function*(){try{return{data:yield An(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ro(this,void 0,void 0,function*(){try{return{data:yield S2(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}})}}class XP extends JP{constructor(t,r={},n){super(t,r,n)}from(t){return new HP(this.url,this.headers,t,this.fetch)}}const QP="2.49.4";let Ka="";typeof Deno<"u"?Ka="deno":typeof document<"u"?Ka="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ka="react-native":Ka="node";const ZP={"X-Client-Info":`supabase-js-${Ka}/${QP}`},e6={headers:ZP},t6={schema:"public"},r6={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},n6={};var s6=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const o6=e=>{let t;return e?t=e:typeof fetch>"u"?t=l2:t=fetch,(...r)=>t(...r)},a6=()=>typeof Headers>"u"?c2:Headers,i6=(e,t,r)=>{const n=o6(r),s=a6();return(o,i)=>s6(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(o,Object.assign(Object.assign({},i),{headers:u}))})};var l6=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function c6(e){return e.replace(/\/$/,"")}function u6(e,t){const{db:r,auth:n,realtime:s,global:o}=e,{db:i,auth:l,realtime:c,global:u}=t,d={db:Object.assign(Object.assign({},i),r),auth:Object.assign(Object.assign({},l),n),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},u),o),accessToken:()=>l6(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const j2="2.69.1",yo=30*1e3,Zh=3,of=Zh*yo,d6="http://localhost:9999",f6="supabase.auth.token",h6={"X-Client-Info":`gotrue-js/${j2}`},em="X-Supabase-Api-Version",N2={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},m6=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,g6=6e5;class Jg extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ye(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class p6 extends Jg{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function y6(e){return ye(e)&&e.name==="AuthApiError"}class C2 extends Jg{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class ls extends Jg{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class jn extends ls{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function x6(e){return ye(e)&&e.name==="AuthSessionMissingError"}class af extends ls{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class zl extends ls{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Bl extends ls{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function v6(e){return ye(e)&&e.name==="AuthImplicitGrantRedirectError"}class Hy extends ls{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class tm extends ls{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function lf(e){return ye(e)&&e.name==="AuthRetryableFetchError"}class Ky extends ls{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class fi extends ls{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Yy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Jy=` 	
\r=`.split(""),b6=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Jy.length;t+=1)e[Jy[t].charCodeAt(0)]=-2;for(let t=0;t<Yy.length;t+=1)e[Yy[t].charCodeAt(0)]=t;return e})();function E2(e,t,r){const n=b6[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Xy(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{k6(i,n,r)};for(let i=0;i<e.length;i+=1)E2(e.charCodeAt(i),s,o);return t.join("")}function w6(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function _6(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}w6(n,t)}}function k6(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function S6(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)E2(e.charCodeAt(s),r,n);return new Uint8Array(t)}function j6(e){const t=[];return _6(e,r=>t.push(r)),new Uint8Array(t)}function N6(e){return Math.round(Date.now()/1e3)+e}function C6(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Fr=()=>typeof window<"u"&&typeof document<"u",ms={tested:!1,writable:!1},hi=()=>{if(!Fr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ms.tested)return ms.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ms.tested=!0,ms.writable=!0}catch{ms.tested=!0,ms.writable=!1}return ms.writable};function E6(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const P2=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Qo(async()=>{const{default:n}=await Promise.resolve().then(()=>ma);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},P6=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",T2=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Vl=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Gl=async(e,t)=>{await e.removeItem(t)};class td{constructor(){this.promise=new td.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}td.promiseConstructor=Promise;function cf(e){const t=e.split(".");if(t.length!==3)throw new fi("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!m6.test(t[n]))throw new fi("JWT not in base64url format");return{header:JSON.parse(Xy(t[0])),payload:JSON.parse(Xy(t[1])),signature:S6(t[2]),raw:{header:t[0],payload:t[1]}}}async function T6(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function A6(e,t){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){n(i);return}}catch(i){if(!t(o,i)){s(i);return}}})()})}function R6(e){return("0"+e.toString(16)).substr(-2)}function M6(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,R6).join("")}async function L6(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function D6(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await L6(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function no(e,t,r=!1){const n=M6();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await T2(e,`${t}-code-verifier`,s);const o=await D6(n);return[o,n===o?"plain":"s256"]}const O6=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function I6(e){const t=e.headers.get(em);if(!t||!t.match(O6))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function F6(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function $6(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var U6=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const vs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),z6=[502,503,504];async function Qy(e){var t;if(!P6(e))throw new tm(vs(e),0);if(z6.includes(e.status))throw new tm(vs(e),e.status);let r;try{r=await e.json()}catch(o){throw new C2(vs(o),o)}let n;const s=I6(e);if(s&&s.getTime()>=N2["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Ky(vs(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new jn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new Ky(vs(r),e.status,r.weak_password.reasons);throw new p6(vs(r),e.status||500,n)}const B6=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function ke(e,t,r,n){var s;const o=Object.assign({},n==null?void 0:n.headers);o[em]||(o[em]=N2["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await V6(e,t,r+l,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function V6(e,t,r,n,s,o){const i=B6(t,n,s,o);let l;try{l=await e(r,Object.assign({},i))}catch(c){throw console.error(c),new tm(vs(c),0)}if(l.ok||await Qy(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Qy(c)}}function Nn(e){var t;let r=null;H6(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=N6(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Zy(e){const t=Nn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Dn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function G6(e){return{data:e,error:null}}function q6(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=e,i=U6(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function W6(e){return e}function H6(e){return e.access_token&&e.refresh_token&&e.expires_in}var K6=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class Y6{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=P2(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await ke(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ke(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Dn})}catch(n){if(ye(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=K6(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await ke(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:q6,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ye(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ke(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Dn})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,o,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ke(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:W6});if(d.error)throw d.error;const f=await d.json(),h=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,g=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(b=>{const x=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(b.split(";")[1].split("=")[1]);u[`${w}Page`]=x}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ye(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await ke(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Dn})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await ke(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Dn})}catch(n){if(ye(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await ke(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Dn})}catch(n){if(ye(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await ke(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(ye(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await ke(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}}}const J6={getItem:e=>hi()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{hi()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{hi()&&globalThis.localStorage.removeItem(e)}};function ex(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function X6(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const so={debug:!!(globalThis&&hi()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class A2 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Q6 extends A2{}async function Z6(e,t,r){so.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),so.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){so.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{so.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw so.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Q6(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(so.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}X6();const eT={url:d6,storageKey:f6,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:h6,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function tx(e,t,r){return await r()}class Ui{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ui.nextInstanceID,Ui.nextInstanceID+=1,this.instanceID>0&&Fr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},eT),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Y6({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=P2(s.fetch),this.lock=s.lock||tx,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Fr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Z6:this.lock=tx,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:hi()?this.storage=J6:(this.memoryStorage={},this.storage=ex(this.memoryStorage)):(this.memoryStorage={},this.storage=ex(this.memoryStorage)),Fr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${j2}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=E6(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Fr()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),v6(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ye(r)?{error:r}:{error:new C2("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const o=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Nn}),{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(ye(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var r,n,s;try{let o;if("email"in t){const{email:d,password:f,options:h}=t;let g=null,b=null;this.flowType==="pkce"&&([g,b]=await no(this.storage,this.storageKey)),o=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:g,code_challenge_method:b},xform:Nn})}else if("phone"in t){const{phone:d,password:f,options:h}=t;o=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Nn})}else throw new zl("You must provide either an email or phone number and a password");const{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(ye(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let r;if("email"in t){const{email:o,password:i,options:l}=t;r=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Zy})}else if("phone"in t){const{phone:o,password:i,options:l}=t;r=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Zy})}else throw new zl("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new af}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(ye(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await Vl(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:o,error:i}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Nn});if(await Gl(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new af}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(ye(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:o,nonce:i}=t,l=await ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Nn}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new af}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(ye(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,o,i;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await no(this.storage,this.storageKey));const{error:f}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new zl("You must provide either an email or phone number.")}catch(l){if(ye(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,o;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,o=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:l}=await ke(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Nn});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(ye(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await no(this.storage,this.storageKey)),await ke(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:G6})}catch(o){if(ye(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new jn;const{error:s}=await ke(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(ye(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:o}=t,{error:i}=await ke(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:n,type:s,options:o}=t,{data:i,error:l}=await ke(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l}}throw new zl("You must provide either an email or phone number and a type")}catch(r){if(ye(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Vl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<of:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Dn}):await this._useSession(async r=>{var n,s,o;const{data:i,error:l}=r;if(l)throw l;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new jn}:await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Dn})})}catch(r){if(ye(r))return x6(r)&&(await this._removeSession(),await Gl(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new jn;const i=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await no(this.storage,this.storageKey));const{data:u,error:d}=await ke(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:Dn});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(ye(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new jn;const r=Date.now()/1e3;let n=r,s=!0,o=null;const{payload:i}=cf(t.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(ye(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:l}=r;if(l)throw l;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new jn;const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ye(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Fr())throw new Bl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Bl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Hy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Bl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Hy("No code detected.");const{data:y,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:l,expires_at:c,token_type:u}=t;if(!o||!l||!i||!u)throw new Bl("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const g=h-d;g*1e3<=yo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const b=h-f;d-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,h,d):d-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,h,d);const{data:x,error:w}=await this._getUser(o);if(w)throw w;const p={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:f,expires_at:h,refresh_token:i,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:t.type},error:null}}catch(n){if(ye(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Vl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{error:o};const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!(y6(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Gl(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=C6(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await no(this.storage,this.storageKey,!0));try{return await ke(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(ye(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var i,l,c,u,d;const{data:f,error:h}=o;if(h)throw h;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ke(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Fr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ye(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)throw i;return await ke(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(ye(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await A6(async s=>(s>0&&await T6(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await ke(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Nn})),(s,o)=>{const i=200*Math.pow(2,s);return o&&lf(o)&&Date.now()+i-n<yo})}catch(n){if(this._debug(r,"error",n),ye(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Fr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Vl(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<of;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${of}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),lf(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new jn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new td;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new jn;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={session:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(s,"error",o),ye(o)){const i={session:null,error:o};return lf(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await T2(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Gl(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Fr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),yo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/yo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${yo}ms, refresh threshold is ${Zh} ticks`),s<=Zh&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof A2)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Fr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,i]=await no(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await ke(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ye(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)return{data:null,error:i};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await ke(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(ye(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{data:null,error:o};const{data:i,error:l}=await ke(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:l})})}catch(r){if(ye(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await ke(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ye(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=n.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:n,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=cf(s.access_token);let l=null;i.aal&&(l=i.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=i.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(i=>i.kid===t);if(n||(n=this.jwks.keys.find(i=>i.kid===t),n&&this.jwks_cached_at+g6>Date.now()))return n;const{data:s,error:o}=await ke(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!s.keys||s.keys.length===0)throw new fi("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(i=>i.kid===t),!n)throw new fi("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:g,error:b}=await this.getSession();if(b||!g.session)return{data:null,error:b};n=g.session.access_token}const{header:s,payload:o,signature:i,raw:{header:l,payload:c}}=cf(n);if(F6(o.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:o,header:s,signature:i},error:null}}const u=$6(s.alg),d=await this.fetchJwk(s.kid,r),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,i,j6(`${l}.${c}`)))throw new fi("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}}}Ui.nextInstanceID=0;const tT=Ui;class rT extends tT{constructor(t){super(t)}}var nT=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class sT{constructor(t,r,n){var s,o,i;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=c6(t);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:t6,realtime:n6,auth:Object.assign(Object.assign({},r6),{storageKey:c}),global:e6},d=u6(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=d.global.headers)!==null&&o!==void 0?o:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=d.auth)!==null&&i!==void 0?i:{},this.headers,d.global.fetch),this.fetch=i6(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new _P(`${l}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new Q5(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new XP(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return nT(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:o,flowType:i,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new rT({url:this.authUrl,headers:Object.assign(Object.assign({},f),u),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:i,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new IP(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Xg=(e,t,r)=>new sT(e,t,r),R2="https://ohserebigziyxlxpkaib.supabase.co",uf="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9oc2VyZWJpZ3ppeXhseHBrYWliIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTI3NDk0MTAsImV4cCI6MjAyODMyNTQxMH0.2mVOdgG-4QPVjVxqKshjFmcAyVELY6KYHtqlR-KLpvw";console.log("[supabaseClient] Initializing Supabase Client...");console.log("[supabaseClient] VITE_SUPABASE_URL:","https://ohserebigziyxlxpkaib.supabase.co");console.log("[supabaseClient] Using URL:",R2,"Source:","env");console.log("[supabaseClient] VITE_SUPABASE_ANON_KEY status:","Loaded from env");console.log("[supabaseClient] Using key source:","env");const L=Xg(R2,uf,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storageKey:"supabase.auth.token",flowType:"implicit",debug:!0},global:{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",apikey:uf},fetch:(...e)=>{try{console.log("[Supabase Fetch] Request type:",typeof e[0]);const t=e[0];if(t instanceof Request){const r=new Headers(t.headers);r.set("apikey",uf);const n=new Request(t.url,{method:t.method,headers:r,body:t.body,mode:t.mode,credentials:t.credentials,cache:t.cache,redirect:t.redirect,referrer:t.referrer,integrity:t.integrity});e[0]=n}}catch(t){console.error("[Supabase Fetch] Error processing request:",t)}return fetch(...e).then(t=>(t.ok||(console.warn(`[Supabase Fetch] Non-OK response: ${t.status} ${t.statusText}`),t.status===401&&(console.warn("[Supabase Fetch] Authentication error, attempting to refresh session"),typeof localStorage<"u"&&localStorage.removeItem("supabase.auth.token"))),t)).catch(t=>{throw console.error("[Supabase Fetch] Network error:",t),t})}},db:{schema:"public"}});L.auth.onAuthStateChange((e,t)=>{var r,n;console.log("[Supabase Auth] State changed:",e),e==="SIGNED_IN"?console.log("[Supabase Auth] User signed in:",(r=t==null?void 0:t.user)==null?void 0:r.id):e==="SIGNED_OUT"?console.log("[Supabase Auth] User signed out"):e==="USER_UPDATED"?console.log("[Supabase Auth] User updated:",(n=t==null?void 0:t.user)==null?void 0:n.id):e==="TOKEN_REFRESHED"&&console.log("[Supabase Auth] Token refreshed successfully")});const oT=L.functions.invoke;L.functions.invoke=async(e,t)=>{console.log(`[Supabase Function] Invoking ${e}`,t);try{const r=await oT.call(L.functions,e,t);return console.log(`[Supabase Function] Response from ${e}:`,r),r}catch(r){throw console.error(`[Supabase Function] Error invoking ${e}:`,r),r}};try{let e=0;const t=5e3;L.auth.onAuthStateChange((n,s)=>{var o;console.log("[Supabase Auth] Event:",n),console.log("[Supabase Auth] Session User:",(o=s==null?void 0:s.user)==null?void 0:o.id),s!=null&&s.user?(localStorage.setItem("has_session","true"),localStorage.setItem("auth_user_id",s.user.id)):n==="SIGNED_OUT"&&(localStorage.removeItem("has_session"),localStorage.removeItem("auth_user_id"),localStorage.removeItem("supabase.auth.token"))}),setTimeout(()=>{const n=Date.now();if(n-e<t){console.log("[Supabase Auth] Skipping session check - checked recently");return}e=n,console.log("[Supabase Auth] Checking initial session..."),L.auth.getSession().then(({data:s,error:o})=>{if(o)console.error("[Supabase Auth] Session error:",o),L.auth.signOut().catch(i=>console.error("Error signing out:",i));else if(s!=null&&s.session){console.log("[Supabase Auth] Session exists:",s.session.user.id);const i=s.session.expires_at,l=Math.floor(Date.now()/1e3);i&&i-l<600&&(console.log("[Supabase Auth] Token expiring soon, refreshing..."),L.auth.refreshSession().then(({data:u,error:d})=>{d?console.error("[Supabase Auth] Token refresh failed:",d):console.log("[Supabase Auth] Token refreshed successfully")})),localStorage.setItem("has_session","true"),localStorage.setItem("auth_user_id",s.session.user.id)}else console.log("[Supabase Auth] No active session found"),localStorage.removeItem("has_session"),localStorage.removeItem("auth_user_id")})},1e3)}catch(e){console.error("[Supabase Auth] Error initializing auth tracking:",e)}const aT="https://ohserebigziyxlxpkaib.supabase.co";console.log("SUPABASE: Initializing client with URL:",aT);L.auth.onAuthStateChange((e,t)=>{var r;console.log("[SUPABASE SERVICE] Auth state changed:",e),console.log("[SUPABASE SERVICE] Session exists:",!!t),console.log("[SUPABASE SERVICE] User ID:",(r=t==null?void 0:t.user)==null?void 0:r.id)});const iT=async(e,t)=>{console.log(`[getProfileWithConnections] Fetching profile for userId: ${e}, currentUserId: ${t}`);try{console.log("[getProfileWithConnections] Attempting to use RPC function...");try{const{data:s,error:o}=await L.rpc("get_user_profile_with_connections",{p_user_id:e,p_current_user_id:t});if(console.log("[getProfileWithConnections] RPC response:",{data:s?"data exists":"no data",error:o}),!o&&s&&s.length>0)return console.log("[getProfileWithConnections] RPC function successful, returning data"),{data:s[0],error:null};o?console.error("[getProfileWithConnections] RPC function error:",o):(!s||s.length===0)&&console.warn("[getProfileWithConnections] RPC function returned no data")}catch(s){console.error("[getProfileWithConnections] RPC function exception:",s)}console.log("[getProfileWithConnections] Falling back to manual profile fetch"),console.log(`[getProfileWithConnections] Fetching profile for userId: ${e}`);const{data:r,error:n}=await L.from("profiles").select("*").eq("id",e).single();if(n)throw console.error("[getProfileWithConnections] Profile fetch error:",n),n;if(!r)return console.warn(`[getProfileWithConnections] No profile found for userId: ${e}`),{data:null,error:new Error("Profile not found")};console.log("[getProfileWithConnections] Profile fetch successful"),console.log(`[getProfileWithConnections] Checking connection status between ${t} and ${e}`);try{const{data:s,error:o}=await L.from("user_connections").select("*").or(`and(user_id.eq.${t},friend_id.eq.${e}),and(user_id.eq.${e},friend_id.eq.${t})`).maybeSingle();o&&console.error("[getProfileWithConnections] Connection fetch error:",o),console.log("[getProfileWithConnections] Connection data:",s);const i=s?s.status:"none",l=s?s.id:null;return console.log("[getProfileWithConnections] Returning combined profile data"),{data:{...r,friend_status:i,friend_connection_id:l},error:null}}catch(s){return console.error("[getProfileWithConnections] Connection fetch exception:",s),{data:{...r,friend_status:"error",friend_connection_id:null},error:null}}}catch(r){return console.error("[getProfileWithConnections] Top-level error:",r),{data:null,error:r}}},rd=m.createContext(void 0),lT=({children:e})=>{const[t,r]=m.useState(null),[n,s]=m.useState(!0),[o,i]=m.useState(!1),[l,c]=m.useState(null),[u,d]=m.useState(!1),f=m.useRef(!1),h=m.useRef(!1),g=m.useRef(!1),b=m.useCallback(async E=>{var I,P;if(!g.current){g.current=!0;try{if(console.log("[AuthProvider] checkProfileCompletion: Starting for user:",E==null?void 0:E.id),!E){console.log("[AuthProvider] checkProfileCompletion: No user provided to check."),i(!1),g.current=!1;return}if(((I=E.user_metadata)==null?void 0:I.profile_completed)===!0||((P=E.user_metadata)==null?void 0:P.skipped_profile_completion)===!0){console.log("[AuthProvider] checkProfileCompletion: Found profile_completed=true or skipped=true in user_metadata"),i(!0),g.current=!1;return}console.log("[AuthProvider] checkProfileCompletion: Neither profile_completed nor skipped is true in user_metadata. Checking database...");let O=0;const A=3;for(;O<A;)try{const{data:$,error:D}=await L.from("profiles").select("is_profile_completed, skipped_profile_completion").eq("id",E.id).maybeSingle();if(D){if(console.error(`[AuthProvider] checkProfileCompletion: DB Error checking profiles table (attempt ${O+1}):`,D),D.code==="PGRST116"){console.log("[AuthProvider] checkProfileCompletion: User record not found in PROFILES table (PGRST116). Assuming incomplete."),i(!1),g.current=!1;return}if(O++,O===A){console.error("[AuthProvider] checkProfileCompletion: Max retries reached checking profiles. Assuming incomplete."),i(!1),g.current=!1;return}await new Promise(z=>setTimeout(z,1e3));continue}($==null?void 0:$.is_profile_completed)===!0||($==null?void 0:$.skipped_profile_completion)===!0?(console.log("[AuthProvider] checkProfileCompletion: Found is_profile_completed=true or skipped=true in PROFILES table"),i(!0)):(console.log("[AuthProvider] checkProfileCompletion: Neither is_profile_completed nor skipped is true in PROFILES table"),i(!1)),g.current=!1;return}catch($){if(console.error(`[AuthProvider] checkProfileCompletion: Unexpected DB Error checking profiles table (attempt ${O+1}):`,$),O++,O===A){console.error("[AuthProvider] checkProfileCompletion: Loop finished without success. Assuming profile incomplete."),i(!1),g.current=!1;return}await new Promise(D=>setTimeout(D,1e3))}console.error("[AuthProvider] checkProfileCompletion: Loop finished without success. Assuming profile incomplete."),i(!1)}catch(O){console.error("[AuthProvider] checkProfileCompletion: Top-level error:",O),i(!1)}finally{console.log("[AuthProvider] checkProfileCompletion: Finished check."),g.current=!1}}},[]),x=async()=>{try{const{data:E}=await L.auth.getSession(),I=!!(E!=null&&E.session);console.log("AuthContext: Starting sign out process. Active session:",I);for(let P=0;P<localStorage.length;P++){const O=localStorage.key(P);O&&(O.includes("supabase")||O.includes("auth")||O.includes("user")||O.includes("session"))&&(console.log("Removing localStorage key:",O),localStorage.removeItem(O))}if(localStorage.removeItem("supabase.auth.token"),localStorage.removeItem("current_user"),localStorage.removeItem("has_session"),localStorage.removeItem("auth_user_id"),localStorage.removeItem("force_redirect_home"),localStorage.removeItem("sb-refresh-token"),localStorage.removeItem("sb-access-token"),document.cookie.split(";").forEach(function(P){document.cookie=P.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/")}),I){console.log("Calling supabase.auth.signOut()");const{error:P}=await L.auth.signOut({scope:"global"});if(P)throw console.error("Supabase signOut error:",P),P}else console.log("No active session, skipping Supabase signOut API call");console.log("User signed out successfully"),r(null),i(!1),console.log("Redirecting to landing page"),window.location.href="/"}catch(E){throw console.error("Error during sign out:",E),c(E instanceof Error?E:new Error(String(E))),setTimeout(()=>{console.log("Error during signOut, forcing redirect anyway"),window.location.replace("/")},500),E}},w=m.useCallback(async(E=!1)=>{try{console.log("Checking session status...");const{data:I,error:P}=await L.auth.getSession();if(P)return console.error("Error getting session:",P),{success:!1,error:new Error(P.message||"Session error")};if(!I.session)return console.log("No active session found"),{success:!1,error:new Error("No active session found")};const O=I.session.expires_at||0,A=Math.floor(Date.now()/1e3),$=O-A;if(console.log(`Session found. Expires in ${$} seconds`),E||$<300){console.log("Session expiring soon or force refresh requested. Refreshing now...");try{const{data:D,error:z}=await L.auth.refreshSession();return z?z.message&&z.message.includes("Auth session missing")?(console.log("Session completely expired or missing, clearing local state and signing out"),r(null),i(!1),s(!1),await x(),{success:!1,error:new Error("Your session has expired. Please log in again.")}):(console.error("Failed to refresh session:",z),{success:!1,error:new Error(z.message||"Failed to refresh session")}):D.session&&D.user?(console.log("Session refreshed successfully"),localStorage.setItem("last_session_refresh",new Date().toISOString()),D.session.expires_at&&localStorage.setItem("session_expires_at",new Date(D.session.expires_at*1e3).toISOString()),r(D.user),await b(D.user),{success:!0,session:D.session}):{success:!1,error:new Error("Failed to refresh session")}}catch(D){return console.error("Exception during session refresh:",D),{success:!1,error:D instanceof Error?D:new Error("Unknown error during session refresh")}}}return{success:!0,session:I.session}}catch(I){return console.error("Error in checkAndRefreshSession:",I),{success:!1,error:I instanceof Error?I:new Error("Unknown error checking session")}}},[b,x]),p=m.useCallback(async()=>{console.log("AuthProvider: Refreshing user data explicitly...");try{const{data:{user:E},error:I}=await L.auth.getUser();if(I){console.error("AuthProvider: Error during explicit user refresh:",I);return}E?(console.log("AuthProvider: User data refreshed successfully.",E.id,E.user_metadata),r(E),await b(E)):(console.log("AuthProvider: No user found during refresh."),r(null),i(!1))}catch(E){console.error("AuthProvider: Unexpected error during explicit user refresh:",E)}},[b]);m.useEffect(()=>{if(f.current||h.current){console.log("[AuthProvider useEffect] initializeAuth: Skipping initialization (already running or completed).");return}f.current=!0,console.log("[AuthProvider useEffect] initializeAuth: Starting..."),(async()=>{try{s(!0),console.log("[AuthProvider useEffect] initializeAuth: Attempting to get session...");const{data:{session:P},error:O}=await L.auth.getSession();O?(console.error("[AuthProvider useEffect] initializeAuth: Error getting session:",O),c(O)):P?(console.log("[AuthProvider useEffect] initializeAuth: Active session found:",P.user.id),r(P.user),await b(P.user)):(console.log("[AuthProvider useEffect] initializeAuth: No active session found."),r(null),i(!1))}catch(P){console.error("[AuthProvider useEffect] initializeAuth: Unexpected error:",P),c(P instanceof Error?P:new Error(String(P))),r(null),i(!1)}finally{console.log("[AuthProvider useEffect] initializeAuth: Setting loading = false (end of initialization attempt)"),s(!1),d(!0),f.current=!1,h.current=!0}})();const{data:{subscription:I}}=L.auth.onAuthStateChange(async(P,O)=>{if(console.log(`[AuthProvider onAuthStateChange] Event: ${P}`),!h.current){console.log("[AuthProvider onAuthStateChange] Skipping event, initialization not complete.");return}const A=(O==null?void 0:O.user)||null;r(A),P==="SIGNED_IN"||P==="TOKEN_REFRESHED"||P==="USER_UPDATED"?(console.log("[AuthProvider onAuthStateChange] User signed in or session refreshed. Checking profile completion..."),A?await b(A):(console.log("[AuthProvider onAuthStateChange] No user in session after SIGNED_IN/TOKEN_REFRESHED/USER_UPDATED event."),i(!1))):P==="SIGNED_OUT"?(console.log("[AuthProvider onAuthStateChange] User signed out. Resetting state."),r(null),i(!1),console.log("[AuthProvider onAuthStateChange] SIGNED_OUT: Setting loading = false."),s(!1)):P==="PASSWORD_RECOVERY"?console.log("[AuthProvider onAuthStateChange] Password recovery event."):P==="INITIAL_SESSION"?console.log("[AuthProvider onAuthStateChange] Initial session event."):console.warn("[AuthProvider onAuthStateChange] Unhandled auth event:",P),O||(console.log("[AuthProvider onAuthStateChange] No session found after event, ensuring loading is false."),P==="SIGNED_OUT"&&s(!1))});return()=>{I&&(console.log("[AuthProvider useEffect] Cleaning up auth listener."),I.unsubscribe())}},[b]);const y=async(E,I,P)=>{try{const{data:O,error:A}=await L.auth.signUp({email:E,password:I,options:{data:{full_name:P,profile_completed:!1}}});if(A)throw A;if(O.user)try{await L.from("users").insert([{id:O.user.id,email:E,full_name:P,profile_completed:!1}])}catch($){console.error("AuthProvider: Error creating user profile:",$)}}catch(O){throw c(O instanceof Error?O:new Error(String(O))),O}},v=async(E,I)=>{try{const{error:P}=await L.auth.signInWithPassword({email:E,password:I});if(P)throw P}catch(P){throw c(P instanceof Error?P:new Error(String(P))),P}},_=async E=>{try{const{error:I}=await L.auth.resetPasswordForEmail(E);if(I)throw I}catch(I){throw c(I instanceof Error?I:new Error(String(I))),I}},k=m.useCallback(async E=>{try{console.log("[AuthProvider] signInWithGoogle: Initiating Google OAuth...");const I=E||"https://connectme-uqip.onrender.com/auth/callback",{data:P,error:O}=await L.auth.signInWithOAuth({provider:"google",options:{redirectTo:I,skipBrowserRedirect:!1,queryParams:{access_type:"offline",prompt:"consent"}}});return O?(console.error("[AuthProvider] signInWithGoogle: Error",O),{data:null,error:new Error(O.message)}):(console.log("[AuthProvider] signInWithGoogle: Redirect URL:",P==null?void 0:P.url),P!=null&&P.url&&(window.location.href=P.url),{data:P,error:null})}catch(I){return console.error("[AuthProvider] signInWithGoogle: Exception",I),c(I instanceof Error?I:new Error(String(I))),{data:null,error:I instanceof Error?I:new Error(String(I))}}},[]),F={user:t,setUser:r,loading:n,error:l,hasCompletedProfile:o,setHasCompletedProfile:i,signUp:y,signIn:v,signOut:x,emergencySignOut:()=>{console.warn("Performing emergency sign out...");try{Object.keys(localStorage).forEach(E=>{(E.startsWith("sb-")||E.includes("supabase")||E.includes("auth"))&&localStorage.removeItem(E)}),Object.keys(sessionStorage).forEach(E=>{(E.startsWith("sb-")||E.includes("supabase")||E.includes("auth"))&&sessionStorage.removeItem(E)}),document.cookie.split(";").forEach(function(E){document.cookie=E.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/")})}catch(E){console.error("Error clearing storage during emergency sign out:",E)}finally{window.location.href="/"}},signInWithGoogle:k,refreshSession:w,resetPassword:_,updatePassword:async(E,I)=>{try{const{error:P}=await L.auth.updateUser({password:I});if(P)throw console.error("Error updating password:",P),P;console.log("Password updated successfully.")}catch(P){throw console.error("Error in updatePassword:",P),c(P instanceof Error?P:new Error(String(P))),P}},redirectToHome:()=>{window.location.replace("/home")},refreshUserData:p};return a.jsx(rd.Provider,{value:F,children:e})},pa=()=>{const e=m.useContext(rd);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},at=()=>{const e=m.useContext(rd);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e};var M2={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},rx=ht.createContext&&ht.createContext(M2),Yn=function(){return Yn=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Yn.apply(this,arguments)},cT=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};function L2(e){return e&&e.map(function(t,r){return ht.createElement(t.tag,Yn({key:r},t.attr),L2(t.child))})}function Q(e){return function(t){return ht.createElement(uT,Yn({attr:Yn({},e.attr)},t),L2(e.child))}}function uT(e){var t=function(r){var n=e.attr,s=e.size,o=e.title,i=cT(e,["attr","size","title"]),l=s||r.size||"1em",c;return r.className&&(c=r.className),e.className&&(c=(c?c+" ":"")+e.className),ht.createElement("svg",Yn({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,i,{className:c,style:Yn(Yn({color:e.color||r.color},r.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&ht.createElement("title",null,o),e.children)};return rx!==void 0?ht.createElement(rx.Consumer,null,function(r){return t(r)}):t(M2)}function bc(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"}}]})(e)}function dT(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"}},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"}}]})(e)}function D2(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"}},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"}}]})(e)}function nu(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"}},{tag:"polyline",attr:{points:"12 19 5 12 12 5"}}]})(e)}function zi(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"}}]})(e)}function fT(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}},{tag:"path",attr:{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"}}]})(e)}function hT(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"}}]})(e)}function Rt(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"}},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"}},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"}}]})(e)}function O2(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"}}]})(e)}function I2(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"}}]})(e)}function mT(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"}}]})(e)}function gT(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"}}]})(e)}function su(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"polyline",attr:{points:"12 6 12 12 16 14"}}]})(e)}function pT(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"ellipse",attr:{cx:"12",cy:"5",rx:"9",ry:"3"}},{tag:"path",attr:{d:"M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"}},{tag:"path",attr:{d:"M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"}}]})(e)}function yT(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"}}]})(e)}function xT(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"}}]})(e)}function vT(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}}]})(e)}function bT(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"}}]})(e)}function wT(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"}},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"}}]})(e)}function _T(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"}},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"}},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"}},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"}}]})(e)}function rm(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"4",y1:"9",x2:"20",y2:"9"}},{tag:"line",attr:{x1:"4",y1:"15",x2:"20",y2:"15"}},{tag:"line",attr:{x1:"10",y1:"3",x2:"8",y2:"21"}},{tag:"line",attr:{x1:"16",y1:"3",x2:"14",y2:"21"}}]})(e)}function Bi(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"}}]})(e)}function kT(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"path",attr:{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"}}]})(e)}function Qg(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}},{tag:"circle",attr:{cx:"8.5",cy:"8.5",r:"1.5"}},{tag:"polyline",attr:{points:"21 15 16 10 5 21"}}]})(e)}function ST(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"}},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"}}]})(e)}function nx(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}},{tag:"path",attr:{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"}}]})(e)}function jT(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"}}]})(e)}function sx(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}},{tag:"polyline",attr:{points:"16 17 21 12 16 7"}},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"}}]})(e)}function As(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"}}]})(e)}function NT(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 3 21 3 21 9"}},{tag:"polyline",attr:{points:"9 21 3 21 3 15"}},{tag:"line",attr:{x1:"21",y1:"3",x2:"14",y2:"10"}},{tag:"line",attr:{x1:"3",y1:"21",x2:"10",y2:"14"}}]})(e)}function CT(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"}},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"}},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"}}]})(e)}function ea(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"}}]})(e)}function nd(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}}]})(e)}function ET(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"4 14 10 14 10 20"}},{tag:"polyline",attr:{points:"20 10 14 10 14 4"}},{tag:"line",attr:{x1:"14",y1:"10",x2:"21",y2:"3"}},{tag:"line",attr:{x1:"3",y1:"21",x2:"10",y2:"14"}}]})(e)}function PT(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"1"}},{tag:"circle",attr:{cx:"19",cy:"12",r:"1"}},{tag:"circle",attr:{cx:"5",cy:"12",r:"1"}}]})(e)}function sd(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"1"}},{tag:"circle",attr:{cx:"12",cy:"5",r:"1"}},{tag:"circle",attr:{cx:"12",cy:"19",r:"1"}}]})(e)}function ln(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"}},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"}}]})(e)}function F2(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"}},{tag:"polyline",attr:{points:"1 20 1 14 7 14"}},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"}}]})(e)}function TT(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"}},{tag:"polyline",attr:{points:"7 3 7 8 15 8"}}]})(e)}function Zg(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"}},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}}]})(e)}function ep(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"2",x2:"11",y2:"13"}},{tag:"polygon",attr:{points:"22 2 15 22 11 13 2 9 22 2"}}]})(e)}function $2(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"}},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}}]})(e)}function U2(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"18",cy:"5",r:"3"}},{tag:"circle",attr:{cx:"6",cy:"12",r:"3"}},{tag:"circle",attr:{cx:"18",cy:"19",r:"3"}},{tag:"line",attr:{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"}},{tag:"line",attr:{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"}}]})(e)}function z2(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"}}]})(e)}function AT(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"path",attr:{d:"M8 14s1.5 2 4 2 4-2 4-2"}},{tag:"line",attr:{x1:"9",y1:"9",x2:"9.01",y2:"9"}},{tag:"line",attr:{x1:"15",y1:"9",x2:"15.01",y2:"9"}}]})(e)}function RT(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"}}]})(e)}function Us(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"}},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"}},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"}}]})(e)}function MT(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"}},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}}]})(e)}function df(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"}},{tag:"polyline",attr:{points:"17 11 19 13 23 9"}}]})(e)}function $n(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"}},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"}},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"}}]})(e)}function B2(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"}},{tag:"line",attr:{x1:"18",y1:"8",x2:"23",y2:"13"}},{tag:"line",attr:{x1:"23",y1:"8",x2:"18",y2:"13"}}]})(e)}function Nr(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"}}]})(e)}function qe(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"}},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"}},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"}}]})(e)}function ox(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}},{tag:"line",attr:{x1:"23",y1:"9",x2:"17",y2:"15"}},{tag:"line",attr:{x1:"17",y1:"9",x2:"23",y2:"15"}}]})(e)}function cn(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"}},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"}}]})(e)}function LT(e){return Q({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z"}}]})(e)}function DT(e){return Q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"}}]})(e)}function OT(e){return Q({attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"}}]})(e)}function IT(e){return Q({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"}}]})(e)}function FT(e){return Q({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"}}]})(e)}function $T(e){return Q({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 32v448h448V32H0zm372.2 106.1l-24 23c-2.1 1.6-3.1 4.2-2.7 6.7v169.3c-.4 2.6.6 5.2 2.7 6.7l23.5 23v5.1h-118V367l24.3-23.6c2.4-2.4 2.4-3.1 2.4-6.7V199.8l-67.6 171.6h-9.1L125 199.8v115c-.7 4.8 1 9.7 4.4 13.2l31.6 38.3v5.1H71.2v-5.1l31.6-38.3c3.4-3.5 4.9-8.4 4.1-13.2v-133c.4-3.7-1-7.3-3.8-9.8L75 138.1V133h87.3l67.4 148L289 133.1h83.2v5z"}}]})(e)}function UT(e){return Q({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M496 256c0 137-111 248-248 248-25.6 0-50.2-3.9-73.4-11.1 10.1-16.5 25.2-43.5 30.8-65 3-11.6 15.4-59 15.4-59 8.1 15.4 31.7 28.5 56.8 28.5 74.8 0 128.7-68.8 128.7-154.3 0-81.9-66.9-143.2-152.9-143.2-107 0-163.9 71.8-163.9 150.1 0 36.4 19.4 81.7 50.3 96.1 4.7 2.2 7.2 1.2 8.3-3.3.8-3.4 5-20.3 6.9-28.1.6-2.5.3-4.7-1.7-7.1-10.1-12.5-18.3-35.3-18.3-56.6 0-54.7 41.4-107.6 112-107.6 60.9 0 103.6 41.5 103.6 100.9 0 67.1-33.9 113.6-78 113.6-24.3 0-42.6-20.1-36.7-44.8 7-29.5 20.5-61.3 20.5-82.6 0-19-10.2-34.9-31.4-34.9-24.9 0-44.9 25.7-44.9 60.2 0 22 7.4 36.8 7.4 36.8s-24.5 103.8-29 123.2c-5 21.4-3 51.6-.9 71.2C65.4 450.9 0 361.1 0 256 0 119 111 8 248 8s248 111 248 248z"}}]})(e)}function zT(e){return Q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M201.5 305.5c-13.8 0-24.9-11.1-24.9-24.6 0-13.8 11.1-24.9 24.9-24.9 13.6 0 24.6 11.1 24.6 24.9 0 13.6-11.1 24.6-24.6 24.6zM504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zm-132.3-41.2c-9.4 0-17.7 3.9-23.8 10-22.4-15.5-52.6-25.5-86.1-26.6l17.4-78.3 55.4 12.5c0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.3 24.9-24.9s-11.1-24.9-24.9-24.9c-9.7 0-18 5.8-22.1 13.8l-61.2-13.6c-3-.8-6.1 1.4-6.9 4.4l-19.1 86.4c-33.2 1.4-63.1 11.3-85.5 26.8-6.1-6.4-14.7-10.2-24.1-10.2-34.9 0-46.3 46.9-14.4 62.8-1.1 5-1.7 10.2-1.7 15.5 0 52.6 59.2 95.2 132 95.2 73.1 0 132.3-42.6 132.3-95.2 0-5.3-.6-10.8-1.9-15.8 31.3-16 19.8-62.5-14.9-62.5zM302.8 331c-18.2 18.2-76.1 17.9-93.6 0-2.2-2.2-6.1-2.2-8.3 0-2.5 2.5-2.5 6.4 0 8.6 22.8 22.8 87.3 22.8 110.2 0 2.5-2.2 2.5-6.1 0-8.6-2.2-2.2-6.1-2.2-8.3 0zm7.7-75c-13.6 0-24.6 11.1-24.6 24.9 0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.1 24.9-24.6 0-13.8-11-24.9-24.9-24.9z"}}]})(e)}function BT(e){return Q({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm169.5 338.9c-3.5 8.1-18.1 14-44.8 18.2-1.4 1.9-2.5 9.8-4.3 15.9-1.1 3.7-3.7 5.9-8.1 5.9h-.2c-6.2 0-12.8-2.9-25.8-2.9-17.6 0-23.7 4-37.4 13.7-14.5 10.3-28.4 19.1-49.2 18.2-21 1.6-38.6-11.2-48.5-18.2-13.8-9.7-19.8-13.7-37.4-13.7-12.5 0-20.4 3.1-25.8 3.1-5.4 0-7.5-3.3-8.3-6-1.8-6.1-2.9-14.1-4.3-16-13.8-2.1-44.8-7.5-45.5-21.4-.2-3.6 2.3-6.8 5.9-7.4 46.3-7.6 67.1-55.1 68-57.1 0-.1.1-.2.2-.3 2.5-5 3-9.2 1.6-12.5-3.4-7.9-17.9-10.7-24-13.2-15.8-6.2-18-13.4-17-18.3 1.6-8.5 14.4-13.8 21.9-10.3 5.9 2.8 11.2 4.2 15.7 4.2 3.3 0 5.5-.8 6.6-1.4-1.4-23.9-4.7-58 3.8-77.1C183.1 100 230.7 96 244.7 96c.6 0 6.1-.1 6.7-.1 34.7 0 68 17.8 84.3 54.3 8.5 19.1 5.2 53.1 3.8 77.1 1.1.6 2.9 1.3 5.7 1.4 4.3-.2 9.2-1.6 14.7-4.2 4-1.9 9.6-1.6 13.6 0 6.3 2.3 10.3 6.8 10.4 11.9.1 6.5-5.7 12.1-17.2 16.6-1.4.6-3.1 1.1-4.9 1.7-6.5 2.1-16.4 5.2-19 11.5-1.4 3.3-.8 7.5 1.6 12.5.1.1.1.2.2.3.9 2 21.7 49.5 68 57.1 4 1 7.1 5.5 4.9 10.8z"}}]})(e)}function VT(e){return Q({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111.1 8 0 119.1 0 256s111.1 248 248 248 248-111.1 248-248S384.9 8 248 8zm100.7 364.9c-4.2 0-6.8-1.3-10.7-3.6-62.4-37.6-135-39.2-206.7-24.5-3.9 1-9 2.6-11.9 2.6-9.7 0-15.8-7.7-15.8-15.8 0-10.3 6.1-15.2 13.6-16.8 81.9-18.1 165.6-16.5 237 26.2 6.1 3.9 9.7 7.4 9.7 16.5s-7.1 15.4-15.2 15.4zm26.9-65.6c-5.2 0-8.7-2.3-12.3-4.2-62.5-37-155.7-51.9-238.6-29.4-4.8 1.3-7.4 2.6-11.9 2.6-10.7 0-19.4-8.7-19.4-19.4s5.2-17.8 15.5-20.7c27.8-7.8 56.2-13.6 97.8-13.6 64.9 0 127.6 16.1 177 45.5 8.1 4.8 11.3 11 11.3 19.7-.1 10.8-8.5 19.5-19.4 19.5zm31-76.2c-5.2 0-8.4-1.3-12.9-3.9-71.2-42.5-198.5-52.7-280.9-29.7-3.6 1-8.1 2.6-12.9 2.6-13.2 0-23.3-10.3-23.3-23.6 0-13.6 8.4-21.3 17.4-23.9 35.2-10.3 74.6-15.2 117.5-15.2 73 0 149.5 15.2 205.4 47.8 7.8 4.5 12.9 10.7 12.9 22.6 0 13.6-11 23.3-23.2 23.3z"}}]})(e)}function V2(e){return Q({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm121.8 169.9l-40.7 191.8c-3 13.6-11.1 16.9-22.4 10.5l-62-45.7-29.9 28.8c-3.3 3.3-6.1 6.1-12.5 6.1l4.4-63.1 114.9-103.8c5-4.4-1.1-6.9-7.7-2.5l-142 89.4-61.2-19.1c-13.3-4.2-13.6-13.3 2.8-19.7l239.1-92.2c11.1-4 20.8 2.7 17.2 19.5z"}}]})(e)}function GT(e){return Q({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448,209.91a210.06,210.06,0,0,1-122.77-39.25V349.38A162.55,162.55,0,1,1,185,188.31V278.2a74.62,74.62,0,1,0,52.23,71.18V0l88,0a121.18,121.18,0,0,0,1.86,22.17h0A122.18,122.18,0,0,0,381,102.39a121.43,121.43,0,0,0,67,20.14Z"}}]})(e)}function qT(e){return Q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M391.17,103.47H352.54v109.7h38.63ZM285,103H246.37V212.75H285ZM120.83,0,24.31,91.42V420.58H140.14V512l96.53-91.42h77.25L487.69,256V0ZM449.07,237.75l-77.22,73.12H294.61l-67.6,64v-64H140.14V36.58H449.07Z"}}]})(e)}function WT(e){return Q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"}}]})(e)}function HT(e){return Q({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"}}]})(e)}function KT(e){return Q({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"}}]})(e)}function YT(e){return Q({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"}}]})(e)}function G2(e){return Q({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"}}]})(e)}function ou(e){return Q({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M0 512V48C0 21.49 21.49 0 48 0h288c26.51 0 48 21.49 48 48v464L192 400 0 512z"}}]})(e)}function ta(e){return Q({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"}}]})(e)}function JT(e){return Q({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"}}]})(e)}function q2(e){return Q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"}}]})(e)}function XT(e){return Q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32zM128 272c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"}}]})(e)}function Vi(e){return Q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32z"}}]})(e)}function W2(e){return Q({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"}}]})(e)}function QT(e){return Q({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M225.38 233.37c-12.5 12.5-12.5 32.76 0 45.25 12.49 12.5 32.76 12.5 45.25 0 12.5-12.5 12.5-32.76 0-45.25-12.5-12.49-32.76-12.49-45.25 0zM248 8C111.03 8 0 119.03 0 256s111.03 248 248 248 248-111.03 248-248S384.97 8 248 8zm126.14 148.05L308.17 300.4a31.938 31.938 0 0 1-15.77 15.77l-144.34 65.97c-16.65 7.61-33.81-9.55-26.2-26.2l65.98-144.35a31.938 31.938 0 0 1 15.77-15.77l144.34-65.97c16.65-7.6 33.8 9.55 26.19 26.2z"}}]})(e)}function tp(e){return Q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"}}]})(e)}function ff(e){return Q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"}}]})(e)}function nm(e){return Q({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"}}]})(e)}function sm(e){return Q({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"}}]})(e)}function ZT(e){return Q({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"}}]})(e)}function ax(e){return Q({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z"}}]})(e)}function e8(e){return Q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M192 208c0-17.67-14.33-32-32-32h-16c-35.35 0-64 28.65-64 64v48c0 35.35 28.65 64 64 64h16c17.67 0 32-14.33 32-32V208zm176 144c35.35 0 64-28.65 64-64v-48c0-35.35-28.65-64-64-64h-16c-17.67 0-32 14.33-32 32v112c0 17.67 14.33 32 32 32h16zM256 0C113.18 0 4.58 118.83 0 256v16c0 8.84 7.16 16 16 16h16c8.84 0 16-7.16 16-16v-16c0-114.69 93.31-208 208-208s208 93.31 208 208h-.12c.08 2.43.12 165.72.12 165.72 0 23.35-18.93 42.28-42.28 42.28H320c0-26.51-21.49-48-48-48h-32c-26.51 0-48 21.49-48 48s21.49 48 48 48h181.72c49.86 0 90.28-40.42 90.28-90.28V256C507.42 118.83 398.82 0 256 0z"}}]})(e)}function H2(e){return Q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"}}]})(e)}function K2(e){return Q({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"}}]})(e)}function om(e){return Q({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"}}]})(e)}function t8(e){return Q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"}}]})(e)}function Y2(e){return Q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"}}]})(e)}function r8(e){return Q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"}}]})(e)}function n8(e){return Q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"}}]})(e)}function s8(e){return Q({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"}}]})(e)}function o8(e){return Q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"}}]})(e)}function J2(e){return Q({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z"}}]})(e)}function au(e){return Q({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(e)}function rp(e){return Q({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(e)}function ra(e){return Q({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"}}]})(e)}function a8(e){return Q({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M336.2 64H47.8C21.4 64 0 85.4 0 111.8v288.4C0 426.6 21.4 448 47.8 448h288.4c26.4 0 47.8-21.4 47.8-47.8V111.8c0-26.4-21.4-47.8-47.8-47.8zm189.4 37.7L416 177.3v157.4l109.6 75.5c21.2 14.6 50.4-.3 50.4-25.8V127.5c0-25.4-29.1-40.4-50.4-25.8z"}}]})(e)}const i8=()=>{const{user:e}=at(),[t,r]=m.useState([]),[n,s]=m.useState(0),[o,i]=m.useState(!1),l=m.useRef(null),[c,u]=m.useState(!0);m.useEffect(()=>{const x=w=>{l.current&&!l.current.contains(w.target)&&i(!1)};return document.addEventListener("mousedown",x),()=>{document.removeEventListener("mousedown",x)}},[]),m.useEffect(()=>{if(!e)return;(async()=>{try{u(!0);const{data:p,error:y}=await L.from("notifications").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(10);if(y)throw console.error("Error fetching notifications:",y),y;console.log("Raw notifications:",p);const v=[];if(!p||p.length===0){v.push({id:"mock1",user_id:e.id,type:"friend_request",content:"Alex Johnson sent you a friend request",read:!1,created_at:new Date(Date.now()-36e5).toISOString(),related_id:"mock-user-1",related_url:"/profile/mock-user-1",sender:{id:"mock-user-1",full_name:"Alex Johnson",avatar_url:"https://randomuser.me/api/portraits/men/32.jpg"}},{id:"mock2",user_id:e.id,type:"like",content:"Maria Garcia liked your post",read:!1,created_at:new Date(Date.now()-72e5).toISOString(),related_id:"mock-post-1",related_url:"/post/mock-post-1",sender:{id:"mock-user-2",full_name:"Maria Garcia",avatar_url:"https://randomuser.me/api/portraits/women/44.jpg"}},{id:"mock3",user_id:e.id,type:"comment",content:"James Smith commented on your post",read:!0,created_at:new Date(Date.now()-864e5).toISOString(),related_id:"mock-post-2",related_url:"/post/mock-post-2",sender:{id:"mock-user-3",full_name:"James Smith",avatar_url:"https://randomuser.me/api/portraits/men/45.jpg"}},{id:"mock4",user_id:e.id,type:"group",content:"You were added to Photography Enthusiasts group",read:!0,created_at:new Date(Date.now()-1728e5).toISOString(),related_id:"mock-group-1",related_url:"/groups/mock-group-1",sender:{id:"mock-user-4",full_name:"Photography Enthusiasts",avatar_url:null}},{id:"mock5",user_id:e.id,type:"event",content:"New event: Tech Conference 2023",read:!1,created_at:new Date(Date.now()-2592e5).toISOString(),related_id:"mock-event-1",related_url:"/events/mock-event-1",sender:{id:"mock-user-5",full_name:"Tech Events",avatar_url:null}}),r(v),s(v.filter(k=>!k.read).length),u(!1);return}const _=await Promise.all((p||[]).map(async k=>{if(k.related_id)try{const{data:j,error:C}=await L.from("profiles").select("id, full_name, avatar_url").eq("id",k.related_id).single();if(!C&&j)return{...k,sender:j}}catch(j){console.error("Error fetching profile for notification:",j)}return k}));console.log("Notifications with profiles:",_),r(_),s(_.filter(k=>!k.read).length||0)}catch(p){console.error("Error fetching notifications:",p),d()}finally{u(!1)}})();const w=L.channel("notifications_changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${e.id}`},async p=>{console.log("New notification received:",p);const y=p.new;if(y.related_id){const{data:v}=await L.from("profiles").select("id, full_name, avatar_url").eq("id",y.related_id).single();v&&(y.sender=v)}console.log("Processed new notification:",y),r(v=>[y,...v].slice(0,10)),s(v=>v+1);try{new Audio("/notification.mp3").play()}catch(v){console.error("Error playing notification sound:",v)}}).subscribe();return()=>{L.removeChannel(w)}},[e]);const d=()=>{if(!e)return;const x=[{id:"mock1",user_id:e.id,type:"friend_request",content:"Alex Johnson sent you a friend request",read:!1,created_at:new Date(Date.now()-36e5).toISOString(),related_id:"mock-user-1",related_url:"/profile/mock-user-1",sender:{id:"mock-user-1",full_name:"Alex Johnson",avatar_url:"https://randomuser.me/api/portraits/men/32.jpg"}},{id:"mock2",user_id:e.id,type:"like",content:"Maria Garcia liked your post",read:!1,created_at:new Date(Date.now()-72e5).toISOString(),related_id:"mock-post-1",related_url:"/post/mock-post-1",sender:{id:"mock-user-2",full_name:"Maria Garcia",avatar_url:"https://randomuser.me/api/portraits/women/44.jpg"}},{id:"mock3",user_id:e.id,type:"comment",content:"James Smith commented on your post",read:!0,created_at:new Date(Date.now()-864e5).toISOString(),related_id:"mock-post-2",related_url:"/post/mock-post-2",sender:{id:"mock-user-3",full_name:"James Smith",avatar_url:"https://randomuser.me/api/portraits/men/45.jpg"}}];r(x),s(x.filter(w=>!w.read).length)},f=async()=>{if(!(!e||t.length===0))try{const{error:x}=await L.from("notifications").update({read:!0}).eq("user_id",e.id).eq("read",!1);if(x)throw x;r(w=>w.map(p=>({...p,read:!0}))),s(0)}catch(x){console.error("Error marking notifications as read:",x)}},h=async x=>{try{if(!x.startsWith("mock")){const{error:w}=await L.from("notifications").update({read:!0}).eq("id",x);if(w)throw w}r(w=>w.map(p=>p.id===x?{...p,read:!0}:p)),s(w=>Math.max(0,w-1))}catch(w){console.error("Error marking notification as read:",w)}},g=x=>{switch(x){case"friend_request":return a.jsx(au,{className:"w-4 h-4 text-indigo-500"});case"friend_accepted":return a.jsx(au,{className:"w-4 h-4 text-green-500"});case"like":return a.jsx(H2,{className:"w-4 h-4 text-rose-500"});case"comment":return a.jsx(Vi,{className:"w-4 h-4 text-green-500"});case"group":return a.jsx(ra,{className:"w-4 h-4 text-purple-500"});case"event":return a.jsx(ta,{className:"w-4 h-4 text-yellow-500"});default:return a.jsx(Vi,{className:"w-4 h-4 text-blue-500"})}},b=x=>{const w=new Date,p=new Date(x),y=Math.floor((w.getTime()-p.getTime())/1e3);if(y<60)return"just now";const v=Math.floor(y/60);if(v<60)return`${v}m ago`;const _=Math.floor(v/60);if(_<24)return`${_}h ago`;const k=Math.floor(_/24);return k<7?`${k}d ago`:p.toLocaleDateString()};return e?a.jsxs("div",{className:"relative",ref:l,children:[a.jsxs("button",{onClick:()=>i(!o),className:"relative p-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full","aria-label":"Notifications",children:[a.jsx(zi,{className:"w-6 h-6"}),n>0&&a.jsx("span",{className:"absolute top-0 right-0 bg-rose-500 text-white text-xs w-5 h-5 flex items-center justify-center rounded-full",children:n>9?"9+":n})]}),o&&a.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white dark:bg-gray-800 rounded-md shadow-lg z-50 overflow-hidden border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b dark:border-gray-700",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Notifications"}),n>0&&a.jsx("button",{onClick:f,className:"text-sm text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-300",children:"Mark all as read"})]}),a.jsx("div",{className:"max-h-96 overflow-y-auto",children:c?a.jsx("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400",children:"Loading notifications..."}):t.length===0?a.jsxs("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400",children:[a.jsx("div",{className:"flex justify-center mb-3",children:a.jsx(zi,{className:"w-12 h-12 text-gray-300 dark:text-gray-600"})}),a.jsx("p",{children:"No notifications yet"})]}):t.map(x=>{var p,y,v;const w=x.related_url||"#";return a.jsxs("div",{className:`p-4 border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-750 transition-colors relative ${x.read?"":"bg-indigo-50 dark:bg-indigo-900/10"}`,children:[a.jsxs(be,{to:w,className:"flex items-start space-x-3",onClick:()=>{x.read||h(x.id)},children:[a.jsx("div",{className:"mt-1.5 flex-shrink-0",children:(p=x.sender)!=null&&p.avatar_url?a.jsx("img",{src:x.sender.avatar_url,alt:x.sender.full_name||"",className:"w-9 h-9 rounded-full object-cover",onError:_=>{var k,j;_.target.src="https://via.placeholder.com/40?text="+(((j=(k=x.sender)==null?void 0:k.full_name)==null?void 0:j.charAt(0))||"?")}}):a.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-r from-indigo-500 to-purple-500 flex items-center justify-center text-white",children:((v=(y=x.sender)==null?void 0:y.full_name)==null?void 0:v.charAt(0))||"?"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 leading-tight",children:x.content}),a.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 flex items-center space-x-1",children:[a.jsx("span",{className:"inline-block mr-1",children:g(x.type)}),a.jsx("span",{children:b(x.created_at)})]})]})]}),!x.read&&a.jsx("span",{className:"absolute right-3 top-3 flex-shrink-0 rounded-full w-2 h-2 bg-indigo-500"})]},x.id)})}),a.jsx("div",{className:"p-2 border-t dark:border-gray-700 bg-gray-50 dark:bg-gray-800/40",children:a.jsx(be,{to:"/notifications",className:"w-full py-2 text-sm text-center text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md block transition-colors",onClick:()=>i(!1),children:"View all notifications"})})]})]}):null},l8=()=>{const[e,t]=m.useState(!1),r=rr(),{t:n}=Mr();m.useEffect(()=>{t(!1)},[r.pathname]),m.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[e]);const s=c=>r.pathname===c,o=[{path:"/",label:n("sidebar.home"),icon:a.jsx(K2,{size:20})},{path:"/profile",label:n("sidebar.profile"),icon:a.jsx(rp,{size:20})},{path:"/groups",label:n("sidebar.groups"),icon:a.jsx(ra,{size:20})},{path:"/events",label:n("sidebar.events"),icon:a.jsx(ta,{size:20})}],i=[{path:"/friends",label:n("sidebar.friends"),icon:a.jsx(J2,{size:20})},{path:"/chat",label:n("sidebar.chat"),icon:a.jsx(Vi,{size:20})},{path:"/messages",label:n("sidebar.messages"),icon:a.jsx(W2,{size:20})},{path:"/notifications",label:n("notifications.title"),icon:a.jsx(G2,{size:20})},{path:"/saved",label:n("sidebar.saved"),icon:a.jsx(ou,{size:20})},{path:"/settings",label:n("sidebar.settings"),icon:a.jsx(q2,{size:20})}],l=()=>{t(!1),window.scrollTo(0,0)};return a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>t(!e),className:"p-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors","aria-label":"Toggle mobile menu",children:e?a.jsx(cn,{size:24}):a.jsx(CT,{size:24})}),e&&a.jsx("div",{className:"fixed inset-0 z-50 bg-black/60 backdrop-blur-sm",onClick:()=>t(!1),children:a.jsxs("div",{className:"absolute left-0 top-0 h-full w-3/4 max-w-[280px] bg-white dark:bg-gray-800 shadow-xl p-4 overflow-y-auto",onClick:c=>c.stopPropagation(),children:[a.jsxs("div",{className:"flex justify-between items-center mb-6 pb-4 border-b border-gray-200 dark:border-gray-700",children:[a.jsx("h2",{className:"text-xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-violet-500 dark:from-indigo-400 dark:to-purple-300",children:"ConnectMe"}),a.jsx("button",{onClick:()=>t(!1),className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:a.jsx(cn,{size:20,className:"text-gray-600 dark:text-gray-300"})})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"px-3 text-xs uppercase text-gray-500 dark:text-gray-400 font-semibold mb-2",children:n("sidebar.main")}),a.jsx("div",{className:"space-y-1",children:o.map(c=>a.jsxs(be,{to:c.path,className:`flex items-center px-3 py-2 rounded-md transition-colors ${s(c.path)?"bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 font-medium":"text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700"}`,onClick:l,children:[a.jsx("span",{className:"mr-3",children:c.icon}),a.jsx("span",{children:c.label})]},c.path))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"px-3 text-xs uppercase text-gray-500 dark:text-gray-400 font-semibold mb-2",children:n("sidebar.resources")}),a.jsx("div",{className:"space-y-1",children:i.map(c=>a.jsxs(be,{to:c.path,className:`flex items-center px-3 py-2 rounded-md transition-colors ${s(c.path)?"bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 font-medium":"text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700"}`,onClick:l,children:[a.jsx("span",{className:"mr-3",children:c.icon}),a.jsx("span",{children:c.label})]},c.path))})]})]})})]})},od=()=>{const e=m.useContext(rd);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},c8=()=>{const{user:e}=od(),[t,r]=m.useState([]),[n,s]=m.useState(!0),o=m.useRef(null),i=m.useRef(0),l=m.useCallback(async(d=!1)=>{const f=Date.now();if(!(!d&&f-i.current<3e4)&&e!=null&&e.id){i.current=f;try{s(!0);const{data:h,error:g}=await L.from("notifications").select("*").eq("user_id",e.id).eq("read",!1).order("created_at",{ascending:!1}).limit(20);if(g)throw g;const b=await Promise.all((h||[]).map(async x=>{if(x.related_id)try{const{data:w,error:p}=await L.from("profiles").select("id, full_name, avatar_url").eq("id",x.related_id).single();if(!p&&w)return{...x,sender:w}}catch(w){console.error("Error fetching profile for notification:",w)}return x}));r(b)}catch(h){console.error("Error fetching notifications:",h)}finally{s(!1)}}},[e==null?void 0:e.id]),c=m.useCallback(async d=>{if(e!=null&&e.id)try{const{error:f}=await L.from("notifications").update({read:!0}).eq("id",d);if(f)throw f;r(h=>h.filter(g=>g.id!==d)),setTimeout(()=>{l(!0)},100)}catch(f){console.error("Error marking notification as read:",f)}},[l,e==null?void 0:e.id]),u=m.useCallback(async()=>{if(e!=null&&e.id)try{const{error:d}=await L.from("notifications").update({read:!0}).eq("user_id",e.id).eq("read",!1);if(d)throw d;r([]),setTimeout(()=>{l(!0)},100)}catch(d){console.error("Error marking all notifications as read:",d)}},[e==null?void 0:e.id,l]);return m.useEffect(()=>{if(!e)return;l(!0);const d=L.channel("notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${e.id}`},f=>{const h=f.new;r(g=>[h,...g])}).subscribe();return o.current=d,()=>{o.current&&o.current.unsubscribe()}},[e,l]),{notifications:t,loading:n,markAsRead:c,markAllAsRead:u,fetchNotifications:()=>l(!0)}},np=m.createContext({});function sp(e){const t=m.useRef(null);return t.current===null&&(t.current=e()),t.current}const op=typeof window<"u",X2=op?m.useLayoutEffect:m.useEffect,ad=m.createContext(null),ap=m.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class u8 extends m.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,s=n instanceof HTMLElement&&n.offsetWidth||0,o=this.props.sizeRef.current;o.height=r.offsetHeight||0,o.width=r.offsetWidth||0,o.top=r.offsetTop,o.left=r.offsetLeft,o.right=s-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function d8({children:e,isPresent:t,anchorX:r}){const n=m.useId(),s=m.useRef(null),o=m.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:i}=m.useContext(ap);return m.useInsertionEffect(()=>{const{width:l,height:c,top:u,left:d,right:f}=o.current;if(t||!s.current||!l||!c)return;const h=r==="left"?`left: ${d}`:`right: ${f}`;s.current.dataset.motionPopId=n;const g=document.createElement("style");return i&&(g.nonce=i),document.head.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            ${h}px !important;
            top: ${u}px !important;
          }
        `),()=>{document.head.removeChild(g)}},[t]),a.jsx(u8,{isPresent:t,childRef:s,sizeRef:o,children:m.cloneElement(e,{ref:s})})}const f8=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:o,mode:i,anchorX:l})=>{const c=sp(h8),u=m.useId();let d=!0,f=m.useMemo(()=>(d=!1,{id:u,initial:t,isPresent:r,custom:s,onExitComplete:h=>{c.set(h,!0);for(const g of c.values())if(!g)return;n&&n()},register:h=>(c.set(h,!1),()=>c.delete(h))}),[r,c,n]);return o&&d&&(f={...f}),m.useMemo(()=>{c.forEach((h,g)=>c.set(g,!1))},[r]),m.useEffect(()=>{!r&&!c.size&&n&&n()},[r]),i==="popLayout"&&(e=a.jsx(d8,{isPresent:r,anchorX:l,children:e})),a.jsx(ad.Provider,{value:f,children:e})};function h8(){return new Map}function Q2(e=!0){const t=m.useContext(ad);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=t,o=m.useId();m.useEffect(()=>{if(e)return s(o)},[e]);const i=m.useCallback(()=>e&&n&&n(o),[o,n,e]);return!r&&n?[!1,i]:[!0]}const ql=e=>e.key||"";function ix(e){const t=[];return m.Children.forEach(e,r=>{m.isValidElement(r)&&t.push(r)}),t}const ip=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:s=!0,mode:o="sync",propagate:i=!1,anchorX:l="left"})=>{const[c,u]=Q2(i),d=m.useMemo(()=>ix(e),[e]),f=i&&!c?[]:d.map(ql),h=m.useRef(!0),g=m.useRef(d),b=sp(()=>new Map),[x,w]=m.useState(d),[p,y]=m.useState(d);X2(()=>{h.current=!1,g.current=d;for(let k=0;k<p.length;k++){const j=ql(p[k]);f.includes(j)?b.delete(j):b.get(j)!==!0&&b.set(j,!1)}},[p,f.length,f.join("-")]);const v=[];if(d!==x){let k=[...d];for(let j=0;j<p.length;j++){const C=p[j],N=ql(C);f.includes(N)||(k.splice(j,0,C),v.push(C))}return o==="wait"&&v.length&&(k=v),y(ix(k)),w(d),null}const{forceRender:_}=m.useContext(np);return a.jsx(a.Fragment,{children:p.map(k=>{const j=ql(k),C=i&&!c?!1:d===p||f.includes(j),N=()=>{if(b.has(j))b.set(j,!0);else return;let F=!0;b.forEach(E=>{E||(F=!1)}),F&&(_==null||_(),y(g.current),i&&(u==null||u()),n&&n())};return a.jsx(f8,{isPresent:C,initial:!h.current||r?void 0:!1,custom:t,presenceAffectsLayout:s,mode:o,onExitComplete:C?void 0:N,anchorX:l,children:k},j)})})};function lp(e,t){e.indexOf(t)===-1&&e.push(t)}function cp(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const gn=(e,t,r)=>r>t?t:r<e?e:r;let up=()=>{};const pn={},Z2=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),e_=e=>/^0[^.\s]+$/u.test(e);function dp(e){let t;return()=>(t===void 0&&(t=e()),t)}const dr=e=>e,m8=(e,t)=>r=>t(e(r)),dl=(...e)=>e.reduce(m8),Gi=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class fp{constructor(){this.subscriptions=[]}add(t){return lp(this.subscriptions,t),()=>cp(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let o=0;o<s;o++){const i=this.subscriptions[o];i&&i(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Wr=e=>e*1e3,Hr=e=>e/1e3;function t_(e,t){return t?e*(1e3/t):0}const r_=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,g8=1e-7,p8=12;function y8(e,t,r,n,s){let o,i,l=0;do i=t+(r-t)/2,o=r_(i,n,s)-e,o>0?r=i:t=i;while(Math.abs(o)>g8&&++l<p8);return i}function fl(e,t,r,n){if(e===t&&r===n)return dr;const s=o=>y8(o,0,1,e,r);return o=>o===0||o===1?o:r_(s(o),t,n)}const n_=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,s_=e=>t=>1-e(1-t),o_=fl(.33,1.53,.69,.99),hp=s_(o_),a_=n_(hp),i_=e=>(e*=2)<1?.5*hp(e):.5*(2-Math.pow(2,-10*(e-1))),mp=e=>1-Math.sin(Math.acos(e)),l_=s_(mp),c_=n_(mp),x8=fl(.42,0,1,1),v8=fl(0,0,.58,1),u_=fl(.42,0,.58,1),b8=e=>Array.isArray(e)&&typeof e[0]!="number",d_=e=>Array.isArray(e)&&typeof e[0]=="number",w8={linear:dr,easeIn:x8,easeInOut:u_,easeOut:v8,circIn:mp,circInOut:c_,circOut:l_,backIn:hp,backInOut:a_,backOut:o_,anticipate:i_},_8=e=>typeof e=="string",lx=e=>{if(d_(e)){up(e.length===4);const[t,r,n,s]=e;return fl(t,r,n,s)}else if(_8(e))return w8[e];return e},Wl=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],cx={value:null};function k8(e,t){let r=new Set,n=new Set,s=!1,o=!1;const i=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function u(f){i.has(f)&&(d.schedule(f),e()),c++,f(l)}const d={schedule:(f,h=!1,g=!1)=>{const x=g&&s?r:n;return h&&i.add(f),x.has(f)||x.add(f),f},cancel:f=>{n.delete(f),i.delete(f)},process:f=>{if(l=f,s){o=!0;return}s=!0,[r,n]=[n,r],r.forEach(u),t&&cx.value&&cx.value.frameloop[t].push(c),c=0,r.clear(),s=!1,o&&(o=!1,d.process(f))}};return d}const S8=40;function f_(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>r=!0,i=Wl.reduce((v,_)=>(v[_]=k8(o,t?_:void 0),v),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:f,preRender:h,render:g,postRender:b}=i,x=()=>{const v=pn.useManualTiming?s.timestamp:performance.now();r=!1,pn.useManualTiming||(s.delta=n?1e3/60:Math.max(Math.min(v-s.timestamp,S8),1)),s.timestamp=v,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),d.process(s),f.process(s),h.process(s),g.process(s),b.process(s),s.isProcessing=!1,r&&t&&(n=!1,e(x))},w=()=>{r=!0,n=!0,s.isProcessing||e(x)};return{schedule:Wl.reduce((v,_)=>{const k=i[_];return v[_]=(j,C=!1,N=!1)=>(r||w(),k.schedule(j,C,N)),v},{}),cancel:v=>{for(let _=0;_<Wl.length;_++)i[Wl[_]].cancel(v)},state:s,steps:i}}const{schedule:Ye,cancel:Qn,state:yt,steps:hf}=f_(typeof requestAnimationFrame<"u"?requestAnimationFrame:dr,!0);let wc;function j8(){wc=void 0}const Bt={now:()=>(wc===void 0&&Bt.set(yt.isProcessing||pn.useManualTiming?yt.timestamp:performance.now()),wc),set:e=>{wc=e,queueMicrotask(j8)}},h_=e=>t=>typeof t=="string"&&t.startsWith(e),gp=h_("--"),N8=h_("var(--"),pp=e=>N8(e)?C8.test(e.split("/*")[0].trim()):!1,C8=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ya={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},qi={...ya,transform:e=>gn(0,1,e)},Hl={...ya,default:1},mi=e=>Math.round(e*1e5)/1e5,yp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function E8(e){return e==null}const P8=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,xp=(e,t)=>r=>!!(typeof r=="string"&&P8.test(r)&&r.startsWith(e)||t&&!E8(r)&&Object.prototype.hasOwnProperty.call(r,t)),m_=(e,t,r)=>n=>{if(typeof n!="string")return n;const[s,o,i,l]=n.match(yp);return{[e]:parseFloat(s),[t]:parseFloat(o),[r]:parseFloat(i),alpha:l!==void 0?parseFloat(l):1}},T8=e=>gn(0,255,e),mf={...ya,transform:e=>Math.round(T8(e))},Cs={test:xp("rgb","red"),parse:m_("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+mf.transform(e)+", "+mf.transform(t)+", "+mf.transform(r)+", "+mi(qi.transform(n))+")"};function A8(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const am={test:xp("#"),parse:A8,transform:Cs.transform},hl=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Cn=hl("deg"),Kr=hl("%"),me=hl("px"),R8=hl("vh"),M8=hl("vw"),ux={...Kr,parse:e=>Kr.parse(e)/100,transform:e=>Kr.transform(e*100)},To={test:xp("hsl","hue"),parse:m_("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Kr.transform(mi(t))+", "+Kr.transform(mi(r))+", "+mi(qi.transform(n))+")"},kt={test:e=>Cs.test(e)||am.test(e)||To.test(e),parse:e=>Cs.test(e)?Cs.parse(e):To.test(e)?To.parse(e):am.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Cs.transform(e):To.transform(e)},L8=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function D8(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(yp))==null?void 0:t.length)||0)+(((r=e.match(L8))==null?void 0:r.length)||0)>0}const g_="number",p_="color",O8="var",I8="var(",dx="${}",F8=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Wi(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},s=[];let o=0;const l=t.replace(F8,c=>(kt.test(c)?(n.color.push(o),s.push(p_),r.push(kt.parse(c))):c.startsWith(I8)?(n.var.push(o),s.push(O8),r.push(c)):(n.number.push(o),s.push(g_),r.push(parseFloat(c))),++o,dx)).split(dx);return{values:r,split:l,indexes:n,types:s}}function y_(e){return Wi(e).values}function x_(e){const{split:t,types:r}=Wi(e),n=t.length;return s=>{let o="";for(let i=0;i<n;i++)if(o+=t[i],s[i]!==void 0){const l=r[i];l===g_?o+=mi(s[i]):l===p_?o+=kt.transform(s[i]):o+=s[i]}return o}}const $8=e=>typeof e=="number"?0:e;function U8(e){const t=y_(e);return x_(e)(t.map($8))}const Zn={test:D8,parse:y_,createTransformer:x_,getAnimatableNone:U8};function gf(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function z8({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,o=0,i=0;if(!t)s=o=i=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;s=gf(c,l,e+1/3),o=gf(c,l,e),i=gf(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(i*255),alpha:n}}function iu(e,t){return r=>r>0?t:e}const He=(e,t,r)=>e+(t-e)*r,pf=(e,t,r)=>{const n=e*e,s=r*(t*t-n)+n;return s<0?0:Math.sqrt(s)},B8=[am,Cs,To],V8=e=>B8.find(t=>t.test(e));function fx(e){const t=V8(e);if(!t)return!1;let r=t.parse(e);return t===To&&(r=z8(r)),r}const hx=(e,t)=>{const r=fx(e),n=fx(t);if(!r||!n)return iu(e,t);const s={...r};return o=>(s.red=pf(r.red,n.red,o),s.green=pf(r.green,n.green,o),s.blue=pf(r.blue,n.blue,o),s.alpha=He(r.alpha,n.alpha,o),Cs.transform(s))},im=new Set(["none","hidden"]);function G8(e,t){return im.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function q8(e,t){return r=>He(e,t,r)}function vp(e){return typeof e=="number"?q8:typeof e=="string"?pp(e)?iu:kt.test(e)?hx:K8:Array.isArray(e)?v_:typeof e=="object"?kt.test(e)?hx:W8:iu}function v_(e,t){const r=[...e],n=r.length,s=e.map((o,i)=>vp(o)(o,t[i]));return o=>{for(let i=0;i<n;i++)r[i]=s[i](o);return r}}function W8(e,t){const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=vp(e[s])(e[s],t[s]));return s=>{for(const o in n)r[o]=n[o](s);return r}}function H8(e,t){const r=[],n={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const o=t.types[s],i=e.indexes[o][n[o]],l=e.values[i]??0;r[s]=l,n[o]++}return r}const K8=(e,t)=>{const r=Zn.createTransformer(t),n=Wi(e),s=Wi(t);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?im.has(e)&&!s.values.length||im.has(t)&&!n.values.length?G8(e,t):dl(v_(H8(n,s),s.values),r):iu(e,t)};function b_(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?He(e,t,r):vp(e)(e,t)}const Y8=e=>{const t=({timestamp:r})=>e(r);return{start:()=>Ye.update(t,!0),stop:()=>Qn(t),now:()=>yt.isProcessing?yt.timestamp:Bt.now()}},w_=(e,t,r=10)=>{let n="";const s=Math.max(Math.round(t/r),2);for(let o=0;o<s;o++)n+=e(o/(s-1))+", ";return`linear(${n.substring(0,n.length-2)})`},lu=2e4;function bp(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<lu;)t+=r,n=e.next(t);return t>=lu?1/0:t}function J8(e,t=100,r){const n=r({...e,keyframes:[0,t]}),s=Math.min(bp(n),lu);return{type:"keyframes",ease:o=>n.next(s*o).value/t,duration:Hr(s)}}const X8=5;function __(e,t,r){const n=Math.max(t-X8,0);return t_(r-e(n),t-n)}const Xe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},mx=.001;function Q8({duration:e=Xe.duration,bounce:t=Xe.bounce,velocity:r=Xe.velocity,mass:n=Xe.mass}){let s,o,i=1-t;i=gn(Xe.minDamping,Xe.maxDamping,i),e=gn(Xe.minDuration,Xe.maxDuration,Hr(e)),i<1?(s=u=>{const d=u*i,f=d*e,h=d-r,g=lm(u,i),b=Math.exp(-f);return mx-h/g*b},o=u=>{const f=u*i*e,h=f*r+r,g=Math.pow(i,2)*Math.pow(u,2)*e,b=Math.exp(-f),x=lm(Math.pow(u,2),i);return(-s(u)+mx>0?-1:1)*((h-g)*b)/x}):(s=u=>{const d=Math.exp(-u*e),f=(u-r)*e+1;return-.001+d*f},o=u=>{const d=Math.exp(-u*e),f=(r-u)*(e*e);return d*f});const l=5/e,c=eA(s,o,l);if(e=Wr(e),isNaN(c))return{stiffness:Xe.stiffness,damping:Xe.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:i*2*Math.sqrt(n*u),duration:e}}}const Z8=12;function eA(e,t,r){let n=r;for(let s=1;s<Z8;s++)n=n-e(n)/t(n);return n}function lm(e,t){return e*Math.sqrt(1-t*t)}const tA=["duration","bounce"],rA=["stiffness","damping","mass"];function gx(e,t){return t.some(r=>e[r]!==void 0)}function nA(e){let t={velocity:Xe.velocity,stiffness:Xe.stiffness,damping:Xe.damping,mass:Xe.mass,isResolvedFromDuration:!1,...e};if(!gx(e,rA)&&gx(e,tA))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,o=2*gn(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Xe.mass,stiffness:s,damping:o}}else{const r=Q8(e);t={...t,...r,mass:Xe.mass},t.isResolvedFromDuration=!0}return t}function cu(e=Xe.visualDuration,t=Xe.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:s}=r;const o=r.keyframes[0],i=r.keyframes[r.keyframes.length-1],l={done:!1,value:o},{stiffness:c,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:g}=nA({...r,velocity:-Hr(r.velocity||0)}),b=h||0,x=u/(2*Math.sqrt(c*d)),w=i-o,p=Hr(Math.sqrt(c/d)),y=Math.abs(w)<5;n||(n=y?Xe.restSpeed.granular:Xe.restSpeed.default),s||(s=y?Xe.restDelta.granular:Xe.restDelta.default);let v;if(x<1){const k=lm(p,x);v=j=>{const C=Math.exp(-x*p*j);return i-C*((b+x*p*w)/k*Math.sin(k*j)+w*Math.cos(k*j))}}else if(x===1)v=k=>i-Math.exp(-p*k)*(w+(b+p*w)*k);else{const k=p*Math.sqrt(x*x-1);v=j=>{const C=Math.exp(-x*p*j),N=Math.min(k*j,300);return i-C*((b+x*p*w)*Math.sinh(N)+k*w*Math.cosh(N))/k}}const _={calculatedDuration:g&&f||null,next:k=>{const j=v(k);if(g)l.done=k>=f;else{let C=k===0?b:0;x<1&&(C=k===0?Wr(b):__(v,k,j));const N=Math.abs(C)<=n,F=Math.abs(i-j)<=s;l.done=N&&F}return l.value=l.done?i:j,l},toString:()=>{const k=Math.min(bp(_),lu),j=w_(C=>_.next(k*C).value,k,30);return k+"ms "+j},toTransition:()=>{}};return _}cu.applyToOptions=e=>{const t=J8(e,100,cu);return e.ease=t.ease,e.duration=Wr(t.duration),e.type="keyframes",e};function cm({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:i,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},g=N=>l!==void 0&&N<l||c!==void 0&&N>c,b=N=>l===void 0?c:c===void 0||Math.abs(l-N)<Math.abs(c-N)?l:c;let x=r*t;const w=f+x,p=i===void 0?w:i(w);p!==w&&(x=p-f);const y=N=>-x*Math.exp(-N/n),v=N=>p+y(N),_=N=>{const F=y(N),E=v(N);h.done=Math.abs(F)<=u,h.value=h.done?p:E};let k,j;const C=N=>{g(h.value)&&(k=N,j=cu({keyframes:[h.value,b(h.value)],velocity:__(v,N,h.value),damping:s,stiffness:o,restDelta:u,restSpeed:d}))};return C(0),{calculatedDuration:null,next:N=>{let F=!1;return!j&&k===void 0&&(F=!0,_(N),C(N)),k!==void 0&&N>=k?j.next(N-k):(!F&&_(N),h)}}}function sA(e,t,r){const n=[],s=r||pn.mix||b_,o=e.length-1;for(let i=0;i<o;i++){let l=s(e[i],e[i+1]);if(t){const c=Array.isArray(t)?t[i]||dr:t;l=dl(c,l)}n.push(l)}return n}function oA(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const o=e.length;if(up(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const i=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=sA(t,n,s),c=l.length,u=d=>{if(i&&d<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const h=Gi(e[f],e[f+1],d);return l[f](h)};return r?d=>u(gn(e[0],e[o-1],d)):u}function aA(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=Gi(0,t,n);e.push(He(r,1,s))}}function iA(e){const t=[0];return aA(t,e.length-1),t}function lA(e,t){return e.map(r=>r*t)}function cA(e,t){return e.map(()=>t||u_).splice(0,e.length-1)}function gi({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=b8(n)?n.map(lx):lx(n),o={done:!1,value:t[0]},i=lA(r&&r.length===t.length?r:iA(t),e),l=oA(i,t,{ease:Array.isArray(s)?s:cA(t,s)});return{calculatedDuration:e,next:c=>(o.value=l(c),o.done=c>=e,o)}}const uA=e=>e!==null;function wp(e,{repeat:t,repeatType:r="loop"},n,s=1){const o=e.filter(uA),l=s<0||t&&r!=="loop"&&t%2===1?0:o.length-1;return!l||n===void 0?o[l]:n}const dA={decay:cm,inertia:cm,tween:gi,keyframes:gi,spring:cu};function k_(e){typeof e.type=="string"&&(e.type=dA[e.type])}class _p{constructor(){this.count=0,this.updateFinished()}get finished(){return this._finished}updateFinished(){this.count++,this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const fA=e=>e/100;class S_ extends _p{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;if(r&&r.updatedAt!==Bt.now()&&this.tick(Bt.now()),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:n}=this.options;n&&n()},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;k_(t);const{type:r=gi,repeat:n=0,repeatDelay:s=0,repeatType:o,velocity:i=0}=t;let{keyframes:l}=t;const c=r||gi;c!==gi&&typeof l[0]!="number"&&(this.mixKeyframes=dl(fA,b_(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});o==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-i})),u.calculatedDuration===null&&(u.calculatedDuration=bp(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(n+1)-s,this.generator=u}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:s,mixKeyframes:o,mirroredGenerator:i,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:d,repeat:f,repeatType:h,repeatDelay:g,type:b,onUpdate:x,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const p=this.currentTime-u*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?p<0:p>s;this.currentTime=Math.max(p,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let v=this.currentTime,_=n;if(f){const N=Math.min(this.currentTime,s)/l;let F=Math.floor(N),E=N%1;!E&&N>=1&&(E=1),E===1&&F--,F=Math.min(F,f+1),!!(F%2)&&(h==="reverse"?(E=1-E,g&&(E-=g/l)):h==="mirror"&&(_=i)),v=gn(0,1,E)*l}const k=y?{done:!1,value:d[0]}:_.next(v);o&&(k.value=o(k.value));let{done:j}=k;!y&&c!==null&&(j=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return C&&b!==cm&&(k.value=wp(d,this.options,w,this.speed)),x&&x(k.value),C&&this.finish(),k}then(t,r){return this.finished.then(t,r)}get duration(){return Hr(this.calculatedDuration)}get time(){return Hr(this.currentTime)}set time(t){t=Wr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Bt.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Hr(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=Y8,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),r&&r();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Bt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown()}teardown(){this.notifyFinished(),this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),t.observe(this)}}function hA(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Es=e=>e*180/Math.PI,um=e=>{const t=Es(Math.atan2(e[1],e[0]));return dm(t)},mA={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:um,rotateZ:um,skewX:e=>Es(Math.atan(e[1])),skewY:e=>Es(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},dm=e=>(e=e%360,e<0&&(e+=360),e),px=um,yx=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),xx=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),gA={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:yx,scaleY:xx,scale:e=>(yx(e)+xx(e))/2,rotateX:e=>dm(Es(Math.atan2(e[6],e[5]))),rotateY:e=>dm(Es(Math.atan2(-e[2],e[0]))),rotateZ:px,rotate:px,skewX:e=>Es(Math.atan(e[4])),skewY:e=>Es(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function vx(e){return e.includes("scale")?1:0}function fm(e,t){if(!e||e==="none")return vx(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,s;if(r)n=gA,s=r;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=mA,s=l}if(!s)return vx(t);const o=n[t],i=s[1].split(",").map(yA);return typeof o=="function"?o(i):i[o]}const pA=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return fm(r,t)};function yA(e){return parseFloat(e.trim())}const xa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],va=new Set(xa),bx=e=>e===ya||e===me,xA=new Set(["x","y","z"]),vA=xa.filter(e=>!xA.has(e));function bA(e){const t=[];return vA.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const na={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>fm(t,"x"),y:(e,{transform:t})=>fm(t,"y")};na.translateX=na.x;na.translateY=na.y;const Rs=new Set;let hm=!1,mm=!1,gm=!1;function j_(){if(mm){const e=Array.from(Rs).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const s=bA(n);s.length&&(r.set(n,s),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([o,i])=>{var l;(l=n.getValue(o))==null||l.set(i)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}mm=!1,hm=!1,Rs.forEach(e=>e.complete(gm)),Rs.clear()}function N_(){Rs.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(mm=!0)})}function wA(){gm=!0,N_(),j_(),gm=!1}class kp{constructor(t,r,n,s,o,i=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=s,this.element=o,this.isAsync=i}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Rs.add(this),hm||(hm=!0,Ye.read(N_),Ye.resolveKeyframes(j_))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:s}=this;if(t[0]===null){const o=s==null?void 0:s.get(),i=t[t.length-1];if(o!==void 0)t[0]=o;else if(n&&r){const l=n.readValue(r,i);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=i),s&&o===void 0&&s.set(t[0])}hA(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Rs.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Rs.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const _A=e=>e.startsWith("--");function kA(e,t,r){_A(t)?e.style.setProperty(t,r):e.style[t]=r}const SA=dp(()=>window.ScrollTimeline!==void 0),jA={};function NA(e,t){const r=dp(e);return()=>jA[t]??r()}const C_=NA(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ya=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,wx={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ya([0,.65,.55,1]),circOut:Ya([.55,0,1,.45]),backIn:Ya([.31,.01,.66,-.59]),backOut:Ya([.33,1.53,.69,.99])};function E_(e,t){if(e)return typeof e=="function"?C_()?w_(e,t):"ease-out":d_(e)?Ya(e):Array.isArray(e)?e.map(r=>E_(r,t)||wx.easeOut):wx[e]}function CA(e,t,r,{delay:n=0,duration:s=300,repeat:o=0,repeatType:i="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[t]:r};c&&(d.offset=c);const f=E_(l,s);Array.isArray(f)&&(d.easing=f);const h={delay:n,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:o+1,direction:i==="reverse"?"alternate":"normal"};return u&&(h.pseudoElement=u),e.animate(d,h)}function P_(e){return typeof e=="function"&&"applyToOptions"in e}function EA({type:e,...t}){return P_(e)&&C_()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class PA extends _p{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:s,pseudoElement:o,allowFlatten:i=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!o,this.allowFlatten=i,this.options=t,up(typeof t.type!="string");const u=EA(t);this.animation=CA(r,n,s,u,o),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const d=wp(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):kA(r,n,d),this.animation.cancel()}c==null||c(),this.notifyFinished()},this.animation.oncancel=()=>this.notifyFinished()}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return Hr(Number(t))}get time(){return Hr(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Wr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&SA()?(this.animation.timeline=t,dr):r(this)}}const T_={anticipate:i_,backInOut:a_,circInOut:c_};function TA(e){return e in T_}function AA(e){typeof e.ease=="string"&&TA(e.ease)&&(e.ease=T_[e.ease])}const _x=10;class RA extends PA{constructor(t){AA(t),k_(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:s,element:o,...i}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const l=new S_({...i,autoplay:!1}),c=Wr(this.finishedTime??this.time);r.setWithVelocity(l.sample(c-_x).value,l.sample(c).value,_x),l.stop()}}const kx=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Zn.test(e)||e==="0")&&!e.startsWith("url("));function MA(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function LA(e,t,r,n){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],i=kx(s,t),l=kx(o,t);return!i||!l?!1:MA(e)||(r==="spring"||P_(r))&&n}const DA=new Set(["opacity","clipPath","filter","transform"]),OA=dp(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function IA(e){const{motionValue:t,name:r,repeatDelay:n,repeatType:s,damping:o,type:i}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=t.owner.getProps();return OA()&&r&&DA.has(r)&&(r!=="transform"||!c)&&!l&&!n&&s!=="mirror"&&o!==0&&i!=="inertia"}const FA=40;class $A extends _p{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:i="loop",keyframes:l,name:c,motionValue:u,element:d,...f}){var b;super(),this.stop=()=>{var x,w;this._animation?(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)):(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=Bt.now();const h={autoplay:t,delay:r,type:n,repeat:s,repeatDelay:o,repeatType:i,name:c,motionValue:u,element:d,...f},g=(d==null?void 0:d.KeyframeResolver)||kp;this.keyframeResolver=new g(l,(x,w,p)=>this.onKeyframesResolved(x,w,h,!p),c,u,d),(b=this.keyframeResolver)==null||b.scheduleResolve()}onKeyframesResolved(t,r,n,s){this.keyframeResolver=void 0;const{name:o,type:i,velocity:l,delay:c,isHandoff:u,onUpdate:d}=n;this.resolvedAt=Bt.now(),LA(t,o,i,l)||((pn.instantAnimations||!c)&&(d==null||d(wp(t,n,r))),t[0]=t[t.length-1],n.duration=0,n.repeat=0);const h={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>FA?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},g=!u&&IA(h)?new RA({...h,element:h.motionValue.owner.current}):new S_(h);g.finished.then(()=>this.notifyFinished()).catch(dr),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||wA(),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this.animation.cancel()}}const UA=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function zA(e){const t=UA.exec(e);if(!t)return[,];const[,r,n,s]=t;return[`--${r??n}`,s]}function A_(e,t,r=1){const[n,s]=zA(e);if(!n)return;const o=window.getComputedStyle(t).getPropertyValue(n);if(o){const i=o.trim();return Z2(i)?parseFloat(i):i}return pp(s)?A_(s,t,r+1):s}function Sp(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const R_=new Set(["width","height","top","left","right","bottom",...xa]),BA={test:e=>e==="auto",parse:e=>e},M_=e=>t=>t.test(e),L_=[ya,me,Kr,Cn,M8,R8,BA],Sx=e=>L_.find(M_(e));function VA(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||e_(e):!0}const GA=new Set(["brightness","contrast","saturate","opacity"]);function qA(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(yp)||[];if(!n)return e;const s=r.replace(n,"");let o=GA.has(t)?1:0;return n!==r&&(o*=100),t+"("+o+s+")"}const WA=/\b([a-z-]*)\(.*?\)/gu,pm={...Zn,getAnimatableNone:e=>{const t=e.match(WA);return t?t.map(qA).join(" "):e}},jx={...ya,transform:Math.round},HA={rotate:Cn,rotateX:Cn,rotateY:Cn,rotateZ:Cn,scale:Hl,scaleX:Hl,scaleY:Hl,scaleZ:Hl,skew:Cn,skewX:Cn,skewY:Cn,distance:me,translateX:me,translateY:me,translateZ:me,x:me,y:me,z:me,perspective:me,transformPerspective:me,opacity:qi,originX:ux,originY:ux,originZ:me},jp={borderWidth:me,borderTopWidth:me,borderRightWidth:me,borderBottomWidth:me,borderLeftWidth:me,borderRadius:me,radius:me,borderTopLeftRadius:me,borderTopRightRadius:me,borderBottomRightRadius:me,borderBottomLeftRadius:me,width:me,maxWidth:me,height:me,maxHeight:me,top:me,right:me,bottom:me,left:me,padding:me,paddingTop:me,paddingRight:me,paddingBottom:me,paddingLeft:me,margin:me,marginTop:me,marginRight:me,marginBottom:me,marginLeft:me,backgroundPositionX:me,backgroundPositionY:me,...HA,zIndex:jx,fillOpacity:qi,strokeOpacity:qi,numOctaves:jx},KA={...jp,color:kt,backgroundColor:kt,outlineColor:kt,fill:kt,stroke:kt,borderColor:kt,borderTopColor:kt,borderRightColor:kt,borderBottomColor:kt,borderLeftColor:kt,filter:pm,WebkitFilter:pm},D_=e=>KA[e];function O_(e,t){let r=D_(e);return r!==pm&&(r=Zn),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const YA=new Set(["auto","none","0"]);function JA(e,t,r){let n=0,s;for(;n<e.length&&!s;){const o=e[n];typeof o=="string"&&!YA.has(o)&&Wi(o).values.length&&(s=e[n]),n++}if(s&&r)for(const o of t)e[o]=O_(r,s)}class XA extends kp{constructor(t,r,n,s,o){super(t,r,n,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),pp(u))){const d=A_(u,r.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!R_.has(n)||t.length!==2)return;const[s,o]=t,i=Sx(s),l=Sx(o);if(i!==l)if(bx(i)&&bx(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let s=0;s<t.length;s++)(t[s]===null||VA(t[s]))&&n.push(s);n.length&&JA(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=na[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&t.getValue(n,s).jump(s,!1)}measureEndState(){var l;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const s=t.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=n.length-1,i=n[o];n[o]=na[r](t.measureViewportBox(),window.getComputedStyle(t.current)),i!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=i),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function QA(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const s=(r==null?void 0:r[e])??n.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const{schedule:Np}=f_(queueMicrotask,!1),vr={x:!1,y:!1};function I_(){return vr.x||vr.y}function ZA(e){return e==="x"||e==="y"?vr[e]?null:(vr[e]=!0,()=>{vr[e]=!1}):vr.x||vr.y?null:(vr.x=vr.y=!0,()=>{vr.x=vr.y=!1})}function F_(e,t){const r=QA(e),n=new AbortController,s={passive:!0,...t,signal:n.signal};return[r,s,()=>n.abort()]}function Nx(e){return!(e.pointerType==="touch"||I_())}function eR(e,t,r={}){const[n,s,o]=F_(e,r),i=l=>{if(!Nx(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const d=f=>{Nx(f)&&(u(f),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,s)};return n.forEach(l=>{l.addEventListener("pointerenter",i,s)}),o}const $_=(e,t)=>t?e===t?!0:$_(e,t.parentElement):!1,Cp=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,tR=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function rR(e){return tR.has(e.tagName)||e.tabIndex!==-1}const Ja=new WeakSet;function Cx(e){return t=>{t.key==="Enter"&&e(t)}}function yf(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const nR=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=Cx(()=>{if(Ja.has(r))return;yf(r,"down");const s=Cx(()=>{yf(r,"up")}),o=()=>yf(r,"cancel");r.addEventListener("keyup",s,t),r.addEventListener("blur",o,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function Ex(e){return Cp(e)&&!I_()}function sR(e,t,r={}){const[n,s,o]=F_(e,r),i=l=>{const c=l.currentTarget;if(!Ex(l)||Ja.has(c))return;Ja.add(c);const u=t(c,l),d=(g,b)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),!(!Ex(g)||!Ja.has(c))&&(Ja.delete(c),typeof u=="function"&&u(g,{success:b}))},f=g=>{d(g,c===window||c===document||r.useGlobalTarget||$_(c,g.target))},h=g=>{d(g,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",h,s)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",i,s),l instanceof HTMLElement&&(l.addEventListener("focus",u=>nR(u,s)),!rR(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),o}const Px=30,oR=e=>!isNaN(parseFloat(e));class aR{constructor(t,r={}){this.version="12.9.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,s=!0)=>{var i,l;const o=Bt.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current)),s&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Bt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=oR(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new fp);const n=this.events[t].add(r);return t==="change"?()=>{n(),Ye.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Bt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Px)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,Px);return t_(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t;(t=this.events.destroy)==null||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Hi(e,t){return new aR(e,t)}const iR=[...L_,kt,Zn],lR=e=>iR.find(M_(e)),U_=(e,t)=>t&&typeof e=="number"?t.transform(e):e,z_=m.createContext({strict:!1}),Tx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},sa={};for(const e in Tx)sa[e]={isEnabled:t=>Tx[e].some(r=>!!t[r])};function cR(e){for(const t in e)sa[t]={...sa[t],...e[t]}}const uR=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function uu(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||uR.has(e)}let B_=e=>!uu(e);function dR(e){e&&(B_=t=>t.startsWith("on")?!uu(t):e(t))}try{dR(require("@emotion/is-prop-valid").default)}catch{}function fR(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(B_(s)||r===!0&&uu(s)||!t&&!uu(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}function hR(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const id=m.createContext({});function ld(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Ki(e){return typeof e=="string"||Array.isArray(e)}const Ep=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Pp=["initial",...Ep];function cd(e){return ld(e.animate)||Pp.some(t=>Ki(e[t]))}function V_(e){return!!(cd(e)||e.variants)}function mR(e,t){if(cd(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Ki(r)?r:void 0,animate:Ki(n)?n:void 0}}return e.inherit!==!1?t:{}}function gR(e){const{initial:t,animate:r}=mR(e,m.useContext(id));return m.useMemo(()=>({initial:t,animate:r}),[Ax(t),Ax(r)])}function Ax(e){return Array.isArray(e)?e.join(" "):e}const pR=Symbol.for("motionComponentSymbol");function Ao(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function yR(e,t,r){return m.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Ao(r)&&(r.current=n))},[t])}const Tp=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),xR="framerAppearId",G_="data-"+Tp(xR),q_=m.createContext({});function vR(e,t,r,n,s){var x,w;const{visualElement:o}=m.useContext(id),i=m.useContext(z_),l=m.useContext(ad),c=m.useContext(ap).reducedMotion,u=m.useRef(null);n=n||i.renderer,!u.current&&n&&(u.current=n(e,{visualState:t,parent:o,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,f=m.useContext(q_);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&bR(u.current,r,s,f);const h=m.useRef(!1);m.useInsertionEffect(()=>{d&&h.current&&d.update(r,l)});const g=r[G_],b=m.useRef(!!g&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,g))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,g)));return X2(()=>{d&&(h.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),Np.render(d.render),b.current&&d.animationState&&d.animationState.animateChanges())}),m.useEffect(()=>{d&&(!b.current&&d.animationState&&d.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var p;(p=window.MotionHandoffMarkAsComplete)==null||p.call(window,g)}),b.current=!1))}),d}function bR(e,t,r,n){const{layoutId:s,layout:o,drag:i,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:W_(e.parent)),e.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!i||l&&Ao(l),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:c,layoutRoot:u})}function W_(e){if(e)return e.options.allowProjection!==!1?e.projection:W_(e.parent)}function wR({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:s}){e&&cR(e);function o(l,c){let u;const d={...m.useContext(ap),...l,layoutId:_R(l)},{isStatic:f}=d,h=gR(l),g=n(l,f);if(!f&&op){kR();const b=SR(d);u=b.MeasureLayout,h.visualElement=vR(s,g,d,t,b.ProjectionNode)}return a.jsxs(id.Provider,{value:h,children:[u&&h.visualElement?a.jsx(u,{visualElement:h.visualElement,...d}):null,r(s,l,yR(g,h.visualElement,c),g,f,h.visualElement)]})}o.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const i=m.forwardRef(o);return i[pR]=s,i}function _R({layoutId:e}){const t=m.useContext(np).id;return t&&e!==void 0?t+"-"+e:e}function kR(e,t){m.useContext(z_).strict}function SR(e){const{drag:t,layout:r}=sa;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const Yi={};function jR(e){for(const t in e)Yi[t]=e[t],gp(t)&&(Yi[t].isCSSVariable=!0)}function H_(e,{layout:t,layoutId:r}){return va.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Yi[e]||e==="opacity")}const jt=e=>!!(e&&e.getVelocity),NR={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},CR=xa.length;function ER(e,t,r){let n="",s=!0;for(let o=0;o<CR;o++){const i=xa[o],l=e[i];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(i.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=U_(l,jp[i]);if(!c){s=!1;const d=NR[i]||i;n+=`${d}(${u}) `}r&&(t[i]=u)}}return n=n.trim(),r?n=r(t,s?"":n):s&&(n="none"),n}function Ap(e,t,r){const{style:n,vars:s,transformOrigin:o}=e;let i=!1,l=!1;for(const c in t){const u=t[c];if(va.has(c)){i=!0;continue}else if(gp(c)){s[c]=u;continue}else{const d=U_(u,jp[c]);c.startsWith("origin")?(l=!0,o[c]=d):n[c]=d}}if(t.transform||(i||r?n.transform=ER(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=o;n.transformOrigin=`${c} ${u} ${d}`}}const Rp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function K_(e,t,r){for(const n in t)!jt(t[n])&&!H_(n,r)&&(e[n]=t[n])}function PR({transformTemplate:e},t){return m.useMemo(()=>{const r=Rp();return Ap(r,t,e),Object.assign({},r.vars,r.style)},[t])}function TR(e,t){const r=e.style||{},n={};return K_(n,r,e),Object.assign(n,PR(e,t)),n}function AR(e,t){const r={},n=TR(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const RR=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Mp(e){return typeof e!="string"||e.includes("-")?!1:!!(RR.indexOf(e)>-1||/[A-Z]/u.test(e))}const MR={offset:"stroke-dashoffset",array:"stroke-dasharray"},LR={offset:"strokeDashoffset",array:"strokeDasharray"};function DR(e,t,r=1,n=0,s=!0){e.pathLength=1;const o=s?MR:LR;e[o.offset]=me.transform(-n);const i=me.transform(t),l=me.transform(r);e[o.array]=`${i} ${l}`}function Y_(e,{attrX:t,attrY:r,attrScale:n,pathLength:s,pathSpacing:o=1,pathOffset:i=0,...l},c,u){if(Ap(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:d,style:f}=e;d.transform&&(f.transform=d.transform,delete d.transform),(f.transform||d.transformOrigin)&&(f.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),f.transform&&(f.transformBox="fill-box",delete d.transformBox),t!==void 0&&(d.x=t),r!==void 0&&(d.y=r),n!==void 0&&(d.scale=n),s!==void 0&&DR(d,s,o,i,!1)}const J_=()=>({...Rp(),attrs:{}}),X_=e=>typeof e=="string"&&e.toLowerCase()==="svg";function OR(e,t,r,n){const s=m.useMemo(()=>{const o=J_();return Y_(o,t,X_(n),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};K_(o,e.style,e),s.style={...o,...s.style}}return s}function IR(e=!1){return(r,n,s,{latestValues:o},i)=>{const c=(Mp(r)?OR:AR)(n,o,i,r),u=fR(n,typeof r=="string",e),d=r!==m.Fragment?{...u,...c,ref:s}:{},{children:f}=n,h=m.useMemo(()=>jt(f)?f.get():f,[f]);return m.createElement(r,{...d,children:h})}}function Rx(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function Lp(e,t,r,n){if(typeof t=="function"){const[s,o]=Rx(n);t=t(r!==void 0?r:e.custom,s,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,o]=Rx(n);t=t(r!==void 0?r:e.custom,s,o)}return t}function _c(e){return jt(e)?e.get():e}function FR({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,s){return{latestValues:$R(r,n,s,e),renderState:t()}}const Q_=e=>(t,r)=>{const n=m.useContext(id),s=m.useContext(ad),o=()=>FR(e,t,n,s);return r?o():sp(o)};function $R(e,t,r,n){const s={},o=n(e,{});for(const h in o)s[h]=_c(o[h]);let{initial:i,animate:l}=e;const c=cd(e),u=V_(e);t&&u&&!c&&e.inherit!==!1&&(i===void 0&&(i=t.initial),l===void 0&&(l=t.animate));let d=r?r.initial===!1:!1;d=d||i===!1;const f=d?l:i;if(f&&typeof f!="boolean"&&!ld(f)){const h=Array.isArray(f)?f:[f];for(let g=0;g<h.length;g++){const b=Lp(e,h[g]);if(b){const{transitionEnd:x,transition:w,...p}=b;for(const y in p){let v=p[y];if(Array.isArray(v)){const _=d?v.length-1:0;v=v[_]}v!==null&&(s[y]=v)}for(const y in x)s[y]=x[y]}}}return s}function Dp(e,t,r){var o;const{style:n}=e,s={};for(const i in n)(jt(n[i])||t.style&&jt(t.style[i])||H_(i,e)||((o=r==null?void 0:r.getValue(i))==null?void 0:o.liveStyle)!==void 0)&&(s[i]=n[i]);return s}const UR={useVisualState:Q_({scrapeMotionValuesFromProps:Dp,createRenderState:Rp})};function Z_(e,t,r){const n=Dp(e,t,r);for(const s in e)if(jt(e[s])||jt(t[s])){const o=xa.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[o]=e[s]}return n}const zR={useVisualState:Q_({scrapeMotionValuesFromProps:Z_,createRenderState:J_})};function BR(e,t){return function(n,{forwardMotionProps:s}={forwardMotionProps:!1}){const i={...Mp(n)?zR:UR,preloadedFeatures:e,useRender:IR(s),createVisualElement:t,Component:n};return wR(i)}}function Ji(e,t,r){const n=e.getProps();return Lp(n,t,r!==void 0?r:n.custom,e)}const ym=e=>Array.isArray(e);function VR(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Hi(r))}function GR(e){return ym(e)?e[e.length-1]||0:e}function qR(e,t){const r=Ji(e,t);let{transitionEnd:n={},transition:s={},...o}=r||{};o={...o,...n};for(const i in o){const l=GR(o[i]);VR(e,i,l)}}function WR(e){return!!(jt(e)&&e.add)}function xm(e,t){const r=e.getValue("willChange");if(WR(r))return r.add(t);if(!r&&pn.WillChange){const n=new pn.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function ek(e){return e.props[G_]}const HR=e=>e!==null;function KR(e,{repeat:t,repeatType:r="loop"},n){const s=e.filter(HR),o=t&&r!=="loop"&&t%2===1?0:s.length-1;return s[o]}const YR={type:"spring",stiffness:500,damping:25,restSpeed:10},JR=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),XR={type:"keyframes",duration:.8},QR={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ZR=(e,{keyframes:t})=>t.length>2?XR:va.has(e)?e.startsWith("scale")?JR(t[1]):YR:QR;function eM({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:o,repeatType:i,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const Op=(e,t,r,n={},s,o)=>i=>{const l=Sp(n,e)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-Wr(c);const d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{i(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:o?void 0:s};eM(l)||Object.assign(d,ZR(e,d)),d.duration&&(d.duration=Wr(d.duration)),d.repeatDelay&&(d.repeatDelay=Wr(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),(pn.instantAnimations||pn.skipAnimations)&&(f=!0,d.duration=0,d.delay=0),d.allowFlatten=!l.type&&!l.ease,f&&!o&&t.get()!==void 0){const h=KR(d.keyframes,l);if(h!==void 0){Ye.update(()=>{d.onUpdate(h),d.onComplete()});return}}return new $A(d)};function tM({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function tk(e,t,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:i,...l}=t;n&&(o=n);const c=[],u=s&&e.animationState&&e.animationState.getState()[s];for(const d in l){const f=e.getValue(d,e.latestValues[d]??null),h=l[d];if(h===void 0||u&&tM(u,d))continue;const g={delay:r,...Sp(o||{},d)},b=f.get();if(b!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===b&&!g.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const p=ek(e);if(p){const y=window.MotionHandoffAnimation(p,d,Ye);y!==null&&(g.startTime=y,x=!0)}}xm(e,d),f.start(Op(d,f,h,e.shouldReduceMotion&&R_.has(d)?{type:!1}:g,e,x));const w=f.animation;w&&c.push(w)}return i&&Promise.all(c).then(()=>{Ye.update(()=>{i&&qR(e,i)})}),c}function vm(e,t,r={}){var c;const n=Ji(e,t,r.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const o=n?()=>Promise.all(tk(e,n,r)):()=>Promise.resolve(),i=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=s;return rM(e,t,d+u,f,h,r)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,d]=l==="beforeChildren"?[o,i]:[i,o];return u().then(()=>d())}else return Promise.all([o(),i(r.delay)])}function rM(e,t,r=0,n=0,s=1,o){const i=[],l=(e.variantChildren.size-1)*n,c=s===1?(u=0)=>u*n:(u=0)=>l-u*n;return Array.from(e.variantChildren).sort(nM).forEach((u,d)=>{u.notify("AnimationStart",t),i.push(vm(u,t,{...o,delay:r+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(i)}function nM(e,t){return e.sortNodePosition(t)}function sM(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(o=>vm(e,o,r));n=Promise.all(s)}else if(typeof t=="string")n=vm(e,t,r);else{const s=typeof t=="function"?Ji(e,t,r.custom):t;n=Promise.all(tk(e,s,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function rk(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const oM=Pp.length;function nk(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?nk(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<oM;r++){const n=Pp[r],s=e.props[n];(Ki(s)||s===!1)&&(t[n]=s)}return t}const aM=[...Ep].reverse(),iM=Ep.length;function lM(e){return t=>Promise.all(t.map(({animation:r,options:n})=>sM(e,r,n)))}function cM(e){let t=lM(e),r=Mx(),n=!0;const s=c=>(u,d)=>{var h;const f=Ji(e,d,c==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:g,transitionEnd:b,...x}=f;u={...u,...x,...b}}return u};function o(c){t=c(e)}function i(c){const{props:u}=e,d=nk(e.parent)||{},f=[],h=new Set;let g={},b=1/0;for(let w=0;w<iM;w++){const p=aM[w],y=r[p],v=u[p]!==void 0?u[p]:d[p],_=Ki(v),k=p===c?y.isActive:null;k===!1&&(b=w);let j=v===d[p]&&v!==u[p]&&_;if(j&&n&&e.manuallyAnimateOnMount&&(j=!1),y.protectedKeys={...g},!y.isActive&&k===null||!v&&!y.prevProp||ld(v)||typeof v=="boolean")continue;const C=uM(y.prevProp,v);let N=C||p===c&&y.isActive&&!j&&_||w>b&&_,F=!1;const E=Array.isArray(v)?v:[v];let I=E.reduce(s(p),{});k===!1&&(I={});const{prevResolvedValues:P={}}=y,O={...P,...I},A=z=>{N=!0,h.has(z)&&(F=!0,h.delete(z)),y.needsAnimating[z]=!0;const S=e.getValue(z);S&&(S.liveStyle=!1)};for(const z in O){const S=I[z],M=P[z];if(g.hasOwnProperty(z))continue;let T=!1;ym(S)&&ym(M)?T=!rk(S,M):T=S!==M,T?S!=null?A(z):h.add(z):S!==void 0&&h.has(z)?A(z):y.protectedKeys[z]=!0}y.prevProp=v,y.prevResolvedValues=I,y.isActive&&(g={...g,...I}),n&&e.blockInitialAnimation&&(N=!1),N&&(!(j&&C)||F)&&f.push(...E.map(z=>({animation:z,options:{type:p}})))}if(h.size){const w={};if(typeof u.initial!="boolean"){const p=Ji(e,Array.isArray(u.initial)?u.initial[0]:u.initial);p&&p.transition&&(w.transition=p.transition)}h.forEach(p=>{const y=e.getBaseTarget(p),v=e.getValue(p);v&&(v.liveStyle=!0),w[p]=y??null}),f.push({animation:w})}let x=!!f.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(x=!1),n=!1,x?t(f):Promise.resolve()}function l(c,u){var f;if(r[c].isActive===u)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var g;return(g=h.animationState)==null?void 0:g.setActive(c,u)}),r[c].isActive=u;const d=i(c);for(const h in r)r[h].protectedKeys={};return d}return{animateChanges:i,setActive:l,setAnimateFunction:o,getState:()=>r,reset:()=>{r=Mx(),n=!0}}}function uM(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!rk(t,e):!1}function gs(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Mx(){return{animate:gs(!0),whileInView:gs(),whileHover:gs(),whileTap:gs(),whileDrag:gs(),whileFocus:gs(),exit:gs()}}class cs{constructor(t){this.isMounted=!1,this.node=t}update(){}}class dM extends cs{constructor(t){super(t),t.animationState||(t.animationState=cM(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();ld(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let fM=0;class hM extends cs{constructor(){super(...arguments),this.id=fM++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const s=this.node.animationState.setActive("exit",!t);r&&!t&&s.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const mM={animation:{Feature:dM},exit:{Feature:hM}};function Xi(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function ml(e){return{point:{x:e.pageX,y:e.pageY}}}const gM=e=>t=>Cp(t)&&e(t,ml(t));function pi(e,t,r,n){return Xi(e,t,gM(r),n)}function sk({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function pM({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function yM(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}const ok=1e-4,xM=1-ok,vM=1+ok,ak=.01,bM=0-ak,wM=0+ak;function Mt(e){return e.max-e.min}function _M(e,t,r){return Math.abs(e-t)<=r}function Lx(e,t,r,n=.5){e.origin=n,e.originPoint=He(t.min,t.max,e.origin),e.scale=Mt(r)/Mt(t),e.translate=He(r.min,r.max,e.origin)-e.originPoint,(e.scale>=xM&&e.scale<=vM||isNaN(e.scale))&&(e.scale=1),(e.translate>=bM&&e.translate<=wM||isNaN(e.translate))&&(e.translate=0)}function yi(e,t,r,n){Lx(e.x,t.x,r.x,n?n.originX:void 0),Lx(e.y,t.y,r.y,n?n.originY:void 0)}function Dx(e,t,r){e.min=r.min+t.min,e.max=e.min+Mt(t)}function kM(e,t,r){Dx(e.x,t.x,r.x),Dx(e.y,t.y,r.y)}function Ox(e,t,r){e.min=t.min-r.min,e.max=e.min+Mt(t)}function xi(e,t,r){Ox(e.x,t.x,r.x),Ox(e.y,t.y,r.y)}const Ix=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ro=()=>({x:Ix(),y:Ix()}),Fx=()=>({min:0,max:0}),Ze=()=>({x:Fx(),y:Fx()});function or(e){return[e("x"),e("y")]}function xf(e){return e===void 0||e===1}function bm({scale:e,scaleX:t,scaleY:r}){return!xf(e)||!xf(t)||!xf(r)}function bs(e){return bm(e)||ik(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function ik(e){return $x(e.x)||$x(e.y)}function $x(e){return e&&e!=="0%"}function du(e,t,r){const n=e-r,s=t*n;return r+s}function Ux(e,t,r,n,s){return s!==void 0&&(e=du(e,s,n)),du(e,r,n)+t}function wm(e,t=0,r=1,n,s){e.min=Ux(e.min,t,r,n,s),e.max=Ux(e.max,t,r,n,s)}function lk(e,{x:t,y:r}){wm(e.x,t.translate,t.scale,t.originPoint),wm(e.y,r.translate,r.scale,r.originPoint)}const zx=.999999999999,Bx=1.0000000000001;function SM(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let o,i;for(let l=0;l<s;l++){o=r[l],i=o.projectionDelta;const{visualElement:c}=o.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Lo(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,lk(e,i)),n&&bs(o.latestValues)&&Lo(e,o.latestValues))}t.x<Bx&&t.x>zx&&(t.x=1),t.y<Bx&&t.y>zx&&(t.y=1)}function Mo(e,t){e.min=e.min+t,e.max=e.max+t}function Vx(e,t,r,n,s=.5){const o=He(e.min,e.max,s);wm(e,t,r,o,n)}function Lo(e,t){Vx(e.x,t.x,t.scaleX,t.scale,t.originX),Vx(e.y,t.y,t.scaleY,t.scale,t.originY)}function ck(e,t){return sk(yM(e.getBoundingClientRect(),t))}function jM(e,t,r){const n=ck(e,r),{scroll:s}=t;return s&&(Mo(n.x,s.offset.x),Mo(n.y,s.offset.y)),n}const uk=({current:e})=>e?e.ownerDocument.defaultView:null,Gx=(e,t)=>Math.abs(e-t);function NM(e,t){const r=Gx(e.x,t.x),n=Gx(e.y,t.y);return Math.sqrt(r**2+n**2)}class dk{constructor(t,r,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=bf(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,g=NM(f.offset,{x:0,y:0})>=3;if(!h&&!g)return;const{point:b}=f,{timestamp:x}=yt;this.history.push({...b,timestamp:x});const{onStart:w,onMove:p}=this.handlers;h||(w&&w(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),p&&p(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=vf(h,this.transformPagePoint),Ye.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:g,onSessionEnd:b,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=bf(f.type==="pointercancel"?this.lastMoveEventInfo:vf(h,this.transformPagePoint),this.history);this.startEvent&&g&&g(f,w),b&&b(f,w)},!Cp(t))return;this.dragSnapToOrigin=o,this.handlers=r,this.transformPagePoint=n,this.contextWindow=s||window;const i=ml(t),l=vf(i,this.transformPagePoint),{point:c}=l,{timestamp:u}=yt;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=r;d&&d(t,bf(l,this.history)),this.removeListeners=dl(pi(this.contextWindow,"pointermove",this.handlePointerMove),pi(this.contextWindow,"pointerup",this.handlePointerUp),pi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Qn(this.updatePoint)}}function vf(e,t){return t?{point:t(e.point)}:e}function qx(e,t){return{x:e.x-t.x,y:e.y-t.y}}function bf({point:e},t){return{point:e,delta:qx(e,fk(t)),offset:qx(e,CM(t)),velocity:EM(t,.1)}}function CM(e){return e[0]}function fk(e){return e[e.length-1]}function EM(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=fk(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>Wr(t)));)r--;if(!n)return{x:0,y:0};const o=Hr(s.timestamp-n.timestamp);if(o===0)return{x:0,y:0};const i={x:(s.x-n.x)/o,y:(s.y-n.y)/o};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function PM(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?He(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?He(r,e,n.max):Math.min(e,r)),e}function Wx(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function TM(e,{top:t,left:r,bottom:n,right:s}){return{x:Wx(e.x,r,s),y:Wx(e.y,t,n)}}function Hx(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function AM(e,t){return{x:Hx(e.x,t.x),y:Hx(e.y,t.y)}}function RM(e,t){let r=.5;const n=Mt(e),s=Mt(t);return s>n?r=Gi(t.min,t.max-n,e.min):n>s&&(r=Gi(e.min,e.max-s,t.min)),gn(0,1,r)}function MM(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const _m=.35;function LM(e=_m){return e===!1?e=0:e===!0&&(e=_m),{x:Kx(e,"left","right"),y:Kx(e,"top","bottom")}}function Kx(e,t,r){return{min:Yx(e,t),max:Yx(e,r)}}function Yx(e,t){return typeof e=="number"?e:e[t]||0}const DM=new WeakMap;class OM{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ze(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(ml(d).point)},o=(d,f)=>{const{drag:h,dragPropagation:g,onDragStart:b}=this.getProps();if(h&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=ZA(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),or(w=>{let p=this.getAxisMotionValue(w).get()||0;if(Kr.test(p)){const{projection:y}=this.visualElement;if(y&&y.layout){const v=y.layout.layoutBox[w];v&&(p=Mt(v)*(parseFloat(p)/100))}}this.originPoint[w]=p}),b&&Ye.postRender(()=>b(d,f)),xm(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},i=(d,f)=>{const{dragPropagation:h,dragDirectionLock:g,onDirectionLock:b,onDrag:x}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:w}=f;if(g&&this.currentDirection===null){this.currentDirection=IM(w),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",f.point,w),this.updateAxis("y",f.point,w),this.visualElement.render(),x&&x(d,f)},l=(d,f)=>this.stop(d,f),c=()=>or(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)==null?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new dk(t,{onSessionStart:s,onStart:o,onMove:i,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:uk(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&Ye.postRender(()=>o(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!Kl(t,s,this.currentDirection))return;const o=this.getAxisMotionValue(t);let i=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(i=PM(i,this.constraints[t],this.elastic[t])),o.set(i)}resolveConstraints(){var o;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,s=this.constraints;t&&Ao(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=TM(n.layoutBox,t):this.constraints=!1,this.elastic=LM(r),s!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&or(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=MM(n.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Ao(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=jM(n,s.root,this.visualElement.getTransformPagePoint());let i=AM(s.layout.layoutBox,o);if(r){const l=r(pM(i));this.hasMutatedConstraints=!!l,l&&(i=sk(l))}return i}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:o,dragSnapToOrigin:i,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=or(d=>{if(!Kl(d,r,this.currentDirection))return;let f=c&&c[d]||{};i&&(f={min:0,max:0});const h=s?200:1e6,g=s?40:1e7,b={type:"inertia",velocity:n?t[d]:0,bounceStiffness:h,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...o,...f};return this.startAxisValueAnimation(d,b)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return xm(this.visualElement,t),n.start(Op(t,n,0,r,this.visualElement,!1))}stopAnimation(){or(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){or(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){or(r=>{const{drag:n}=this.getProps();if(!Kl(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(r);if(s&&s.layout){const{min:i,max:l}=s.layout.layoutBox[r];o.set(t[r]-He(i,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Ao(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};or(i=>{const l=this.getAxisMotionValue(i);if(l&&this.constraints!==!1){const c=l.get();s[i]=RM({min:c,max:c},this.constraints[i])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),or(i=>{if(!Kl(i,t,null))return;const l=this.getAxisMotionValue(i),{min:c,max:u}=this.constraints[i];l.set(He(c,u,s[i]))})}addListeners(){if(!this.visualElement.current)return;DM.set(this.visualElement,this);const t=this.visualElement.current,r=pi(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Ao(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Ye.read(n);const i=Xi(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(or(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{i(),r(),o(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:i=_m,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:o,dragElastic:i,dragMomentum:l}}}function Kl(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function IM(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class FM extends cs{constructor(t){super(t),this.removeGroupControls=dr,this.removeListeners=dr,this.controls=new OM(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||dr}unmount(){this.removeGroupControls(),this.removeListeners()}}const Jx=e=>(t,r)=>{e&&Ye.postRender(()=>e(t,r))};class $M extends cs{constructor(){super(...arguments),this.removePointerDownListener=dr}onPointerDown(t){this.session=new dk(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:uk(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:Jx(t),onStart:Jx(r),onMove:n,onEnd:(o,i)=>{delete this.session,s&&Ye.postRender(()=>s(o,i))}}}mount(){this.removePointerDownListener=pi(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const kc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Xx(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ia={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(me.test(e))e=parseFloat(e);else return e;const r=Xx(e,t.target.x),n=Xx(e,t.target.y);return`${r}% ${n}%`}},UM={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=Zn.parse(e);if(s.length>5)return n;const o=Zn.createTransformer(e),i=typeof s[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;s[0+i]/=l,s[1+i]/=c;const u=He(l,c,.5);return typeof s[2+i]=="number"&&(s[2+i]/=u),typeof s[3+i]=="number"&&(s[3+i]/=u),o(s)}};class zM extends m.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:o}=t;jR(BM),o&&(r.group&&r.group.add(o),n&&n.register&&s&&n.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),kc.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:o}=this.props,i=n.projection;return i&&(i.isPresent=o,s||t.layoutDependency!==r||r===void 0||t.isPresent!==o?i.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?i.promote():i.relegate()||Ye.postRender(()=>{const l=i.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Np.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function hk(e){const[t,r]=Q2(),n=m.useContext(np);return a.jsx(zM,{...e,layoutGroup:n,switchLayoutGroup:m.useContext(q_),isPresent:t,safeToRemove:r})}const BM={borderRadius:{...Ia,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ia,borderTopRightRadius:Ia,borderBottomLeftRadius:Ia,borderBottomRightRadius:Ia,boxShadow:UM};function VM(e,t,r){const n=jt(e)?e:Hi(e);return n.start(Op("",n,t,r)),n.animation}function GM(e){return e instanceof SVGElement&&e.tagName!=="svg"}const qM=(e,t)=>e.depth-t.depth;class WM{constructor(){this.children=[],this.isDirty=!1}add(t){lp(this.children,t),this.isDirty=!0}remove(t){cp(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(qM),this.isDirty=!1,this.children.forEach(t)}}function HM(e,t){const r=Bt.now(),n=({timestamp:s})=>{const o=s-r;o>=t&&(Qn(n),e(o-t))};return Ye.setup(n,!0),()=>Qn(n)}const mk=["TopLeft","TopRight","BottomLeft","BottomRight"],KM=mk.length,Qx=e=>typeof e=="string"?parseFloat(e):e,Zx=e=>typeof e=="number"||me.test(e);function YM(e,t,r,n,s,o){s?(e.opacity=He(0,r.opacity??1,JM(n)),e.opacityExit=He(t.opacity??1,0,XM(n))):o&&(e.opacity=He(t.opacity??1,r.opacity??1,n));for(let i=0;i<KM;i++){const l=`border${mk[i]}Radius`;let c=ev(t,l),u=ev(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Zx(c)===Zx(u)?(e[l]=Math.max(He(Qx(c),Qx(u),n),0),(Kr.test(u)||Kr.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=He(t.rotate||0,r.rotate||0,n))}function ev(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const JM=gk(0,.5,l_),XM=gk(.5,.95,dr);function gk(e,t,r){return n=>n<e?0:n>t?1:r(Gi(e,t,n))}function tv(e,t){e.min=t.min,e.max=t.max}function nr(e,t){tv(e.x,t.x),tv(e.y,t.y)}function rv(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function nv(e,t,r,n,s){return e-=t,e=du(e,1/r,n),s!==void 0&&(e=du(e,1/s,n)),e}function QM(e,t=0,r=1,n=.5,s,o=e,i=e){if(Kr.test(t)&&(t=parseFloat(t),t=He(i.min,i.max,t/100)-i.min),typeof t!="number")return;let l=He(o.min,o.max,n);e===o&&(l-=t),e.min=nv(e.min,t,r,l,s),e.max=nv(e.max,t,r,l,s)}function sv(e,t,[r,n,s],o,i){QM(e,t[r],t[n],t[s],t.scale,o,i)}const ZM=["x","scaleX","originX"],eL=["y","scaleY","originY"];function ov(e,t,r,n){sv(e.x,t,ZM,r?r.x:void 0,n?n.x:void 0),sv(e.y,t,eL,r?r.y:void 0,n?n.y:void 0)}function av(e){return e.translate===0&&e.scale===1}function pk(e){return av(e.x)&&av(e.y)}function iv(e,t){return e.min===t.min&&e.max===t.max}function tL(e,t){return iv(e.x,t.x)&&iv(e.y,t.y)}function lv(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function yk(e,t){return lv(e.x,t.x)&&lv(e.y,t.y)}function cv(e){return Mt(e.x)/Mt(e.y)}function uv(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class rL{constructor(){this.members=[]}add(t){lp(this.members,t),t.scheduleRender()}remove(t){if(cp(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){n=o;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function nL(e,t,r){let n="";const s=e.x.translate/t.x,o=e.y.translate/t.y,i=(r==null?void 0:r.z)||0;if((s||o||i)&&(n=`translate3d(${s}px, ${o}px, ${i}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:g,skewY:b}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),g&&(n+=`skewX(${g}deg) `),b&&(n+=`skewY(${b}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const wf=["","X","Y","Z"],sL={visibility:"hidden"},dv=1e3;let oL=0;function _f(e,t,r,n){const{latestValues:s}=t;s[e]&&(r[e]=s[e],t.setStaticValue(e,0),n&&(n[e]=0))}function xk(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=ek(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Ye,!(s||o))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&xk(n)}function vk({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(i={},l=t==null?void 0:t()){this.id=oL++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(lL),this.nodes.forEach(hL),this.nodes.forEach(mL),this.nodes.forEach(cL)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new WM)}addEventListener(i,l){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new fp),this.eventHandlers.get(i).add(l)}notifyListeners(i,...l){const c=this.eventHandlers.get(i);c&&c.notify(...l)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=GM(i),this.instance=i;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(i,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=HM(h,250),kc.hasAnimatedSinceResize&&(kc.hasAnimatedSinceResize=!1,this.nodes.forEach(hv))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeLayoutChanged:g,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||vL,{onLayoutAnimationStart:w,onLayoutAnimationComplete:p}=d.getProps(),y=!this.targetLayout||!yk(this.targetLayout,b),v=!h&&g;if(this.options.layoutRoot||this.resumeFrom||v||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,v);const _={...Sp(x,"layout"),onPlay:w,onComplete:p};(d.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_)}else h||hv(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Qn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(gL),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&xk(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(fv);return}this.isUpdating||this.nodes.forEach(dL),this.isUpdating=!1,this.nodes.forEach(fL),this.nodes.forEach(aL),this.nodes.forEach(iL),this.clearAllSnapshots();const l=Bt.now();yt.delta=gn(0,1e3/60,l-yt.timestamp),yt.timestamp=l,yt.isProcessing=!0,hf.update.process(yt),hf.preRender.process(yt),hf.render.process(yt),yt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Np.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(uL),this.sharedNodes.forEach(pL)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ye.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ye.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Mt(this.snapshot.measuredBox.x)&&!Mt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ze(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(l=!1),l){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!pk(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;i&&(l||bs(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return i&&(c=this.removeTransform(c)),bL(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:i}=this.options;if(!i)return Ze();const l=i.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(wL))){const{scroll:d}=this.root;d&&(Mo(l.x,d.offset.x),Mo(l.y,d.offset.y))}return l}removeElementScroll(i){var c;const l=Ze();if(nr(l,i),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&nr(l,i),Mo(l.x,f.offset.x),Mo(l.y,f.offset.y))}return l}applyTransform(i,l=!1){const c=Ze();nr(c,i);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Lo(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),bs(d.latestValues)&&Lo(c,d.latestValues)}return bs(this.latestValues)&&Lo(c,this.latestValues),c}removeTransform(i){const l=Ze();nr(l,i);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!bs(u.latestValues))continue;bm(u.latestValues)&&u.updateSnapshot();const d=Ze(),f=u.measurePageBox();nr(d,f),ov(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return bs(this.latestValues)&&ov(l,this.latestValues),l}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==yt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var h;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(i||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=yt.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ze(),this.relativeTargetOrigin=Ze(),xi(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),nr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ze(),this.targetWithTransforms=Ze()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),kM(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):nr(this.target,this.layout.layoutBox),lk(this.target,this.targetDelta)):nr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ze(),this.relativeTargetOrigin=Ze(),xi(this.relativeTargetOrigin,this.target,g.target),nr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||bm(this.parent.latestValues)||ik(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var b;const i=this.getLead(),l=!!this.resumingFrom||this!==i;let c=!0;if((this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===yt.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;nr(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;SM(this.layoutCorrected,this.treeScale,this.path,l),i.layout&&!i.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(i.target=i.layout.layoutBox,i.targetWithTransforms=Ze());const{target:g}=i;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(rv(this.prevProjectionDelta.x,this.projectionDelta.x),rv(this.prevProjectionDelta.y,this.projectionDelta.y)),yi(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!uv(this.projectionDelta.x,this.prevProjectionDelta.x)||!uv(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),i){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ro(),this.projectionDelta=Ro(),this.projectionDeltaWithTransform=Ro()}setAnimationOrigin(i,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Ro();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=Ze(),g=c?c.source:void 0,b=this.layout?this.layout.source:void 0,x=g!==b,w=this.getStack(),p=!w||w.members.length<=1,y=!!(x&&!p&&this.options.crossfade===!0&&!this.path.some(xL));this.animationProgress=0;let v;this.mixTargetDelta=_=>{const k=_/1e3;mv(f.x,i.x,k),mv(f.y,i.y,k),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(xi(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),yL(this.relativeTarget,this.relativeTargetOrigin,h,k),v&&tL(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=Ze()),nr(v,this.relativeTarget)),x&&(this.animationValues=d,YM(d,u,this.latestValues,k,y,p)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Qn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ye.update(()=>{kc.hasAnimatedSinceResize=!0,this.currentAnimation=VM(0,dv,{...i,onUpdate:l=>{this.mixTargetDelta(l),i.onUpdate&&i.onUpdate(l)},onStop:()=>{},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(dv),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=i;if(!(!l||!c||!u)){if(this!==i&&this.layout&&u&&bk(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Ze();const f=Mt(this.layout.layoutBox.x);c.x.min=i.target.x.min,c.x.max=c.x.min+f;const h=Mt(this.layout.layoutBox.y);c.y.min=i.target.y.min,c.y.max=c.y.min+h}nr(l,c),Lo(l,d),yi(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(i,l){this.sharedNodes.has(i)||this.sharedNodes.set(i,new rL),this.sharedNodes.get(i).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var l;const{layoutId:i}=this.options;return i?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:i}=this.options;return i?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),i&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let l=!1;const{latestValues:c}=i;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&_f("z",i,u,this.animationValues);for(let d=0;d<wf.length;d++)_f(`rotate${wf[d]}`,i,u,this.animationValues),_f(`skew${wf[d]}`,i,u,this.animationValues);i.render();for(const d in u)i.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);i.scheduleRender()}getProjectionStyles(i){if(!this.instance||this.isSVG)return;if(!this.isVisible)return sL;const l={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=_c(i==null?void 0:i.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none",l;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=_c(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!bs(this.latestValues)&&(g.transform=c?c({},""):"none",this.hasProjected=!1),g}const d=u.animationValues||u.latestValues;this.applyTransformsToTarget(),l.transform=nL(this.projectionDeltaWithTransform,this.treeScale,d),c&&(l.transform=c(d,l.transform));const{x:f,y:h}=this.projectionDelta;l.transformOrigin=`${f.origin*100}% ${h.origin*100}% 0`,u.animationValues?l.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:l.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const g in Yi){if(d[g]===void 0)continue;const{correct:b,applyTo:x,isCSSVariable:w}=Yi[g],p=l.transform==="none"?d[g]:b(d[g],u);if(x){const y=x.length;for(let v=0;v<y;v++)l[x[v]]=p}else w?this.options.visualElement.renderState.vars[g]=p:l[g]=p}return this.options.layoutId&&(l.pointerEvents=u===this?_c(i==null?void 0:i.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var l;return(l=i.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(fv),this.root.sharedNodes.clear()}}}function aL(e){e.updateLayout()}function iL(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:o}=e.options,i=t.source!==e.layout.source;o==="size"?or(f=>{const h=i?t.measuredBox[f]:t.layoutBox[f],g=Mt(h);h.min=n[f].min,h.max=h.min+g}):bk(o,t.layoutBox,n)&&or(f=>{const h=i?t.measuredBox[f]:t.layoutBox[f],g=Mt(n[f]);h.max=h.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+g)});const l=Ro();yi(l,n,t.layoutBox);const c=Ro();i?yi(c,e.applyTransform(s,!0),t.measuredBox):yi(c,n,t.layoutBox);const u=!pk(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:g}=f;if(h&&g){const b=Ze();xi(b,t.layoutBox,h.layoutBox);const x=Ze();xi(x,n,g.layoutBox),yk(b,x)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=b,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function lL(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function cL(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function uL(e){e.clearSnapshot()}function fv(e){e.clearMeasurements()}function dL(e){e.isLayoutDirty=!1}function fL(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function hv(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function hL(e){e.resolveTargetDelta()}function mL(e){e.calcProjection()}function gL(e){e.resetSkewAndRotation()}function pL(e){e.removeLeadSnapshot()}function mv(e,t,r){e.translate=He(t.translate,0,r),e.scale=He(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function gv(e,t,r,n){e.min=He(t.min,r.min,n),e.max=He(t.max,r.max,n)}function yL(e,t,r,n){gv(e.x,t.x,r.x,n),gv(e.y,t.y,r.y,n)}function xL(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const vL={duration:.45,ease:[.4,0,.1,1]},pv=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),yv=pv("applewebkit/")&&!pv("chrome/")?Math.round:dr;function xv(e){e.min=yv(e.min),e.max=yv(e.max)}function bL(e){xv(e.x),xv(e.y)}function bk(e,t,r){return e==="position"||e==="preserve-aspect"&&!_M(cv(t),cv(r),.2)}function wL(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const _L=vk({attachResizeListener:(e,t)=>Xi(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),kf={current:void 0},wk=vk({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!kf.current){const e=new _L({});e.mount(window),e.setOptions({layoutScroll:!0}),kf.current=e}return kf.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),kL={pan:{Feature:$M},drag:{Feature:FM,ProjectionNode:wk,MeasureLayout:hk}};function vv(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,o=n[s];o&&Ye.postRender(()=>o(t,ml(t)))}class SL extends cs{mount(){const{current:t}=this.node;t&&(this.unmount=eR(t,(r,n)=>(vv(this.node,n,"Start"),s=>vv(this.node,s,"End"))))}unmount(){}}class jL extends cs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=dl(Xi(this.node.current,"focus",()=>this.onFocus()),Xi(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function bv(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),o=n[s];o&&Ye.postRender(()=>o(t,ml(t)))}class NL extends cs{mount(){const{current:t}=this.node;t&&(this.unmount=sR(t,(r,n)=>(bv(this.node,n,"Start"),(s,{success:o})=>bv(this.node,s,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const km=new WeakMap,Sf=new WeakMap,CL=e=>{const t=km.get(e.target);t&&t(e)},EL=e=>{e.forEach(CL)};function PL({root:e,...t}){const r=e||document;Sf.has(r)||Sf.set(r,{});const n=Sf.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(EL,{root:e,...t})),n[s]}function TL(e,t,r){const n=PL(t);return km.set(e,r),n.observe(e),()=>{km.delete(e),n.unobserve(e)}}const AL={some:0,all:1};class RL extends cs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:o}=t,i={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:AL[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return TL(this.node.current,i,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(ML(t,r))&&this.startObserver()}unmount(){}}function ML({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const LL={inView:{Feature:RL},tap:{Feature:NL},focus:{Feature:jL},hover:{Feature:SL}},DL={layout:{ProjectionNode:wk,MeasureLayout:hk}},Sm={current:null},_k={current:!1};function OL(){if(_k.current=!0,!!op)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Sm.current=e.matches;e.addListener(t),t()}else Sm.current=!1}const IL=new WeakMap;function FL(e,t,r){for(const n in t){const s=t[n],o=r[n];if(jt(s))e.addValue(n,s);else if(jt(o))e.addValue(n,Hi(s,{owner:e}));else if(o!==s)if(e.hasValue(n)){const i=e.getValue(n);i.liveStyle===!0?i.jump(s):i.hasAnimated||i.set(s)}else{const i=e.getStaticValue(n);e.addValue(n,Hi(i!==void 0?i:s,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const wv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class $L{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:o,visualState:i},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=kp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Bt.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Ye.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=i;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!o,this.isControllingVariants=cd(r),this.isVariantNode=V_(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in f){const g=f[h];c[h]!==void 0&&jt(g)&&g.set(c[h],!1)}}mount(t){this.current=t,IL.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),_k.current||OL(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Sm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Qn(this.notifyUpdate),Qn(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=va.has(t);n&&this.onBindTransform&&this.onBindTransform();const s=r.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Ye.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),o=r.on("renderRequest",this.scheduleRender);let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{s(),o(),i&&i(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in sa){const r=sa[t];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[t]&&s&&n(this.props)&&(this.features[t]=new s(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ze()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<wv.length;n++){const s=wv[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,i=t[o];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=FL(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Hi(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(Z2(n)||e_(n))?n=parseFloat(n):!lR(n)&&Zn.test(r)&&(n=O_(t,r)),this.setBaseTarget(t,jt(n)?n.get():n)),jt(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var o;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const i=Lp(this.props,r,(o=this.presenceContext)==null?void 0:o.custom);i&&(n=i[t])}if(r&&n!==void 0)return n;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!jt(s)?s:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new fp),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class kk extends $L{constructor(){super(...arguments),this.KeyframeResolver=XA}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;jt(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function Sk(e,{style:t,vars:r},n,s){Object.assign(e.style,t,s&&s.getProjectionStyles(n));for(const o in r)e.style.setProperty(o,r[o])}function UL(e){return window.getComputedStyle(e)}class zL extends kk{constructor(){super(...arguments),this.type="html",this.renderInstance=Sk}readValueFromInstance(t,r){if(va.has(r))return pA(t,r);{const n=UL(t),s=(gp(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return ck(t,r)}build(t,r,n){Ap(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return Dp(t,r,n)}}const jk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function BL(e,t,r,n){Sk(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(jk.has(s)?s:Tp(s),t.attrs[s])}class VL extends kk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ze}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(va.has(r)){const n=D_(r);return n&&n.default||0}return r=jk.has(r)?r:Tp(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return Z_(t,r,n)}build(t,r,n){Y_(t,r,this.isSVGTag,n.transformTemplate)}renderInstance(t,r,n,s){BL(t,r,n,s)}mount(t){this.isSVGTag=X_(t.tagName),super.mount(t)}}const GL=(e,t)=>Mp(e)?new VL(t):new zL(t,{allowProjection:e!==m.Fragment}),qL=BR({...mM,...LL,...kL,...DL},GL),fr=hR(qL);function _v(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ip(...e){return t=>{let r=!1;const n=e.map(s=>{const o=_v(s,t);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let s=0;s<n.length;s++){const o=n[s];typeof o=="function"?o():_v(e[s],null)}}}}function Le(...e){return m.useCallback(Ip(...e),e)}function zs(e){const t=HL(e),r=m.forwardRef((n,s)=>{const{children:o,...i}=n,l=m.Children.toArray(o),c=l.find(YL);if(c){const u=c.props.children,d=l.map(f=>f===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...i,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return a.jsx(t,{...i,ref:s,children:o})});return r.displayName=`${e}.Slot`,r}var WL=zs("Slot");function HL(e){const t=m.forwardRef((r,n)=>{const{children:s,...o}=r;if(m.isValidElement(s)){const i=XL(s),l=JL(o,s.props);return s.type!==m.Fragment&&(l.ref=n?Ip(n,i):i),m.cloneElement(s,l)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var KL=Symbol("radix.slottable");function YL(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===KL}function JL(e,t){const r={...t};for(const n in t){const s=e[n],o=t[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...l)=>{o(...l),s(...l)}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...e,...r}}function XL(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Nk(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=Nk(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ck(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=Nk(e))&&(n&&(n+=" "),n+=t);return n}const kv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Sv=Ck,Ek=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Sv(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=o==null?void 0:o[u];if(d===null)return null;const h=kv(d)||kv(f);return s[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...g}=d;return Object.entries(g).every(b=>{let[x,w]=b;return Array.isArray(w)?w.includes({...o,...l}[x]):{...o,...l}[x]===w})?[...u,f,h]:u},[]);return Sv(e,i,c,r==null?void 0:r.class,r==null?void 0:r.className)},Fp="-",QL=e=>{const t=eD(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const l=i.split(Fp);return l[0]===""&&l.length!==1&&l.shift(),Pk(l,t)||ZL(i)},getConflictingClassGroupIds:(i,l)=>{const c=r[i]||[];return l&&n[i]?[...c,...n[i]]:c}}},Pk=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?Pk(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(Fp);return(i=t.validators.find(({validator:l})=>l(o)))==null?void 0:i.classGroupId},jv=/^\[(.+)\]$/,ZL=e=>{if(jv.test(e)){const t=jv.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},eD=e=>{const{theme:t,classGroups:r}=e,n={nextPart:new Map,validators:[]};for(const s in r)jm(r[s],n,s,t);return n},jm=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:Nv(t,s);o.classGroupId=r;return}if(typeof s=="function"){if(tD(s)){jm(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([o,i])=>{jm(i,Nv(t,o),r,n)})})},Nv=(e,t)=>{let r=e;return t.split(Fp).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},tD=e=>e.isThemeGetter,rD=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(o,i)=>{r.set(o,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(o){let i=r.get(o);if(i!==void 0)return i;if((i=n.get(o))!==void 0)return s(o,i),i},set(o,i){r.has(o)?r.set(o,i):s(o,i)}}},Nm="!",Cm=":",nD=Cm.length,sD=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=s=>{const o=[];let i=0,l=0,c=0,u;for(let b=0;b<s.length;b++){let x=s[b];if(i===0&&l===0){if(x===Cm){o.push(s.slice(c,b)),c=b+nD;continue}if(x==="/"){u=b;continue}}x==="["?i++:x==="]"?i--:x==="("?l++:x===")"&&l--}const d=o.length===0?s:s.substring(c),f=oD(d),h=f!==d,g=u&&u>c?u-c:void 0;return{modifiers:o,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:g}};if(t){const s=t+Cm,o=n;n=i=>i.startsWith(s)?o(i.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:i,maybePostfixModifierPosition:void 0}}if(r){const s=n;n=o=>r({className:o,parseClassName:s})}return n},oD=e=>e.endsWith(Nm)?e.substring(0,e.length-1):e.startsWith(Nm)?e.substring(1):e,aD=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const s=[];let o=[];return n.forEach(i=>{i[0]==="["||t[i]?(s.push(...o.sort(),i),o=[]):o.push(i)}),s.push(...o.sort()),s}},iD=e=>({cache:rD(e.cacheSize),parseClassName:sD(e),sortModifiers:aD(e),...QL(e)}),lD=/\s+/,cD=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s,sortModifiers:o}=t,i=[],l=e.trim().split(lD);let c="";for(let u=l.length-1;u>=0;u-=1){const d=l[u],{isExternal:f,modifiers:h,hasImportantModifier:g,baseClassName:b,maybePostfixModifierPosition:x}=r(d);if(f){c=d+(c.length>0?" "+c:c);continue}let w=!!x,p=n(w?b.substring(0,x):b);if(!p){if(!w){c=d+(c.length>0?" "+c:c);continue}if(p=n(b),!p){c=d+(c.length>0?" "+c:c);continue}w=!1}const y=o(h).join(":"),v=g?y+Nm:y,_=v+p;if(i.includes(_))continue;i.push(_);const k=s(p,w);for(let j=0;j<k.length;++j){const C=k[j];i.push(v+C)}c=d+(c.length>0?" "+c:c)}return c};function uD(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=Tk(t))&&(n&&(n+=" "),n+=r);return n}const Tk=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Tk(e[n]))&&(r&&(r+=" "),r+=t);return r};function dD(e,...t){let r,n,s,o=i;function i(c){const u=t.reduce((d,f)=>f(d),e());return r=iD(u),n=r.cache.get,s=r.cache.set,o=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=cD(c,r);return s(c,d),d}return function(){return o(uD.apply(null,arguments))}}const it=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Ak=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Rk=/^\((?:(\w[\w-]*):)?(.+)\)$/i,fD=/^\d+\/\d+$/,hD=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,mD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,gD=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,pD=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,yD=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,oo=e=>fD.test(e),ve=e=>!!e&&!Number.isNaN(Number(e)),kn=e=>!!e&&Number.isInteger(Number(e)),jf=e=>e.endsWith("%")&&ve(e.slice(0,-1)),en=e=>hD.test(e),xD=()=>!0,vD=e=>mD.test(e)&&!gD.test(e),Mk=()=>!1,bD=e=>pD.test(e),wD=e=>yD.test(e),_D=e=>!le(e)&&!ce(e),kD=e=>ba(e,Ok,Mk),le=e=>Ak.test(e),ps=e=>ba(e,Ik,vD),Nf=e=>ba(e,ED,ve),Cv=e=>ba(e,Lk,Mk),SD=e=>ba(e,Dk,wD),Yl=e=>ba(e,Fk,bD),ce=e=>Rk.test(e),Fa=e=>wa(e,Ik),jD=e=>wa(e,PD),Ev=e=>wa(e,Lk),ND=e=>wa(e,Ok),CD=e=>wa(e,Dk),Jl=e=>wa(e,Fk,!0),ba=(e,t,r)=>{const n=Ak.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},wa=(e,t,r=!1)=>{const n=Rk.exec(e);return n?n[1]?t(n[1]):r:!1},Lk=e=>e==="position"||e==="percentage",Dk=e=>e==="image"||e==="url",Ok=e=>e==="length"||e==="size"||e==="bg-size",Ik=e=>e==="length",ED=e=>e==="number",PD=e=>e==="family-name",Fk=e=>e==="shadow",TD=()=>{const e=it("color"),t=it("font"),r=it("text"),n=it("font-weight"),s=it("tracking"),o=it("leading"),i=it("breakpoint"),l=it("container"),c=it("spacing"),u=it("radius"),d=it("shadow"),f=it("inset-shadow"),h=it("text-shadow"),g=it("drop-shadow"),b=it("blur"),x=it("perspective"),w=it("aspect"),p=it("ease"),y=it("animate"),v=()=>["auto","avoid","all","avoid-page","page","left","right","column"],_=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],k=()=>[..._(),ce,le],j=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto","contain","none"],N=()=>[ce,le,c],F=()=>[oo,"full","auto",...N()],E=()=>[kn,"none","subgrid",ce,le],I=()=>["auto",{span:["full",kn,ce,le]},kn,ce,le],P=()=>[kn,"auto",ce,le],O=()=>["auto","min","max","fr",ce,le],A=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],$=()=>["start","end","center","stretch","center-safe","end-safe"],D=()=>["auto",...N()],z=()=>[oo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...N()],S=()=>[e,ce,le],M=()=>[..._(),Ev,Cv,{position:[ce,le]}],T=()=>["no-repeat",{repeat:["","x","y","space","round"]}],B=()=>["auto","cover","contain",ND,kD,{size:[ce,le]}],V=()=>[jf,Fa,ps],re=()=>["","none","full",u,ce,le],se=()=>["",ve,Fa,ps],fe=()=>["solid","dashed","dotted","double"],oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>[ve,jf,Ev,Cv],G=()=>["","none",b,ce,le],X=()=>["none",ve,ce,le],H=()=>["none",ve,ce,le],Y=()=>[ve,ce,le],K=()=>[oo,"full",...N()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[en],breakpoint:[en],color:[xD],container:[en],"drop-shadow":[en],ease:["in","out","in-out"],font:[_D],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[en],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[en],shadow:[en],spacing:["px",ve],text:[en],"text-shadow":[en],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",oo,le,ce,w]}],container:["container"],columns:[{columns:[ve,le,ce,l]}],"break-after":[{"break-after":v()}],"break-before":[{"break-before":v()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:k()}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:F()}],"inset-x":[{"inset-x":F()}],"inset-y":[{"inset-y":F()}],start:[{start:F()}],end:[{end:F()}],top:[{top:F()}],right:[{right:F()}],bottom:[{bottom:F()}],left:[{left:F()}],visibility:["visible","invisible","collapse"],z:[{z:[kn,"auto",ce,le]}],basis:[{basis:[oo,"full","auto",l,...N()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ve,oo,"auto","initial","none",le]}],grow:[{grow:["",ve,ce,le]}],shrink:[{shrink:["",ve,ce,le]}],order:[{order:[kn,"first","last","none",ce,le]}],"grid-cols":[{"grid-cols":E()}],"col-start-end":[{col:I()}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":E()}],"row-start-end":[{row:I()}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":O()}],"auto-rows":[{"auto-rows":O()}],gap:[{gap:N()}],"gap-x":[{"gap-x":N()}],"gap-y":[{"gap-y":N()}],"justify-content":[{justify:[...A(),"normal"]}],"justify-items":[{"justify-items":[...$(),"normal"]}],"justify-self":[{"justify-self":["auto",...$()]}],"align-content":[{content:["normal",...A()]}],"align-items":[{items:[...$(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...$(),{baseline:["","last"]}]}],"place-content":[{"place-content":A()}],"place-items":[{"place-items":[...$(),"baseline"]}],"place-self":[{"place-self":["auto",...$()]}],p:[{p:N()}],px:[{px:N()}],py:[{py:N()}],ps:[{ps:N()}],pe:[{pe:N()}],pt:[{pt:N()}],pr:[{pr:N()}],pb:[{pb:N()}],pl:[{pl:N()}],m:[{m:D()}],mx:[{mx:D()}],my:[{my:D()}],ms:[{ms:D()}],me:[{me:D()}],mt:[{mt:D()}],mr:[{mr:D()}],mb:[{mb:D()}],ml:[{ml:D()}],"space-x":[{"space-x":N()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":N()}],"space-y-reverse":["space-y-reverse"],size:[{size:z()}],w:[{w:[l,"screen",...z()]}],"min-w":[{"min-w":[l,"screen","none",...z()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[i]},...z()]}],h:[{h:["screen",...z()]}],"min-h":[{"min-h":["screen","none",...z()]}],"max-h":[{"max-h":["screen",...z()]}],"font-size":[{text:["base",r,Fa,ps]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,ce,Nf]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",jf,le]}],"font-family":[{font:[jD,le,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,ce,le]}],"line-clamp":[{"line-clamp":[ve,"none",ce,Nf]}],leading:[{leading:[o,...N()]}],"list-image":[{"list-image":["none",ce,le]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ce,le]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:S()}],"text-color":[{text:S()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...fe(),"wavy"]}],"text-decoration-thickness":[{decoration:[ve,"from-font","auto",ce,ps]}],"text-decoration-color":[{decoration:S()}],"underline-offset":[{"underline-offset":[ve,"auto",ce,le]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ce,le]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ce,le]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:M()}],"bg-repeat":[{bg:T()}],"bg-size":[{bg:B()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},kn,ce,le],radial:["",ce,le],conic:[kn,ce,le]},CD,SD]}],"bg-color":[{bg:S()}],"gradient-from-pos":[{from:V()}],"gradient-via-pos":[{via:V()}],"gradient-to-pos":[{to:V()}],"gradient-from":[{from:S()}],"gradient-via":[{via:S()}],"gradient-to":[{to:S()}],rounded:[{rounded:re()}],"rounded-s":[{"rounded-s":re()}],"rounded-e":[{"rounded-e":re()}],"rounded-t":[{"rounded-t":re()}],"rounded-r":[{"rounded-r":re()}],"rounded-b":[{"rounded-b":re()}],"rounded-l":[{"rounded-l":re()}],"rounded-ss":[{"rounded-ss":re()}],"rounded-se":[{"rounded-se":re()}],"rounded-ee":[{"rounded-ee":re()}],"rounded-es":[{"rounded-es":re()}],"rounded-tl":[{"rounded-tl":re()}],"rounded-tr":[{"rounded-tr":re()}],"rounded-br":[{"rounded-br":re()}],"rounded-bl":[{"rounded-bl":re()}],"border-w":[{border:se()}],"border-w-x":[{"border-x":se()}],"border-w-y":[{"border-y":se()}],"border-w-s":[{"border-s":se()}],"border-w-e":[{"border-e":se()}],"border-w-t":[{"border-t":se()}],"border-w-r":[{"border-r":se()}],"border-w-b":[{"border-b":se()}],"border-w-l":[{"border-l":se()}],"divide-x":[{"divide-x":se()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":se()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...fe(),"hidden","none"]}],"divide-style":[{divide:[...fe(),"hidden","none"]}],"border-color":[{border:S()}],"border-color-x":[{"border-x":S()}],"border-color-y":[{"border-y":S()}],"border-color-s":[{"border-s":S()}],"border-color-e":[{"border-e":S()}],"border-color-t":[{"border-t":S()}],"border-color-r":[{"border-r":S()}],"border-color-b":[{"border-b":S()}],"border-color-l":[{"border-l":S()}],"divide-color":[{divide:S()}],"outline-style":[{outline:[...fe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ve,ce,le]}],"outline-w":[{outline:["",ve,Fa,ps]}],"outline-color":[{outline:S()}],shadow:[{shadow:["","none",d,Jl,Yl]}],"shadow-color":[{shadow:S()}],"inset-shadow":[{"inset-shadow":["none",f,Jl,Yl]}],"inset-shadow-color":[{"inset-shadow":S()}],"ring-w":[{ring:se()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:S()}],"ring-offset-w":[{"ring-offset":[ve,ps]}],"ring-offset-color":[{"ring-offset":S()}],"inset-ring-w":[{"inset-ring":se()}],"inset-ring-color":[{"inset-ring":S()}],"text-shadow":[{"text-shadow":["none",h,Jl,Yl]}],"text-shadow-color":[{"text-shadow":S()}],opacity:[{opacity:[ve,ce,le]}],"mix-blend":[{"mix-blend":[...oe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":oe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ve]}],"mask-image-linear-from-pos":[{"mask-linear-from":R()}],"mask-image-linear-to-pos":[{"mask-linear-to":R()}],"mask-image-linear-from-color":[{"mask-linear-from":S()}],"mask-image-linear-to-color":[{"mask-linear-to":S()}],"mask-image-t-from-pos":[{"mask-t-from":R()}],"mask-image-t-to-pos":[{"mask-t-to":R()}],"mask-image-t-from-color":[{"mask-t-from":S()}],"mask-image-t-to-color":[{"mask-t-to":S()}],"mask-image-r-from-pos":[{"mask-r-from":R()}],"mask-image-r-to-pos":[{"mask-r-to":R()}],"mask-image-r-from-color":[{"mask-r-from":S()}],"mask-image-r-to-color":[{"mask-r-to":S()}],"mask-image-b-from-pos":[{"mask-b-from":R()}],"mask-image-b-to-pos":[{"mask-b-to":R()}],"mask-image-b-from-color":[{"mask-b-from":S()}],"mask-image-b-to-color":[{"mask-b-to":S()}],"mask-image-l-from-pos":[{"mask-l-from":R()}],"mask-image-l-to-pos":[{"mask-l-to":R()}],"mask-image-l-from-color":[{"mask-l-from":S()}],"mask-image-l-to-color":[{"mask-l-to":S()}],"mask-image-x-from-pos":[{"mask-x-from":R()}],"mask-image-x-to-pos":[{"mask-x-to":R()}],"mask-image-x-from-color":[{"mask-x-from":S()}],"mask-image-x-to-color":[{"mask-x-to":S()}],"mask-image-y-from-pos":[{"mask-y-from":R()}],"mask-image-y-to-pos":[{"mask-y-to":R()}],"mask-image-y-from-color":[{"mask-y-from":S()}],"mask-image-y-to-color":[{"mask-y-to":S()}],"mask-image-radial":[{"mask-radial":[ce,le]}],"mask-image-radial-from-pos":[{"mask-radial-from":R()}],"mask-image-radial-to-pos":[{"mask-radial-to":R()}],"mask-image-radial-from-color":[{"mask-radial-from":S()}],"mask-image-radial-to-color":[{"mask-radial-to":S()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":_()}],"mask-image-conic-pos":[{"mask-conic":[ve]}],"mask-image-conic-from-pos":[{"mask-conic-from":R()}],"mask-image-conic-to-pos":[{"mask-conic-to":R()}],"mask-image-conic-from-color":[{"mask-conic-from":S()}],"mask-image-conic-to-color":[{"mask-conic-to":S()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:M()}],"mask-repeat":[{mask:T()}],"mask-size":[{mask:B()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ce,le]}],filter:[{filter:["","none",ce,le]}],blur:[{blur:G()}],brightness:[{brightness:[ve,ce,le]}],contrast:[{contrast:[ve,ce,le]}],"drop-shadow":[{"drop-shadow":["","none",g,Jl,Yl]}],"drop-shadow-color":[{"drop-shadow":S()}],grayscale:[{grayscale:["",ve,ce,le]}],"hue-rotate":[{"hue-rotate":[ve,ce,le]}],invert:[{invert:["",ve,ce,le]}],saturate:[{saturate:[ve,ce,le]}],sepia:[{sepia:["",ve,ce,le]}],"backdrop-filter":[{"backdrop-filter":["","none",ce,le]}],"backdrop-blur":[{"backdrop-blur":G()}],"backdrop-brightness":[{"backdrop-brightness":[ve,ce,le]}],"backdrop-contrast":[{"backdrop-contrast":[ve,ce,le]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ve,ce,le]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ve,ce,le]}],"backdrop-invert":[{"backdrop-invert":["",ve,ce,le]}],"backdrop-opacity":[{"backdrop-opacity":[ve,ce,le]}],"backdrop-saturate":[{"backdrop-saturate":[ve,ce,le]}],"backdrop-sepia":[{"backdrop-sepia":["",ve,ce,le]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":N()}],"border-spacing-x":[{"border-spacing-x":N()}],"border-spacing-y":[{"border-spacing-y":N()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ce,le]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ve,"initial",ce,le]}],ease:[{ease:["linear","initial",p,ce,le]}],delay:[{delay:[ve,ce,le]}],animate:[{animate:["none",y,ce,le]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,ce,le]}],"perspective-origin":[{"perspective-origin":k()}],rotate:[{rotate:X()}],"rotate-x":[{"rotate-x":X()}],"rotate-y":[{"rotate-y":X()}],"rotate-z":[{"rotate-z":X()}],scale:[{scale:H()}],"scale-x":[{"scale-x":H()}],"scale-y":[{"scale-y":H()}],"scale-z":[{"scale-z":H()}],"scale-3d":["scale-3d"],skew:[{skew:Y()}],"skew-x":[{"skew-x":Y()}],"skew-y":[{"skew-y":Y()}],transform:[{transform:[ce,le,"","none","gpu","cpu"]}],"transform-origin":[{origin:k()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:K()}],"translate-x":[{"translate-x":K()}],"translate-y":[{"translate-y":K()}],"translate-z":[{"translate-z":K()}],"translate-none":["translate-none"],accent:[{accent:S()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:S()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ce,le]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ce,le]}],fill:[{fill:["none",...S()]}],"stroke-w":[{stroke:[ve,Fa,ps,Nf]}],stroke:[{stroke:["none",...S()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},AD=dD(TD);function Ne(...e){return AD(Ck(e))}const RD=Ek("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-gradient-to-r from-slate-400 to-rose-300 hover:from-slate-500 hover:to-rose-400 text-white",ghost:"hover:bg-gradient-to-r hover:from-slate-500 hover:to-rose-400 hover:text-white",outline:"border border-input bg-background hover:bg-gradient-to-r hover:from-slate-500 hover:to-rose-400 hover:text-white",secondary:"bg-gradient-to-r from-slate-400 to-rose-300 hover:from-slate-500 hover:to-rose-400 text-white",destructive:"bg-red-500 text-white hover:bg-red-600",primary:"bg-blue-600 text-white hover:bg-blue-700"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),xe=m.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},o)=>{const i=n?WL:"button";return a.jsx(i,{className:Ne(RD({variant:t,size:r,className:e})),ref:o,...s})});xe.displayName="Button";const MD=["EN","RU","KK","TR"],LD=()=>{const{language:e,setLanguage:t,isTranslating:r}=ot(),[n,s]=m.useState(!1),[o,i]=m.useState(null),[l,c]=m.useState("unavailable"),[u,d]=m.useState("Translation disabled - working in fallback mode"),f=m.useRef(null),[h,g]=m.useState(0);m.useEffect(()=>{b()},[]);const b=async()=>{if(!(h>=3)){g(w=>w+1),c("checking");try{const w=await $i();c(w?"available":"unavailable"),d(w?null:"Translation server is offline - using fallback mode")}catch(w){console.error("Error checking translation server:",w),c("unavailable"),d("Error connecting to translation service")}}};m.useEffect(()=>{const w=p=>{f.current&&!f.current.contains(p.target)&&s(!1)};return document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}},[]),m.useEffect(()=>{n&&i({EN:{hello:"Hello",welcome:"Welcome",button_example:"Submit"},RU:{hello:"",welcome:" ",button_example:""},KK:{hello:"",welcome:" ",button_example:""},TR:{hello:"Merhaba",welcome:"Ho geldiniz",button_example:"Gnder"}}[e])},[n,e]);const x=async w=>{if(e===w){s(!1);return}if(l==="unavailable"){t(w),s(!1),q.success(`Language changed to ${w} (translations disabled)`,{icon:"",duration:2e3});return}try{const p=await $i();c(p?"available":"unavailable"),p||q("Translation server is offline. Using original text.",{icon:"",duration:3e3})}catch(p){console.error("Error checking translation server:",p)}t(w),s(!1),q.success(`Language changed to ${w}`,{icon:"",duration:2e3})};return a.jsxs("div",{className:"relative",ref:f,children:[a.jsx("button",{onClick:()=>s(!n),className:"flex items-center justify-center text-gray-600 dark:text-white/70 hover:text-gray-800 dark:hover:text-white transition-colors duration-200","aria-label":"Change Language",title:`Change Language (${l==="available"?"Online":"Offline mode"})`,children:r?a.jsx(n8,{className:"w-5 h-5 animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsx(ZT,{className:"w-5 h-5"}),a.jsx("span",{className:`absolute top-0 right-0 block w-2 h-2 rounded-full ${l==="available"?"bg-green-400":l==="unavailable"?"bg-red-400":"bg-yellow-400 animate-pulse"}`})]})}),n&&a.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-[#121212] border border-gray-200 dark:border-white/10 rounded-xl shadow-lg py-1 z-50",children:[u&&a.jsx("div",{className:"px-4 py-2 text-xs text-red-500 border-b border-gray-200 dark:border-gray-700",children:u}),a.jsxs("div",{className:"px-4 py-2 border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Translation server"}),a.jsxs("span",{className:`flex items-center text-xs ${l==="available"?"text-green-500 dark:text-green-400":l==="unavailable"?"text-red-500 dark:text-red-400":"text-yellow-500 dark:text-yellow-400"}`,children:[a.jsx("span",{className:`inline-block w-2 h-2 rounded-full mr-1 ${l==="available"?"bg-green-500 dark:bg-green-400":l==="unavailable"?"bg-red-500 dark:bg-red-400":"bg-yellow-500 dark:bg-yellow-400 animate-pulse"}`}),l==="available"?"Online":l==="unavailable"?"Offline":"Checking..."]})]}),h<3&&a.jsx("div",{className:"mt-1 text-xs text-gray-500",children:a.jsx("button",{onClick:b,className:"text-blue-500 hover:underline",children:"Test connection"})})]}),a.jsxs("div",{className:"px-4 py-2 border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:["Current: ",e.toUpperCase()]}),o&&a.jsxs("div",{className:"text-xs",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Hello:"})," ",o.hello]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Welcome:"})," ",o.welcome]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Button:"})," ",o.button_example]})]})]}),a.jsx("div",{className:"py-1",children:MD.map(w=>a.jsxs("button",{onClick:()=>x(w),className:`block w-full text-left px-4 py-2 text-sm ${e===w?"bg-blue-50 text-blue-600 dark:bg-blue-900/20 dark:text-blue-400":"text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-800/80"}`,disabled:r,children:[w==="EN"&&"English ",w==="RU"&&" ",w==="KK"&&" ",w==="TR"&&"Trke "]},w))}),a.jsx("div",{className:"px-4 py-2 border-t border-gray-200 dark:border-gray-700",children:a.jsx("button",{onClick:()=>{window.location.reload()},className:"w-full text-xs text-center text-gray-500 dark:text-gray-400 hover:text-blue-500 dark:hover:text-blue-400",children:"Reload app"})})]})]})},DD=()=>{var b,x;const{user:e,signOut:t}=at(),{isDarkMode:r,toggleDarkMode:n}=qg();rr();const s=st(),[o,i]=m.useState(!1),[l,c]=m.useState(!1),u=m.useRef(null),d=m.useRef(null),{fetchNotifications:f}=c8();m.useEffect(()=>{e&&l&&f()},[e,l,f]);const h=()=>{n()},g=async()=>{try{await t(),Z.success("Logged out successfully"),s("/login")}catch(w){console.error("Logout Error:",w),Z.error("Logout failed. Please try again.")}};return m.useEffect(()=>{const w=p=>{u.current&&!u.current.contains(p.target)&&i(!1)};return document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}},[]),a.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-white dark:bg-neutral-800 shadow-md border-b border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsx("div",{className:"flex items-center",children:a.jsx(be,{to:"/",className:"flex-shrink-0 flex items-center",children:a.jsx("span",{className:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-indigo-500 to-rose-500",children:"ConnectMe"})})}),a.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[a.jsx("div",{className:"hidden md:block flex-1 max-w-xs"}),a.jsxs("div",{className:"flex items-center space-x-4 md:space-x-5",children:[a.jsx(LD,{}),a.jsx("button",{onClick:h,className:"p-2 rounded-full text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none","aria-label":"Toggle dark mode",children:r?a.jsx(o8,{className:"h-5 w-5"}):a.jsx(t8,{className:"h-5 w-5"})}),a.jsx(be,{to:"/messages",className:"p-2 rounded-full text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none","aria-label":"Messages",children:a.jsx(XT,{className:"h-5 w-5"})}),e?a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{ref:d,className:"relative",children:a.jsx(i8,{})}),a.jsxs("div",{ref:u,className:"relative",children:[a.jsxs("button",{onClick:()=>i(!o),className:"flex items-center text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500",children:[a.jsx("img",{className:"h-8 w-8 rounded-full object-cover border-2 border-gray-300 dark:border-gray-600",src:((b=e.user_metadata)==null?void 0:b.avatar_url)||"/default-avatar.png",alt:"User profile"}),a.jsx("span",{onClick:w=>{w.stopPropagation(),s("/profile")},className:"ml-2 text-gray-700 dark:text-gray-300 hidden sm:inline cursor-pointer hover:text-rose-500 dark:hover:text-rose-400 transition-colors",children:((x=e.user_metadata)==null?void 0:x.username)||e.email})]}),a.jsx(ip,{children:o&&a.jsxs(fr.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white dark:bg-gray-800 ring-1 ring-black ring-opacity-5 focus:outline-none z-[60]",children:[a.jsx("button",{onClick:()=>{s("/settings"),i(!1)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",children:"Settings"}),a.jsx("button",{onClick:()=>{g(),i(!1)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",children:"Sign Out"})]})})]})]}):a.jsx(xe,{onClick:()=>s("/login"),className:"px-5 py-2 rounded-lg text-sm",children:"Sign In"})]})]}),a.jsx("div",{className:"-mr-2 flex md:hidden",children:a.jsx(l8,{})})]})})})};/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$k=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ID={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:i,...l},c)=>m.createElement("svg",{ref:c,...ID,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:$k("lucide",s),...l},[...i.map(([u,d])=>m.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xs=(e,t)=>{const r=m.forwardRef(({className:n,...s},o)=>m.createElement(FD,{ref:o,iconNode:t,className:$k(`lucide-${OD(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Uk=Xs("Check",$D);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],zk=Xs("ChevronDown",UD);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],BD=Xs("ChevronRight",zD);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],GD=Xs("ChevronUp",VD);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Bk=Xs("Circle",qD);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],HD=Xs("Menu",WD);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Vk=Xs("X",KD),Gk=m.createContext(void 0),qk=()=>{const e=m.useContext(Gk);if(!e)throw new Error("useSidebar must be used within a SidebarProvider");return e},YD=({children:e,open:t,setOpen:r,animate:n=!0})=>{const[s,o]=m.useState(!1),i=t!==void 0?t:s,l=r!==void 0?r:o;return a.jsx(Gk.Provider,{value:{open:i,setOpen:l,animate:n},children:e})};function JD({children:e,open:t,setOpen:r,animate:n}){return a.jsx(YD,{open:t,setOpen:r,animate:n,children:e})}const XD=e=>a.jsxs(a.Fragment,{children:[a.jsx(QD,{...e}),a.jsx(ZD,{...e})]}),QD=({className:e,children:t,...r})=>a.jsx(fr.div,{className:Ne("h-full px-4 py-4 hidden md:flex md:flex-col bg-neutral-100 dark:bg-neutral-800 w-[240px] flex-shrink-0",e),...r,children:t}),ZD=({className:e,children:t,...r})=>{const{open:n,setOpen:s}=qk();return a.jsx(a.Fragment,{children:a.jsxs("div",{className:Ne("h-10 px-4 py-4 flex flex-row md:hidden items-center justify-between bg-neutral-100 dark:bg-neutral-800 w-full"),...r,children:[a.jsx("div",{className:"flex justify-end z-20 w-full",children:a.jsx(HD,{className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",onClick:()=>s(!n)})}),a.jsx(ip,{children:n&&a.jsxs(fr.div,{initial:{x:"-100%",opacity:0},animate:{x:0,opacity:1},exit:{x:"-100%",opacity:0},transition:{duration:.3,ease:"easeInOut"},className:Ne("fixed h-full w-full inset-0 bg-white dark:bg-neutral-800 p-10 z-[100] flex flex-col justify-between",e),children:[a.jsx("div",{className:"absolute right-10 top-10 z-50 text-neutral-800 dark:text-neutral-200 cursor-pointer",onClick:()=>s(!n),children:a.jsx(Vk,{})}),t]})})]})})},Cf=({link:e,className:t,...r})=>{const{open:n,animate:s}=qk(),[o,i]=m.useState(!1),{t:l}=Mr();return m.useEffect(()=>{const c=()=>{const d=window.location.pathname;if(e.href==="/profile"&&d.startsWith("/profile/")){i(!0);return}if(["/settings","/discover","/saved","/favorites"].includes(e.href)){i(d===e.href);return}d===e.href||d.startsWith(`${e.href}/`)&&e.href!=="/"?i(!0):i(!1)};c(),window.addEventListener("popstate",c);const u=()=>c();return window.addEventListener("routeChange",u),()=>{window.removeEventListener("popstate",c),window.removeEventListener("routeChange",u)}},[e.href]),a.jsxs(be,{to:e.href,className:Ne("flex items-center justify-start gap-3 group/sidebar py-3 px-4 my-1 rounded-lg",o?"bg-gradient-to-r from-gray-200 to-rose-200 dark:from-gray-800 dark:to-rose-900 text-gray-800 dark:text-rose-100 font-medium":"text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-800 hover:bg-gradient-to-r hover:from-gray-100 hover:to-rose-100 dark:hover:from-black dark:hover:to-rose-900/40",t),...r,children:[a.jsx("div",{className:`text-lg ${o?"text-rose-600 dark:text-rose-300":""}`,children:e.icon}),a.jsx(fr.span,{animate:{display:s?n?"inline-block":"none":"inline-block",opacity:s?n?1:0:1},className:"text-sm font-medium group-hover/sidebar:translate-x-1 transition duration-150 whitespace-pre inline-block !p-0 !m-0",children:l(e.label)})]})},eO=()=>{const[e,t]=m.useState(!0),r=rr(),n=st(),{t:s}=Mr();m.useEffect(()=>{window.scrollTo(0,0),window.dispatchEvent(new Event("routeChange"))},[r.pathname]);const o=[{href:"/home",label:"nav.home",icon:a.jsx(K2,{size:18})},{href:"/profile",label:"nav.profile",icon:a.jsx(rp,{size:18})},{href:"/groups",label:"nav.groups",icon:a.jsx(ra,{size:18})},{href:"/events",label:"nav.events",icon:a.jsx(ta,{size:18})}],i=[{href:"/friends",label:"nav.friends",icon:a.jsx(J2,{size:18})},{href:"/notifications",label:"nav.notifications",icon:a.jsx(G2,{size:18})},{href:"/messages",label:"nav.messages",icon:a.jsx(W2,{size:18})}],l=[{href:"/discover",label:"nav.discover",icon:a.jsx(QT,{size:18})},{href:"/saved",label:"nav.saved",icon:a.jsx(ou,{size:18})},{href:"/favorites",label:"nav.favorites",icon:a.jsx(s8,{size:18})},{href:"/settings",label:"nav.settings",icon:a.jsx(q2,{size:18})}],c=u=>{r.pathname!==u&&(n(u),window.dispatchEvent(new Event("routeChange")))};return a.jsxs("div",{className:"min-h-screen bg-white dark:bg-neutral-800",children:[a.jsx("header",{className:"sticky top-0 z-50 w-full",children:a.jsx(DD,{})}),a.jsxs("div",{className:"flex min-h-[calc(100vh-4rem)]",children:[a.jsx("aside",{className:"hidden lg:block flex-shrink-0 w-[240px] sticky top-16 h-[calc(100vh-4rem)] overflow-hidden",children:a.jsx(JD,{open:e,setOpen:t,children:a.jsxs(XD,{className:"flex flex-col h-full py-4 overflow-y-auto border-r border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"px-4 text-xs uppercase text-gray-500 dark:text-gray-400 font-semibold mb-2",children:s("nav.main")}),a.jsx("div",{className:"space-y-1",children:o.map(u=>a.jsx(Cf,{link:u,onClick:()=>c(u.href)},u.href))})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"px-4 text-xs uppercase text-gray-500 dark:text-gray-400 font-semibold mb-2",children:s("nav.shortcuts")}),a.jsx("div",{className:"space-y-1",children:i.map(u=>a.jsx(Cf,{link:u,onClick:()=>c(u.href)},u.href))})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"px-4 text-xs uppercase text-gray-500 dark:text-gray-400 font-semibold mb-2",children:s("nav.resources")}),a.jsx("div",{className:"space-y-1",children:l.map(u=>a.jsx(Cf,{link:u,onClick:()=>c(u.href)},u.href))})]})]})})}),a.jsx("main",{className:"flex-1 p-6",children:a.jsx(_E,{})})]})]})},tO={user:null,loading:!0,hasCompletedProfile:!1},Sc=({children:e})=>{var u,d;const{user:t,loading:r,hasCompletedProfile:n=!1}=at()||tO,s=rr(),[o,i]=m.useState(0);m.useEffect(()=>{const f=parseInt(sessionStorage.getItem("last_redirect_time")||"0",10),h=Date.now();h-f<1e3?i(g=>g+1):i(0),o===0&&sessionStorage.setItem("last_redirect_time",h.toString()),o>5&&console.error("RequireAuth: Muhtemelen bir ynlendirme dngsne girildi!")},[s.pathname]),console.log("RequireAuth State:",{path:s.pathname,user:!!t,loading:r,hasCompletedProfile:n,redirectCount:o});const l=["/","/login","/register","/callback","/reset-password"].includes(s.pathname)||s.pathname.startsWith("/callback"),c=s.pathname==="/complete-profile";if(o>5)return console.log("RequireAuth: Too many redirects detected."),sessionStorage.removeItem("last_redirect_time"),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-black",children:a.jsxs("div",{className:"text-center p-8 bg-white dark:bg-gray-800 rounded-lg shadow-lg max-w-md",children:[a.jsx("h2",{className:"text-xl font-bold text-red-600 dark:text-red-400 mb-4",children:"Authentication Error"}),a.jsx("p",{className:"mb-4 text-gray-700 dark:text-gray-300",children:"An authentication loop was detected. Please try clearing your browser cache and cookies, then sign in again."}),a.jsx("a",{href:"/login",className:"inline-block px-4 py-2 bg-gradient-to-r from-indigo-500 to-rose-500 text-white rounded hover:from-indigo-600 hover:to-rose-600 transition-all",onClick:()=>{localStorage.clear(),sessionStorage.clear(),window.location.href="/login"},children:"Go to Login"})]})});if(r)return console.log("RequireAuth: AuthContext is loading..."),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-black",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-rose-500"}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-lg",children:"Loading..."})]})});if(!t)return l?(console.log("RequireAuth: Not authenticated, on public path."),o>0&&i(0),sessionStorage.removeItem("last_redirect_time"),a.jsx(a.Fragment,{children:e})):(console.log("RequireAuth: Not authenticated (after load), redirecting to login."),a.jsx(ci,{to:"/login",state:{from:s},replace:!0}));if(n&&(s.pathname==="/login"||s.pathname==="/register")){console.log("RequireAuth: Authenticated and profile complete, redirecting from login/register.");const f=((d=(u=s.state)==null?void 0:u.from)==null?void 0:d.pathname)||"/home";return a.jsx(ci,{to:f,replace:!0})}return!n&&!c&&!l?(console.log("RequireAuth: Authenticated but profile incomplete, redirecting to /complete-profile."),a.jsx(ci,{to:"/complete-profile",state:{from:s},replace:!0})):(console.log("RequireAuth: All checks passed, allowing access."),o>0&&i(0),sessionStorage.removeItem("last_redirect_time"),a.jsx(a.Fragment,{children:e}))},Em=({children:e})=>{const{user:t,loading:r,hasCompletedProfile:n}=at(),s=rr();return console.log("RequireProfileCompletion: Current path:",s.pathname),console.log("RequireProfileCompletion: Profile completed:",n),s.pathname==="/complete-profile"?a.jsx(a.Fragment,{children:e}):r&&!t?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-black",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-rose-500"}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-lg",children:"Loading profile..."})]})}):t&&n===!1&&s.pathname!=="/complete-profile"?(console.log("RequireProfileCompletion: Redirecting to complete profile"),a.jsx(ci,{to:"/complete-profile",state:{from:s},replace:!0})):a.jsx(a.Fragment,{children:e})},rO=({onEmergencySignOut:e})=>{const{search:t}=rr(),r=new URLSearchParams(t);return r.has("emergency_logout")||r.has("session_expired")||r.has("auth_error")?a.jsxs("div",{className:"mt-6 p-4 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:[a.jsx("h3",{className:"text-sm font-semibold text-red-800 dark:text-red-200 mb-2",children:"Authentication Issues?"}),a.jsx("p",{className:"text-xs text-red-700 dark:text-red-300 mb-3",children:"If you're stuck in a login loop or experiencing authentication problems, use the emergency sign-out button to clear all session data."}),a.jsx("button",{onClick:e,className:"w-full py-2 px-3 bg-red-600 hover:bg-red-700 text-white text-sm font-medium rounded-md transition-colors",children:"Emergency Sign Out"})]}):null},nO=()=>{const{signIn:e,signInWithGoogle:t,emergencySignOut:r}=pa(),{language:n,translateText:s}=ot();st(),rr();const o="/connect-me-logo.png",[i,l]=m.useState({email:"",password:""}),[c,u]=m.useState(!1),[d,f]=m.useState(""),[h,g]=m.useState(!1),[b,x]=m.useState({welcomeBack:"Welcome Back",dontHaveAccount:"Don't have an account?",register:"Register",signInWithGoogle:"Sign in with Google",orContinueWithEmail:"Or continue with email",emailAddress:"Email address",emailPlaceholder:"you@example.com",password:"Password",passwordPlaceholder:"",rememberMe:"Remember me",forgotPassword:"Forgot password?",signIn:"Sign In",signingIn:"Signing in...",back:"Back to Landing Page"});m.useEffect(()=>{(async()=>{if(n!=="EN")try{const _=Object.keys(b).map(N=>b[N]),k=await Promise.all(_.map(N=>s(N))),j=Object.keys(b),C={...b};j.forEach((N,F)=>{C[N]=k[F]}),x(C)}catch(_){console.error("Error translating login texts:",_)}})()},[n,s,b]);const w=v=>{const{name:_,value:k}=v.target;l(j=>({...j,[_]:k})),f("")},p=async v=>{var _;if(v.preventDefault(),f(""),!i.email||!i.password){const k=await s("Please fill in all fields");f(k);return}try{g(!0),console.log("[LOGIN] Attempting to sign in with email..."),localStorage.removeItem("supabase.auth.token");let k=0;const j=2;let C=!1;for(;k<j&&!C;)try{k++,await e(i.email,i.password),console.log("[LOGIN] Sign in successful"),C=!0}catch(E){if(console.error(`[LOGIN] Sign in attempt ${k} failed:`,E),k>=j)throw E;await new Promise(I=>setTimeout(I,1e3)),console.log(`[LOGIN] Retrying sign in (attempt ${k+1})...`)}const N=await s("Successfully signed in!");Z.success(N);const{data:F}=await L.from("profiles").select("is_profile_complete").eq("id",(_=(await L.auth.getUser()).data.user)==null?void 0:_.id).single();F&&!F.is_profile_complete?window.location.href="/complete-profile":window.location.href="/home"}catch(k){console.error("[LOGIN] Final sign in error:",k),g(!1);let j="";k instanceof Error?(console.error("[LOGIN] Error details:",k.message),k.message.includes("Invalid login credentials")?j=await s("Invalid email or password"):k.message.includes("rate limit")?j=await s("Too many login attempts. Please try again later"):j=await s("Failed to sign in")):j=await s("An unknown error occurred"),f(j),Z.error(j)}},y=async()=>{try{g(!0),console.log("[LoginPage] Environment vars:",{supabaseUrl:"Set",supabaseKey:"Not set",port:window.location.port,host:window.location.host});const v=`${window.location.origin}/callback`;localStorage.setItem("redirectUrl",v),console.log("[LoginPage] Stored redirect URL:",v);const{data:_,error:k}=await L.auth.signInWithOAuth({provider:"google",options:{redirectTo:v,queryParams:{access_type:"offline",prompt:"select_account"}}});if(k)throw k;console.log("[LoginPage] OAuth response received:",_?"Success":"No data"),_!=null&&_.url?(console.log("[LoginPage] Redirecting to provider URL:",_.url),window.location.href=_.url):(console.error("[LoginPage] No redirect URL provided by Supabase"),Z.error("Authentication failed. Please try again."))}catch(v){console.error("[LoginPage] Google login error:",v),Z.error(`Failed to log in: ${v.message}`)}finally{g(!1)}};return a.jsxs("div",{className:"min-h-screen flex",children:[a.jsx("div",{className:"hidden lg:flex w-1/2 flex-col items-center justify-center bg-white dark:bg-gray-900",children:a.jsxs("div",{className:"p-12 flex flex-col items-center justify-center h-full w-full",children:[a.jsx("div",{className:"flex-grow flex items-center justify-center w-full",children:a.jsx("img",{src:o,alt:"ConnectMe",className:"w-full max-w-md object-contain",onError:v=>{console.error("Logo failed to load"),v.currentTarget.onerror=null,v.currentTarget.src="https://via.placeholder.com/300x300?text=ConnectMe"}})}),a.jsx("p",{className:"mt-8 text-center text-xl max-w-md bg-clip-text text-transparent bg-gradient-to-r from-gray-400 via-indigo-500 to-rose-500 dark:from-gray-300 dark:via-indigo-400 dark:to-rose-400 font-medium",children:"Connect with friends, share moments, and build your network"})]})}),a.jsxs("div",{className:"w-full lg:w-1/2 flex flex-col bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900",children:[a.jsxs("div",{className:"p-4 flex justify-between items-center",children:[a.jsxs(be,{to:"/",className:"flex items-center text-gray-700 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-white",children:[a.jsx(YT,{className:"mr-2"}),a.jsx("span",{"data-i18n":!0,children:b.back})]}),a.jsx("div",{className:"lg:hidden flex items-center",children:a.jsx("img",{src:o,alt:"ConnectMe",className:"h-10 w-auto",onError:v=>{console.error("Small logo failed to load"),v.currentTarget.onerror=null,v.currentTarget.src="https://via.placeholder.com/40x40?text=CM"}})})]}),a.jsx("div",{className:"flex-grow flex items-center justify-center px-4 sm:px-6 lg:px-8 py-12",children:a.jsx("div",{className:"max-w-md w-full space-y-8",children:a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-xl shadow-lg border border-gray-200 dark:border-slate-700",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-center text-3xl font-extrabold bg-clip-text text-transparent bg-gradient-to-r from-gray-700 via-indigo-500 to-rose-500 dark:from-gray-200 dark:via-indigo-400 dark:to-rose-400 mb-6","data-i18n":!0,children:b.welcomeBack}),a.jsxs("p",{className:"text-center text-gray-600 dark:text-gray-400 text-sm",children:[a.jsx("span",{"data-i18n":!0,children:b.dontHaveAccount})," ",a.jsx(be,{to:"/register",className:"font-medium text-indigo-600 hover:text-rose-500 dark:text-indigo-400 dark:hover:text-rose-400","data-i18n":!0,children:b.register})]})]}),a.jsxs("div",{className:"mt-8",children:[a.jsxs(xe,{onClick:y,disabled:h,className:"w-full flex items-center justify-center",children:[a.jsx(OT,{className:"mr-2"}),a.jsx("span",{"data-i18n":!0,children:b.signInWithGoogle})]}),a.jsx("div",{className:"mt-6",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t border-gray-300 dark:border-gray-700"})}),a.jsx("div",{className:"relative flex justify-center text-sm",children:a.jsx("span",{className:"px-2 bg-white dark:bg-slate-800 text-gray-500 dark:text-gray-400","data-i18n":!0,children:b.orContinueWithEmail})})]})}),a.jsxs("form",{className:"mt-6 space-y-6",onSubmit:p,children:[d&&a.jsx("div",{className:"rounded-md bg-red-50 dark:bg-red-900/30 p-4",children:a.jsx("div",{className:"text-sm text-red-700 dark:text-red-300",children:d})}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300","data-i18n":!0,children:b.emailAddress}),a.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(tp,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:i.email,onChange:w,placeholder:b.emailPlaceholder,className:"block w-full pl-10 pr-3 py-2 placeholder-gray-400 border border-gray-300 dark:border-gray-700 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 bg-white dark:bg-slate-900 text-gray-900 dark:text-white sm:text-sm"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300","data-i18n":!0,children:b.password}),a.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(om,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"password",name:"password",type:c?"text":"password",autoComplete:"current-password",required:!0,value:i.password,onChange:w,placeholder:b.passwordPlaceholder,className:"block w-full pl-10 pr-10 py-2 placeholder-gray-400 border border-gray-300 dark:border-gray-700 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 bg-white dark:bg-slate-900 text-gray-900 dark:text-white sm:text-sm"}),a.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:a.jsx("button",{type:"button",onClick:()=>u(!c),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 focus:outline-none",children:c?a.jsx(nm,{className:"h-5 w-5"}):a.jsx(sm,{className:"h-5 w-5"})})})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300","data-i18n":!0,children:b.rememberMe})]}),a.jsx("div",{className:"text-sm",children:a.jsx(be,{to:"/forgot-password",className:"font-medium text-indigo-600 hover:text-rose-500 dark:text-indigo-400 dark:hover:text-rose-400","data-i18n":!0,children:b.forgotPassword})})]}),a.jsx("div",{children:a.jsx(xe,{type:"submit",disabled:h,className:"w-full",children:h?a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),a.jsx("span",{"data-i18n":!0,children:b.signingIn})]}):a.jsx("span",{"data-i18n":!0,children:b.signIn})})})]})]})]})})})]}),a.jsx(rO,{onEmergencySignOut:r})]})},sO=()=>{const{tWithTemplate:e}=ot(),{signUp:t}=at(),r=st(),[n,s]=m.useState({fullName:"",email:"",password:"",confirmPassword:""}),[o,i]=m.useState(!1),[l,c]=m.useState(!1),[u,d]=m.useState(""),[f,h]=m.useState(!1),g=w=>{const{name:p,value:y}=w.target;s(v=>({...v,[p]:y})),d("")},b=()=>{if(!n.fullName.trim())return d("Full name is required"),!1;if(!n.email.trim())return d("Email is required"),!1;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email))return d("Invalid email format"),!1;const p=["gmail.com","yahoo.com","hotmail.com","outlook.com"],y=n.email.split("@")[1];return p.includes(y)?n.password.length<6?(d("Password must be at least 6 characters"),!1):n.password!==n.confirmPassword?(d("Passwords do not match"),!1):!0:(d("Please use a valid email from Gmail, Yahoo, Hotmail, or Outlook"),!1)},x=async w=>{if(w.preventDefault(),!!b())try{h(!0),await t(n.email,n.password,n.fullName),Z.success("Registration successful! Please check your email to verify your account."),r("/login")}catch(p){console.error("Registration error:",p),p instanceof Error?p.message.includes("is invalid")?d("Please use a valid email address from Gmail, Yahoo, Hotmail, or Outlook"):d(p.message):d("Failed to create account")}finally{h(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs(be,{to:"/",className:"inline-flex items-center text-sm font-medium text-indigo-600 hover:text-indigo-500 dark:text-indigo-400 dark:hover:text-indigo-300",children:[a.jsx(JT,{className:"mr-2 h-4 w-4"}),"Back to Home"]})}),a.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-white",children:"Create your account"}),a.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600 dark:text-gray-400",children:["Already have an account?"," ",a.jsx(be,{to:"/login",className:"font-medium text-indigo-600 hover:text-indigo-500 dark:text-indigo-400 dark:hover:text-indigo-300",children:"Sign in"})]})]}),a.jsxs("form",{className:"mt-8 space-y-6",onSubmit:x,children:[u&&a.jsx("div",{className:"rounded-md bg-red-50 dark:bg-red-900/50 p-4",children:a.jsx("div",{className:"text-sm text-red-700 dark:text-red-200",children:u})}),a.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[a.jsxs("div",{className:"relative",children:[a.jsx("label",{htmlFor:"full-name",className:"sr-only",children:"Full Name"}),a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(rp,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"full-name",name:"fullName",type:"text",required:!0,value:n.fullName,onChange:g,className:"appearance-none rounded-none relative block w-full px-3 py-2 pl-10 border border-gray-300 dark:border-gray-700 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm bg-white dark:bg-gray-800",placeholder:"Full Name"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(tp,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,value:n.email,onChange:g,className:"appearance-none rounded-none relative block w-full px-3 py-2 pl-10 border border-gray-300 dark:border-gray-700 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm bg-white dark:bg-gray-800",placeholder:"Email address (use Gmail, Yahoo, Hotmail, or Outlook)"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(om,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"password",name:"password",type:o?"text":"password",autoComplete:"new-password",required:!0,value:n.password,onChange:g,className:"appearance-none rounded-none relative block w-full px-3 py-2 pl-10 border border-gray-300 dark:border-gray-700 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm bg-white dark:bg-gray-800",placeholder:"Password (min. 6 characters)"}),a.jsx("button",{type:"button",onClick:()=>i(!o),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:o?a.jsx(nm,{className:"h-5 w-5 text-gray-400"}):a.jsx(sm,{className:"h-5 w-5 text-gray-400"})})]}),a.jsxs("div",{className:"relative",children:[a.jsx("label",{htmlFor:"confirm-password",className:"sr-only",children:"Confirm Password"}),a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(om,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"confirm-password",name:"confirmPassword",type:l?"text":"password",autoComplete:"new-password",required:!0,value:n.confirmPassword,onChange:g,className:"appearance-none rounded-none relative block w-full px-3 py-2 pl-10 border border-gray-300 dark:border-gray-700 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm bg-white dark:bg-gray-800",placeholder:"Confirm Password"}),a.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:l?a.jsx(nm,{className:"h-5 w-5 text-gray-400"}):a.jsx(sm,{className:"h-5 w-5 text-gray-400"})})]})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:f,className:`group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white ${f?"bg-indigo-400 dark:bg-indigo-600 cursor-not-allowed":"bg-gradient-to-r from-indigo-500 to-rose-500 hover:opacity-90 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}`,children:f?a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating account..."]}):"Create Account"})})]})]})})},Wk=()=>{const{user:e}=od(),[t,r]=m.useState(!1),[n,s]=m.useState(!0);m.useEffect(()=>{o()},[e]);const o=async()=>{var i,l;try{if(!e){r(!1);return}s(!0);const{data:c,error:u}=await L.from("profiles").select("full_name, bio, interests").eq("id",e.id).single();if(u)throw u;const d=c&&((i=c.full_name)==null?void 0:i.trim())&&((l=c.bio)==null?void 0:l.trim())&&Array.isArray(c.interests)&&c.interests.length>0;r(!!d)}catch(c){console.error("Error checking profile completion:",c),r(!1)}finally{s(!1)}};return{isProfileComplete:t,loading:n,checkProfileCompletion:o}},gt=[];for(let e=0;e<256;++e)gt.push((e+256).toString(16).slice(1));function oO(e,t=0){return(gt[e[t+0]]+gt[e[t+1]]+gt[e[t+2]]+gt[e[t+3]]+"-"+gt[e[t+4]]+gt[e[t+5]]+"-"+gt[e[t+6]]+gt[e[t+7]]+"-"+gt[e[t+8]]+gt[e[t+9]]+"-"+gt[e[t+10]]+gt[e[t+11]]+gt[e[t+12]]+gt[e[t+13]]+gt[e[t+14]]+gt[e[t+15]]).toLowerCase()}let Ef;const aO=new Uint8Array(16);function iO(){if(!Ef){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Ef=crypto.getRandomValues.bind(crypto)}return Ef(aO)}const lO=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Pv={randomUUID:lO};function cO(e,t,r){var s;if(Pv.randomUUID&&!e)return Pv.randomUUID();e=e||{};const n=e.random??((s=e.rng)==null?void 0:s.call(e))??iO();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,oO(n)}function de(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function uO(e,t){const r=m.createContext(t),n=o=>{const{children:i,...l}=o,c=m.useMemo(()=>l,Object.values(l));return a.jsx(r.Provider,{value:c,children:i})};n.displayName=e+"Provider";function s(o){const i=m.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[n,s]}function Qs(e,t=[]){let r=[];function n(o,i){const l=m.createContext(i),c=r.length;r=[...r,i];const u=f=>{var p;const{scope:h,children:g,...b}=f,x=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,w=m.useMemo(()=>b,Object.values(b));return a.jsx(x.Provider,{value:w,children:g})};u.displayName=o+"Provider";function d(f,h){var x;const g=((x=h==null?void 0:h[e])==null?void 0:x[c])||l,b=m.useContext(g);if(b)return b;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=r.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,dO(s,...t)]}function dO(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var Ct=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},fO=Ym[" useId ".trim().toString()]||(()=>{}),hO=0;function Ms(e){const[t,r]=m.useState(fO());return Ct(()=>{r(n=>n??String(hO++))},[e]),t?`radix-${t}`:""}var mO=Ym[" useInsertionEffect ".trim().toString()]||Ct;function fu({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,o,i]=gO({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const d=m.useRef(e!==void 0);m.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=m.useCallback(d=>{var f;if(l){const h=pO(d)?d(e):d;h!==e&&((f=i.current)==null||f.call(i,h))}else o(d)},[l,e,o,i]);return[c,u]}function gO({defaultProp:e,onChange:t}){const[r,n]=m.useState(e),s=m.useRef(r),o=m.useRef(t);return mO(()=>{o.current=t},[t]),m.useEffect(()=>{var i;s.current!==r&&((i=o.current)==null||i.call(o,r),s.current=r)},[r,s]),[r,n,o]}function pO(e){return typeof e=="function"}var yO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Se=yO.reduce((e,t)=>{const r=zs(`Primitive.${t}`),n=m.forwardRef((s,o)=>{const{asChild:i,...l}=s,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Hk(e,t){e&&da.flushSync(()=>e.dispatchEvent(t))}function Tr(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function xO(e,t=globalThis==null?void 0:globalThis.document){const r=Tr(e);m.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var vO="DismissableLayer",Pm="dismissableLayer.update",bO="dismissableLayer.pointerDownOutside",wO="dismissableLayer.focusOutside",Tv,Kk=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ud=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...c}=e,u=m.useContext(Kk),[d,f]=m.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),b=Le(t,C=>f(C)),x=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),p=x.indexOf(w),y=d?x.indexOf(d):-1,v=u.layersWithOutsidePointerEventsDisabled.size>0,_=y>=p,k=SO(C=>{const N=C.target,F=[...u.branches].some(E=>E.contains(N));!_||F||(s==null||s(C),i==null||i(C),C.defaultPrevented||l==null||l())},h),j=jO(C=>{const N=C.target;[...u.branches].some(E=>E.contains(N))||(o==null||o(C),i==null||i(C),C.defaultPrevented||l==null||l())},h);return xO(C=>{y===u.layers.size-1&&(n==null||n(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},h),m.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Tv=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Av(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Tv)}},[d,h,r,u]),m.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Av())},[d,u]),m.useEffect(()=>{const C=()=>g({});return document.addEventListener(Pm,C),()=>document.removeEventListener(Pm,C)},[]),a.jsx(Se.div,{...c,ref:b,style:{pointerEvents:v?_?"auto":"none":void 0,...e.style},onFocusCapture:de(e.onFocusCapture,j.onFocusCapture),onBlurCapture:de(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:de(e.onPointerDownCapture,k.onPointerDownCapture)})});ud.displayName=vO;var _O="DismissableLayerBranch",kO=m.forwardRef((e,t)=>{const r=m.useContext(Kk),n=m.useRef(null),s=Le(t,n);return m.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),a.jsx(Se.div,{...e,ref:s})});kO.displayName=_O;function SO(e,t=globalThis==null?void 0:globalThis.document){const r=Tr(e),n=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const o=l=>{if(l.target&&!n.current){let c=function(){Yk(bO,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function jO(e,t=globalThis==null?void 0:globalThis.document){const r=Tr(e),n=m.useRef(!1);return m.useEffect(()=>{const s=o=>{o.target&&!n.current&&Yk(wO,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Av(){const e=new CustomEvent(Pm);document.dispatchEvent(e)}function Yk(e,t,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Hk(s,o):s.dispatchEvent(o)}var Pf="focusScope.autoFocusOnMount",Tf="focusScope.autoFocusOnUnmount",Rv={bubbles:!1,cancelable:!0},NO="FocusScope",dd=m.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[l,c]=m.useState(null),u=Tr(s),d=Tr(o),f=m.useRef(null),h=Le(t,x=>c(x)),g=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(n){let x=function(v){if(g.paused||!l)return;const _=v.target;l.contains(_)?f.current=_:En(f.current,{select:!0})},w=function(v){if(g.paused||!l)return;const _=v.relatedTarget;_!==null&&(l.contains(_)||En(f.current,{select:!0}))},p=function(v){if(document.activeElement===document.body)for(const k of v)k.removedNodes.length>0&&En(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",w);const y=new MutationObserver(p);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",w),y.disconnect()}}},[n,l,g.paused]),m.useEffect(()=>{if(l){Lv.add(g);const x=document.activeElement;if(!l.contains(x)){const p=new CustomEvent(Pf,Rv);l.addEventListener(Pf,u),l.dispatchEvent(p),p.defaultPrevented||(CO(RO(Jk(l)),{select:!0}),document.activeElement===x&&En(l))}return()=>{l.removeEventListener(Pf,u),setTimeout(()=>{const p=new CustomEvent(Tf,Rv);l.addEventListener(Tf,d),l.dispatchEvent(p),p.defaultPrevented||En(x??document.body,{select:!0}),l.removeEventListener(Tf,d),Lv.remove(g)},0)}}},[l,u,d,g]);const b=m.useCallback(x=>{if(!r&&!n||g.paused)return;const w=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,p=document.activeElement;if(w&&p){const y=x.currentTarget,[v,_]=EO(y);v&&_?!x.shiftKey&&p===_?(x.preventDefault(),r&&En(v,{select:!0})):x.shiftKey&&p===v&&(x.preventDefault(),r&&En(_,{select:!0})):p===y&&x.preventDefault()}},[r,n,g.paused]);return a.jsx(Se.div,{tabIndex:-1,...i,ref:h,onKeyDown:b})});dd.displayName=NO;function CO(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(En(n,{select:t}),document.activeElement!==r)return}function EO(e){const t=Jk(e),r=Mv(t,e),n=Mv(t.reverse(),e);return[r,n]}function Jk(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Mv(e,t){for(const r of e)if(!PO(r,{upTo:t}))return r}function PO(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function TO(e){return e instanceof HTMLInputElement&&"select"in e}function En(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&TO(e)&&t&&e.select()}}var Lv=AO();function AO(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Dv(e,t),e.unshift(t)},remove(t){var r;e=Dv(e,t),(r=e[0])==null||r.resume()}}}function Dv(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function RO(e){return e.filter(t=>t.tagName!=="A")}var MO="Portal",fd=m.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,o]=m.useState(!1);Ct(()=>o(!0),[]);const i=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?T3.createPortal(a.jsx(Se.div,{...n,ref:t}),i):null});fd.displayName=MO;function LO(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var us=e=>{const{present:t,children:r}=e,n=DO(t),s=typeof r=="function"?r({present:n.isPresent}):m.Children.only(r),o=Le(n.ref,OO(s));return typeof r=="function"||n.isPresent?m.cloneElement(s,{ref:o}):null};us.displayName="Presence";function DO(e){const[t,r]=m.useState(),n=m.useRef(null),s=m.useRef(e),o=m.useRef("none"),i=e?"mounted":"unmounted",[l,c]=LO(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=Xl(n.current);o.current=l==="mounted"?u:"none"},[l]),Ct(()=>{const u=n.current,d=s.current;if(d!==e){const h=o.current,g=Xl(u);e?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Ct(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=g=>{const x=Xl(n.current).includes(g.animationName);if(g.target===t&&x&&(c("ANIMATION_END"),!s.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},h=g=>{g.target===t&&(o.current=Xl(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Xl(e){return(e==null?void 0:e.animationName)||"none"}function OO(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Af=0;function $p(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Ov()),document.body.insertAdjacentElement("beforeend",e[1]??Ov()),Af++,()=>{Af===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Af--}},[])}function Ov(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Br=function(){return Br=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Br.apply(this,arguments)};function Xk(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function IO(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,o;n<s;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var jc="right-scroll-bar-position",Nc="width-before-scroll-bar",FO="with-scroll-bars-hidden",$O="--removed-body-scroll-bar-size";function Rf(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function UO(e,t){var r=m.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var zO=typeof window<"u"?m.useLayoutEffect:m.useEffect,Iv=new WeakMap;function BO(e,t){var r=UO(null,function(n){return e.forEach(function(s){return Rf(s,n)})});return zO(function(){var n=Iv.get(r);if(n){var s=new Set(n),o=new Set(e),i=r.current;s.forEach(function(l){o.has(l)||Rf(l,null)}),o.forEach(function(l){s.has(l)||Rf(l,i)})}Iv.set(r,e)},[e]),r}function VO(e){return e}function GO(e,t){t===void 0&&(t=VO);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(o){var i=t(o,n);return r.push(i),function(){r=r.filter(function(l){return l!==i})}},assignSyncMedium:function(o){for(n=!0;r.length;){var i=r;r=[],i.forEach(o)}r={push:function(l){return o(l)},filter:function(){return r}}},assignMedium:function(o){n=!0;var i=[];if(r.length){var l=r;r=[],l.forEach(o),i=r}var c=function(){var d=i;i=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),r}}}};return s}function qO(e){e===void 0&&(e={});var t=GO(null);return t.options=Br({async:!0,ssr:!1},e),t}var Qk=function(e){var t=e.sideCar,r=Xk(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return m.createElement(n,Br({},r))};Qk.isSideCarExport=!0;function WO(e,t){return e.useMedium(t),Qk}var Zk=qO(),Mf=function(){},hd=m.forwardRef(function(e,t){var r=m.useRef(null),n=m.useState({onScrollCapture:Mf,onWheelCapture:Mf,onTouchMoveCapture:Mf}),s=n[0],o=n[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,g=e.noIsolation,b=e.inert,x=e.allowPinchZoom,w=e.as,p=w===void 0?"div":w,y=e.gapMode,v=Xk(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,k=BO([r,t]),j=Br(Br({},v),s);return m.createElement(m.Fragment,null,d&&m.createElement(_,{sideCar:Zk,removeScrollBar:u,shards:f,noIsolation:g,inert:b,setCallbacks:o,allowPinchZoom:!!x,lockRef:r,gapMode:y}),i?m.cloneElement(m.Children.only(l),Br(Br({},j),{ref:k})):m.createElement(p,Br({},j,{className:c,ref:k}),l))});hd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};hd.classNames={fullWidth:Nc,zeroRight:jc};var HO=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function KO(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=HO();return t&&e.setAttribute("nonce",t),e}function YO(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function JO(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var XO=function(){var e=0,t=null;return{add:function(r){e==0&&(t=KO())&&(YO(t,r),JO(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},QO=function(){var e=XO();return function(t,r){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},eS=function(){var e=QO(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},ZO={left:0,top:0,right:0,gap:0},Lf=function(e){return parseInt(e||"",10)||0},e7=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Lf(r),Lf(n),Lf(s)]},t7=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return ZO;var t=e7(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},r7=eS(),Bo="data-scroll-locked",n7=function(e,t,r,n){var s=e.left,o=e.top,i=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(FO,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Bo,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(jc,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Nc,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(jc," .").concat(jc,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Nc," .").concat(Nc,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Bo,`] {
    `).concat($O,": ").concat(l,`px;
  }
`)},Fv=function(){var e=parseInt(document.body.getAttribute(Bo)||"0",10);return isFinite(e)?e:0},s7=function(){m.useEffect(function(){return document.body.setAttribute(Bo,(Fv()+1).toString()),function(){var e=Fv()-1;e<=0?document.body.removeAttribute(Bo):document.body.setAttribute(Bo,e.toString())}},[])},o7=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;s7();var o=m.useMemo(function(){return t7(s)},[s]);return m.createElement(r7,{styles:n7(o,!t,s,r?"":"!important")})},Tm=!1;if(typeof window<"u")try{var Ql=Object.defineProperty({},"passive",{get:function(){return Tm=!0,!0}});window.addEventListener("test",Ql,Ql),window.removeEventListener("test",Ql,Ql)}catch{Tm=!1}var ao=Tm?{passive:!1}:!1,a7=function(e){return e.tagName==="TEXTAREA"},tS=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!a7(e)&&r[t]==="visible")},i7=function(e){return tS(e,"overflowY")},l7=function(e){return tS(e,"overflowX")},$v=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=rS(e,n);if(s){var o=nS(e,n),i=o[1],l=o[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},c7=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},u7=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},rS=function(e,t){return e==="v"?i7(t):l7(t)},nS=function(e,t){return e==="v"?c7(t):u7(t)},d7=function(e,t){return e==="h"&&t==="rtl"?-1:1},f7=function(e,t,r,n,s){var o=d7(e,window.getComputedStyle(t).direction),i=o*n,l=r.target,c=t.contains(l),u=!1,d=i>0,f=0,h=0;do{var g=nS(e,l),b=g[0],x=g[1],w=g[2],p=x-w-o*b;(b||p)&&rS(e,l)&&(f+=p,h+=b),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},Zl=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Uv=function(e){return[e.deltaX,e.deltaY]},zv=function(e){return e&&"current"in e?e.current:e},h7=function(e,t){return e[0]===t[0]&&e[1]===t[1]},m7=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},g7=0,io=[];function p7(e){var t=m.useRef([]),r=m.useRef([0,0]),n=m.useRef(),s=m.useState(g7++)[0],o=m.useState(eS)[0],i=m.useRef(e);m.useEffect(function(){i.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var x=IO([e.lockRef.current],(e.shards||[]).map(zv),!0).filter(Boolean);return x.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(x,w){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!i.current.allowPinchZoom;var p=Zl(x),y=r.current,v="deltaX"in x?x.deltaX:y[0]-p[0],_="deltaY"in x?x.deltaY:y[1]-p[1],k,j=x.target,C=Math.abs(v)>Math.abs(_)?"h":"v";if("touches"in x&&C==="h"&&j.type==="range")return!1;var N=$v(C,j);if(!N)return!0;if(N?k=C:(k=C==="v"?"h":"v",N=$v(C,j)),!N)return!1;if(!n.current&&"changedTouches"in x&&(v||_)&&(n.current=k),!k)return!0;var F=n.current||k;return f7(F,w,x,F==="h"?v:_)},[]),c=m.useCallback(function(x){var w=x;if(!(!io.length||io[io.length-1]!==o)){var p="deltaY"in w?Uv(w):Zl(w),y=t.current.filter(function(k){return k.name===w.type&&(k.target===w.target||w.target===k.shadowParent)&&h7(k.delta,p)})[0];if(y&&y.should){w.cancelable&&w.preventDefault();return}if(!y){var v=(i.current.shards||[]).map(zv).filter(Boolean).filter(function(k){return k.contains(w.target)}),_=v.length>0?l(w,v[0]):!i.current.noIsolation;_&&w.cancelable&&w.preventDefault()}}},[]),u=m.useCallback(function(x,w,p,y){var v={name:x,delta:w,target:p,should:y,shadowParent:y7(p)};t.current.push(v),setTimeout(function(){t.current=t.current.filter(function(_){return _!==v})},1)},[]),d=m.useCallback(function(x){r.current=Zl(x),n.current=void 0},[]),f=m.useCallback(function(x){u(x.type,Uv(x),x.target,l(x,e.lockRef.current))},[]),h=m.useCallback(function(x){u(x.type,Zl(x),x.target,l(x,e.lockRef.current))},[]);m.useEffect(function(){return io.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,ao),document.addEventListener("touchmove",c,ao),document.addEventListener("touchstart",d,ao),function(){io=io.filter(function(x){return x!==o}),document.removeEventListener("wheel",c,ao),document.removeEventListener("touchmove",c,ao),document.removeEventListener("touchstart",d,ao)}},[]);var g=e.removeScrollBar,b=e.inert;return m.createElement(m.Fragment,null,b?m.createElement(o,{styles:m7(s)}):null,g?m.createElement(o7,{gapMode:e.gapMode}):null)}function y7(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const x7=WO(Zk,p7);var md=m.forwardRef(function(e,t){return m.createElement(hd,Br({},e,{ref:t,sideCar:x7}))});md.classNames=hd.classNames;var v7=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},lo=new WeakMap,ec=new WeakMap,tc={},Df=0,sS=function(e){return e&&(e.host||sS(e.parentNode))},b7=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=sS(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},w7=function(e,t,r,n){var s=b7(t,Array.isArray(e)?e:[e]);tc[r]||(tc[r]=new WeakMap);var o=tc[r],i=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var g=h.getAttribute(n),b=g!==null&&g!=="false",x=(lo.get(h)||0)+1,w=(o.get(h)||0)+1;lo.set(h,x),o.set(h,w),i.push(h),x===1&&b&&ec.set(h,!0),w===1&&h.setAttribute(r,"true"),b||h.setAttribute(n,"true")}catch(p){console.error("aria-hidden: cannot operate on ",h,p)}})};return d(t),l.clear(),Df++,function(){i.forEach(function(f){var h=lo.get(f)-1,g=o.get(f)-1;lo.set(f,h),o.set(f,g),h||(ec.has(f)||f.removeAttribute(n),ec.delete(f)),g||f.removeAttribute(r)}),Df--,Df||(lo=new WeakMap,lo=new WeakMap,ec=new WeakMap,tc={})}},Up=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=v7(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),w7(n,s,r,"aria-hidden")):function(){return null}},gd="Dialog",[oS,FG]=Qs(gd),[_7,Lr]=oS(gd),aS=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,l=m.useRef(null),c=m.useRef(null),[u,d]=fu({prop:n,defaultProp:s??!1,onChange:o,caller:gd});return a.jsx(_7,{scope:t,triggerRef:l,contentRef:c,contentId:Ms(),titleId:Ms(),descriptionId:Ms(),open:u,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(f=>!f),[d]),modal:i,children:r})};aS.displayName=gd;var iS="DialogTrigger",k7=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Lr(iS,r),o=Le(t,s.triggerRef);return a.jsx(Se.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Vp(s.open),...n,ref:o,onClick:de(e.onClick,s.onOpenToggle)})});k7.displayName=iS;var zp="DialogPortal",[S7,lS]=oS(zp,{forceMount:void 0}),cS=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,o=Lr(zp,t);return a.jsx(S7,{scope:t,forceMount:r,children:m.Children.map(n,i=>a.jsx(us,{present:r||o.open,children:a.jsx(fd,{asChild:!0,container:s,children:i})}))})};cS.displayName=zp;var hu="DialogOverlay",uS=m.forwardRef((e,t)=>{const r=lS(hu,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=Lr(hu,e.__scopeDialog);return o.modal?a.jsx(us,{present:n||o.open,children:a.jsx(N7,{...s,ref:t})}):null});uS.displayName=hu;var j7=zs("DialogOverlay.RemoveScroll"),N7=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Lr(hu,r);return a.jsx(md,{as:j7,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(Se.div,{"data-state":Vp(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Bs="DialogContent",dS=m.forwardRef((e,t)=>{const r=lS(Bs,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=Lr(Bs,e.__scopeDialog);return a.jsx(us,{present:n||o.open,children:o.modal?a.jsx(C7,{...s,ref:t}):a.jsx(E7,{...s,ref:t})})});dS.displayName=Bs;var C7=m.forwardRef((e,t)=>{const r=Lr(Bs,e.__scopeDialog),n=m.useRef(null),s=Le(t,r.contentRef,n);return m.useEffect(()=>{const o=n.current;if(o)return Up(o)},[]),a.jsx(fS,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:de(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:de(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&o.preventDefault()}),onFocusOutside:de(e.onFocusOutside,o=>o.preventDefault())})}),E7=m.forwardRef((e,t)=>{const r=Lr(Bs,e.__scopeDialog),n=m.useRef(!1),s=m.useRef(!1);return a.jsx(fS,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),fS=m.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,l=Lr(Bs,r),c=m.useRef(null),u=Le(t,c);return $p(),a.jsxs(a.Fragment,{children:[a.jsx(dd,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:a.jsx(ud,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Vp(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(P7,{titleId:l.titleId}),a.jsx(A7,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Bp="DialogTitle",hS=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Lr(Bp,r);return a.jsx(Se.h2,{id:s.titleId,...n,ref:t})});hS.displayName=Bp;var mS="DialogDescription",gS=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Lr(mS,r);return a.jsx(Se.p,{id:s.descriptionId,...n,ref:t})});gS.displayName=mS;var pS="DialogClose",yS=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Lr(pS,r);return a.jsx(Se.button,{type:"button",...n,ref:t,onClick:de(e.onClick,()=>s.onOpenChange(!1))})});yS.displayName=pS;function Vp(e){return e?"open":"closed"}var xS="DialogTitleWarning",[$G,vS]=uO(xS,{contentName:Bs,titleName:Bp,docsSlug:"dialog"}),P7=({titleId:e})=>{const t=vS(xS),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},T7="DialogDescriptionWarning",A7=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${vS(T7).contentName}}.`;return m.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},R7=aS,M7=cS,bS=uS,wS=dS,_S=hS,kS=gS,SS=yS;const Gp=R7,L7=M7,D7=SS,jS=m.forwardRef(({className:e,...t},r)=>a.jsx(bS,{ref:r,className:Ne("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));jS.displayName=bS.displayName;const pd=m.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(L7,{children:[a.jsx(jS,{}),a.jsxs(wS,{ref:n,className:Ne("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,a.jsxs(SS,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(Vk,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));pd.displayName=wS.displayName;const yd=({className:e,...t})=>a.jsx("div",{className:Ne("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});yd.displayName="DialogHeader";const qp=({className:e,...t})=>a.jsx("div",{className:Ne("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});qp.displayName="DialogFooter";const xd=m.forwardRef(({className:e,...t},r)=>a.jsx(_S,{ref:r,className:Ne("text-lg font-semibold leading-none tracking-tight",e),...t}));xd.displayName=_S.displayName;const NS=m.forwardRef(({className:e,...t},r)=>a.jsx(kS,{ref:r,className:Ne("text-sm text-muted-foreground",e),...t}));NS.displayName=kS.displayName;const Bv=({emoji:e,size:t="md",className:r="",fallbackInitials:n="",onClick:s})=>{const o={sm:"w-8 h-8 text-base",md:"w-12 h-12 text-xl",lg:"w-16 h-16 text-2xl",xl:"w-24 h-24 text-3xl"},i=o[t]||o.md,l=n.split(" ").map(c=>c[0]).join("").toUpperCase().substring(0,2);return a.jsx("div",{className:`${i} rounded-full overflow-hidden flex-shrink-0 flex items-center justify-center ${e?"bg-gradient-to-br from-pink-100 to-rose-200 dark:from-rose-900 dark:to-pink-800":"bg-blue-500"} ${r}`,onClick:s,children:e?a.jsx("span",{className:"select-none",children:e}):a.jsx("span",{className:"text-white font-semibold",children:l||"?"})})},Vv={faces:["","","","","","","","","","","","","","","","","","","","","","","",""],animals:["","","","","","","","","","","","","","","","","","","","","","","",""],food:["","","","","","","","","","","","","","","","","","","","","","","",""],activities:["","","","","","","","","","","","","","","","","","","","","","","",""],travel:["","","","","","","","","","","","","","","","","","","","","","","",""],objects:["","","","","","","","","","","","","","","","","","","","","","","",""],symbols:["","","","","","","","","","","","","","","","","","","","","","","",""]},O7=({onSelect:e,selectedEmoji:t})=>{const[r,n]=m.useState("faces"),[s,o]=m.useState([]);m.useEffect(()=>{const l=localStorage.getItem("recentEmojis");l&&o(JSON.parse(l).slice(0,24))},[]);const i=l=>{e(l);const c=[l,...s.filter(u=>u!==l)].slice(0,24);o(c),localStorage.setItem("recentEmojis",JSON.stringify(c))};return a.jsxs("div",{className:"border dark:border-gray-700 rounded-lg overflow-hidden bg-white dark:bg-gray-800 shadow-lg",children:[a.jsxs("div",{className:"flex border-b dark:border-gray-700 overflow-x-auto",children:[a.jsx("button",{className:`px-3 py-2 text-sm flex-shrink-0 ${s.length>0&&r==="faces"?"text-rose-600 border-b-2 border-rose-600":"text-gray-500 dark:text-gray-400"}`,onClick:()=>n("faces"),children:"Recent"}),Object.keys(Vv).map(l=>a.jsx("button",{className:`px-3 py-2 text-sm flex-shrink-0 ${r===l?"text-rose-600 border-b-2 border-rose-600":"text-gray-500 dark:text-gray-400"}`,onClick:()=>n(l),children:l.charAt(0).toUpperCase()+l.slice(1)},l))]}),a.jsx("div",{className:"p-2 max-h-60 overflow-y-auto",children:a.jsx("div",{className:"grid grid-cols-8 gap-1",children:(s.length>0&&r==="faces"?s:Vv[r]).map((l,c)=>a.jsx("button",{className:`w-8 h-8 flex items-center justify-center text-xl hover:bg-gray-100 dark:hover:bg-gray-700 rounded ${t===l?"bg-rose-100 dark:bg-rose-900":""}`,onClick:()=>i(l),children:l},`${l}-${c}`))})}),a.jsx("div",{className:"p-2 border-t dark:border-gray-700 text-xs text-center text-gray-500 dark:text-gray-400",children:"Select an emoji as your avatar"})]})},gl=({userId:e,avatarUrl:t=null,avatarEmoji:r=null,fullName:n="",size:s="md",editable:o=!1,onAvatarChange:i,suggestedEmojis:l})=>{const{user:c}=at(),{t:u}=Mr(),[d,f]=m.useState(!1),[h,g]=m.useState(!1),b=!e||c&&c.id===e,x=o&&b,w=async y=>{if(i)i("emoji",y);else if(c&&x){g(!0);try{await L.auth.updateUser({data:{avatar_emoji:y,avatar_url:null}}),await L.from("users").update({avatar_emoji:y,avatar_url:null}).eq("id",c.id),q.success("Avatar updated successfully")}catch(v){console.error("Error updating avatar emoji:",v),q.error("Failed to update avatar")}finally{g(!1),f(!1)}}},p=async y=>{if(!(!c||!x||!y.target.files||!y.target.files[0]))try{g(!0);const v=y.target.files[0],_=v.name.split(".").pop(),k=`${c.id}-${Date.now()}.${_}`,j=`${c.id}/${k}`,{error:C}=await L.storage.from("avatars").upload(j,v);if(C)throw C;const{data:{publicUrl:N}}=L.storage.from("avatars").getPublicUrl(j);i?i("url",N):(await L.auth.updateUser({data:{avatar_url:N,avatar_emoji:null}}),await L.from("users").update({avatar_url:N,avatar_emoji:null}).eq("id",c.id)),q.success("Avatar uploaded successfully")}catch(v){console.error("Error uploading avatar:",v),q.error("Failed to upload avatar")}finally{g(!1),f(!1)}};return a.jsxs("div",{className:"relative",children:[r?a.jsx(Bv,{emoji:r,size:s,fallbackInitials:n,className:x?"cursor-pointer":"",onClick:x?()=>f(!0):void 0}):t?a.jsx("div",{className:`overflow-hidden rounded-full ${s==="sm"?"w-8 h-8":s==="md"?"w-12 h-12":s==="lg"?"w-16 h-16":"w-24 h-24"} ${x?"cursor-pointer":""}`,onClick:x?()=>f(!0):void 0,children:a.jsx("img",{src:t,alt:n,className:"w-full h-full object-cover"})}):a.jsx(Bv,{fallbackInitials:n,size:s,className:x?"cursor-pointer":"",onClick:x?()=>f(!0):void 0}),x&&a.jsx("button",{type:"button",onClick:()=>f(!0),disabled:h,className:"absolute bottom-0 right-0 bg-rose-500 text-white p-1 rounded-full shadow-md hover:bg-rose-600 disabled:opacity-50",children:h?a.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:a.jsx("path",{d:"M12 5v14M5 12h14"})})}),d&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-4 max-w-md w-full",children:[a.jsxs("div",{className:"flex justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Choose your avatar"}),a.jsx("button",{type:"button",onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-500",children:a.jsx("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Use an emoji"}),a.jsx(O7,{onSelect:w,selectedEmoji:r||void 0})]}),a.jsxs("div",{className:"border-t dark:border-gray-700 pt-4",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Or upload an image"}),a.jsxs("label",{className:"flex items-center justify-center w-full h-12 px-4 transition bg-white dark:bg-gray-700 border-2 border-gray-300 dark:border-gray-600 border-dashed rounded-md appearance-none cursor-pointer hover:border-gray-400 focus:outline-none",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Choose a file"}),a.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:p,disabled:h})]})]})]})]})})]})},Gv=["tech","gaming","travel","food","music","art","fashion","fitness","health","books","movies","nature","photography","sports","science"],CS=({onPostCreated:e})=>{var K,U,J,ne,ie,ue,Be,je,Pt,bt;const{t}=ot(),r=st(),{user:n}=pa(),{isProfileComplete:s}=Wk(),[o,i]=m.useState(""),[l,c]=m.useState([]),[u,d]=m.useState([]),[f,h]=m.useState([]),[g,b]=m.useState([]),[x,w]=m.useState(!1),[p,y]=m.useState([]),[v,_]=m.useState([]),[k,j]=m.useState([]),[C,N]=m.useState(null),[F,E]=m.useState(null),[I,P]=m.useState(null),[O,A]=m.useState(!1),[$,D]=m.useState(!1),[z,S]=m.useState(!1),[M,T]=m.useState(!1),[B,V]=m.useState(!1);m.useEffect(()=>{n&&(re(),se(),fe())},[n]);const re=async()=>{try{const{data:te,error:pe}=await L.from("group_members").select(`
          group_id,
          groups:group_id (
            id, 
            name
          )
        `).eq("user_id",n==null?void 0:n.id);if(pe){console.error("Error fetching user groups:",pe),y([]);return}if(!te||te.length===0){y([]);return}const he=te.filter(we=>we.groups).map(we=>({id:we.groups.id,name:we.groups.name}));y(he)}catch(te){console.error("Error fetching user groups:",te),y([])}},se=async()=>{try{const{data:te,error:pe}=await L.from("event_attendees").select("events(id, title)").eq("user_id",n==null?void 0:n.id);if(pe)throw pe;if(!te||te.length===0){_([]);return}const he=te.map(we=>we.events?{id:we.events.id,title:we.events.title}:null).filter(we=>we!==null);_(he)}catch(te){console.error("Error fetching user events:",te)}},fe=async()=>{if(n)try{const{data:te,error:pe}=await L.from("relationships").select(`
          requester_id,
          addressee_id,
          profiles!relationships_addressee_id_fkey (
            id,
            full_name,
            avatar_url
          )
        `).eq("status","accepted").or(`requester_id.eq.${n.id},addressee_id.eq.${n.id}`);if(pe){console.error("Error fetching user friends:",pe);return}if(!te||te.length===0){j([]);return}const W=te.map(he=>{const De=he.profiles;return De?{id:De.id,full_name:De.full_name,avatar_url:De.avatar_url||void 0}:null}).filter(he=>he!==null);j(W)}catch(te){console.error("Error fetching user friends:",te)}},oe=te=>{if(te.target.files&&te.target.files.length>0){const pe=Array.from(te.target.files);if(l.length+pe.length>4){q.error(t("errors.tooManyImagesMax4"));return}const W=pe.map(he=>URL.createObjectURL(he));c([...l,...pe]),d([...u,...W])}},R=te=>{c(l.filter((pe,W)=>W!==te)),URL.revokeObjectURL(u[te]),d(u.filter((pe,W)=>W!==te))},G=te=>{const pe=/#\w+/g;return[...new Set(te.match(pe)||[])].map(W=>W.substring(1))},X=te=>{const pe=te.target.value;i(pe);const W=G(pe);h(W);const he=te.target.selectionStart,De=pe.substring(0,he).match(/#(\w*)$/);if(De){const rt=De[1].toLowerCase(),Tt=Gv.filter(yr=>yr.toLowerCase().startsWith(rt)&&!W.includes(yr));b(Tt),T(Tt.length>0)}else T(!1)},H=te=>{const pe=document.activeElement&&"selectionStart"in document.activeElement?document.activeElement.selectionStart:o.length;if(pe!==null){const he=o.substring(0,pe).match(/#(\w*)$/);if(he){const we=he.index||0,De=we+he[0].length,rt=o.substring(0,we)+"#"+te+" "+o.substring(De);i(rt),f.includes(te)||h([...f,te])}else i(o+" #"+te+" "),f.includes(te)||h([...f,te])}T(!1)},Y=async te=>{if(te.preventDefault(),!n){q.error(t("errors.loginRequired"));return}if(!s){V(!0);return}if(!o.trim()&&l.length===0){q.error(t("errors.postEmpty"));return}try{w(!0);let pe=[];if(l.length>0)try{pe=await Promise.all(l.map(async rt=>{const Tt=`${n.id}/${cO()}-${rt.name.replace(/\s+/g,"_")}`,{data:yr,error:bn}=await L.storage.from("post-images").upload(Tt,rt);if(bn)throw console.error("Error uploading image:",bn),new Error(`Failed to upload image: ${bn.message}`);if(!yr||!yr.path)throw new Error("Failed to get upload path");const{data:ja}=L.storage.from("post-images").getPublicUrl(yr.path);if(!ja||!ja.publicUrl)throw new Error("Failed to get public URL for uploaded image");return ja.publicUrl}))}catch(rt){console.error("Image upload error:",rt),q.error(`Image upload failed: ${rt.message||"Unknown error"}`),w(!1);return}const W=f.length>0?f:G(o),he={user_id:n.id,content:o.trim(),image_url:pe.length>0?pe[0]:null,hashtags:W.length>0?W:null,group_id:C||null,event_id:F||null,created_at:new Date().toISOString(),tagged_user_id:I||null},{data:we,error:De}=await L.from("posts").insert(he).select().single();if(De)throw console.error("Error creating post:",De),new Error(`Failed to create post: ${De.message}`);if(W.length>0)try{const rt=W.map(Tt=>({tag:Tt.toLowerCase(),post_count:1}));await L.rpc("upsert_hashtags",{hashtag_entries:rt})}catch(rt){console.error("Error processing hashtags:",rt)}i(""),c([]),d([]),h([]),N(null),E(null),P(null),q.success(t("success.postCreated")),e&&e(we)}catch(pe){console.error("Error creating post:",pe),q.error(pe.message||t("errors.postCreationFailed"))}finally{w(!1)}};return a.jsxs("div",{className:"bg-gradient-to-r from-indigo-100 to-pink-100 dark:from-gray-800 dark:to-gray-900 border border-gray-200 dark:border-gray-700 rounded-xl shadow-lg p-4",children:[a.jsxs("form",{onSubmit:Y,className:"space-y-4",children:[a.jsx("div",{className:"flex items-center justify-between mb-2",children:a.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:t("post.createTitle")||"Create Post"})}),n&&a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(gl,{userId:n==null?void 0:n.id,avatarUrl:(K=n==null?void 0:n.user_metadata)==null?void 0:K.avatar_url,avatarEmoji:(U=n==null?void 0:n.user_metadata)==null?void 0:U.avatar_emoji,fullName:((J=n==null?void 0:n.user_metadata)==null?void 0:J.full_name)||"User",size:"sm"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:((ne=n==null?void 0:n.user_metadata)==null?void 0:ne.full_name)||"User"}),(C||F||I)&&a.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 flex items-center mt-1",children:[C&&a.jsxs("span",{className:"flex items-center text-indigo-600 dark:text-indigo-400",children:[a.jsx(qe,{className:"mr-1",size:14}),(ie=p.find(te=>te.id===C))==null?void 0:ie.name]}),F&&a.jsxs("span",{className:"flex items-center text-pink-600 dark:text-pink-400",children:[a.jsx(Rt,{className:"mr-1",size:14}),(ue=v.find(te=>te.id===F))==null?void 0:ue.title]}),I&&a.jsxs("span",{className:"flex items-center text-green-600 dark:text-green-400",children:[a.jsx($n,{className:"mr-1",size:14}),(Be=k.find(te=>te.id===I))==null?void 0:Be.full_name]})]})]})]}),a.jsx("textarea",{value:o,onChange:X,placeholder:t("placeholder.shareThoughts")||"What's on your mind?",className:"w-full p-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-gray-900 dark:text-white resize-none h-24 placeholder-gray-500 dark:placeholder-gray-400",disabled:x}),M&&a.jsxs("div",{className:"mt-1 p-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg",children:[a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:[t("post.popularHashtags")||"Popular hashtags",":"]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:g.slice(0,5).map(te=>a.jsxs("button",{type:"button",onClick:()=>H(te),className:"px-2 py-1 bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300 rounded-lg text-sm hover:bg-gray-200 dark:hover:bg-gray-600 flex items-center",children:[a.jsx(rm,{size:12,className:"mr-1"})," ",te]},te))})]}),u.length>0&&a.jsx("div",{className:"mt-3 grid grid-cols-2 gap-2",children:u.map((te,pe)=>a.jsxs("div",{className:"relative rounded-lg overflow-hidden h-40 border border-gray-200 dark:border-gray-600",children:[a.jsx("img",{src:te,alt:`Preview ${pe}`,className:"w-full h-full object-cover"}),a.jsx("button",{type:"button",onClick:()=>R(pe),className:"absolute top-1 right-1 bg-gray-900/70 text-white rounded-full p-1 hover:bg-gray-900/90",children:a.jsx(Us,{size:18})})]},pe))}),(C||F||I)&&a.jsxs("div",{className:"mt-3 p-2 bg-indigo-50 dark:bg-indigo-900/30 border border-indigo-200 dark:border-indigo-700 text-indigo-700 dark:text-indigo-300 rounded-lg",children:[C&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(qe,{className:"mr-1"}),a.jsxs("span",{className:"text-sm font-medium",children:[t("post.postingToGroup")||"Posting to group",": ",(je=p.find(te=>te.id===C))==null?void 0:je.name]}),a.jsx("button",{type:"button",onClick:()=>N(null),className:"ml-2 text-indigo-500 hover:text-indigo-700 dark:text-indigo-300 dark:hover:text-indigo-200",children:a.jsx(cn,{size:16})})]}),F&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Rt,{className:"mr-1"}),a.jsxs("span",{className:"text-sm font-medium",children:[t("post.postingToEvent")||"Posting to event",": ",(Pt=v.find(te=>te.id===F))==null?void 0:Pt.title]}),a.jsx("button",{type:"button",onClick:()=>E(null),className:"ml-2 text-indigo-500 hover:text-indigo-700 dark:text-indigo-300 dark:hover:text-indigo-200",children:a.jsx(cn,{size:16})})]}),I&&a.jsxs("div",{className:"flex items-center",children:[a.jsx($n,{className:"mr-1"}),a.jsxs("span",{className:"text-sm font-medium",children:[t("post.sharingWithFriend")||"Sharing with",": ",(bt=k.find(te=>te.id===I))==null?void 0:bt.full_name]}),a.jsx("button",{type:"button",onClick:()=>P(null),className:"ml-2 text-indigo-500 hover:text-indigo-700 dark:text-indigo-300 dark:hover:text-indigo-200",children:a.jsx(cn,{size:16})})]})]}),a.jsxs("div",{className:"mt-3 flex flex-col sm:flex-row justify-between items-center",children:[a.jsxs("div",{className:"flex space-x-2 mb-3 sm:mb-0",children:[a.jsxs("label",{className:"flex items-center p-2 rounded-full bg-white dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 cursor-pointer shadow-sm transition-colors",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:oe,className:"hidden",multiple:!0,disabled:x||u.length>=4}),a.jsx(Qg,{className:`h-5 w-5 ${u.length>=4?"text-gray-400 dark:text-gray-500":"text-indigo-500 dark:text-indigo-400"}`})]}),a.jsx("button",{type:"button",onClick:()=>{A(!O),D(!1),S(!1)},className:`flex items-center p-2 rounded-full ${C?"bg-indigo-100 text-indigo-600 dark:bg-indigo-900 dark:text-indigo-300":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300"} hover:bg-indigo-100 dark:hover:bg-indigo-900 shadow-sm transition-colors`,title:t("post.selectGroup")||"Select group",children:a.jsx(qe,{className:"h-5 w-5"})}),a.jsx("button",{type:"button",onClick:()=>{D(!$),A(!1),S(!1)},className:`flex items-center p-2 rounded-full ${F?"bg-pink-100 text-pink-600 dark:bg-pink-900 dark:text-pink-300":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300"} hover:bg-pink-100 dark:hover:bg-pink-900 shadow-sm transition-colors`,title:t("post.selectEvent")||"Select event",children:a.jsx(Rt,{className:"h-5 w-5"})}),a.jsx("button",{type:"button",onClick:()=>{S(!z),A(!1),D(!1)},className:`flex items-center p-2 rounded-full ${I?"bg-green-100 text-green-600 dark:bg-green-900 dark:text-green-300":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300"} hover:bg-green-100 dark:hover:bg-green-900 shadow-sm transition-colors`,title:t("post.selectFriend")||"Share with friend",children:a.jsx($n,{className:"h-5 w-5"})}),a.jsx("button",{type:"button",className:"flex items-center p-2 rounded-full bg-white dark:bg-gray-700 hover:bg-amber-100 dark:hover:bg-amber-900 text-gray-600 dark:text-gray-300 shadow-sm transition-colors",title:t("post.addEmoji")||"Add emoji",children:a.jsx(AT,{className:"h-5 w-5"})})]}),a.jsx("button",{type:"submit",disabled:!o.trim()&&l.length===0||x,className:"w-full sm:w-auto px-6 py-2.5 bg-gradient-to-r from-indigo-500 to-rose-500 text-white rounded-lg font-semibold hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center shadow-md",children:x?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),t("common.posting")]}):t("post.publish")})]}),O&&p.length>0&&a.jsxs("div",{className:"mt-2 p-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg max-h-48 overflow-y-auto z-10",children:[a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:[t("post.selectGroup")||"Select a group to post to",":"]}),a.jsx("div",{className:"space-y-1",children:p.map(te=>a.jsxs("button",{type:"button",onClick:()=>{N(te.id),E(null),A(!1)},className:"w-full text-left px-3 py-2 hover:bg-indigo-50 dark:hover:bg-indigo-900/30 rounded-lg flex items-center text-gray-800 dark:text-gray-200",children:[a.jsx(qe,{className:"mr-2 text-indigo-600 dark:text-indigo-400"}),a.jsx("span",{children:te.name})]},te.id))})]}),O&&p.length===0&&a.jsxs("div",{className:"mt-2 p-4 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg text-center",children:[a.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:t("groups.no_my_groups_message")||"You haven't joined any groups yet."}),a.jsx("button",{type:"button",onClick:()=>r("/groups"),className:"mt-2 px-4 py-2 bg-indigo-500 text-white rounded-lg text-sm hover:bg-indigo-600",children:t("groups.buttons.create")||"Create Group"})]}),$&&v.length>0&&a.jsxs("div",{className:"mt-2 p-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg max-h-48 overflow-y-auto z-10",children:[a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:[t("post.selectEvent")||"Select an event to post to",":"]}),a.jsx("div",{className:"space-y-1",children:v.map(te=>a.jsxs("button",{type:"button",onClick:()=>{E(te.id),N(null),D(!1)},className:"w-full text-left px-3 py-2 hover:bg-pink-50 dark:hover:bg-pink-900/30 rounded-lg flex items-center text-gray-800 dark:text-gray-200",children:[a.jsx(Rt,{className:"mr-2 text-pink-600 dark:text-pink-400"}),a.jsx("span",{children:te.title})]},te.id))})]}),$&&v.length===0&&a.jsxs("div",{className:"mt-2 p-4 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg text-center",children:[a.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:t("events.no_my_events_message")||"You haven't joined any events yet."}),a.jsx("button",{type:"button",onClick:()=>r("/events"),className:"mt-2 px-4 py-2 bg-pink-500 text-white rounded-lg text-sm hover:bg-pink-600",children:t("events.buttons.create")||"Create Event"})]}),z&&k.length>0&&a.jsxs("div",{className:"mt-2 p-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg max-h-48 overflow-y-auto z-10",children:[a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:[t("post.selectFriend")||"Share with friend",":"]}),a.jsx("div",{className:"space-y-1",children:k.map(te=>a.jsxs("button",{type:"button",onClick:()=>{P(te.id),S(!1)},className:"w-full text-left px-3 py-2 hover:bg-green-50 dark:hover:bg-green-900/30 rounded-lg flex items-center text-gray-800 dark:text-gray-200",children:[a.jsx($n,{className:"mr-2 text-green-600 dark:text-green-400"}),a.jsx("span",{children:te.full_name})]},te.id))})]}),z&&k.length===0&&a.jsxs("div",{className:"mt-2 p-4 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg text-center",children:[a.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:t("friends.no_friends_message")||"You haven't added any friends yet."}),a.jsx("button",{type:"button",onClick:()=>r("/friends"),className:"mt-2 px-4 py-2 bg-green-500 text-white rounded-lg text-sm hover:bg-green-600",children:t("friends.buttons.findPeople")||"Find People"})]}),M&&a.jsxs("div",{className:"mt-2 p-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg max-h-48 overflow-y-auto z-10",children:[a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:[t("post.popularHashtags")||"Popular hashtags",":"]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Gv.map(te=>a.jsxs("button",{type:"button",onClick:()=>H(te),className:"px-2 py-1 bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300 rounded-lg text-sm hover:bg-gray-200 dark:hover:bg-gray-600 flex items-center",children:[a.jsx(rm,{size:12,className:"mr-1"})," ",te]},te))})]})]}),a.jsx(Gp,{open:B,onOpenChange:V,children:a.jsxs(pd,{children:[a.jsxs(yd,{children:[a.jsx(xd,{children:t("profile.completeTitle")}),a.jsx(NS,{children:t("profile.completeMessage")})]}),a.jsxs(qp,{className:"mt-4",children:[a.jsx(D7,{asChild:!0,children:a.jsx(xe,{variant:"outline",children:t("common.cancel")})}),a.jsx(xe,{onClick:()=>{r("/profile"),V(!1)},children:t("profile.goToProfile")})]})]})})]})},oa=({message:e,className:t=""})=>e?a.jsxs("div",{className:`bg-red-50 border border-red-200 text-red-800 rounded-lg p-4 flex items-start ${t}`,children:[a.jsx(D2,{className:"h-5 w-5 text-red-600 mr-3 mt-0.5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium",children:"Error"}),a.jsx("p",{className:"text-sm",children:e})]})]}):null;function mu(e){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mu(e)}function Vs(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function ze(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Fe(e){ze(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||mu(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function I7(e,t){ze(2,arguments);var r=Fe(e).getTime(),n=Vs(t);return new Date(r+n)}var F7={};function pl(){return F7}function Am(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function Cc(e,t){ze(2,arguments);var r=Fe(e),n=Fe(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function $7(e){return ze(1,arguments),e instanceof Date||mu(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function U7(e){if(ze(1,arguments),!$7(e)&&typeof e!="number")return!1;var t=Fe(e);return!isNaN(Number(t))}function z7(e,t){ze(2,arguments);var r=Fe(e),n=Fe(t),s=r.getFullYear()-n.getFullYear(),o=r.getMonth()-n.getMonth();return s*12+o}function B7(e,t){return ze(2,arguments),Fe(e).getTime()-Fe(t).getTime()}var V7={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},G7="trunc";function q7(e){return V7[G7]}function W7(e){ze(1,arguments);var t=Fe(e);return t.setHours(23,59,59,999),t}function H7(e){ze(1,arguments);var t=Fe(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function K7(e){ze(1,arguments);var t=Fe(e);return W7(t).getTime()===H7(t).getTime()}function Y7(e,t){ze(2,arguments);var r=Fe(e),n=Fe(t),s=Cc(r,n),o=Math.abs(z7(r,n)),i;if(o<1)i=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*o);var l=Cc(r,n)===-s;K7(Fe(e))&&o===1&&Cc(e,n)===1&&(l=!1),i=s*(o-Number(l))}return i===0?0:i}function J7(e,t,r){ze(2,arguments);var n=B7(e,t)/1e3;return q7()(n)}function X7(e,t){ze(2,arguments);var r=Vs(t);return I7(e,-r)}var Q7=864e5;function Z7(e){ze(1,arguments);var t=Fe(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),s=r-n;return Math.floor(s/Q7)+1}function gu(e){ze(1,arguments);var t=1,r=Fe(e),n=r.getUTCDay(),s=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-s),r.setUTCHours(0,0,0,0),r}function ES(e){ze(1,arguments);var t=Fe(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var s=gu(n),o=new Date(0);o.setUTCFullYear(r,0,4),o.setUTCHours(0,0,0,0);var i=gu(o);return t.getTime()>=s.getTime()?r+1:t.getTime()>=i.getTime()?r:r-1}function eI(e){ze(1,arguments);var t=ES(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=gu(r);return n}var tI=6048e5;function rI(e){ze(1,arguments);var t=Fe(e),r=gu(t).getTime()-eI(t).getTime();return Math.round(r/tI)+1}function pu(e,t){var r,n,s,o,i,l,c,u;ze(1,arguments);var d=pl(),f=Vs((r=(n=(s=(o=t==null?void 0:t.weekStartsOn)!==null&&o!==void 0?o:t==null||(i=t.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&n!==void 0?n:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Fe(e),g=h.getUTCDay(),b=(g<f?7:0)+g-f;return h.setUTCDate(h.getUTCDate()-b),h.setUTCHours(0,0,0,0),h}function PS(e,t){var r,n,s,o,i,l,c,u;ze(1,arguments);var d=Fe(e),f=d.getUTCFullYear(),h=pl(),g=Vs((r=(n=(s=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(i=t.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:h.firstWeekContainsDate)!==null&&n!==void 0?n:(c=h.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(g>=1&&g<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var b=new Date(0);b.setUTCFullYear(f+1,0,g),b.setUTCHours(0,0,0,0);var x=pu(b,t),w=new Date(0);w.setUTCFullYear(f,0,g),w.setUTCHours(0,0,0,0);var p=pu(w,t);return d.getTime()>=x.getTime()?f+1:d.getTime()>=p.getTime()?f:f-1}function nI(e,t){var r,n,s,o,i,l,c,u;ze(1,arguments);var d=pl(),f=Vs((r=(n=(s=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(i=t.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:d.firstWeekContainsDate)!==null&&n!==void 0?n:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1),h=PS(e,t),g=new Date(0);g.setUTCFullYear(h,0,f),g.setUTCHours(0,0,0,0);var b=pu(g,t);return b}var sI=6048e5;function oI(e,t){ze(1,arguments);var r=Fe(e),n=pu(r,t).getTime()-nI(r,t).getTime();return Math.round(n/sI)+1}function Te(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var Sn={y:function(t,r){var n=t.getUTCFullYear(),s=n>0?n:1-n;return Te(r==="yy"?s%100:s,r.length)},M:function(t,r){var n=t.getUTCMonth();return r==="M"?String(n+1):Te(n+1,2)},d:function(t,r){return Te(t.getUTCDate(),r.length)},a:function(t,r){var n=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,r){return Te(t.getUTCHours()%12||12,r.length)},H:function(t,r){return Te(t.getUTCHours(),r.length)},m:function(t,r){return Te(t.getUTCMinutes(),r.length)},s:function(t,r){return Te(t.getUTCSeconds(),r.length)},S:function(t,r){var n=r.length,s=t.getUTCMilliseconds(),o=Math.floor(s*Math.pow(10,n-3));return Te(o,r.length)}},co={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},aI={G:function(t,r,n){var s=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){var s=t.getUTCFullYear(),o=s>0?s:1-s;return n.ordinalNumber(o,{unit:"year"})}return Sn.y(t,r)},Y:function(t,r,n,s){var o=PS(t,s),i=o>0?o:1-o;if(r==="YY"){var l=i%100;return Te(l,2)}return r==="Yo"?n.ordinalNumber(i,{unit:"year"}):Te(i,r.length)},R:function(t,r){var n=ES(t);return Te(n,r.length)},u:function(t,r){var n=t.getUTCFullYear();return Te(n,r.length)},Q:function(t,r,n){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(s);case"QQ":return Te(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,r,n){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(s);case"qq":return Te(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,r,n){var s=t.getUTCMonth();switch(r){case"M":case"MM":return Sn.M(t,r);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(t,r,n){var s=t.getUTCMonth();switch(r){case"L":return String(s+1);case"LL":return Te(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(t,r,n,s){var o=oI(t,s);return r==="wo"?n.ordinalNumber(o,{unit:"week"}):Te(o,r.length)},I:function(t,r,n){var s=rI(t);return r==="Io"?n.ordinalNumber(s,{unit:"week"}):Te(s,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):Sn.d(t,r)},D:function(t,r,n){var s=Z7(t);return r==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):Te(s,r.length)},E:function(t,r,n){var s=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(t,r,n,s){var o=t.getUTCDay(),i=(o-s.weekStartsOn+8)%7||7;switch(r){case"e":return String(i);case"ee":return Te(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(t,r,n,s){var o=t.getUTCDay(),i=(o-s.weekStartsOn+8)%7||7;switch(r){case"c":return String(i);case"cc":return Te(i,r.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(t,r,n){var s=t.getUTCDay(),o=s===0?7:s;switch(r){case"i":return String(o);case"ii":return Te(o,r.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(t,r,n){var s=t.getUTCHours(),o=s/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,r,n){var s=t.getUTCHours(),o;switch(s===12?o=co.noon:s===0?o=co.midnight:o=s/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,r,n){var s=t.getUTCHours(),o;switch(s>=17?o=co.evening:s>=12?o=co.afternoon:s>=4?o=co.morning:o=co.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){var s=t.getUTCHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return Sn.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Sn.H(t,r)},K:function(t,r,n){var s=t.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(s,{unit:"hour"}):Te(s,r.length)},k:function(t,r,n){var s=t.getUTCHours();return s===0&&(s=24),r==="ko"?n.ordinalNumber(s,{unit:"hour"}):Te(s,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Sn.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Sn.s(t,r)},S:function(t,r){return Sn.S(t,r)},X:function(t,r,n,s){var o=s._originalDate||t,i=o.getTimezoneOffset();if(i===0)return"Z";switch(r){case"X":return Wv(i);case"XXXX":case"XX":return ws(i);case"XXXXX":case"XXX":default:return ws(i,":")}},x:function(t,r,n,s){var o=s._originalDate||t,i=o.getTimezoneOffset();switch(r){case"x":return Wv(i);case"xxxx":case"xx":return ws(i);case"xxxxx":case"xxx":default:return ws(i,":")}},O:function(t,r,n,s){var o=s._originalDate||t,i=o.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+qv(i,":");case"OOOO":default:return"GMT"+ws(i,":")}},z:function(t,r,n,s){var o=s._originalDate||t,i=o.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+qv(i,":");case"zzzz":default:return"GMT"+ws(i,":")}},t:function(t,r,n,s){var o=s._originalDate||t,i=Math.floor(o.getTime()/1e3);return Te(i,r.length)},T:function(t,r,n,s){var o=s._originalDate||t,i=o.getTime();return Te(i,r.length)}};function qv(e,t){var r=e>0?"-":"+",n=Math.abs(e),s=Math.floor(n/60),o=n%60;if(o===0)return r+String(s);var i=t;return r+String(s)+i+Te(o,2)}function Wv(e,t){if(e%60===0){var r=e>0?"-":"+";return r+Te(Math.abs(e)/60,2)}return ws(e,t)}function ws(e,t){var r=t||"",n=e>0?"-":"+",s=Math.abs(e),o=Te(Math.floor(s/60),2),i=Te(s%60,2);return n+o+r+i}var Hv=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},TS=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},iI=function(t,r){var n=t.match(/(P+)(p+)?/)||[],s=n[1],o=n[2];if(!o)return Hv(t,r);var i;switch(s){case"P":i=r.dateTime({width:"short"});break;case"PP":i=r.dateTime({width:"medium"});break;case"PPP":i=r.dateTime({width:"long"});break;case"PPPP":default:i=r.dateTime({width:"full"});break}return i.replace("{{date}}",Hv(s,r)).replace("{{time}}",TS(o,r))},lI={p:TS,P:iI},cI=["D","DD"],uI=["YY","YYYY"];function dI(e){return cI.indexOf(e)!==-1}function fI(e){return uI.indexOf(e)!==-1}function Kv(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var hI={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},mI=function(t,r,n){var s,o=hI[t];return typeof o=="string"?s=o:r===1?s=o.one:s=o.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function Of(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var gI={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},pI={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},yI={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},xI={date:Of({formats:gI,defaultWidth:"full"}),time:Of({formats:pI,defaultWidth:"full"}),dateTime:Of({formats:yI,defaultWidth:"full"})},vI={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},bI=function(t,r,n,s){return vI[t]};function $a(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",s;if(n==="formatting"&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,i=r!=null&&r.width?String(r.width):o;s=e.formattingValues[i]||e.formattingValues[o]}else{var l=e.defaultWidth,c=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[c]||e.values[l]}var u=e.argumentCallback?e.argumentCallback(t):t;return s[u]}}var wI={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},_I={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},kI={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},SI={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},jI={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},NI={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},CI=function(t,r){var n=Number(t),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},EI={ordinalNumber:CI,era:$a({values:wI,defaultWidth:"wide"}),quarter:$a({values:_I,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:$a({values:kI,defaultWidth:"wide"}),day:$a({values:SI,defaultWidth:"wide"}),dayPeriod:$a({values:jI,defaultWidth:"wide",formattingValues:NI,defaultFormattingWidth:"wide"})};function Ua(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(s);if(!o)return null;var i=o[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?TI(l,function(f){return f.test(i)}):PI(l,function(f){return f.test(i)}),u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;var d=t.slice(i.length);return{value:u,rest:d}}}function PI(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function TI(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function AI(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var s=n[0],o=t.match(e.parsePattern);if(!o)return null;var i=e.valueCallback?e.valueCallback(o[0]):o[0];i=r.valueCallback?r.valueCallback(i):i;var l=t.slice(s.length);return{value:i,rest:l}}}var RI=/^(\d+)(th|st|nd|rd)?/i,MI=/\d+/i,LI={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},DI={any:[/^b/i,/^(a|c)/i]},OI={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},II={any:[/1/i,/2/i,/3/i,/4/i]},FI={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},$I={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},UI={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},zI={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},BI={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},VI={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},GI={ordinalNumber:AI({matchPattern:RI,parsePattern:MI,valueCallback:function(t){return parseInt(t,10)}}),era:Ua({matchPatterns:LI,defaultMatchWidth:"wide",parsePatterns:DI,defaultParseWidth:"any"}),quarter:Ua({matchPatterns:OI,defaultMatchWidth:"wide",parsePatterns:II,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Ua({matchPatterns:FI,defaultMatchWidth:"wide",parsePatterns:$I,defaultParseWidth:"any"}),day:Ua({matchPatterns:UI,defaultMatchWidth:"wide",parsePatterns:zI,defaultParseWidth:"any"}),dayPeriod:Ua({matchPatterns:BI,defaultMatchWidth:"any",parsePatterns:VI,defaultParseWidth:"any"})},AS={code:"en-US",formatDistance:mI,formatLong:xI,formatRelative:bI,localize:EI,match:GI,options:{weekStartsOn:0,firstWeekContainsDate:1}},qI=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,WI=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,HI=/^'([^]*?)'?$/,KI=/''/g,YI=/[a-zA-Z]/;function yl(e,t,r){var n,s,o,i,l,c,u,d,f,h,g,b,x,w;ze(2,arguments);var p=String(t),y=pl(),v=(n=(s=void 0)!==null&&s!==void 0?s:y.locale)!==null&&n!==void 0?n:AS,_=Vs((o=(i=(l=(c=void 0)!==null&&c!==void 0?c:void 0)!==null&&l!==void 0?l:y.firstWeekContainsDate)!==null&&i!==void 0?i:(u=y.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(_>=1&&_<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var k=Vs((f=(h=(g=(b=void 0)!==null&&b!==void 0?b:void 0)!==null&&g!==void 0?g:y.weekStartsOn)!==null&&h!==void 0?h:(x=y.locale)===null||x===void 0||(w=x.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&f!==void 0?f:0);if(!(k>=0&&k<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!v.localize)throw new RangeError("locale must contain localize property");if(!v.formatLong)throw new RangeError("locale must contain formatLong property");var j=Fe(e);if(!U7(j))throw new RangeError("Invalid time value");var C=Am(j),N=X7(j,C),F={firstWeekContainsDate:_,weekStartsOn:k,locale:v,_originalDate:j},E=p.match(WI).map(function(I){var P=I[0];if(P==="p"||P==="P"){var O=lI[P];return O(I,v.formatLong)}return I}).join("").match(qI).map(function(I){if(I==="''")return"'";var P=I[0];if(P==="'")return JI(I);var O=aI[P];if(O)return fI(I)&&Kv(I,t,String(e)),dI(I)&&Kv(I,t,String(e)),O(N,I,v.localize,F);if(P.match(YI))throw new RangeError("Format string contains an unescaped latin alphabet character `"+P+"`");return I}).join("");return E}function JI(e){var t=e.match(HI);return t?t[1].replace(KI,"'"):e}function RS(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function XI(e){return RS({},e)}var Yv=1440,QI=2520,If=43200,ZI=86400;function e9(e,t,r){var n,s;ze(2,arguments);var o=pl(),i=(n=(s=r==null?void 0:r.locale)!==null&&s!==void 0?s:o.locale)!==null&&n!==void 0?n:AS;if(!i.formatDistance)throw new RangeError("locale must contain formatDistance property");var l=Cc(e,t);if(isNaN(l))throw new RangeError("Invalid time value");var c=RS(XI(r),{addSuffix:!!(r!=null&&r.addSuffix),comparison:l}),u,d;l>0?(u=Fe(t),d=Fe(e)):(u=Fe(e),d=Fe(t));var f=J7(d,u),h=(Am(d)-Am(u))/1e3,g=Math.round((f-h)/60),b;if(g<2)return r!=null&&r.includeSeconds?f<5?i.formatDistance("lessThanXSeconds",5,c):f<10?i.formatDistance("lessThanXSeconds",10,c):f<20?i.formatDistance("lessThanXSeconds",20,c):f<40?i.formatDistance("halfAMinute",0,c):f<60?i.formatDistance("lessThanXMinutes",1,c):i.formatDistance("xMinutes",1,c):g===0?i.formatDistance("lessThanXMinutes",1,c):i.formatDistance("xMinutes",g,c);if(g<45)return i.formatDistance("xMinutes",g,c);if(g<90)return i.formatDistance("aboutXHours",1,c);if(g<Yv){var x=Math.round(g/60);return i.formatDistance("aboutXHours",x,c)}else{if(g<QI)return i.formatDistance("xDays",1,c);if(g<If){var w=Math.round(g/Yv);return i.formatDistance("xDays",w,c)}else if(g<ZI)return b=Math.round(g/If),i.formatDistance("aboutXMonths",b,c)}if(b=Y7(d,u),b<12){var p=Math.round(g/If);return i.formatDistance("xMonths",p,c)}else{var y=b%12,v=Math.floor(b/12);return y<3?i.formatDistance("aboutXYears",v,c):y<9?i.formatDistance("overXYears",v,c):i.formatDistance("almostXYears",v+1,c)}}function Wp(e,t){return ze(1,arguments),e9(e,Date.now(),t)}const t9=({post:e,onLike:t,onSave:r,onCommentClick:n,onShare:s,onDelete:o,currentUserId:i})=>{const{t:l}=ot(),[c,u]=m.useState(!1),[d,f]=m.useState(!1),h=150,g=()=>{u(!c)},b=c||e.content.length<=h?e.content:`${e.content.substring(0,h)}...`;return a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow mb-4 overflow-hidden border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow duration-300",children:[a.jsxs("div",{className:"p-3 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("img",{src:e.profile.avatar_url||"/default-avatar.png",alt:e.profile.full_name,className:"w-8 h-8 rounded-full border border-gray-300 dark:border-gray-600 object-cover"}),a.jsxs("div",{children:[a.jsx(be,{to:`/profile/${e.user_id}`,className:"font-semibold text-sm text-gray-900 dark:text-white hover:underline",children:e.profile.full_name}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:Wp(new Date(e.created_at),{addSuffix:!0})})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:()=>f(!d),className:"text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full p-1 focus:outline-none","aria-label":l("common.more_options")||"More options",children:a.jsx(PT,{size:16})}),d&&a.jsxs("div",{className:"absolute right-0 mt-2 w-32 bg-white dark:bg-gray-700 rounded-md shadow-lg py-1 z-10 border border-gray-200 dark:border-gray-600",onMouseLeave:()=>f(!1),children:[i&&i===e.user_id&&a.jsxs("button",{onClick:()=>{o(e.id),f(!1)},className:"flex items-center w-full px-3 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-gray-100 dark:hover:bg-gray-600",children:[a.jsx(Us,{className:"mr-2",size:14}),l("buttons.delete")||"Delete"]}),a.jsx("button",{onClick:()=>f(!1),className:"flex items-center w-full px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600",children:l("actions.report")||"Report"})]})]})]}),a.jsxs("div",{className:"px-3 pb-2",children:[a.jsx("p",{className:"text-sm text-gray-800 dark:text-gray-200 whitespace-pre-wrap",children:b}),e.content.length>h&&a.jsx("button",{onClick:g,className:"text-xs text-rose-600 dark:text-rose-400 hover:underline mt-1",children:c?l("actions.showLess")||"Show Less":l("actions.showMore")||"Show More"})]}),e.images&&e.images.length>0&&a.jsx("div",{className:"bg-gray-100 dark:bg-gray-700",children:a.jsx("img",{src:e.images[0],alt:"Post media",className:"w-full h-auto max-h-[40vh] object-contain"})}),(e.likes_count>0||e.comments_count>0||e.shares>0)&&a.jsx("div",{className:"px-3 py-1 border-t border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400",children:[e.likes_count>0&&a.jsxs("span",{children:[e.likes_count," Likes"]}),a.jsxs("div",{className:"flex space-x-2",children:[e.comments_count>0&&a.jsxs("span",{children:[e.comments_count," Comments"]}),e.shares>0&&a.jsxs("span",{children:[e.shares," Shares"]})]})]})}),a.jsxs("div",{className:"flex justify-around items-center px-2 py-1 border-t border-gray-200 dark:border-gray-700 gap-1",children:[a.jsxs(xe,{onClick:()=>t(e.id),className:`h-8 w-1/3 ${e.is_liked?"ring-1 ring-rose-500":""}`,variant:"ghost",children:[a.jsx(Bi,{className:`w-4 h-4 ${e.is_liked?"fill-rose-500 text-rose-500":""}`}),a.jsx("span",{className:"text-xs",children:l("buttons.like")||"Like"})]}),a.jsxs(xe,{onClick:()=>n(e),className:"h-8 w-1/3",variant:"ghost",children:[a.jsx(nd,{className:"w-4 h-4"}),a.jsx("span",{className:"text-xs",children:l("buttons.comment")||"Comment"})]}),a.jsxs(xe,{onClick:()=>s(e.id),className:"h-8 w-1/3",variant:"ghost",children:[a.jsx(U2,{className:"w-4 h-4"}),a.jsx("span",{className:"text-xs",children:l("buttons.share")||"Share"})]}),a.jsxs(xe,{onClick:()=>r(e.id),title:e.is_saved?l("buttons.unsave")||"Unsave":l("buttons.save")||"Save",className:`h-8 w-1/3 ${e.is_saved?"ring-1 ring-amber-500":""}`,variant:"ghost",children:[a.jsx(hT,{className:`w-4 h-4 ${e.is_saved?"fill-amber-500 text-amber-500":""}`}),a.jsx("span",{className:"text-xs",children:e.is_saved?l("buttons.saved")||"Saved":l("buttons.save")||"Save"})]})]})]})},r9=()=>{const{user:e}=pa(),{t}=ot(),[r,n]=m.useState([]),[s,o]=m.useState(!0),[i,l]=m.useState(null),[c,u]=m.useState(null),[d,f]=m.useState([]),[h,g]=m.useState(""),[b,x]=m.useState(!1),[w,p]=m.useState("all"),[y,v]=m.useState(""),[_,k]=m.useState(!1),j=m.useCallback(async()=>{var A,$,D;if(!(e!=null&&e.id)){console.log("HomePage: User not available yet, skipping post fetch."),o(!1);return}console.log("HomePage: Fetching posts for user",e.id),o(!0),l(null);try{let z=L.from("posts").select(`
          *,
          profile:profiles!user_id(full_name, avatar_url)
        `).order("created_at",{ascending:!1}).limit(30);w==="my"&&(z=z.eq("user_id",e.id));let{data:S,error:M}=await z;if(M)throw M;const T=(S==null?void 0:S.map(Y=>Y.id))||[],[B,V,re]=await Promise.all([L.from("post_likes").select("post_id").eq("user_id",e.id).in("post_id",T),L.from("post_comments").select("post_id, id",{count:"exact"}).in("post_id",T),L.from("saved_posts").select("post_id").eq("user_id",e.id).in("post_id",T)]);B.error&&console.error("Error fetching likes:",B.error),V.error&&console.error("Error fetching comments count:",V.error),re.error&&console.error("Error fetching saves:",re.error);const se=new Set((A=B.data)==null?void 0:A.map(Y=>Y.post_id)),fe=new Set(($=re.data)==null?void 0:$.map(Y=>Y.post_id)),oe=new Map;(D=V.data)==null||D.forEach(Y=>{oe.set(Y.post_id,(oe.get(Y.post_id)||0)+1)});const{data:R,error:G}=await L.from("post_likes").select("post_id").in("post_id",T);G&&console.error("Error fetching all likes:",G);const X=new Map;R==null||R.forEach(Y=>{X.set(Y.post_id,(X.get(Y.post_id)||0)+1)});const H=(S==null?void 0:S.map(Y=>({...Y,likes_count:X.get(Y.id)||0,comments_count:oe.get(Y.id)||0,shares:Y.shares||0,is_liked:se.has(Y.id),is_saved:fe.has(Y.id),profile:Y.profile||{full_name:"Unknown User",avatar_url:null}})))||[];n(H)}catch(z){console.error("Error fetching posts:",z),l("Error fetching posts. Please try again later.")}finally{o(!1)}},[e,w]);m.useEffect(()=>{j()},[j]);const C=m.useCallback(async A=>{if(A){x(!0),f([]);try{const{data:$,error:D}=await L.from("post_comments").select(`
          *,
          profiles:user_id (
            full_name,
            avatar_url
          )
        `).eq("post_id",A).order("created_at",{ascending:!0});if(D)throw D;f($||[])}catch($){console.error("Error fetching comments:",$),q.error("Error fetching comments. Please try again later.")}finally{x(!1)}}},[]);m.useEffect(()=>{c&&C(c.id)},[c,C]);const N=async A=>{if(!e)return q.error("Login required");const $=[...r];n(D=>D.map(z=>{if(z.id===A){const S=!z.is_liked,M=z.is_liked?z.likes_count-1:z.likes_count+1;return{...z,is_liked:S,likes_count:Math.max(0,M)}}return z}));try{const D=$.find(z=>z.id===A);if(!D)return;if(D.is_liked){const{error:z}=await L.from("post_likes").delete().eq("post_id",A).eq("user_id",e.id);if(z)throw z}else{const{error:z}=await L.from("post_likes").insert({post_id:A,user_id:e.id});if(z)throw z}}catch(D){console.error("Error toggling like:",D),q.error("Action failed. Please try again later."),n($)}},F=async A=>{if(!e)return q.error("Login required");const $=[...r];n(D=>D.map(z=>z.id===A?{...z,is_saved:!z.is_saved}:z));try{const D=$.find(z=>z.id===A);if(!D)return;if(D.is_saved){const{error:z}=await L.from("saved_posts").delete().eq("post_id",A).eq("user_id",e.id);if(z)throw z;q.success("Post unsaved")}else{const{error:z}=await L.from("saved_posts").insert([{post_id:A,user_id:e.id}]);if(z)throw z;q.success("Post saved")}}catch(D){console.error("Error toggling save:",D),q.error("Action failed. Please try again later."),n($)}},E=async()=>{var S,M;if(!h.trim()||!c||!e){q.error("Comment error");return}const A=`temp-${Date.now()}`,$={id:A,content:h,created_at:new Date().toISOString(),user_id:e.id,profiles:{full_name:((S=e.user_metadata)==null?void 0:S.full_name)||"You",avatar_url:((M=e.user_metadata)==null?void 0:M.avatar_url)||null}};f(T=>[...T,$]);const D=[...r];n(T=>T.map(B=>B.id===c.id?{...B,comments_count:B.comments_count+1}:B));const z=h;g("");try{const{data:T,error:B}=await L.from("post_comments").insert({content:z,post_id:c.id,user_id:e.id}).select(`
          *,
            profiles:user_id (full_name, avatar_url)
        `).single();if(B)throw B;f(V=>V.map(re=>re.id===A?{...T,profiles:T.profiles}:re)),q.success("Comment added")}catch(T){console.error("Error adding comment:",T),q.error("Action failed. Please try again later."),f(B=>B.filter(V=>V.id!==A)),n(D),g(z)}},I=A=>{const $=`${window.location.origin}/posts/${A}`;navigator.share?navigator.share({title:"Share Post",text:"Check out this post!",url:$}).catch(D=>console.log("Error sharing:",D)):navigator.clipboard.writeText($).then(()=>{q.success("Link copied")}).catch(D=>{console.error("Failed to copy link:",D),q.error("Link copy failed")})},P=async A=>{if(!e)return q.error("Login required");if(!confirm(t("confirm.deletePost")||"Are you sure you want to delete this post?"))return;const $=[...r];n(D=>D.filter(z=>z.id!==A));try{const{error:D}=await L.from("posts").delete().eq("id",A).eq("user_id",e.id);if(D)throw D;q.success(t("success.postDeleted")||"Post deleted successfully")}catch(D){console.error("Error deleting post:",D),q.error(t("errors.postDeleteFailed")||"Failed to delete post"),n($)}},O=()=>{k(!1),j(),q.success(t("success.postCreated")||"Post created successfully")};return s&&r.length===0?a.jsxs("div",{className:"flex flex-col",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Feed"}),a.jsxs(xe,{onClick:()=>k(!0),className:"flex items-center shadow-sm",children:[a.jsx(ln,{className:"mr-2"}),"Create Post"]})]}),a.jsx("div",{className:"max-w-xl mx-auto w-full",children:[1,2,3].map(A=>a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 mb-6 animate-pulse border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-300 dark:bg-gray-700"}),a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx("div",{className:"h-4 bg-gray-300 dark:bg-gray-700 rounded w-1/4"}),a.jsx("div",{className:"h-3 bg-gray-300 dark:bg-gray-700 rounded w-1/6"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"h-4 bg-gray-300 dark:bg-gray-700 rounded w-full"}),a.jsx("div",{className:"h-4 bg-gray-300 dark:bg-gray-700 rounded w-5/6"})]})]},A))})]}):i?a.jsx(oa,{message:i}):e?a.jsxs("div",{className:"pt-20 pb-10 px-4 md:px-8 max-w-5xl mx-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex space-x-2",style:{display:"none"},children:[a.jsx("button",{onClick:()=>p("all"),className:`px-4 py-2 rounded-lg ${w==="all"?"bg-rose-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200"}`,children:"All Posts"}),a.jsx("button",{onClick:()=>p("my"),className:`px-4 py-2 rounded-lg ${w==="my"?"bg-rose-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200"}`,children:"My Posts"})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",placeholder:t("home.search_placeholder")||"Search posts...",value:y,onChange:A=>v(A.target.value),className:"pl-9 pr-4 py-2 w-48 md:w-64 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-1 focus:ring-rose-500 focus:border-rose-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100"}),a.jsx(Zg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]})})]}),a.jsxs(xe,{onClick:()=>k(!0),className:"mb-6 w-full flex items-center justify-center shadow",children:[a.jsx(ln,{className:"mr-2"}),t("buttons.createPost")||"Create Post"]}),_&&a.jsxs("div",{className:"mb-6",children:[a.jsx(CS,{onPostCreated:()=>{O(),k(!1)}}),a.jsx("button",{onClick:()=>k(!1),className:"w-full mt-3 py-2 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:t("buttons.cancel")||"Cancel"})]}),i&&a.jsx(oa,{message:i}),s&&a.jsx("div",{className:"flex justify-center py-10",children:a.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-rose-500"})}),!s&&r.length===0?a.jsxs("div",{className:"text-center py-10 bg-white dark:bg-gray-800 rounded-lg shadow border border-gray-200 dark:border-gray-700",children:[a.jsx(nd,{className:"mx-auto h-10 w-10 text-gray-400 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t("home.no_posts_title")||"No posts found"}),a.jsx("p",{className:"mt-1 text-gray-500 dark:text-gray-400",children:w==="my"?t("home.no_my_posts_message")||"You haven't created any posts yet.":t("home.no_all_posts_message")||"There are no posts to display."}),a.jsx("button",{onClick:()=>k(!0),className:"mt-4 px-4 py-2 bg-rose-500 text-white rounded-lg hover:bg-rose-600 transition-colors",children:t("home.create_first_post")||"Create your first post"})]}):a.jsx("div",{children:r.filter(A=>A.content.toLowerCase().includes(y.toLowerCase())).map(A=>a.jsx(t9,{post:A,onLike:N,onSave:F,onCommentClick:$=>{u($),C($.id)},onShare:I,onDelete:P,currentUserId:e==null?void 0:e.id},A.id))}),c&&a.jsx("div",{className:"fixed inset-0 z-50 overflow-auto bg-black bg-opacity-50 flex",children:a.jsxs("div",{className:"relative p-4 w-full max-w-2xl m-auto bg-white dark:bg-gray-800 rounded-lg shadow-xl",children:[a.jsx("button",{onClick:()=>u(null),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700 dark:text-gray-300 dark:hover:text-gray-100",children:""}),a.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900 dark:text-white",children:t("comments.title")||"Comments"}),a.jsx("div",{className:"mb-4 max-h-96 overflow-y-auto",children:b?a.jsx("div",{className:"flex justify-center py-4",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-rose-500"})}):d.length===0?a.jsx("p",{className:"text-center py-4 text-gray-500 dark:text-gray-400",children:"No comments yet"}):d.map(A=>a.jsx("div",{className:"mb-3 p-3 bg-gray-50 dark:bg-gray-700 rounded",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("img",{src:A.profiles.avatar_url||"/default-avatar.png",alt:A.profiles.full_name,className:"w-8 h-8 rounded-full mr-3 border border-gray-300 dark:border-gray-600"}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-baseline space-x-2",children:[a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:A.profiles.full_name}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:Wp(new Date(A.created_at),{addSuffix:!0})})]}),a.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mt-1",children:A.content})]})]})},A.id))}),a.jsxs("div",{className:"flex",children:[a.jsx("input",{type:"text",placeholder:t("comments.writeCommentPlaceholder")||"Write a comment...",value:h,onChange:A=>g(A.target.value),className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-l-lg focus:ring-1 focus:ring-rose-500 focus:border-rose-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"}),a.jsx("button",{onClick:E,disabled:!h.trim(),className:"px-4 py-2 bg-rose-500 text-white rounded-r-lg hover:bg-rose-600 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:t("buttons.send")||"Send"})]})]})})]}):a.jsxs("div",{className:"max-w-xl mx-auto py-6 px-4 text-center",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Welcome"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Please log in to see your feed"}),a.jsx(be,{to:"/login",children:a.jsx(xe,{children:"Log In"})})]})},Ee=({size:e="md",className:t=""})=>{const r={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"};return a.jsx("div",{className:`flex items-center justify-center ${t}`,children:a.jsxs("svg",{className:`animate-spin ${r[e]} text-blue-600`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})},n9=({post:e,isOwner:t,onDelete:r})=>{var u,d,f,h,g;const{t:n}=Mr(),[s,o]=m.useState(!1),[i,l]=m.useState(!1),c=async()=>{try{l(!0),await r()}catch(b){console.error("Error deleting post:",b)}finally{l(!1),o(!1)}};return a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:[a.jsxs("div",{className:"p-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(gl,{userId:(u=e.user)==null?void 0:u.id,avatarUrl:(d=e.user)==null?void 0:d.avatar_url,avatarEmoji:(f=e.user)==null?void 0:f.avatar_emoji,fullName:(h=e.user)==null?void 0:h.full_name,size:"sm"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:(g=e.user)==null?void 0:g.full_name}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:yl(new Date(e.created_at||""),"MMM d, yyyy")})]})]}),t&&a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:()=>o(!s),className:"p-2 text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",children:a.jsx(sd,{className:"w-5 h-5"})}),s&&a.jsx("div",{className:"absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-white dark:bg-gray-700 ring-1 ring-black ring-opacity-5",children:a.jsx("div",{className:"py-1",children:a.jsxs("button",{onClick:c,disabled:i,className:"w-full text-left px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-gray-100 dark:hover:bg-gray-600 flex items-center",children:[a.jsx(Us,{className:"w-4 h-4 mr-2"}),n(i?"post.deleting":"post.delete")]})})})]})]}),a.jsx("div",{className:"px-4 pb-4",children:a.jsx("p",{className:"text-gray-900 dark:text-white whitespace-pre-wrap",children:e.content})}),e.image_url&&a.jsx("div",{className:"relative",children:a.jsx("img",{src:e.image_url,alt:"Post",className:"w-full object-cover max-h-96"})}),a.jsx("div",{className:"px-4 py-3 border-t border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex space-x-6",children:[a.jsxs("button",{className:"flex items-center text-gray-600 hover:text-primary-600 dark:text-gray-300 dark:hover:text-primary-400",children:[a.jsx(Bi,{className:"w-5 h-5 mr-1.5"}),a.jsx("span",{className:"text-sm",children:"0"})]}),a.jsxs("button",{className:"flex items-center text-gray-600 hover:text-primary-600 dark:text-gray-300 dark:hover:text-primary-400",children:[a.jsx(nd,{className:"w-5 h-5 mr-1.5"}),a.jsx("span",{className:"text-sm",children:"0"})]}),a.jsx("button",{className:"flex items-center text-gray-600 hover:text-primary-600 dark:text-gray-300 dark:hover:text-primary-400",children:a.jsx(U2,{className:"w-5 h-5 mr-1.5"})})]})})]})},aa=({src:e,name:t="",size:r="md",className:n=""})=>{const s={sm:"w-8 h-8 text-xs",md:"w-12 h-12 text-sm",lg:"w-16 h-16 text-base"},o=s[r]||s.md,i=t.split(" ").map(l=>l[0]).join("").toUpperCase().substring(0,2);return a.jsx("div",{className:`${o} rounded-full overflow-hidden bg-gray-200 flex-shrink-0 ${n}`,children:e?a.jsx("img",{src:e,alt:t||"Avatar",className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full bg-blue-500 flex items-center justify-center",children:a.jsx("span",{className:"text-white font-semibold",children:i||"?"})})})},s9={technology:["Programming","Artificial Intelligence","Web Development","Mobile Apps","Cybersecurity","Data Science","Cloud Computing","Blockchain","IoT","Gaming"],arts:["Visual Arts","Music","Photography","Design","Writing","Film","Theater","Dance","Fashion","Crafts"],lifestyle:["Travel","Fitness","Food","Health","Sports","Meditation","Yoga","Reading","Cooking","Outdoor Activities"],business:["Entrepreneurship","Marketing","Finance","Leadership","Innovation","Strategy","Management","Sales","Consulting","E-commerce"],education:["Teaching","Learning","Research","Academic Writing","STEM","Languages","History","Philosophy","Psychology","Literature"]},MS=Object.values(s9).flat(),o9=({profile:e,onProfileUpdated:t})=>{const{tWithTemplate:r}=ot(),[n,s]=m.useState(!1),[o,i]=m.useState({full_name:"",headline:"",bio:"",location:"",website:"",interests:[]}),[l,c]=m.useState(null),[u,d]=m.useState(null),[f,h]=m.useState(null),[g,b]=m.useState(""),[x,w]=m.useState(!0);m.useEffect(()=>{e&&(i({full_name:e.full_name||"",headline:e.headline||"",bio:e.bio||"",location:e.location||"",website:e.website||"",interests:e.interests||[]}),c(e.avatar_url||null),d(e.avatar_emoji||null),b(e.cover_url||""))},[e]);const p=N=>{const{name:F,value:E}=N.target;i(I=>({...I,[F]:E}))},y=N=>{i(F=>{const E=[...F.interests];return E.includes(N)?{...F,interests:E.filter(I=>I!==N)}:E.length<10?{...F,interests:[...E,N]}:(q.error(r("profile.error.maxTags")),F)})},v=(N,F)=>{N==="url"&&typeof F=="string"?c(F):N==="emoji"&&typeof F=="string"&&d(F)},_=N=>{if(N.target.files&&N.target.files[0]){const F=N.target.files[0];h(F),b(URL.createObjectURL(F))}},k=async(N,F,E)=>{const I=N.name.split(".").pop(),P=`${E}.${I}`,{error:O}=await L.storage.from(F).upload(P,N,{upsert:!0});if(O)throw O;const{data:A}=L.storage.from(F).getPublicUrl(P);return A.publicUrl},j=async N=>{if(N.preventDefault(),!o.full_name.trim()){q.error(r("profile.error.fullNameRequired"));return}try{s(!0);let F={full_name:o.full_name,headline:o.headline,bio:o.bio,location:o.location,website:o.website,interests:o.interests,updated_at:new Date().toISOString(),avatar_url:l||e.avatar_url};if(console.log("Updating profile with:",F),f)try{const A=await k(f,"covers",e.id);F.cover_url=A}catch(A){throw console.error("Cover upload error:",A),new Error("Failed to upload cover image")}const{data:E,error:I}=await L.from("profiles").update(F).eq("id",e.id).select();if(I)throw console.error("Profile update error:",I),I;console.log("Profile updated successfully:",E);const{data:P,error:O}=await L.auth.updateUser({data:{avatar_url:l||e.avatar_url,avatar_emoji:u}});if(O)throw console.error("Auth metadata update error:",O),O;if(console.log("Auth metadata updated successfully:",P),o.interests&&o.interests.length>0)try{const{error:A}=await L.from("user_interests").delete().eq("user_id",e.id);if(A)throw console.error("Error deleting existing interests:",A),A;const $=o.interests.map(z=>({user_id:e.id,interest:z})),{error:D}=await L.from("user_interests").insert($);if(D)throw console.error("Error inserting new interests:",D),D}catch(A){throw console.error("Interests update error:",A),new Error("Failed to update interests")}q.success(r("profile.success.updated")),t()}catch(F){console.error("Error updating profile:",F);const E=F.message||F.error_description||"Failed to update profile";q.error(E)}finally{s(!1)}},C=()=>{w(!1),setTimeout(()=>{t()},300)};return a.jsx(Gp,{open:x,onOpenChange:N=>{N||C()},children:a.jsxs(pd,{className:"sm:max-w-[500px]",children:[a.jsx(yd,{children:a.jsx(xd,{children:"Edit Profile"})}),a.jsxs("form",{onSubmit:j,className:"space-y-4 py-4 max-h-[70vh] overflow-y-auto pr-2",children:[a.jsxs("div",{className:"relative h-40 rounded-lg overflow-hidden bg-gray-200 dark:bg-gray-700 mb-4",children:[g?a.jsx("img",{src:g,alt:"Cover preview",className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 dark:text-gray-500",children:"No cover image"}),a.jsxs("label",{className:"absolute bottom-2 right-2 bg-black/50 text-white p-1.5 rounded-full cursor-pointer hover:bg-black/70",children:[a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),a.jsx("circle",{cx:"12",cy:"13",r:"4"})]}),a.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:_})]})]}),a.jsx("div",{className:"flex justify-center -mt-16 mb-4 z-10 relative",children:a.jsx(gl,{userId:e.id,avatarUrl:l,avatarEmoji:u,fullName:o.full_name,size:"xl",editable:!0,onAvatarChange:v})}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Full Name *"}),a.jsx("input",{type:"text",name:"full_name",value:o.full_name,onChange:p,className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Headline"}),a.jsx("input",{type:"text",name:"headline",value:o.headline,onChange:p,className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Bio"}),a.jsx("textarea",{name:"bio",value:o.bio,onChange:p,rows:4,className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Location"}),a.jsx("input",{type:"text",name:"location",value:o.location,onChange:p,className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Website"}),a.jsx("input",{type:"text",name:"website",value:o.website,onChange:p,className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"https://example.com"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Interests (Maximum 10)"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:MS.map(N=>a.jsx("button",{type:"button",onClick:()=>y(N),className:`px-3 py-1 rounded-full text-xs transition-colors ${o.interests.includes(N)?"bg-indigo-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:N},N))})]})]}),a.jsxs(qp,{children:[a.jsx(xe,{type:"button",variant:"secondary",disabled:n,onClick:C,children:"Cancel"}),a.jsx(xe,{type:"submit",onClick:j,disabled:n,children:"Save Changes"})]})]})})},a9=async e=>{if(!e)return null;try{const{data:t,error:r}=await L.from("profiles").select("*").eq("id",e).single();if(r)throw r;return t}catch(t){return console.error("Error fetching user profile:",t),null}},i9=e=>e?e.full_name||"Unnamed User":"Unknown User",l9=async(e,t,r)=>{try{const n=await a9(t),s=i9(n);switch(e){case"friend_request":return`${s} sent you a friend request`;case"friend_accepted":return`${s} accepted your friend request`;case"like":return`${s} liked your post`;case"comment":return`${s} commented on your post`;case"group_invite":return`${s} invited you to join ${r||"a group"}`;case"group_joined":return`${s} joined ${r||"your group"}`;case"event_invite":return`${s} invited you to ${r||"an event"}`;case"event_reminder":return`Reminder: ${r||"Your event"} is coming up soon`;case"mention":return`${s} mentioned you in a ${r||"post"}`;default:return`${s} interacted with you`}}catch(n){return console.error("Error generating notification content:",n),"You have a new notification"}},yu=async(e,t,r,n)=>{try{const s=await l9(t,r,n),{error:o}=await L.from("notifications").insert({user_id:e,type:t,content:s,related_id:r,read:!1});if(o)throw o;return!0}catch(s){return console.error("Error creating notification:",s),!1}},uo="bg-rose-600 text-white hover:bg-rose-700 dark:bg-rose-500 dark:hover:bg-rose-600 px-4 py-2 rounded-md shadow-sm transition duration-150 ease-in-out",Jv="text-indigo-600 hover:text-indigo-800 dark:text-indigo-400 dark:hover:text-indigo-300 font-medium text-sm",Xv="border border-rose-500 text-rose-600 hover:bg-rose-50 dark:border-rose-400 dark:text-rose-400 dark:hover:bg-rose-900/20 px-4 py-2 rounded-md shadow-sm transition duration-150 ease-in-out",Ff=e=>e?new Date(e).toLocaleDateString():"",c9=()=>{const{user:e}=pa(),{t}=ot(),{profileId:r}=Hu(),{checkProfileCompletion:n}=Wk(),[s,o]=m.useState(null),[i,l]=m.useState([]),[c,u]=m.useState([]),[d,f]=m.useState([]),[h,g]=m.useState([]),[b,x]=m.useState([]),[w,p]=m.useState("posts"),[y,v]=m.useState(!0),[_,k]=m.useState(!1),[j,C]=m.useState(!1),[N,F]=m.useState(!1),[E,I]=m.useState(!1),[P,O]=m.useState(!1),[A,$]=m.useState("loading"),[D,z]=m.useState(!1),[S,M]=m.useState(!1),[T,B]=m.useState([]),[V,re]=m.useState(!1),[se,fe]=m.useState(null),oe=r||(e==null?void 0:e.id),R=[{id:"posts",label:t("profile.tabs.posts")||"Posts",icon:_T},{id:"groups",label:t("profile.tabs.groups")||"Groups",icon:qe},{id:"events",label:t("profile.tabs.events")||"Events",icon:Rt},{id:"friends",label:t("profile.tabs.friends")||"Friends",icon:Nr}].filter(W=>V||W.id!=="saved"),G=m.useCallback(async()=>{if(console.log(`Fetching profile data for user ID: ${oe}`),!oe){console.error("No user ID available to fetch profile"),q.error(t("profile.errors.userNotFound"));return}console.log(`Current user ID: ${e==null?void 0:e.id}`);const W=oe===(e==null?void 0:e.id);re(W);try{v(!0);const{data:he,error:we}=await iT(oe,(e==null?void 0:e.id)||"");if(we){console.error("Error fetching profile:",we),q.error(t("profile.errors.fetchFailed"));return}if(!he){console.error("No profile data returned"),q.error(t("profile.errors.userNotFound"));return}console.log("Profile data fetched successfully:",he),o(he),!W&&he.friend_status&&($(he.friend_status),he.friend_connection_id&&fe(he.friend_connection_id))}catch(he){console.error("Unexpected error in fetchProfileData:",he),q.error(t("profile.errors.fetchFailed"))}finally{v(!1)}},[oe,e==null?void 0:e.id,t]),X=m.useCallback(async()=>{if(oe){k(!0);try{const{data:W,error:he}=await L.from("posts").select("*, profile:profiles!user_id(full_name, avatar_url)").eq("user_id",oe).order("created_at",{ascending:!1});if(he)throw he;l(W||[])}catch(W){console.error("Error fetching posts:",W),q.error("Failed to load posts.")}finally{k(!1)}}},[oe]),H=m.useCallback(async()=>{if(oe){C(!0);try{const{data:W,error:he}=await L.rpc("get_user_groups",{p_user_id:oe});if(he)throw he;u(W||[])}catch(W){console.error("Error fetching groups:",W),q.error("Failed to load groups.")}finally{C(!1)}}},[oe]),Y=m.useCallback(async()=>{if(oe){F(!0);try{const{data:W,error:he}=await L.from("events").select("*").eq("user_id",oe).order("start_date",{ascending:!0});if(he)throw he;const we=(W||[]).map(De=>({...De,is_creator:!0}));f(we)}catch(W){console.error("Error fetching events:",W),q.error(`Failed to load events: ${W.message}`),f([])}finally{F(!1)}}},[oe]),K=m.useCallback(async()=>{if(oe){I(!0),g([]);try{const{data:W,error:he}=await L.from("user_connections").select("user_id, friend_id").or(`user_id.eq.${oe},friend_id.eq.${oe}`).eq("status","accepted");if(he)throw he;if(!W||W.length===0){console.log("[fetchFriends] No accepted connections found."),I(!1);return}const we=W.map(Tt=>Tt.user_id===oe?Tt.friend_id:Tt.user_id);if(we.length===0){console.log("[fetchFriends] No valid friend IDs extracted."),I(!1);return}console.log("[fetchFriends] Friend IDs to fetch profiles for:",we);const{data:De,error:rt}=await L.from("profiles").select("id, full_name, avatar_url, headline").in("id",we);if(rt)throw rt;console.log("[fetchFriends] Fetched friend profiles:",De),g(De||[])}catch(W){console.error("[fetchFriends] Error occurred:",W),q.error("Failed to load friends.")}finally{I(!1)}}},[oe]),U=m.useCallback(async()=>{if(!(!V||!e)){O(!0);try{const{data:W,error:he}=await L.from("saved_items").select("id, user_id, created_at, post_id, event_id, group_id").eq("user_id",e.id).order("created_at",{ascending:!1});if(he)throw he;if(!W||W.length===0){console.log("[fetchSavedItems] No saved items found."),x([]),O(!1);return}const we=W.map(Ve=>Ve.post_id).filter(Ve=>Ve!=null),De=W.map(Ve=>Ve.event_id).filter(Ve=>Ve!=null),rt=W.map(Ve=>Ve.group_id).filter(Ve=>Ve!=null),[Tt,yr,bn]=await Promise.all([we.length?L.from("posts").select("id, content, user_id, profile:profiles(full_name, avatar_url)").in("id",we):Promise.resolve({data:[],error:null}),De.length?L.from("events").select("id, title, description, user_id, profile:profiles(full_name, avatar_url)").in("id",De):Promise.resolve({data:[],error:null}),rt.length?L.from("groups").select("id, name, description, user_id, profile:profiles(full_name, avatar_url)").in("id",rt):Promise.resolve({data:[],error:null})]);if(Tt.error)throw Tt.error;if(yr.error)throw yr.error;if(bn.error)throw bn.error;const ja=W.map(Ve=>{let Re=null,Na=null,_l={},Dr=null,wn=null;return Ve.post_id&&Tt.data?(Na="post",wn=Ve.post_id,Re=Tt.data.find(Ca=>Ca.id===wn),Dr=Re==null?void 0:Re.profile,_l={content:Re==null?void 0:Re.content}):Ve.event_id&&yr.data?(Na="event",wn=Ve.event_id,Re=yr.data.find(Ca=>Ca.id===wn),Dr=Re==null?void 0:Re.profile,_l={title:Re==null?void 0:Re.title,description:Re==null?void 0:Re.description}):Ve.group_id&&bn.data&&(Na="group",wn=Ve.group_id,Re=bn.data.find(Ca=>Ca.id===wn),Dr=Re==null?void 0:Re.profile,_l={title:Re==null?void 0:Re.name,description:Re==null?void 0:Re.description}),!Na||!wn?(console.warn(`[fetchSavedItems] Could not determine type, item ID, or find details for saved item ID: ${Ve.id}`),null):{id:Ve.id,user_id:Ve.user_id,created_at:Ve.created_at,type:Na,item_id:wn,..._l,author:Dr!=null&&Dr.full_name||Dr!=null&&Dr.avatar_url?Dr:void 0}}).filter(Ve=>Ve!==null);x(ja)}catch(W){console.error("[fetchSavedItems] Error occurred:",W),q.error("Failed to load saved items."),x([])}finally{O(!1)}}},[V,e]),J=m.useCallback(async()=>{if(V||!e||!r){$("none");return}if(s&&s.friend_status){$(s.friend_status);return}s&&!s.friend_status&&(console.error("Profile data does not contain friend_status information"),$("error"))},[V,e,r,s]);m.useEffect(()=>{G(),!V&&(!s||!("friend_status"in s))&&J()},[oe,e==null?void 0:e.id]),m.useEffect(()=>{w==="posts"?X():w==="groups"?H():w==="events"?Y():w==="friends"?K():w==="saved"&&V&&U()},[w,X,H,Y,K,U,V]);const ne=async W=>{if(window.confirm(t("profile.confirmDeletePost")||"Are you sure you want to delete this post?"))try{const{error:he}=await L.from("posts").delete().eq("id",W).eq("user_id",e==null?void 0:e.id);if(he)throw he;l(we=>we.filter(De=>De.id!==W)),q.success(t("profile.postDeletedSuccess")||"Post deleted successfully.")}catch(he){console.error("Error deleting post:",he),q.error(t("profile.postDeleteFailed")||"Failed to delete post.")}},ie=async W=>{await ne(W)},ue=async()=>{if(!(!r||!e)){z(!0);try{const{error:W}=await L.from("user_connections").insert({user_id:e.id,friend_id:r,status:"pending"});if(W)throw W;console.log("Creating friend request notification for user:",r),await yu(r,"friend_request",e.id),$("pending"),q.success(t("profile.friendRequestSent")||"Friend request sent!")}catch(W){console.error("Error sending friend request:",W),q.error(t("profile.friendRequestFailed")||"Failed to send friend request.")}finally{z(!1)}}},Be=async()=>{if(window.confirm(t("profile.confirmRemoveFriend")||"Are you sure you want to remove this friend?")&&!(!r||!e))try{await L.from("user_connections").delete().match({user_id:e.id,friend_id:r}),await L.from("user_connections").delete().match({user_id:r,friend_id:e.id}),$("none"),K(),q.success(t("profile.friendRemovedSuccess")||"Friend removed.")}catch(W){console.error("Error removing friend:",W),q.error(t("profile.friendRemoveFailed")||"Failed to remove friend.")}},je=async()=>{if(!(!r||!e||A!=="pending"))try{const{error:W}=await L.from("user_connections").update({status:"accepted"}).match({user_id:r,friend_id:e.id,status:"pending"});if(W)throw W;$("accepted"),K(),q.success(t("profile.friendRequestAccepted")||"Friend request accepted!")}catch(W){console.error("Error accepting friend request:",W),q.error(t("profile.friendRequestAcceptFailed")||"Failed to accept friend request.")}},Pt=()=>{M(!0)},bt=()=>{M(!1),G(),n()},te=()=>{if(V||!e||A==="error")return null;switch(A){case"none":return a.jsxs(xe,{onClick:ue,disabled:D,className:uo,children:[D?a.jsx(Ee,{size:"sm"}):a.jsx($n,{className:"mr-2"}),t("profile.buttons.addFriend")]});case"pending":return V?a.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 italic",children:t("profile.status.requestSent")}):a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(xe,{onClick:je,className:uo,children:[a.jsx(O2,{className:"mr-2"})," ",t("profile.buttons.accept")]}),a.jsxs(xe,{variant:"outline",onClick:Be,className:Xv,children:[a.jsx(cn,{className:"mr-2"})," ",t("profile.buttons.decline")]})]});case"accepted":return a.jsxs(xe,{onClick:Be,variant:"outline",className:Xv,children:[a.jsx(B2,{className:"mr-2"})," ",t("profile.buttons.removeFriend")]});default:return null}},pe=()=>{switch(w){case"posts":return a.jsxs("div",{className:"space-y-6",children:[V&&a.jsx(CS,{onPostCreated:X}),_?a.jsx("div",{className:"flex justify-center py-10",children:a.jsx(Ee,{})}):i.length===0?a.jsx("div",{className:"text-center py-10 text-gray-500 dark:text-gray-400",children:V?t("profile.noPostsYet"):`${(s==null?void 0:s.full_name)||"User"} ${t("profile.userHasNoPostsSuffix")||"has no posts."}`}):a.jsx("div",{className:"space-y-4",children:i.map(W=>a.jsx(n9,{post:W,onDelete:()=>ie(W.id),isOwner:W.user_id===(e==null?void 0:e.id)},W.id))})]});case"groups":return a.jsxs("div",{children:[j?a.jsx("div",{className:"flex justify-center py-10",children:a.jsx(Ee,{})}):c.length===0?a.jsx("div",{className:"text-center py-10 text-gray-500 dark:text-gray-400",children:V?t("profile.noGroupsJoined"):`${(s==null?void 0:s.full_name)||"User"} ${t("profile.userNotInGroupsSuffix")||"isn't part of any groups."}`}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(W=>a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:[a.jsx("div",{className:"h-32 bg-gradient-to-r from-blue-400 to-indigo-500 relative",children:W.banner_url&&a.jsx("img",{src:W.banner_url,alt:W.name,className:"w-full h-full object-cover"})}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1 truncate",children:W.name||"Unnamed Group"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-3 line-clamp-2",children:W.description||"No description available."}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[W.member_count||0," ",t("groups.members")]}),a.jsx(be,{to:`/groups/${W.id}`,className:Jv,children:t("profile.buttons.viewGroup")})]})]})]},W.id))}),V&&a.jsx("div",{className:"mt-6 text-center",children:a.jsxs(be,{to:"/groups/create",className:uo,children:[a.jsx(ln,{className:"mr-2 inline"})," ",t("profile.buttons.createGroup")]})})]});case"events":return a.jsxs("div",{children:[N?a.jsx("div",{className:"flex justify-center py-10",children:a.jsx(Ee,{})}):d.length===0?a.jsx("div",{className:"text-center py-10 text-gray-500 dark:text-gray-400",children:V?t("profile.noEventsJoined"):`${(s==null?void 0:s.full_name)||"User"} ${t("profile.userNotInEventsSuffix")||"isn't associated with any events."}`}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:d.map(W=>a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"h-32 bg-gradient-to-r from-purple-400 to-pink-500 relative flex-shrink-0",children:[W.banner_url&&a.jsx("img",{src:W.banner_url,alt:W.title,className:"w-full h-full object-cover"}),a.jsxs("div",{className:"absolute top-2 right-2 space-x-1",children:[W.is_creator&&a.jsx("span",{className:"px-2 py-0.5 text-xs bg-yellow-500 text-white rounded-full font-medium shadow",children:"Creator"}),W.is_attending&&!W.is_creator&&a.jsx("span",{className:"px-2 py-0.5 text-xs bg-green-500 text-white rounded-full font-medium shadow",children:"Attending"})]})]}),a.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[a.jsxs("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400 mb-2",children:[a.jsx(Rt,{className:"mr-1.5 flex-shrink-0",size:12}),a.jsx("span",{children:Ff(W.start_date)}),W.end_date&&a.jsxs("span",{className:"ml-1",children:[" - ",Ff(W.end_date)]})]}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1 truncate",children:W.title}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-3 line-clamp-2 flex-grow",children:W.description||"No description available."}),W.location&&a.jsxs("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400 mb-3",children:[a.jsx(As,{className:"mr-1.5 flex-shrink-0",size:12}),a.jsx("span",{className:"truncate",children:W.location})]}),a.jsx("div",{className:"flex justify-end mt-auto",children:a.jsx(be,{to:`/events/${W.id}`,className:`${Jv} text-xs px-3 py-1`,children:t("profile.buttons.viewDetails")})})]})]},W.id))}),V&&a.jsx("div",{className:"mt-6 text-center",children:a.jsxs(be,{to:"/events/create",className:uo,children:[a.jsx(ln,{className:"mr-2 inline"})," ",t("profile.buttons.createEvent")]})})]});case"friends":return a.jsxs("div",{children:[E?a.jsx("div",{className:"flex justify-center py-10",children:a.jsx(Ee,{})}):h.length===0?a.jsx("div",{className:"text-center py-10 text-gray-500 dark:text-gray-400",children:V?t("profile.noFriendsYet"):`${(s==null?void 0:s.full_name)||"User"} ${t("profile.userHasNoFriendsSuffix")||"has no friends to display."}`}):a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:h.map(W=>a.jsxs(be,{to:`/profile/${W.id}`,className:"flex flex-col items-center p-4 bg-white dark:bg-gray-800 rounded-lg shadow hover:shadow-md transition-shadow",children:[a.jsx(aa,{src:W.avatar_url??void 0,name:W.full_name??"",size:"lg"}),a.jsx("span",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white truncate w-full text-center",children:W.full_name}),W.headline&&a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 truncate w-full text-center",children:W.headline})]},W.id))}),V&&a.jsx("div",{className:"mt-6 text-center",children:a.jsxs(be,{to:"/friends",className:uo,children:[a.jsx(ln,{className:"mr-2 inline"})," ",t("profile.buttons.findFriends")]})})]});case"saved":return V?a.jsx("div",{children:P?a.jsx("div",{className:"flex justify-center py-10",children:a.jsx(Ee,{})}):b.length===0?a.jsx("div",{className:"text-center py-10 text-gray-500 dark:text-gray-400",children:t("profile.noSavedItems")}):a.jsx("div",{className:"space-y-4",children:b.map(W=>{var he,we,De;return a.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg shadow",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(aa,{src:((he=W.author)==null?void 0:he.avatar_url)??void 0,name:((we=W.author)==null?void 0:we.full_name)??"",size:"sm"}),a.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:((De=W.author)==null?void 0:De.full_name)||"Unknown Author"})]}),W.type==="post"&&W.content&&a.jsx("p",{children:W.content}),(W.type==="event"||W.type==="group")&&W.title&&a.jsx("p",{className:"font-semibold",children:W.title}),(W.type==="event"||W.type==="group")&&W.description&&a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:W.description})]},W.id)})})}):null;case"about":return a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[a.jsxs("h3",{className:"text-xl font-semibold mb-4 text-gray-900 dark:text-white",children:["About ",(s==null?void 0:s.full_name)||"User"]}),y?a.jsx(Ee,{}):s?a.jsxs("div",{className:"space-y-4 text-gray-700 dark:text-gray-300",children:[s.bio&&a.jsx("p",{className:"text-lg italic",children:s.bio}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4 pt-4 border-t border-gray-200 dark:border-gray-700 mt-4",children:[s.location&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(As,{className:"text-gray-500"}),a.jsx("span",{children:s.location})]}),s.website&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(nx,{className:"text-gray-500"}),a.jsx("a",{href:s.website.startsWith("http")?s.website:`//${s.website}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline truncate",children:s.website})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Rt,{className:"text-gray-500"}),a.jsxs("span",{children:["Joined on ",Ff(s==null?void 0:s.created_at)]})]})]})]}):a.jsx("p",{className:"text-center py-10 text-gray-500 dark:text-gray-400",children:"Could not load profile information."})]});default:return null}};return y&&!s?a.jsx("div",{className:"flex justify-center items-center h-screen",children:a.jsx(Ee,{size:"lg"})}):s?a.jsxs("div",{className:"min-h-screen",children:[y?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx(Ee,{size:"lg"})}):s?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 shadow",children:a.jsxs("div",{className:"max-w-4xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(gl,{avatarUrl:s.avatar_url,fullName:s.full_name||"",size:"lg"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:s.full_name}),s.headline&&a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:s.headline}),a.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[s.location&&a.jsxs("span",{className:"inline-flex items-center text-sm text-gray-500 dark:text-gray-400",children:[a.jsx(As,{className:"mr-1"})," ",s.location]}),s.website&&a.jsxs("a",{href:s.website.startsWith("http")?s.website:`https://${s.website}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-sm text-blue-500 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300",children:[a.jsx(nx,{className:"mr-1"})," ",s.website]})]})]})]}),a.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2",children:V?a.jsxs(xe,{onClick:Pt,className:"inline-flex items-center",children:[a.jsx(xT,{className:"mr-2"})," ",t("profile.buttons.editProfile")]}):te()})]}),s.bio&&a.jsx("div",{className:"mt-6",children:a.jsx("p",{className:"text-gray-700 dark:text-gray-300 whitespace-pre-line",children:s.bio})}),a.jsx("div",{className:"mt-6 border-b border-gray-200 dark:border-gray-700",children:a.jsx("nav",{className:"-mb-px flex space-x-8",children:R.map(W=>a.jsxs("button",{onClick:()=>p(W.id),className:`${w===W.id?"border-rose-500 text-rose-600 dark:text-rose-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"} whitespace-nowrap flex pb-4 pt-2 px-1 border-b-2 font-medium text-sm`,children:[a.jsx(W.icon,{className:"mr-2 h-5 w-5"}),W.label]},W.id))})})]})}),a.jsx("div",{className:"max-w-4xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:pe()})]}):a.jsx("div",{className:"max-w-4xl mx-auto mt-8 py-6 px-4 bg-white dark:bg-gray-800 rounded-lg shadow",children:a.jsxs("div",{className:"text-center py-10",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100 mb-2",children:t("profile.notFound")||"Profile not found"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"This profile doesn't exist or you don't have permission to view it."}),a.jsxs(be,{to:"/",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-rose-600 hover:bg-rose-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500 dark:bg-rose-500 dark:hover:bg-rose-600",children:[a.jsx(nu,{className:"mr-2"}),"Return Home"]})]})}),S&&a.jsx(o9,{profile:s,onProfileUpdated:bt})]}):a.jsxs("div",{className:"text-center py-20",children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Profile not found"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"The profile you are looking for does not exist or could not be loaded."}),a.jsx(be,{to:"/",className:uo,children:"Go to Homepage"})]})},u9=()=>{const{user:e}=at();return m.useEffect(()=>{e&&(console.log("NotFoundPage: User is authenticated, redirecting to /home"),window.location.replace("/home"))},[e]),a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900 flex items-center justify-center px-4",children:a.jsxs("div",{className:"max-w-md w-full text-center",children:[a.jsx("h1",{className:"text-6xl font-bold text-gray-900 dark:text-white mb-4",children:"404"}),a.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 mb-8",children:"Oops! The page you're looking for doesn't exist."}),a.jsx(be,{to:e?"/home":"/",className:"inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-gradient-to-r from-indigo-500 to-rose-500 hover:opacity-90 transition-opacity",children:"Go back home"})]})})};function za({className:e,delay:t=0,width:r=400,height:n=100,rotate:s=0,gradient:o="from-white/[0.08]"}){return a.jsx(fr.div,{initial:{opacity:0,y:-150,rotate:s-15},animate:{opacity:1,y:0,rotate:s},transition:{duration:2.4,delay:t,ease:[.23,.86,.39,.96],opacity:{duration:1.2}},className:Ne("absolute",e),children:a.jsx(fr.div,{animate:{y:[0,15,0]},transition:{duration:12,repeat:Number.POSITIVE_INFINITY,ease:"easeInOut"},style:{width:r,height:n},className:"relative",children:a.jsx("div",{className:Ne("absolute inset-0 rounded-full","bg-gradient-to-r to-transparent",o,"backdrop-blur-[2px] border-2 border-white/[0.15]","shadow-[0_8px_32px_0_rgba(255,255,255,0.1)]","after:absolute after:inset-0 after:rounded-full","after:bg-[radial-gradient(circle_at_50%_50%,rgba(255,255,255,0.2),transparent_70%)]")})})})}function d9({badge:e="Design Collective",title1:t="Elevate Your Digital Vision",title2:r="Crafting Exceptional Websites"}){const n={hidden:{opacity:0,y:30},visible:s=>({opacity:1,y:0,transition:{duration:1,delay:.5+s*.2,ease:[.25,.4,.25,1]}})};return a.jsxs("div",{className:"relative min-h-screen w-full flex items-center justify-center overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500/[0.05] via-transparent to-rose-500/[0.05] blur-3xl"}),a.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[a.jsx(za,{delay:.3,width:600,height:140,rotate:12,gradient:"from-indigo-500/[0.15]",className:"left-[-10%] md:left-[-5%] top-[15%] md:top-[20%]"}),a.jsx(za,{delay:.5,width:500,height:120,rotate:-15,gradient:"from-rose-500/[0.15]",className:"right-[-5%] md:right-[0%] top-[70%] md:top-[75%]"}),a.jsx(za,{delay:.4,width:300,height:80,rotate:-8,gradient:"from-violet-500/[0.15]",className:"left-[5%] md:left-[10%] bottom-[5%] md:bottom-[10%]"}),a.jsx(za,{delay:.6,width:200,height:60,rotate:20,gradient:"from-amber-500/[0.15]",className:"right-[15%] md:right-[20%] top-[10%] md:top-[15%]"}),a.jsx(za,{delay:.7,width:150,height:40,rotate:-25,gradient:"from-cyan-500/[0.15]",className:"left-[20%] md:left-[25%] top-[5%] md:top-[10%]"})]}),a.jsx("div",{className:"relative z-10 container mx-auto px-4 md:px-6",children:a.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[a.jsxs(fr.div,{custom:0,variants:n,initial:"hidden",animate:"visible",className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/[0.03] border border-white/[0.08] mb-8 md:mb-12",children:[a.jsx(Bk,{className:"h-2 w-2 fill-rose-500/80"}),a.jsx("span",{className:"text-sm text-white/60 tracking-wide",children:e})]}),a.jsx(fr.div,{custom:1,variants:n,initial:"hidden",animate:"visible",children:a.jsxs("h1",{className:"text-4xl sm:text-6xl md:text-8xl font-bold mb-6 md:mb-8 tracking-tight",children:[a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-b from-white to-white/80",children:t}),a.jsx("br",{}),a.jsx("span",{className:Ne("bg-clip-text text-transparent bg-gradient-to-r from-indigo-300 via-white/90 to-rose-300 "),children:r})]})}),a.jsx(fr.div,{custom:2,variants:n,initial:"hidden",animate:"visible",children:a.jsx("p",{className:"text-base sm:text-lg md:text-xl text-white/40 mb-8 leading-relaxed font-light tracking-wide max-w-xl mx-auto px-4",children:"Crafting exceptional digital experiences through innovative design and cutting-edge technology."})})]})})]})}const Xa=ht.forwardRef(({children:e,className:t,variant:r="default",...n},s)=>a.jsxs("button",{ref:s,className:Ne("relative inline-flex items-center justify-center px-6 py-3 text-lg font-medium rounded-full transition-all duration-300 overflow-hidden focus:outline-none",r==="default"&&"text-white hover:text-white bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 shadow-md hover:shadow-lg transform hover:-translate-y-1",r==="outline"&&"border-2 border-blue-500 text-blue-500 hover:text-white hover:bg-blue-500 bg-transparent",r==="transparent"&&"bg-transparent text-blue-500 hover:text-blue-700",t),...n,children:[a.jsx("span",{className:"relative z-10",children:e}),a.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-indigo-500 opacity-0 hover:opacity-100 transition-opacity duration-300"})]}));Xa.displayName="ShinyButton";const f9=()=>{const e=[{icon:a.jsx(DT,{}),color:"#1877F2"},{icon:a.jsx(WT,{}),color:"#1DA1F2"},{icon:a.jsx(IT,{}),color:"#E4405F"},{icon:a.jsx(FT,{}),color:"#0A66C2"},{icon:a.jsx(GT,{}),color:"#000000"},{icon:a.jsx(KT,{}),color:"#FF0000"},{icon:a.jsx(V2,{}),color:"#0088cc"},{icon:a.jsx(LT,{}),color:"#5865F2"},{icon:a.jsx(zT,{}),color:"#FF4500"},{icon:a.jsx(BT,{}),color:"#FFFC00"},{icon:a.jsx(HT,{}),color:"#25D366"},{icon:a.jsx(UT,{}),color:"#E60023"},{icon:a.jsx(VT,{}),color:"#1DB954"},{icon:a.jsx(qT,{}),color:"#9146FF"},{icon:a.jsx($T,{}),color:"#000000"}],[t,r]=m.useState([]);return m.useEffect(()=>{const n=setInterval(()=>{const s=e[Math.floor(Math.random()*e.length)],o=24+Math.floor(Math.random()*24),i=a.jsx("div",{className:"absolute animate-float-emoji",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDuration:`${6+Math.random()*7}s`,opacity:.8,transform:`rotate(${Math.random()*30-15}deg)`,fontSize:`${o}px`,color:s.color},children:s.icon},Date.now());r(l=>[...l,i]),t.length>25&&r(l=>l.slice(l.length-25))},1500);return()=>clearInterval(n)},[t.length]),a.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-10",children:t})},h9=()=>{const e=st();return m.useEffect(()=>(console.log("Landing page: Loaded"),()=>{}),[]),a.jsxs("div",{className:"min-h-screen flex flex-col bg-[#030303] text-white",children:[a.jsx("nav",{className:"relative z-20 px-4 sm:px-6 lg:px-8 py-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("img",{src:"/logo.svg",alt:"ConnectMe",className:"h-10 w-auto",onError:t=>{t.currentTarget.onerror=null,t.currentTarget.src="https://via.placeholder.com/40x40?text=CM"}}),a.jsx("span",{className:"ml-3 text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-indigo-300 via-white/90 to-rose-300",children:"ConnectMe"})]}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx(Xa,{onClick:()=>e("/login"),className:"px-5 py-2 text-sm",children:"Sign In"}),a.jsx(be,{to:"/register",children:a.jsx(Xa,{className:"px-5 py-2 text-sm",children:"Join Now"})})]})]})}),a.jsxs("div",{className:"relative",children:[a.jsx(f9,{}),a.jsx(d9,{badge:"Social Network Platform",title1:"Connect, Share",title2:"Discover Together"})]}),a.jsx("div",{className:"relative z-10 py-24 bg-[#050505]",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Everything You Need to Connect"}),a.jsx("p",{className:"text-xl text-white/40 max-w-2xl mx-auto",children:"A modern platform designed to bring people together through shared interests and experiences."})]}),a.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[a.jsx(Ba,{icon:a.jsx(qe,{className:"h-6 w-6"}),title:"Dynamic Communities",description:"Join interest-based groups that connect you with like-minded people who share your passions."}),a.jsx(Ba,{icon:a.jsx(ea,{className:"h-6 w-6"}),title:"Real-time Conversations",description:"Stay connected with instant messaging in groups, events, and one-on-one chats."}),a.jsx(Ba,{icon:a.jsx(Rt,{className:"h-6 w-6"}),title:"Engaging Events",description:"Discover and participate in online and in-person events with people who share your interests."}),a.jsx(Ba,{icon:a.jsx(TT,{className:"h-6 w-6"}),title:"Content Sharing",description:"Share posts, images, and videos with your network or within specific communities."}),a.jsx(Ba,{icon:a.jsx(rm,{className:"h-6 w-6"}),title:"Smart Discovery",description:"Find relevant content and connections through our intelligent recommendation system."}),a.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-indigo-500/10 to-rose-500/10 border border-white/10 p-8 h-full flex flex-col justify-center",children:[a.jsx("div",{className:"absolute -right-10 -top-10 h-40 w-40 rounded-full bg-gradient-to-br from-indigo-500/20 to-rose-500/20 blur-2xl"}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Ready to Join?"}),a.jsx("p",{className:"text-white/60 mb-6",children:"Create your account today and start connecting with a growing community."}),a.jsx(be,{to:"/register",children:a.jsx(Xa,{className:"bg-white text-indigo-900 hover:bg-white/90",children:"Get Started"})})]})]})]})]})}),a.jsx("div",{className:"py-24 bg-[#030303]",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"What Our Users Say"}),a.jsx("p",{className:"text-xl text-white/40 max-w-2xl mx-auto",children:"Join thousands of satisfied users already connecting on our platform."})]}),a.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{quote:"ConnectMe has transformed how I connect with people who share my interests. The groups and events feature is incredible!",author:"Sophia L.",role:"Photography Enthusiast"},{quote:"I've made meaningful connections and discovered new opportunities through this platform. The user experience is smooth and intuitive.",author:"Marcus T.",role:"Tech Community Leader"},{quote:"The real-time chat and content sharing capabilities make this the perfect platform for our book club to stay connected between meetings.",author:"Elena R.",role:"Book Club Organizer"}].map((t,r)=>a.jsxs("div",{className:"bg-white/5 backdrop-blur rounded-2xl p-6 border border-white/10",children:[a.jsxs("p",{className:"text-white/70 mb-6",children:['"',t.quote,'"']}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-indigo-500 to-rose-500 flex items-center justify-center text-white font-bold",children:t.author.charAt(0)}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h4",{className:"text-white font-medium",children:t.author}),a.jsx("p",{className:"text-white/50 text-sm",children:t.role})]})]})]},r))})]})}),a.jsx("div",{className:"py-24 bg-gradient-to-br from-indigo-900/20 via-[#040404] to-rose-900/20",children:a.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[a.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"Join Our Community Today"}),a.jsx("p",{className:"text-xl text-white/50 mb-10 max-w-3xl mx-auto",children:"Connect with friends, discover new interests, and build meaningful relationships in a space designed for genuine connections."}),a.jsx(be,{to:"/register",children:a.jsx(Xa,{className:"px-8 py-4 text-lg",children:"Create Your Account"})}),a.jsx("p",{className:"mt-4 text-white/30",children:"No commitment. Create your account in minutes."})]})}),a.jsx("footer",{className:"py-12 bg-[#020202] border-t border-white/5",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 mb-8",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-white/40 uppercase tracking-wider mb-4",children:"Company"}),a.jsxs("ul",{className:"space-y-3",children:[a.jsx(sr,{text:"About Us"}),a.jsx(sr,{text:"Careers"}),a.jsx(sr,{text:"Blog"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-white/40 uppercase tracking-wider mb-4",children:"Resources"}),a.jsxs("ul",{className:"space-y-3",children:[a.jsx(sr,{text:"Help Center"}),a.jsx(sr,{text:"Tutorials"}),a.jsx(sr,{text:"Developers"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-white/40 uppercase tracking-wider mb-4",children:"Legal"}),a.jsxs("ul",{className:"space-y-3",children:[a.jsx(sr,{text:"Privacy Policy"}),a.jsx(sr,{text:"Terms of Service"}),a.jsx(sr,{text:"Cookies Policy"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-white/40 uppercase tracking-wider mb-4",children:"Connect"}),a.jsxs("ul",{className:"space-y-3",children:[a.jsx(sr,{text:"Twitter"}),a.jsx(sr,{text:"Instagram"}),a.jsx(sr,{text:"Facebook"})]})]})]}),a.jsxs("div",{className:"pt-8 border-t border-white/5 flex flex-col md:flex-row justify-between items-center",children:[a.jsxs("div",{className:"flex items-center mb-4 md:mb-0",children:[a.jsx("img",{src:"/logo.svg",alt:"ConnectMe",className:"h-8 w-auto",onError:t=>{t.currentTarget.onerror=null,t.currentTarget.src="https://via.placeholder.com/32x32?text=CM"}}),a.jsx("span",{className:"ml-2 text-xl font-bold text-white/80",children:"ConnectMe"})]}),a.jsxs("p",{className:"text-white/30 text-sm",children:[" ",new Date().getFullYear()," ConnectMe. All rights reserved"]})]})]})})]})},Ba=({icon:e,title:t,description:r})=>a.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-white/5 backdrop-blur p-8 border border-white/10 h-full",children:[a.jsx("div",{className:"absolute -right-10 -top-10 h-40 w-40 rounded-full bg-gradient-to-br from-indigo-500/10 to-rose-500/10 blur-2xl"}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("div",{className:"h-12 w-12 rounded-xl bg-gradient-to-br from-indigo-500/20 to-rose-500/20 flex items-center justify-center text-indigo-300 mb-6",children:e}),a.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:t}),a.jsx("p",{className:"text-white/60",children:r})]})]}),sr=({text:e})=>a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-white/60 hover:text-white transition-colors",children:e})}),m9="w-full py-2 border border-gray-400 text-gray-600 dark:text-gray-400 rounded-full hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors font-medium flex items-center justify-center",ut={discover:"Discover",searchPlaceholder:"Search people, groups, or events...",trending:"Trending",groups:"Groups",events:"Events",people:"People",posts:"posts",members:"members",joinGroup:"Join Group",joinEvent:"Join Event",attendees:"attendees",mutualFriends:"mutual friends",addFriend:"Add Friend",requestPending:"Request Pending",alreadyFriend:"Already Friends",exploreMore:"Explore More",seeAll:"See All",about:"About",location:"Location",description:"Description",eventDate:"Event Date",loading:"Loading...",noResults:"No results found",viewProfile:"View Profile",joinedGroups:"Joined Groups",joinedEvents:"Joined Events",noDescription:"No description available"},g9={technology:"",photography:"",travel:"",music:"",art:"",food:"",fashion:"",sports:"",education:"",business:"",health:"",gaming:"",movies:"",books:"",science:"",nature:""},p9=[{id:1,name:"Technology",posts:1234,emoji:""},{id:2,name:"Photography",posts:856,emoji:""},{id:3,name:"Travel",posts:743,emoji:""},{id:4,name:"Music",posts:621,emoji:""},{id:5,name:"Art",posts:589,emoji:""},{id:6,name:"Food",posts:432,emoji:""}],y9=()=>{const{currentLanguage:e}=ot(),{user:t}=at(),[r,n]=m.useState("trending"),[s,o]=m.useState(""),[i,l]=m.useState({}),[c,u]=m.useState(!1),[d,f]=m.useState({}),[h,g]=m.useState([]),[b,x]=m.useState([]);m.useEffect(()=>{e!=="en"?(async()=>{try{const M=Object.values(ut),T=await qh(M,e.toUpperCase()),B={};Object.keys(ut).forEach((V,re)=>{B[V]=T[re]}),l(B)}catch(M){console.error("Translation error:",M),l(ut)}})():l(ut)},[e]),m.useEffect(()=>{t&&(w(),I())},[t,r]);const w=async()=>{if(t){u(!0);try{if(r==="trending")u(!1);else if(r==="groups"){const{data:S}=await L.from("group_members").select("group_id").eq("user_id",t.id),M=(S==null?void 0:S.map(B=>B.group_id))||[],{data:T}=await L.from("groups").select("*").not("id","in",`(${M.length>0?M.join(","):"0"})`).order("member_count",{ascending:!1}).limit(6);T&&T.length>0&&j(T),u(!1)}else if(r==="event"){const{data:S}=await L.from("event_attendees").select("event_id").eq("user_id",t.id),M=(S==null?void 0:S.map(B=>B.event_id))||[],{data:T}=await L.from("events").select("*").not("id","in",`(${M.length>0?M.join(","):"0"})`).gte("start_date",new Date().toISOString()).order("start_date",{ascending:!0}).limit(6);T&&T.length>0&&N(T),u(!1)}else if(r==="people"){const{data:S}=await L.from("user_connections").select("friend_id").eq("user_id",t.id).eq("status","accepted"),M=(S==null?void 0:S.map(T=>T.friend_id))||[];if(M.length>0){const{data:T}=await L.from("profiles").select("*").not("id","in",`(${M.join(",")},${t.id})`).limit(6);if(T&&T.length>0){E(T);const B=T.map(async se=>{const fe=await p(se.id);return{id:se.id,status:fe}}),re=(await Promise.all(B)).reduce((se,fe)=>(se[fe.id]=fe.status,se),{});f(re)}}u(!1)}}catch(S){console.error("Error fetching suggestions:",S),u(!1)}}},p=async S=>{if(!t)return"none";try{const{data:M,error:T}=await L.from("user_connections").select("status").or(`and(user_id.eq.${t.id},friend_id.eq.${S}),and(user_id.eq.${S},friend_id.eq.${t.id})`).maybeSingle();if(T)throw T;return M?M.status:"none"}catch(M){return console.error("Error checking friendship status:",M),"none"}},y=async S=>{if(t)try{const{data:M}=await L.from("user_connections").select("id, status").or(`and(user_id.eq.${t.id},friend_id.eq.${S}),and(user_id.eq.${S},friend_id.eq.${t.id})`).maybeSingle();if(M){q.error("A connection already exists with this user");return}const{error:T}=await L.from("user_connections").insert({user_id:t.id,friend_id:S,status:"pending"});if(T)throw T;console.log("Creating friend request notification for user:",S),await yu(S,"friend_request",t.id),f(B=>({...B,[S]:"pending"})),q.success("Friend request sent!")}catch(M){console.error("Error sending friend request:",M),q.error("Failed to send friend request")}},v=async S=>{if(t)try{const{data:M}=await L.from("group_members").select("id").eq("user_id",t.id).eq("group_id",S).maybeSingle();if(M){q.error("You are already a member of this group");return}const{error:T}=await L.from("group_members").insert({user_id:t.id,group_id:S});if(T)throw T;q.success("Successfully joined the group!"),w()}catch(M){console.error("Error joining group:",M),q.error("Failed to join group")}},_=async S=>{if(t)try{const{data:M}=await L.from("event_attendees").select("id").eq("user_id",t.id).eq("event_id",S).maybeSingle();if(M){q.error("You are already attending this event");return}const{error:T}=await L.from("event_attendees").insert({user_id:t.id,event_id:S});if(T)throw T;q.success("Successfully RSVP'd to the event!"),w()}catch(M){console.error("Error joining event:",M),q.error("Failed to join event")}},[k,j]=m.useState([{id:"1",name:"Tech Enthusiasts",member_count:1200,banner_url:"https://source.unsplash.com/800x600/?technology",description:"A community for tech lovers and innovators"},{id:"2",name:"Photography Club",member_count:850,banner_url:"https://source.unsplash.com/800x600/?photography",description:"Share your best shots and photography tips"},{id:"3",name:"World Travelers",member_count:3200,banner_url:"https://source.unsplash.com/800x600/?travel",description:"Explore the world together"}]),[C,N]=m.useState([{id:"1",title:"Tech Conference 2025",start_date:"2025-03-15",banner_url:"https://source.unsplash.com/800x600/?conference",attendee_count:450,location:"San Francisco, CA",description:"The biggest tech conference of the year"},{id:"2",name:"Photography Workshop",start_date:"2025-03-20",banner_url:"https://source.unsplash.com/800x600/?workshop",attendee_count:120,location:"New York, NY",description:"Learn portrait photography from experts"},{id:"3",title:"Music Festival",start_date:"2025-04-01",banner_url:"https://source.unsplash.com/800x600/?festival",attendee_count:2e3,location:"Austin, TX",description:"Three days of amazing live music"}]),[F,E]=m.useState([{id:"1",full_name:"John Smith",headline:"Software Engineer",avatar_url:"https://i.pravatar.cc/150?img=1",location:"San Francisco, CA"},{id:"2",full_name:"Emma Wilson",headline:"Photographer",avatar_url:"https://i.pravatar.cc/150?img=5",location:"New York, NY"},{id:"3",full_name:"Michael Chen",headline:"UX Designer",avatar_url:"https://i.pravatar.cc/150?img=3",location:"Seattle, WA"}]),I=async()=>{if(t){u(!0);try{const{data:S}=await L.from("group_members").select("group_id, groups(*)").eq("user_id",t.id);g((S==null?void 0:S.map(T=>({group_id:T.group_id,groups:T.groups})))||[]);const{data:M}=await L.from("event_attendees").select("event_id, events(*)").eq("user_id",t.id);x((M==null?void 0:M.map(T=>({event_id:T.event_id,events:T.events})))||[])}catch(S){console.error("Error fetching joined data:",S)}finally{u(!1)}}},P=()=>{if(c)return a.jsx("div",{className:"flex justify-center items-center py-20",children:a.jsx(Ee,{size:"lg"})});switch(r){case"trending":return O();case"groups":return A();case"event":return $();case"people":return D();default:return z()}},O=()=>a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p9.map(S=>a.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-shadow border border-gray-200 dark:border-gray-600",children:[a.jsxs("div",{className:"relative h-48 bg-gradient-to-br from-rose-400 to-red-500 flex justify-center items-center",children:[a.jsx("span",{className:"text-8xl",role:"img","aria-label":S.name,children:S.emoji}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex items-end",children:a.jsxs("div",{className:"p-4 text-white",children:[a.jsxs("h3",{className:"text-lg font-semibold",children:["#",S.name]}),a.jsxs("p",{className:"text-sm text-white/80",children:[S.posts," ",i.posts||ut.posts]})]})})]}),a.jsx("div",{className:"p-4",children:a.jsxs(be,{to:`/search?tag=${encodeURIComponent(S.name)}`,className:m9,children:[a.jsx(ax,{className:"mr-2"}),i.exploreMore||ut.exploreMore]})})]},S.id))}),A=()=>a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:k.map(S=>a.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-lg shadow-md overflow-hidden border border-gray-200 dark:border-gray-600 flex flex-col",children:[a.jsx("div",{className:"h-32 bg-gradient-to-br from-rose-400 to-red-500 flex justify-center items-center",children:a.jsx("span",{className:"text-6xl",role:"img","aria-label":S.name,children:g9[S.name.toLowerCase()]||""})}),a.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1 truncate",children:S.name}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-300 mb-3 line-clamp-2 flex-grow",children:S.description||i.noDescription}),a.jsxs("div",{className:"flex justify-between items-center mt-auto pt-3 border-t border-gray-100 dark:border-gray-600",children:[a.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[S.member_count||0," ",i.members]}),a.jsx("button",{onClick:()=>v(S.id),className:"px-4 py-1.5 text-xs font-medium text-white bg-gradient-to-r from-rose-500 to-red-500 rounded-full hover:from-rose-600 hover:to-red-600 transition-colors",children:i.joinGroup})]})]})]},S.id))}),$=()=>a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:C.map(S=>{const M=()=>{if(!S.title)return"";const T=S.title.toLowerCase();return T.includes("music")?"":T.includes("tech")?"":T.includes("photo")?"":""};return a.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-lg shadow-md overflow-hidden border border-gray-200 dark:border-gray-600 flex flex-col",children:[a.jsx("div",{className:"h-32 bg-gradient-to-br from-rose-400 to-red-500 flex justify-center items-center",children:a.jsx("span",{className:"text-6xl",role:"img","aria-label":S.title||"Event",children:M()})}),a.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1 truncate",children:S.title||"Event"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-300 mb-3 line-clamp-2 flex-grow",children:S.description||i.noDescription}),a.jsxs("div",{className:"flex justify-between items-center mt-auto pt-3 border-t border-gray-100 dark:border-gray-600",children:[a.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[new Date(S.start_date).toLocaleDateString()," ",i.eventDate]}),a.jsx("button",{onClick:()=>_(S.id),className:"px-4 py-1.5 text-xs font-medium text-white bg-gradient-to-r from-rose-500 to-red-500 rounded-full hover:from-rose-600 hover:to-red-600 transition-colors",children:i.joinEvent})]})]})]},S.id)})}),D=()=>a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:F.map(S=>a.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-shadow p-4 border border-gray-200 dark:border-gray-600 flex flex-col",children:[a.jsxs("div",{className:"flex flex-col items-center text-center mb-4 flex-grow",children:[a.jsx("div",{className:"mb-3",children:a.jsx(aa,{src:S.avatar_url,name:S.full_name,size:"lg"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:S.full_name}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-300",children:S.headline}),S.location&&a.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-400 mt-1 flex items-center",children:[a.jsx(As,{className:"mr-1",size:12}),S.location]})]}),a.jsxs("div",{className:"flex flex-col gap-2 mt-auto pt-3 border-t border-gray-100 dark:border-gray-600",children:[(!d[S.id]||d[S.id]==="none")&&a.jsxs("button",{onClick:()=>y(S.id),className:"w-full py-1.5 text-sm font-medium text-white bg-gradient-to-r from-rose-500 to-red-500 rounded-full hover:from-rose-600 hover:to-red-600 transition-colors flex items-center justify-center",children:[a.jsx(ln,{className:"mr-1"}),i.addFriend||ut.addFriend]}),d[S.id]==="pending"&&a.jsx("button",{disabled:!0,className:"w-full py-1.5 text-sm font-medium text-gray-500 dark:text-gray-400 rounded-full font-medium flex items-center justify-center",children:i.requestPending||ut.requestPending}),d[S.id]==="accepted"&&a.jsx("button",{disabled:!0,className:"w-full py-1.5 text-sm font-medium text-green-700 dark:text-green-400 rounded-full font-medium flex items-center justify-center",children:i.alreadyFriend||ut.alreadyFriend}),a.jsxs(be,{to:`/profile/${S.id}`,className:"w-full py-1.5 text-sm font-medium border border-gray-300 dark:border-gray-500 text-gray-600 dark:text-gray-300 rounded-full hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors flex items-center justify-center",children:[a.jsx(Nr,{className:"mr-1"}),i.viewProfile||ut.viewProfile]})]})]},S.id))}),z=()=>a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[h.map(S=>a.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-shadow border border-gray-200 dark:border-gray-600",children:[a.jsxs("div",{className:"relative h-48 bg-gradient-to-br from-rose-400 to-red-500",children:[a.jsx("img",{src:S.groups.banner_url||`https://source.unsplash.com/800x600/?${encodeURIComponent(S.groups.name)}`,alt:S.groups.name,className:"w-full h-full object-cover"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent",children:a.jsxs("div",{className:"absolute top-3 right-3 bg-blue-600/90 text-white text-xs px-2 py-1 rounded-full",children:[a.jsx(ra,{className:"inline mr-1"}),S.groups.member_count]})})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:S.groups.name}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-300 mb-4 line-clamp-2",children:S.groups.description}),a.jsx(be,{to:`/groups/${S.group_id}`,className:"text-rose-600 dark:text-rose-400 text-sm font-medium hover:underline",children:i.about||ut.about})]})]},S.group_id)),b.map(S=>a.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-shadow border border-gray-200 dark:border-gray-600",children:[a.jsxs("div",{className:"relative h-48 bg-gradient-to-br from-rose-400 to-red-500",children:[a.jsx("img",{src:S.events.banner_url||`https://source.unsplash.com/800x600/?${encodeURIComponent(S.events.title||"event")}`,alt:S.events.title,className:"w-full h-full object-cover"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent",children:a.jsxs("div",{className:"absolute bottom-3 left-3 text-white",children:[a.jsxs("div",{className:"text-xs bg-white/20 backdrop-blur-sm px-2 py-1 rounded-full mb-1",children:[a.jsx(ta,{className:"inline mr-1"}),new Date(S.events.start_date).toLocaleDateString()]}),S.events.location&&a.jsxs("div",{className:"text-xs bg-white/20 backdrop-blur-sm px-2 py-1 rounded-full",children:[a.jsx(As,{className:"inline mr-1"}),S.events.location]})]})})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:S.events.title}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-300 mb-4 line-clamp-2",children:S.events.description}),a.jsx(be,{to:`/events/${S.event_id}`,className:"text-rose-600 dark:text-rose-400 text-sm font-medium hover:underline",children:i.about||ut.about})]})]},S.event_id))]});return a.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8 dark:bg-neutral-800 min-h-full",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:i.discover||ut.discover}),a.jsxs("div",{className:"relative mb-6",children:[a.jsx("input",{type:"text",placeholder:i.searchPlaceholder||ut.searchPlaceholder,value:s,onChange:S=>o(S.target.value),className:"w-full pl-12 pr-4 py-3 rounded-lg bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-rose-500 focus:border-transparent dark:text-white"}),a.jsx(Y2,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500"})]}),a.jsxs("div",{className:"flex space-x-4 overflow-x-auto pb-4",children:[a.jsxs("button",{onClick:()=>n("trending"),className:`flex items-center px-6 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors ${r==="trending"?"bg-gradient-to-r from-rose-600 to-red-600 text-white shadow-md":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600 shadow-sm"}`,children:[a.jsx(ax,{className:"w-4 h-4 mr-2"}),i.trending||ut.trending]}),a.jsxs("button",{onClick:()=>n("groups"),className:`flex items-center px-6 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors ${r==="groups"?"bg-gradient-to-r from-rose-600 to-red-600 text-white shadow-md":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600 shadow-sm"}`,children:[a.jsx(ra,{className:"w-4 h-4 mr-2"}),i.groups||ut.groups]}),a.jsxs("button",{onClick:()=>n("event"),className:`flex items-center px-6 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors ${r==="event"?"bg-gradient-to-r from-rose-600 to-red-600 text-white shadow-md":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600 shadow-sm"}`,children:[a.jsx(ta,{className:"w-4 h-4 mr-2"}),i.events||ut.events]}),a.jsxs("button",{onClick:()=>n("people"),className:`flex items-center px-6 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors ${r==="people"?"bg-gradient-to-r from-rose-600 to-red-600 text-white shadow-md":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600 shadow-sm"}`,children:[a.jsx(Nr,{className:"w-4 h-4 mr-2"}),i.people||ut.people]})]})]}),a.jsx("div",{className:"pb-8",children:P()})]})},rc=[{id:"mock-user-1",username:"johndoe",full_name:"John Doe",avatar_url:"https://i.pravatar.cc/150?img=1",connection_status:"accepted"},{id:"mock-user-2",username:"janedoe",full_name:"Jane Doe",avatar_url:"https://i.pravatar.cc/150?img=5",connection_status:"accepted"},{id:"mock-user-3",username:"bobsmith",full_name:"Bob Smith",avatar_url:"https://i.pravatar.cc/150?img=3",connection_status:"pending",is_requester:!1},{id:"mock-user-4",username:"alicejones",full_name:"Alice Jones",avatar_url:"https://i.pravatar.cc/150?img=9",connection_status:"none",mutual_friends_count:2},{id:"mock-user-5",username:"sarahwilliams",full_name:"Sarah Williams",avatar_url:"https://i.pravatar.cc/150?img=10",connection_status:"none",mutual_friends_count:1},{id:"mock-user-6",username:"mikedavis",full_name:"Mike Davis",avatar_url:"https://i.pravatar.cc/150?img=7",connection_status:"pending",is_requester:!0}],x9=()=>{const{user:e}=at(),t=st(),{t:r}=Mr(),[n,s]=m.useState([]),[o,i]=m.useState([]),[l,c]=m.useState([]),[u,d]=m.useState([]),[f,h]=m.useState("friends"),[g,b]=m.useState(!0),[x,w]=m.useState(null),[p,y]=m.useState(!1),v=m.useCallback(async()=>{if(e){if(console.log("loadConnections: Starting connection fetch..."),b(!0),w(null),p){console.log("loadConnections: Using MOCK data."),s(rc.filter(T=>T.connection_status==="accepted")),c(rc.filter(T=>T.connection_status==="pending"&&!T.is_requester)),i(rc.filter(T=>T.connection_status==="pending"&&T.is_requester)),d(rc.filter(T=>T.connection_status==="none")),b(!1);return}console.log("loadConnections: Fetching REAL data for user:",e.id);try{const{data:T,error:B}=await L.from("user_connections").select("id, user_id, friend_id, status, created_at, updated_at").or(`user_id.eq.${e.id},friend_id.eq.${e.id}`);if(B)throw console.error("loadConnections: Error fetching connections",B),B;if(console.log("loadConnections: Fetched raw connections",T),!T||T.length===0)console.log("loadConnections: No connections found."),s([]),c([]),i([]);else{const R=new Set,G=[],X=new Map,H=new Map;if(T.forEach(Y=>{const K=Y.user_id===e.id?Y.friend_id:Y.user_id;R.add(K),Y.status==="accepted"?G.push(Y):Y.status==="pending"&&(Y.user_id===e.id?H.set(K,Y):X.set(K,Y))}),console.log("Friend IDs to fetch profiles for:",Array.from(R)),R.size>0){const{data:Y,error:K}=await L.from("profiles").select("id, full_name, avatar_url, headline").in("id",Array.from(R));if(K)throw console.error("loadConnections: Error fetching profiles",K),K;console.log("Fetched profiles:",Y);const U=new Map;(Y||[]).forEach(ue=>U.set(ue.id,ue));const J=G.map(ue=>{const Be=ue.user_id===e.id?ue.friend_id:ue.user_id,je=U.get(Be);return je?{...je,connection_id:ue.id,connection_status:"accepted"}:null}).filter(ue=>ue!==null),ne=Array.from(X.entries()).map(([ue,Be])=>{const je=U.get(ue);return je?{...je,connection_id:Be.id,connection_status:"pending",is_requester:!1}:null}).filter(ue=>ue!==null),ie=Array.from(H.entries()).map(([ue,Be])=>{const je=U.get(ue);return je?{...je,connection_id:Be.id,connection_status:"pending",is_requester:!0}:null}).filter(ue=>ue!==null);s(J),c(ne),i(ie),console.log("Processed Friends:",J),console.log("Processed Incoming:",ne),console.log("Processed Outgoing:",ie)}else s([]),c([]),i([])}const V=new Set([e.id]);T==null||T.forEach(R=>{V.add(R.user_id===e.id?R.friend_id:R.user_id)});const re=Array.from(V);console.log("loadConnections: Fetching suggestions, excluding IDs:",re);let se=L.from("profiles").select("id, full_name, avatar_url, headline");re.length>0&&(se=se.not("id","in",`(${re.join(",")})`));const{data:fe,error:oe}=await se.limit(10);if(oe)console.error("loadConnections: Error fetching suggestions",oe),q.error("Could not load friend suggestions."),d([]);else{const R=(fe||[]).map(G=>({...G,connection_status:void 0,mutual_friends_count:Math.floor(Math.random()*5)}));console.log("loadConnections: Processed suggestions",R),d(R)}}catch(T){w(T.message||"Failed to load connections"),console.error("loadConnections: CATCH BLOCK - Error loading connections:",T)}finally{console.log("loadConnections: Fetch finished."),b(!1)}}},[e,p]);m.useEffect(()=>{console.log("FriendsPage useEffect triggered. User:",e==null?void 0:e.id,"UseMockData:",p),v()},[v]);const _=async T=>{if(!(!e||!T.connection_id)){console.log("handleAcceptRequest: Attempting for connection ID:",T.connection_id);try{if(p){console.log("handleAcceptRequest: Using MOCK accept."),c(V=>V.filter(re=>re.connection_id!==T.connection_id)),s(V=>[...V,{...T,connection_status:"accepted"}]),q.success("Friend request accepted! (Mock)");return}const{error:B}=await L.from("user_connections").update({status:"accepted"}).eq("id",T.connection_id).eq("friend_id",e.id);if(B)throw console.error("handleAcceptRequest: Error updating connection:",B),B;console.log(`handleAcceptRequest: Connection ${T.connection_id} updated.`),await yu(T.id,"friend_accepted",e.id),q.success("Friend request accepted!"),v()}catch(B){console.error("handleAcceptRequest: CATCH BLOCK - Error:",B),q.error("Failed to accept request")}}},k=async T=>{if(!(!e||!T.connection_id)){console.log("handleRejectRequest: Attempting for connection ID:",T.connection_id);try{if(p){console.log("handleRejectRequest: Using MOCK reject."),c(V=>V.filter(re=>re.connection_id!==T.connection_id)),d(V=>[...V,{...T,connection_status:"none"}]),q.success("Friend request rejected (Mock)");return}const{error:B}=await L.from("user_connections").delete().eq("id",T.connection_id).eq("friend_id",e.id);if(B)throw console.error("handleRejectRequest: Error deleting connection:",B),B;console.log(`handleRejectRequest: Connection ${T.connection_id} deleted.`),q.success("Friend request rejected"),v()}catch(B){console.error("handleRejectRequest: CATCH BLOCK - Error:",B),q.error("Failed to reject request")}}},j=async T=>{if(!e||e.id===T){q.error("Cannot send request to yourself.");return}if(console.log("handleSendRequest: Attempting to send to profile ID:",T),p){console.log("handleSendRequest: Using MOCK send.");const B=u.find(V=>V.id===T);B&&(d(V=>V.filter(re=>re.id!==T)),i(V=>[...V,{...B,connection_status:"pending",is_requester:!0}]),q.success("Friend request sent! (Mock)"));return}try{const{data:B,error:V}=await L.from("user_connections").select("id, status").or(`and(user_id.eq.${e.id},friend_id.eq.${T}),and(user_id.eq.${T},friend_id.eq.${e.id})`).in("status",["pending","accepted"]).maybeSingle();if(V&&console.error("handleSendRequest: Error checking existing connection:",V),B){B.status==="accepted"?q("You are already friends."):q("A friend request is already pending.");return}const{data:re,error:se}=await L.from("user_connections").insert({user_id:e.id,friend_id:T,status:"pending"}).select("id").single();if(se||!re)throw console.error("handleSendRequest: Error inserting connection:",se),se||new Error("Failed to create connection.");console.log("handleSendRequest: Connection inserted with ID:",re.id),await yu(T,"friend_request",e.id),q.success("Friend request sent!"),v()}catch(B){console.error("handleSendRequest: CATCH BLOCK - Error:",B),q.error(`Failed to send request: ${B.message||"Please try again."}`)}},C=async T=>{if(!(!e||!T.connection_id)){console.log("handleCancelRequest: Attempting for connection ID:",T.connection_id);try{if(p){console.log("handleCancelRequest: Using MOCK cancel."),i(V=>V.filter(re=>re.connection_id!==T.connection_id)),d(V=>[...V,{...T,connection_status:"none"}]),q.success("Friend request cancelled (Mock)");return}const{error:B}=await L.from("user_connections").delete().eq("id",T.connection_id).eq("user_id",e.id).eq("status","pending");if(B){console.error("handleCancelRequest: Error deleting connection:",B),q.error("Failed to cancel friend request");return}console.log(`handleCancelRequest: Connection ${T.connection_id} deleted.`),q.success("Friend request cancelled"),v()}catch(B){console.error("handleCancelRequest: CATCH BLOCK - Error:",B),q.error("Failed to cancel friend request")}}},N=async T=>{if(!(!e||!T.connection_id)&&(console.log("handleUnjoinFriend: Attempting for connection ID:",T.connection_id),!!window.confirm(`Are you sure you want to remove ${T.full_name} as a friend?`)))try{if(p){console.log("handleUnjoinFriend: Using MOCK unfriend."),s(V=>V.filter(re=>re.connection_id!==T.connection_id)),d(V=>[...V,{...T,connection_status:"none"}]),q.success("Friend removed (Mock)");return}const{error:B}=await L.from("user_connections").delete().eq("id",T.connection_id).or(`user_id.eq.${e.id},friend_id.eq.${e.id}`).eq("status","accepted");if(B){console.error("handleUnjoinFriend: Error deleting connection:",B),q.error("Failed to remove friend");return}console.log(`handleUnjoinFriend: Connection ${T.connection_id} deleted.`),q.success("Friend removed successfully"),v()}catch(B){console.error("handleUnjoinFriend: CATCH BLOCK - Error:",B),q.error("Failed to remove friend")}},F=T=>{T&&(console.log("Navigating to chat with user:",T),t(`/messages/${T}`))},E=T=>{T&&(console.log("Navigating to profile:",T),t(`/profile/${T}`))},I=(T,B)=>{const V=Math.random()>.6,re=Math.random()>.3;return a.jsxs(fr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"flex flex-col sm:flex-row items-center justify-between bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm hover:shadow-md transition-shadow duration-200 border border-gray-200 dark:border-gray-700 mb-3 group",children:[a.jsxs("div",{className:"flex items-center mb-3 sm:mb-0 w-full sm:w-auto text-center sm:text-left cursor-pointer",onClick:()=>E(T.id),children:[a.jsxs("div",{className:"relative mr-4",children:[a.jsx("div",{className:"h-16 w-16 rounded-full overflow-hidden bg-gray-100 dark:bg-gray-700",children:T.avatar_url?a.jsx("img",{src:T.avatar_url,alt:T.full_name,className:"h-full w-full object-cover"}):a.jsx("div",{className:"h-full w-full flex items-center justify-center bg-gradient-to-br from-indigo-400 to-purple-500 text-white text-xl font-semibold",children:T.full_name.charAt(0).toUpperCase()})}),a.jsx("div",{className:`absolute bottom-0 right-0 h-4 w-4 rounded-full border-2 border-white dark:border-gray-800 ${V?"bg-green-500":re?"bg-yellow-400":"bg-gray-400"}`})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors",children:T.full_name}),T.headline&&a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:T.headline}),!T.headline&&a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:V?"Online now":re?"Recently active":"Offline"}),B==="suggestion"&&T.mutual_friends_count&&T.mutual_friends_count>0&&a.jsxs("span",{className:"text-xs mt-1 text-indigo-600 dark:text-indigo-400 flex items-center",children:[a.jsx(df,{className:"mr-1",size:12}),T.mutual_friends_count," mutual ",T.mutual_friends_count===1?"friend":"friends"]})]})]}),a.jsxs("div",{className:"flex gap-2 w-full sm:w-auto justify-center sm:justify-end mt-3 sm:mt-0",children:[B==="friend"&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>F(T.id),className:"px-3 py-2 bg-indigo-50 hover:bg-indigo-100 dark:bg-indigo-900/30 dark:hover:bg-indigo-800/50 text-indigo-600 dark:text-indigo-400 rounded-lg text-sm font-medium transition duration-150 flex items-center",children:[a.jsx(ea,{className:"mr-1.5",size:16}),r("buttons.message")||"Message"]}),a.jsxs("div",{className:"relative group",children:[a.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-white rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",children:a.jsx(sd,{size:18})}),a.jsx("div",{className:"absolute right-0 mt-1 w-40 bg-white dark:bg-gray-800 rounded-md shadow-lg py-1 hidden group-hover:block z-10 border border-gray-200 dark:border-gray-700",children:a.jsxs("button",{onClick:()=>N(T),className:"block w-full text-left px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20",children:[a.jsx(B2,{className:"inline mr-2"})," ",r("buttons.remove")||"Remove Friend"]})})]})]}),B==="incoming"&&a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>_(T),className:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg transition-colors",children:r("friends.buttons.accept")||"Accept"}),a.jsx("button",{onClick:()=>k(T),className:"px-4 py-2 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-lg transition-colors",children:r("friends.buttons.decline")||"Decline"})]}),B==="outgoing"&&a.jsx("div",{className:"flex space-x-2",children:a.jsx("button",{onClick:()=>C(T),className:"px-4 py-2 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-lg transition-colors",children:r("friends.buttons.cancel")||"Cancel Request"})}),B==="suggestion"&&a.jsx("div",{className:"flex space-x-2",children:a.jsxs("button",{onClick:()=>j(T.id),className:"px-4 py-2 bg-indigo-500 hover:bg-indigo-600 text-white rounded-lg transition-colors",children:[a.jsx($n,{className:"inline mr-1"})," Connect"]})})]})]},T.id)},[P,O]=m.useState(!1),[A,$]=m.useState([]),[D,z]=m.useState(""),S=async()=>{if(A.length<1){q.error("Please select at least 1 friend to create a group");return}if(!D.trim()){q.error("Please enter a group name");return}e&&(console.log("Creating group:",D,"with members:",[e.id,...A]),q.success(`Group "${D}" creation initiated (DB logic needed)`),$([]),z(""),O(!1))},M=T=>{$(B=>B.includes(T)?B.filter(V=>V!==T):[...B,T])};return g?a.jsx("div",{className:"flex justify-center items-center h-screen bg-gray-50 dark:bg-gray-900",children:a.jsx(Ee,{size:"lg"})}):x&&!p?a.jsx(oa,{message:x}):a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 md:py-12",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8",children:[a.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center mb-4 md:mb-0",children:[a.jsx(qe,{className:"mr-3 h-8 w-8 text-indigo-500"})," ",r("friends.title")||"Connections"]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[n.length>0&&a.jsxs("button",{onClick:()=>O(!0),className:"flex items-center px-4 py-2 rounded-full bg-gradient-to-r from-indigo-500 to-purple-500 hover:from-indigo-600 hover:to-purple-600 text-white shadow-sm hover:shadow-md transition-all text-sm font-medium",children:[a.jsx(qe,{className:"mr-2"})," ",r("friends.buttons.createGroup")||"Create Group"]}),a.jsx("button",{onClick:()=>y(T=>!T),className:`px-3 py-1 rounded-full text-xs font-medium ${p?"bg-yellow-100 text-yellow-800 hover:bg-yellow-200":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:p?"Using Mock Data":"Using Real Data"})]})]}),a.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 mb-6",children:[a.jsx("button",{onClick:()=>h("friends"),className:`py-4 px-6 font-medium text-base focus:outline-none transition-colors duration-150 ${f==="friends"?"text-indigo-600 border-b-2 border-indigo-600 font-semibold":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300 border-b-2 border-transparent hover:border-gray-300 dark:hover:border-gray-600"}`,children:a.jsxs("span",{className:"flex items-center",children:[a.jsx(df,{className:"mr-2"}),r("friends.tabs.friends")||"Friends",a.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs rounded-full bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200",children:n.length})]})}),a.jsx("button",{onClick:()=>h("requests"),className:`py-4 px-6 font-medium text-base focus:outline-none transition-colors duration-150 ${f==="requests"?"text-indigo-600 border-b-2 border-indigo-600 font-semibold":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300 border-b-2 border-transparent hover:border-gray-300 dark:hover:border-gray-600"}`,children:a.jsxs("span",{className:"flex items-center",children:[a.jsx(su,{className:"mr-2"}),r("friends.tabs.requests")||"Requests",l.length+o.length>0&&a.jsx("span",{className:`ml-2 px-2 py-0.5 text-xs rounded-full ${l.length>0?"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200":"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200"}`,children:l.length+o.length})]})}),a.jsx("button",{onClick:()=>h("suggestions"),className:`py-4 px-6 font-medium text-base focus:outline-none transition-colors duration-150 ${f==="suggestions"?"text-indigo-600 border-b-2 border-indigo-600 font-semibold":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300 border-b-2 border-transparent hover:border-gray-300 dark:hover:border-gray-600"}`,children:a.jsxs("span",{className:"flex items-center",children:[a.jsx($n,{className:"mr-2"}),r("friends.tabs.people")||"Suggestions",u.length>0&&a.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs rounded-full bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200",children:u.length})]})})]}),a.jsxs("div",{children:[f==="friends"&&a.jsx("div",{children:n.length===0?a.jsxs("div",{className:"text-center py-12 bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[a.jsx(Bi,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:r("friends.no_friends_message")||"You haven't connected with anyone yet."}),a.jsx("button",{onClick:()=>h("suggestions"),className:"mt-4 px-5 py-2 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600 transition-colors text-sm font-medium",children:r("friends.buttons.findPeople")||"Find People"})]}):a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[" ",n.map(T=>I(T,"friend"))]})}),f==="requests"&&a.jsxs("div",{children:[l.length>0&&a.jsxs("div",{className:"mb-8",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-4 border-b pb-2 border-gray-200 dark:border-gray-700",children:[r("friends.incoming_requests")||"Incoming Requests"," (",l.length,")"]}),a.jsx("div",{className:"space-y-3",children:l.map(T=>I(T,"incoming"))})]}),o.length>0&&a.jsxs("div",{className:"mb-8",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-4 border-b pb-2 border-gray-200 dark:border-gray-700",children:[r("friends.sent_requests")||"Sent Requests"," (",o.length,")"]}),a.jsx("div",{className:"space-y-3",children:o.map(T=>I(T,"outgoing"))})]}),l.length===0&&o.length===0&&a.jsxs("div",{className:"text-center py-12 bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[a.jsx(df,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:r("friends.no_pending_requests")||"No pending friend requests"})]})]}),f==="suggestions"&&a.jsx("div",{children:u.length===0?a.jsxs("div",{className:"text-center py-12 bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[a.jsx(wT,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No suggestions available right now. Check back later!"})]}):a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[" ",u.map(T=>I(T,"suggestion"))]})})]}),P&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:a.jsxs(fr.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-lg w-full max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Create New Group"}),a.jsx("button",{onClick:()=>O(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:a.jsx(cn,{size:20})})]}),a.jsxs("div",{className:"p-6 flex-1 overflow-y-auto",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Group Name"}),a.jsx("input",{type:"text",value:D,onChange:T=>z(T.target.value),placeholder:"Enter group name...",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Select Friends (",A.length," selected)"]}),a.jsx("div",{className:"max-h-64 overflow-y-auto rounded-lg border border-gray-200 dark:border-gray-700 divide-y divide-gray-200 dark:divide-gray-700",children:n.map(T=>a.jsxs("div",{className:`flex items-center p-3 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50 ${A.includes(T.id)?"bg-indigo-50 dark:bg-indigo-900/30":""}`,onClick:()=>M(T.id),children:[a.jsx("input",{type:"checkbox",checked:A.includes(T.id),readOnly:!0,className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 rounded border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"}),a.jsxs("div",{className:"ml-3 flex items-center",children:[a.jsx("div",{className:"h-10 w-10 rounded-full overflow-hidden bg-gray-100 dark:bg-gray-700 mr-3",children:T.avatar_url?a.jsx("img",{src:T.avatar_url,alt:T.full_name,className:"h-full w-full object-cover"}):a.jsx("div",{className:"h-full w-full flex items-center justify-center bg-gradient-to-br from-indigo-400 to-purple-500 text-white text-lg",children:T.full_name.charAt(0).toUpperCase()})}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:T.full_name})]})]},T.id))})]})]}),a.jsxs("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700 flex justify-end space-x-3 bg-gray-50 dark:bg-gray-800/50",children:[a.jsx("button",{onClick:()=>O(!1),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 text-sm font-medium",children:"Cancel"}),a.jsx("button",{onClick:S,className:"px-4 py-2 bg-gradient-to-r from-indigo-500 to-purple-500 hover:from-indigo-600 hover:to-purple-600 text-white rounded-lg text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed",disabled:A.length<1||!D.trim(),children:"Create Group"})]})]})})]})})},v9=()=>{const{t:e}=ot(),{user:t}=at(),[r,n]=m.useState("groups"),[s,o]=m.useState(!0),[i,l]=m.useState([]),[c,u]=m.useState([]);m.useEffect(()=>{t&&d()},[t,r]);const d=async()=>{if(t){o(!0);try{if(r==="groups"){const{data:y,error:v}=await L.from("group_members").select("group_id, groups(*)").eq("user_id",t.id).eq("is_favorite",!0);if(v)throw v;const _=(y==null?void 0:y.map(k=>({id:k.groups.id,name:k.groups.name,members:k.groups.member_count||0,lastActive:k.groups.last_activity||new Date().toISOString(),image:k.groups.banner_url||`https://source.unsplash.com/800x600/?${k.groups.name.toLowerCase().replace(/ /g,"-")}`,description:k.groups.description||""})))||[];l(_)}else{const{data:y,error:v}=await L.from("user_connections").select("friend_id, profiles:friend_id(*)").eq("user_id",t.id).eq("status","accepted").eq("is_favorite",!0);if(v)throw v;const _=(y==null?void 0:y.map(k=>({id:k.friend_id,name:k.profiles.full_name,role:k.profiles.headline||e("favorites.noHeadline")||"No headline",avatar:k.profiles.avatar_url||""})))||[];u(_)}}catch(y){console.error("Error fetching favorites:",y)}finally{o(!1)}}},f=async(y,v)=>{if(t)try{if(v==="group"){const{error:_}=await L.from("group_members").update({is_favorite:!1}).eq("user_id",t.id).eq("group_id",y);if(_)throw _;l(k=>k.filter(j=>j.id!==y))}else{const{error:_}=await L.from("user_connections").update({is_favorite:!1}).eq("user_id",t.id).eq("friend_id",y);if(_)throw _;u(k=>k.filter(j=>j.id!==y))}}catch(_){console.error("Error updating favorite status:",_)}},h=e("favorites.noHeadline")||"No headline",g=[{id:"1",name:e("favorites.tabs.groups")||"Groups",members:1250,lastActive:new Date(Date.now()-2*60*60*1e3).toISOString(),image:"https://source.unsplash.com/800x600/?photography",description:e("favorites.tabs.groups")||"Groups"},{id:"2",name:e("favorites.tabs.groups")||"Groups",members:3420,lastActive:new Date(Date.now()-1*60*60*1e3).toISOString(),image:"https://source.unsplash.com/800x600/?technology",description:e("favorites.tabs.groups")||"Groups"},{id:"3",name:e("favorites.tabs.groups")||"Groups",members:2150,lastActive:new Date(Date.now()-30*60*1e3).toISOString(),image:"https://source.unsplash.com/800x600/?travel",description:e("favorites.tabs.groups")||"Groups"}],b=[{id:"1",name:e("favorites.tabs.connections")||"Connections",role:h,avatar:"https://i.pravatar.cc/150?img=4"},{id:"2",name:e("favorites.tabs.connections")||"Connections",role:h,avatar:"https://i.pravatar.cc/150?img=5"},{id:"3",name:e("favorites.tabs.connections")||"Connections",role:h,avatar:"https://i.pravatar.cc/150?img=6"}],x=i.length>0?i:g,w=c.length>0?c:b,p=y=>{const v=new Date(y),k=new Date().getTime()-v.getTime(),j=Math.floor(k/6e4);if(j<60)return`${j}m ago`;const C=Math.floor(j/60);return C<24?`${C}h ago`:`${Math.floor(C/24)}d ago`};return a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 md:py-12",children:[a.jsxs("h1",{className:"text-3xl font-bold mb-8 text-gray-900 dark:text-white flex items-center",children:[a.jsx(RT,{className:"mr-3 h-6 w-6"})," ",e("favorites.title")||"Favorites"]}),a.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 mb-8",children:[a.jsx("button",{onClick:()=>n("groups"),className:`py-4 px-6 font-medium text-base focus:outline-none ${r==="groups"?"text-indigo-600 border-b-2 border-indigo-600 font-semibold":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,children:a.jsxs("span",{className:"flex items-center",children:[a.jsx(qe,{className:"mr-2"}),e("favorites.tabs.groups")||"Groups"]})}),a.jsx("button",{onClick:()=>n("connections"),className:`py-4 px-6 font-medium text-base focus:outline-none ${r==="connections"?"text-indigo-600 border-b-2 border-indigo-600 font-semibold":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,children:a.jsxs("span",{className:"flex items-center",children:[a.jsx(Nr,{className:"mr-2"}),e("favorites.tabs.connections")||"Connections"]})})]}),s?a.jsx("div",{className:"flex justify-center items-center py-12",children:a.jsx(Ee,{size:"lg"})}):r==="groups"?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:x.map(y=>a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm hover:shadow-md transition-shadow duration-200 overflow-hidden group border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:y.image,alt:y.name,className:"w-full h-48 object-cover"}),a.jsx("button",{onClick:()=>f(y.id,"group"),className:"absolute top-3 right-3 bg-white dark:bg-gray-800 p-2 rounded-full shadow-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":e("favorites.buttons.remove")||"Remove from Favorites",children:a.jsx(Bi,{className:"h-5 w-5 text-red-500"})})]}),a.jsxs("div",{className:"p-5",children:[a.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-900 dark:text-white",children:y.name}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4",children:y.description}),a.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-500 dark:text-gray-400",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx(qe,{className:"mr-1"})," ",y.members," ",e("groups.members")||"members"]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx(su,{className:"mr-1"})," ",p(y.lastActive)]})]})]}),a.jsx("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-4 border-t border-gray-200 dark:border-gray-700",children:a.jsx(be,{to:`/groups/${y.id}`,className:"w-full block text-center py-2 px-4 bg-gradient-to-r from-indigo-500 to-purple-500 hover:from-indigo-600 hover:to-purple-600 text-white font-medium rounded-full hover:shadow transition-all",children:e("favorites.buttons.viewGroup")||"View Group"})})]},y.id))}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:w.map(y=>a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm hover:shadow-md transition-shadow duration-200 overflow-hidden flex flex-col group border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"p-6 flex flex-col items-center text-center flex-grow",children:[a.jsxs("div",{className:"relative mb-4",children:[a.jsx(aa,{src:y.avatar,name:y.name,size:"lg"}),a.jsx("button",{onClick:()=>f(y.id,"connection"),className:"absolute -top-2 -right-2 bg-white dark:bg-gray-800 p-2 rounded-full shadow-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":e("favorites.buttons.remove")||"Remove from Favorites",children:a.jsx(Bi,{className:"h-4 w-4 text-red-500"})})]}),a.jsx("h3",{className:"text-lg font-semibold mb-1 text-gray-900 dark:text-white",children:y.name}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4",children:y.role||h})]}),a.jsx("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-4 border-t border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx(be,{to:`/profile/${y.id}`,className:"flex-1 block text-center py-2 px-4 bg-gradient-to-r from-indigo-500 to-purple-500 hover:from-indigo-600 hover:to-purple-600 text-white font-medium rounded-full hover:shadow transition-all",children:e("buttons.viewProfile")||"View Profile"}),a.jsx(be,{to:`/messages/${y.id}`,className:"w-auto block text-center py-2 px-4 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-200 font-medium rounded-full hover:shadow transition-all","aria-label":e("buttons.message")||"Message",children:a.jsx(ea,{className:"h-5 w-5"})})]})})]},y.id))}),!s&&r==="groups"&&x.length===0&&a.jsx("div",{className:"text-center py-16",children:a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:e("favorites.no_groups")||"You haven't favorited any groups yet."})}),!s&&r==="connections"&&w.length===0&&a.jsx("div",{className:"text-center py-16",children:a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:e("favorites.no_connections")||"You haven't favorited any connections yet."})})]})})},LS="https://ohserebigziyxlxpkaib.supabase.co",DS="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9oc2VyZWJpZ3ppeXhseHBrYWliIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTI3NDk0MTAsImV4cCI6MjAyODMyNTQxMH0.2mVOdgG-4QPVjVxqKshjFmcAyVELY6KYHtqlR-KLpvw";let Ls="https://ohserebigziyxlxpkaib.supabase.co",Vo="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9oc2VyZWJpZ3ppeXhseHBrYWliIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTI3NDk0MTAsImV4cCI6MjAyODMyNTQxMH0.2mVOdgG-4QPVjVxqKshjFmcAyVELY6KYHtqlR-KLpvw";(!Ls||!Vo)&&(console.error("Missing Supabase environment variables"),console.warn("Using fallback Supabase credentials for development"),Ls=LS,Vo=DS);let b9=!1;try{new URL(Ls),b9=!0,console.log("Initializing Supabase client with valid URL")}catch{console.error(`Invalid Supabase URL: "${Ls}"`),console.error("Using fallback Supabase URL for development"),Ls=LS,Vo=DS}console.log("Using Supabase URL:",Ls);const Pe=Xg(Ls,Vo,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit",debug:!0},global:{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",apikey:Vo},fetch:(...e)=>{try{console.log("[Supabase Fetch] Request type:",typeof e[0]);const t=e[0];if(t instanceof Request){const r=new Headers(t.headers);r.set("apikey",Vo);const n=new Request(t.url,{method:t.method,headers:r,body:t.body,mode:t.mode,credentials:t.credentials,cache:t.cache,redirect:t.redirect,referrer:t.referrer,integrity:t.integrity});e[0]=n}}catch(t){console.error("[Supabase Fetch] Error processing request:",t)}return fetch(...e).then(t=>(t.ok||(console.warn(`[Supabase Fetch] Non-OK response: ${t.status} ${t.statusText}`),t.status===401&&(console.warn("[Supabase Fetch] Authentication error, attempting to refresh session"),typeof localStorage<"u"&&localStorage.removeItem("supabase.auth.token"))),t)).catch(t=>{throw console.error("[Supabase Fetch] Network error:",t),t})}}});typeof window<"u"&&(Pe.auth.onAuthStateChange((e,t)=>{console.log("[SUPABASE AUTH EVENT]:",e),e==="SIGNED_IN"&&(t!=null&&t.user)?(console.log("[SUPABASE AUTH]: User signed in"),localStorage.setItem("has_session","true"),localStorage.setItem("auth_user_id",t.user.id)):e==="SIGNED_OUT"?(console.log("[SUPABASE AUTH]: User signed out"),localStorage.removeItem("has_session"),localStorage.removeItem("auth_user_id"),localStorage.removeItem("supabase.auth.token")):e==="TOKEN_REFRESHED"&&console.log("[SUPABASE AUTH]: Token refreshed successfully")}),setTimeout(()=>{console.log("[SUPABASE AUTH]: Verifying initial session..."),Pe.auth.getSession().then(({data:e,error:t})=>{if(t)console.error("[SUPABASE AUTH]: Session error:",t),Pe.auth.signOut().catch(r=>console.error("Error signing out:",r));else if(e!=null&&e.session){console.log("[SUPABASE AUTH]: Session exists:",e.session.user.id);const r=e.session.expires_at,n=Math.floor(Date.now()/1e3);r&&r-n<600&&(console.log("[SUPABASE AUTH]: Token expiring soon, refreshing..."),Pe.auth.refreshSession().then(({data:o,error:i})=>{i?console.error("[SUPABASE AUTH]: Token refresh failed:",i):console.log("[SUPABASE AUTH]: Token refreshed successfully")}))}else console.log("[SUPABASE AUTH]: No active session found")})},1e3));const $f=e=>{const t=Array.isArray(e.profiles)&&e.profiles.length>0?{id:e.profiles[0].id,full_name:e.profiles[0].full_name,avatar_url:e.profiles[0].avatar_url}:e.profiles&&!Array.isArray(e.profiles)?e.profiles:void 0;return{id:e.id,content:e.content,created_at:e.created_at,sender_id:e.sender_id,receiver_id:e.receiver_id,is_read:e.is_read||!1,profiles:t}},w9=({conversationId:e,otherUserId:t,otherUserName:r,otherUserAvatar:n})=>{const{tWithTemplate:s}=ot(),{user:o}=od(),[i,l]=m.useState([]),[c,u]=m.useState(""),[d,f]=m.useState(!0),[h,g]=m.useState(!1),b=m.useRef(null);m.useEffect(()=>{if(!e||!o||!t)return;(async()=>{try{f(!0),console.log(`Fetching messages between user ${o.id} and ${t}`);const{data:_,error:k}=await Pe.from("direct_messages").select(`
            id,
            content,
            created_at,
            sender_id,
            receiver_id,
            is_read,
            profiles:sender_id(id, full_name, avatar_url)
          `).or(`and(sender_id.eq.${o.id},receiver_id.eq.${t}),and(sender_id.eq.${t},receiver_id.eq.${o.id})`).order("created_at",{ascending:!0});if(k)throw k;if(_){const j=_.map(N=>$f(N));l(j);const C=_.filter(N=>N.receiver_id===o.id&&!N.is_read).map(N=>N.id);C.length>0&&await Pe.from("direct_messages").update({is_read:!0}).in("id",C)}}catch(_){console.error("Error fetching messages:",_)}finally{f(!1)}})();const v=Pe.channel(`direct_messages:${o.id}_${t}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"direct_messages",filter:`or(and(sender_id=eq.${o.id},receiver_id=eq.${t}),and(sender_id=eq.${t},receiver_id=eq.${o.id}))`},async _=>{if(_.new){console.log("New message received:",_.new);const{data:k}=await Pe.from("profiles").select("id, full_name, avatar_url").eq("id",_.new.sender_id).single(),j=$f({..._.new,profiles:k});l(C=>[...C,j]),_.new.sender_id===t&&await Pe.from("direct_messages").update({is_read:!0}).eq("id",_.new.id),x()}}).subscribe();return()=>{Pe.removeChannel(v)}},[e,o,t]),m.useEffect(()=>{x()},[i]);const x=()=>{var y;(y=b.current)==null||y.scrollIntoView({behavior:"smooth"})},w=async y=>{var _,k;if(y.preventDefault(),!c.trim()||!o||h)return;const v=c.trim();try{g(!0),u("");const j={id:`temp-${Date.now()}`,content:v,created_at:new Date().toISOString(),sender_id:o.id,receiver_id:t,is_read:!1,profiles:{id:o.id,full_name:((_=o.user_metadata)==null?void 0:_.full_name)||"You",avatar_url:(k=o.user_metadata)==null?void 0:k.avatar_url}};l(F=>[...F,j]);const{data:C,error:N}=await Pe.from("direct_messages").insert({content:v,sender_id:o.id,receiver_id:t,is_read:!1}).select();if(N)throw N;if(C&&C.length>0){const F=$f(C[0]);l(E=>E.map(I=>I.id===j.id?F:I))}}catch(j){console.error("Error sending message:",j),q.error(s("failed_to_send_message")),u(v)}finally{g(!1),x()}},p=y=>{try{return new Date(y).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch{return""}};return d&&i.length===0?a.jsx("div",{className:"flex justify-center items-center h-full",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsx("div",{className:"flex-1 overflow-y-auto px-4",children:i.length===0?a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center",children:s("no_messages_start_conversation")})}):a.jsxs("div",{className:"space-y-4 py-4",children:[i.map(y=>{var _,k;const v=y.sender_id===(o==null?void 0:o.id);return y.profiles||(v&&(o==null||o.id),v&&((_=o==null?void 0:o.user_metadata)==null||_.full_name),v&&((k=o==null?void 0:o.user_metadata)==null||k.avatar_url)),a.jsx("div",{className:`flex ${v?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`max-w-xs md:max-w-md lg:max-w-lg rounded-lg px-4 py-2 ${v?"bg-blue-500 text-white rounded-br-none":"bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white rounded-bl-none"}`,children:[a.jsx("div",{className:"text-sm",children:y.content}),a.jsxs("div",{className:`text-xs mt-1 flex justify-between items-center ${v?"text-blue-100":"text-gray-500 dark:text-gray-400"}`,children:[a.jsx("span",{children:p(y.created_at)}),v&&a.jsx("span",{className:"ml-2",children:y.is_read?s("read"):""})]})]})},y.id)}),a.jsx("div",{ref:b})]})}),a.jsx("form",{onSubmit:w,className:"border-t dark:border-gray-700 p-4",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("input",{type:"text",value:c,onChange:y=>u(y.target.value),placeholder:s("type_a_message"),className:"flex-1 px-4 py-2 bg-gray-100 dark:bg-gray-700 border-none rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.jsx("button",{type:"submit",disabled:!c.trim()||h,className:"p-2 bg-blue-500 text-white rounded-full disabled:opacity-50 transition-opacity",children:a.jsx(ep,{size:20})})]})})]})};function Hp(e){const t=e+"CollectionProvider",[r,n]=Qs(t),[s,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=x=>{const{scope:w,children:p}=x,y=ht.useRef(null),v=ht.useRef(new Map).current;return a.jsx(s,{scope:w,itemMap:v,collectionRef:y,children:p})};i.displayName=t;const l=e+"CollectionSlot",c=zs(l),u=ht.forwardRef((x,w)=>{const{scope:p,children:y}=x,v=o(l,p),_=Le(w,v.collectionRef);return a.jsx(c,{ref:_,children:y})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=zs(d),g=ht.forwardRef((x,w)=>{const{scope:p,children:y,...v}=x,_=ht.useRef(null),k=Le(w,_),j=o(d,p);return ht.useEffect(()=>(j.itemMap.set(_,{ref:_,...v}),()=>void j.itemMap.delete(_))),a.jsx(h,{[f]:"",ref:k,children:y})});g.displayName=d;function b(x){const w=o(e+"CollectionConsumer",x);return ht.useCallback(()=>{const y=w.collectionRef.current;if(!y)return[];const v=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((j,C)=>v.indexOf(j.ref.current)-v.indexOf(C.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:i,Slot:u,ItemSlot:g},b,n]}var _9=m.createContext(void 0);function Kp(e){const t=m.useContext(_9);return e||t||"ltr"}const k9=["top","right","bottom","left"],es=Math.min,Yt=Math.max,xu=Math.round,nc=Math.floor,Yr=e=>({x:e,y:e}),S9={left:"right",right:"left",bottom:"top",top:"bottom"},j9={start:"end",end:"start"};function Rm(e,t,r){return Yt(e,es(t,r))}function yn(e,t){return typeof e=="function"?e(t):e}function xn(e){return e.split("-")[0]}function _a(e){return e.split("-")[1]}function Yp(e){return e==="x"?"y":"x"}function Jp(e){return e==="y"?"height":"width"}function ts(e){return["top","bottom"].includes(xn(e))?"y":"x"}function Xp(e){return Yp(ts(e))}function N9(e,t,r){r===void 0&&(r=!1);const n=_a(e),s=Xp(e),o=Jp(s);let i=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=vu(i)),[i,vu(i)]}function C9(e){const t=vu(e);return[Mm(e),t,Mm(t)]}function Mm(e){return e.replace(/start|end/g,t=>j9[t])}function E9(e,t,r){const n=["left","right"],s=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?o:i;default:return[]}}function P9(e,t,r,n){const s=_a(e);let o=E9(xn(e),r==="start",n);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(Mm)))),o}function vu(e){return e.replace(/left|right|bottom|top/g,t=>S9[t])}function T9(e){return{top:0,right:0,bottom:0,left:0,...e}}function OS(e){return typeof e!="number"?T9(e):{top:e,right:e,bottom:e,left:e}}function bu(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function Qv(e,t,r){let{reference:n,floating:s}=e;const o=ts(t),i=Xp(t),l=Jp(i),c=xn(t),u=o==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,h=n[l]/2-s[l]/2;let g;switch(c){case"top":g={x:d,y:n.y-s.height};break;case"bottom":g={x:d,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:f};break;case"left":g={x:n.x-s.width,y:f};break;default:g={x:n.x,y:n.y}}switch(_a(t)){case"start":g[i]-=h*(r&&u?-1:1);break;case"end":g[i]+=h*(r&&u?-1:1);break}return g}const A9=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:i}=r,l=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=Qv(u,n,c),h=n,g={},b=0;for(let x=0;x<l.length;x++){const{name:w,fn:p}=l[x],{x:y,y:v,data:_,reset:k}=await p({x:d,y:f,initialPlacement:n,placement:h,strategy:s,middlewareData:g,rects:u,platform:i,elements:{reference:e,floating:t}});d=y??d,f=v??f,g={...g,[w]:{...g[w],..._}},k&&b<=50&&(b++,typeof k=="object"&&(k.placement&&(h=k.placement),k.rects&&(u=k.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):k.rects),{x:d,y:f}=Qv(u,h,c)),x=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:g}};async function Qi(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:o,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:g=0}=yn(t,e),b=OS(g),w=l[h?f==="floating"?"reference":"floating":f],p=bu(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(w)))==null||r?w:w.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),y=f==="floating"?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,v=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),_=await(o.isElement==null?void 0:o.isElement(v))?await(o.getScale==null?void 0:o.getScale(v))||{x:1,y:1}:{x:1,y:1},k=bu(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:v,strategy:c}):y);return{top:(p.top-k.top+b.top)/_.y,bottom:(k.bottom-p.bottom+b.bottom)/_.y,left:(p.left-k.left+b.left)/_.x,right:(k.right-p.right+b.right)/_.x}}const R9=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:o,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=yn(e,t)||{};if(u==null)return{};const f=OS(d),h={x:r,y:n},g=Xp(s),b=Jp(g),x=await i.getDimensions(u),w=g==="y",p=w?"top":"left",y=w?"bottom":"right",v=w?"clientHeight":"clientWidth",_=o.reference[b]+o.reference[g]-h[g]-o.floating[b],k=h[g]-o.reference[g],j=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let C=j?j[v]:0;(!C||!await(i.isElement==null?void 0:i.isElement(j)))&&(C=l.floating[v]||o.floating[b]);const N=_/2-k/2,F=C/2-x[b]/2-1,E=es(f[p],F),I=es(f[y],F),P=E,O=C-x[b]-I,A=C/2-x[b]/2+N,$=Rm(P,A,O),D=!c.arrow&&_a(s)!=null&&A!==$&&o.reference[b]/2-(A<P?E:I)-x[b]/2<0,z=D?A<P?A-P:A-O:0;return{[g]:h[g]+z,data:{[g]:$,centerOffset:A-$-z,...D&&{alignmentOffset:z}},reset:D}}}),M9=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:o,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:x=!0,...w}=yn(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const p=xn(s),y=ts(l),v=xn(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),k=h||(v||!x?[vu(l)]:C9(l)),j=b!=="none";!h&&j&&k.push(...P9(l,x,b,_));const C=[l,...k],N=await Qi(t,w),F=[];let E=((n=o.flip)==null?void 0:n.overflows)||[];if(d&&F.push(N[p]),f){const A=N9(s,i,_);F.push(N[A[0]],N[A[1]])}if(E=[...E,{placement:s,overflows:F}],!F.every(A=>A<=0)){var I,P;const A=(((I=o.flip)==null?void 0:I.index)||0)+1,$=C[A];if($)return{data:{index:A,overflows:E},reset:{placement:$}};let D=(P=E.filter(z=>z.overflows[0]<=0).sort((z,S)=>z.overflows[1]-S.overflows[1])[0])==null?void 0:P.placement;if(!D)switch(g){case"bestFit":{var O;const z=(O=E.filter(S=>{if(j){const M=ts(S.placement);return M===y||M==="y"}return!0}).map(S=>[S.placement,S.overflows.filter(M=>M>0).reduce((M,T)=>M+T,0)]).sort((S,M)=>S[1]-M[1])[0])==null?void 0:O[0];z&&(D=z);break}case"initialPlacement":D=l;break}if(s!==D)return{reset:{placement:D}}}return{}}}};function Zv(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function eb(e){return k9.some(t=>e[t]>=0)}const L9=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=yn(e,t);switch(n){case"referenceHidden":{const o=await Qi(t,{...s,elementContext:"reference"}),i=Zv(o,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:eb(i)}}}case"escaped":{const o=await Qi(t,{...s,altBoundary:!0}),i=Zv(o,r.floating);return{data:{escapedOffsets:i,escaped:eb(i)}}}default:return{}}}}};async function D9(e,t){const{placement:r,platform:n,elements:s}=e,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=xn(r),l=_a(r),c=ts(r)==="y",u=["left","top"].includes(i)?-1:1,d=o&&c?-1:1,f=yn(t,e);let{mainAxis:h,crossAxis:g,alignmentAxis:b}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof b=="number"&&(g=l==="end"?b*-1:b),c?{x:g*d,y:h*u}:{x:h*u,y:g*d}}const O9=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:o,placement:i,middlewareData:l}=t,c=await D9(t,e);return i===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:i}}}}},I9=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:w=>{let{x:p,y}=w;return{x:p,y}}},...c}=yn(e,t),u={x:r,y:n},d=await Qi(t,c),f=ts(xn(s)),h=Yp(f);let g=u[h],b=u[f];if(o){const w=h==="y"?"top":"left",p=h==="y"?"bottom":"right",y=g+d[w],v=g-d[p];g=Rm(y,g,v)}if(i){const w=f==="y"?"top":"left",p=f==="y"?"bottom":"right",y=b+d[w],v=b-d[p];b=Rm(y,b,v)}const x=l.fn({...t,[h]:g,[f]:b});return{...x,data:{x:x.x-r,y:x.y-n,enabled:{[h]:o,[f]:i}}}}}},F9=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:o,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=yn(e,t),d={x:r,y:n},f=ts(s),h=Yp(f);let g=d[h],b=d[f];const x=yn(l,t),w=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const v=h==="y"?"height":"width",_=o.reference[h]-o.floating[v]+w.mainAxis,k=o.reference[h]+o.reference[v]-w.mainAxis;g<_?g=_:g>k&&(g=k)}if(u){var p,y;const v=h==="y"?"width":"height",_=["top","left"].includes(xn(s)),k=o.reference[f]-o.floating[v]+(_&&((p=i.offset)==null?void 0:p[f])||0)+(_?0:w.crossAxis),j=o.reference[f]+o.reference[v]+(_?0:((y=i.offset)==null?void 0:y[f])||0)-(_?w.crossAxis:0);b<k?b=k:b>j&&(b=j)}return{[h]:g,[f]:b}}}},$9=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:o,platform:i,elements:l}=t,{apply:c=()=>{},...u}=yn(e,t),d=await Qi(t,u),f=xn(s),h=_a(s),g=ts(s)==="y",{width:b,height:x}=o.floating;let w,p;f==="top"||f==="bottom"?(w=f,p=h===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(p=f,w=h==="end"?"top":"bottom");const y=x-d.top-d.bottom,v=b-d.left-d.right,_=es(x-d[w],y),k=es(b-d[p],v),j=!t.middlewareData.shift;let C=_,N=k;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(N=v),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(C=y),j&&!h){const E=Yt(d.left,0),I=Yt(d.right,0),P=Yt(d.top,0),O=Yt(d.bottom,0);g?N=b-2*(E!==0||I!==0?E+I:Yt(d.left,d.right)):C=x-2*(P!==0||O!==0?P+O:Yt(d.top,d.bottom))}await c({...t,availableWidth:N,availableHeight:C});const F=await i.getDimensions(l.floating);return b!==F.width||x!==F.height?{reset:{rects:!0}}:{}}}};function vd(){return typeof window<"u"}function ka(e){return IS(e)?(e.nodeName||"").toLowerCase():"#document"}function Qt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Qr(e){var t;return(t=(IS(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function IS(e){return vd()?e instanceof Node||e instanceof Qt(e).Node:!1}function Ar(e){return vd()?e instanceof Element||e instanceof Qt(e).Element:!1}function Jr(e){return vd()?e instanceof HTMLElement||e instanceof Qt(e).HTMLElement:!1}function tb(e){return!vd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Qt(e).ShadowRoot}function xl(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Rr(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function U9(e){return["table","td","th"].includes(ka(e))}function bd(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Qp(e){const t=Zp(),r=Ar(e)?Rr(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function z9(e){let t=rs(e);for(;Jr(t)&&!ia(t);){if(Qp(t))return t;if(bd(t))return null;t=rs(t)}return null}function Zp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ia(e){return["html","body","#document"].includes(ka(e))}function Rr(e){return Qt(e).getComputedStyle(e)}function wd(e){return Ar(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function rs(e){if(ka(e)==="html")return e;const t=e.assignedSlot||e.parentNode||tb(e)&&e.host||Qr(e);return tb(t)?t.host:t}function FS(e){const t=rs(e);return ia(t)?e.ownerDocument?e.ownerDocument.body:e.body:Jr(t)&&xl(t)?t:FS(t)}function Zi(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=FS(e),o=s===((n=e.ownerDocument)==null?void 0:n.body),i=Qt(s);if(o){const l=Lm(i);return t.concat(i,i.visualViewport||[],xl(s)?s:[],l&&r?Zi(l):[])}return t.concat(s,Zi(s,[],r))}function Lm(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function $S(e){const t=Rr(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Jr(e),o=s?e.offsetWidth:r,i=s?e.offsetHeight:n,l=xu(r)!==o||xu(n)!==i;return l&&(r=o,n=i),{width:r,height:n,$:l}}function e0(e){return Ar(e)?e:e.contextElement}function Go(e){const t=e0(e);if(!Jr(t))return Yr(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:o}=$S(t);let i=(o?xu(r.width):r.width)/n,l=(o?xu(r.height):r.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const B9=Yr(0);function US(e){const t=Qt(e);return!Zp()||!t.visualViewport?B9:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function V9(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Qt(e)?!1:t}function Gs(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),o=e0(e);let i=Yr(1);t&&(n?Ar(n)&&(i=Go(n)):i=Go(e));const l=V9(o,r,n)?US(o):Yr(0);let c=(s.left+l.x)/i.x,u=(s.top+l.y)/i.y,d=s.width/i.x,f=s.height/i.y;if(o){const h=Qt(o),g=n&&Ar(n)?Qt(n):n;let b=h,x=Lm(b);for(;x&&n&&g!==b;){const w=Go(x),p=x.getBoundingClientRect(),y=Rr(x),v=p.left+(x.clientLeft+parseFloat(y.paddingLeft))*w.x,_=p.top+(x.clientTop+parseFloat(y.paddingTop))*w.y;c*=w.x,u*=w.y,d*=w.x,f*=w.y,c+=v,u+=_,b=Qt(x),x=Lm(b)}}return bu({width:d,height:f,x:c,y:u})}function t0(e,t){const r=wd(e).scrollLeft;return t?t.left+r:Gs(Qr(e)).left+r}function zS(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:t0(e,n)),o=n.top+t.scrollTop;return{x:s,y:o}}function G9(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const o=s==="fixed",i=Qr(n),l=t?bd(t.floating):!1;if(n===i||l&&o)return r;let c={scrollLeft:0,scrollTop:0},u=Yr(1);const d=Yr(0),f=Jr(n);if((f||!f&&!o)&&((ka(n)!=="body"||xl(i))&&(c=wd(n)),Jr(n))){const g=Gs(n);u=Go(n),d.x=g.x+n.clientLeft,d.y=g.y+n.clientTop}const h=i&&!f&&!o?zS(i,c,!0):Yr(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function q9(e){return Array.from(e.getClientRects())}function W9(e){const t=Qr(e),r=wd(e),n=e.ownerDocument.body,s=Yt(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=Yt(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+t0(e);const l=-r.scrollTop;return Rr(n).direction==="rtl"&&(i+=Yt(t.clientWidth,n.clientWidth)-s),{width:s,height:o,x:i,y:l}}function H9(e,t){const r=Qt(e),n=Qr(e),s=r.visualViewport;let o=n.clientWidth,i=n.clientHeight,l=0,c=0;if(s){o=s.width,i=s.height;const u=Zp();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:o,height:i,x:l,y:c}}function K9(e,t){const r=Gs(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,o=Jr(e)?Go(e):Yr(1),i=e.clientWidth*o.x,l=e.clientHeight*o.y,c=s*o.x,u=n*o.y;return{width:i,height:l,x:c,y:u}}function rb(e,t,r){let n;if(t==="viewport")n=H9(e,r);else if(t==="document")n=W9(Qr(e));else if(Ar(t))n=K9(t,r);else{const s=US(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return bu(n)}function BS(e,t){const r=rs(e);return r===t||!Ar(r)||ia(r)?!1:Rr(r).position==="fixed"||BS(r,t)}function Y9(e,t){const r=t.get(e);if(r)return r;let n=Zi(e,[],!1).filter(l=>Ar(l)&&ka(l)!=="body"),s=null;const o=Rr(e).position==="fixed";let i=o?rs(e):e;for(;Ar(i)&&!ia(i);){const l=Rr(i),c=Qp(i);!c&&l.position==="fixed"&&(s=null),(o?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||xl(i)&&!c&&BS(e,i))?n=n.filter(d=>d!==i):s=l,i=rs(i)}return t.set(e,n),n}function J9(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const i=[...r==="clippingAncestors"?bd(t)?[]:Y9(t,this._c):[].concat(r),n],l=i[0],c=i.reduce((u,d)=>{const f=rb(t,d,s);return u.top=Yt(f.top,u.top),u.right=es(f.right,u.right),u.bottom=es(f.bottom,u.bottom),u.left=Yt(f.left,u.left),u},rb(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function X9(e){const{width:t,height:r}=$S(e);return{width:t,height:r}}function Q9(e,t,r){const n=Jr(t),s=Qr(t),o=r==="fixed",i=Gs(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=Yr(0);if(n||!n&&!o)if((ka(t)!=="body"||xl(s))&&(l=wd(t)),n){const h=Gs(t,!0,o,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else s&&(c.x=t0(s));const u=s&&!n&&!o?zS(s,l):Yr(0),d=i.left+l.scrollLeft-c.x-u.x,f=i.top+l.scrollTop-c.y-u.y;return{x:d,y:f,width:i.width,height:i.height}}function Uf(e){return Rr(e).position==="static"}function nb(e,t){if(!Jr(e)||Rr(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Qr(e)===r&&(r=r.ownerDocument.body),r}function VS(e,t){const r=Qt(e);if(bd(e))return r;if(!Jr(e)){let s=rs(e);for(;s&&!ia(s);){if(Ar(s)&&!Uf(s))return s;s=rs(s)}return r}let n=nb(e,t);for(;n&&U9(n)&&Uf(n);)n=nb(n,t);return n&&ia(n)&&Uf(n)&&!Qp(n)?r:n||z9(e)||r}const Z9=async function(e){const t=this.getOffsetParent||VS,r=this.getDimensions,n=await r(e.floating);return{reference:Q9(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function eF(e){return Rr(e).direction==="rtl"}const tF={convertOffsetParentRelativeRectToViewportRelativeRect:G9,getDocumentElement:Qr,getClippingRect:J9,getOffsetParent:VS,getElementRects:Z9,getClientRects:q9,getDimensions:X9,getScale:Go,isElement:Ar,isRTL:eF};function GS(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function rF(e,t){let r=null,n;const s=Qr(e);function o(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:g}=u;if(l||t(),!h||!g)return;const b=nc(f),x=nc(s.clientWidth-(d+h)),w=nc(s.clientHeight-(f+g)),p=nc(d),v={rootMargin:-b+"px "+-x+"px "+-w+"px "+-p+"px",threshold:Yt(0,es(1,c))||1};let _=!0;function k(j){const C=j[0].intersectionRatio;if(C!==c){if(!_)return i();C?i(!1,C):n=setTimeout(()=>{i(!1,1e-7)},1e3)}C===1&&!GS(u,e.getBoundingClientRect())&&i(),_=!1}try{r=new IntersectionObserver(k,{...v,root:s.ownerDocument})}catch{r=new IntersectionObserver(k,v)}r.observe(e)}return i(!0),o}function nF(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=e0(e),d=s||o?[...u?Zi(u):[],...Zi(t)]:[];d.forEach(p=>{s&&p.addEventListener("scroll",r,{passive:!0}),o&&p.addEventListener("resize",r)});const f=u&&l?rF(u,r):null;let h=-1,g=null;i&&(g=new ResizeObserver(p=>{let[y]=p;y&&y.target===u&&g&&(g.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var v;(v=g)==null||v.observe(t)})),r()}),u&&!c&&g.observe(u),g.observe(t));let b,x=c?Gs(e):null;c&&w();function w(){const p=Gs(e);x&&!GS(x,p)&&r(),x=p,b=requestAnimationFrame(w)}return r(),()=>{var p;d.forEach(y=>{s&&y.removeEventListener("scroll",r),o&&y.removeEventListener("resize",r)}),f==null||f(),(p=g)==null||p.disconnect(),g=null,c&&cancelAnimationFrame(b)}}const sF=O9,oF=I9,aF=M9,iF=$9,lF=L9,sb=R9,cF=F9,uF=(e,t,r)=>{const n=new Map,s={platform:tF,...r},o={...s.platform,_c:n};return A9(e,t,{...s,platform:o})};var Ec=typeof document<"u"?m.useLayoutEffect:m.useEffect;function wu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!wu(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const o=s[n];if(!(o==="_owner"&&e.$$typeof)&&!wu(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function qS(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function ob(e,t){const r=qS(e);return Math.round(t*r)/r}function zf(e){const t=m.useRef(e);return Ec(()=>{t.current=e}),t}function dF(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=m.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,g]=m.useState(n);wu(h,n)||g(n);const[b,x]=m.useState(null),[w,p]=m.useState(null),y=m.useCallback(S=>{S!==j.current&&(j.current=S,x(S))},[]),v=m.useCallback(S=>{S!==C.current&&(C.current=S,p(S))},[]),_=o||b,k=i||w,j=m.useRef(null),C=m.useRef(null),N=m.useRef(d),F=c!=null,E=zf(c),I=zf(s),P=zf(u),O=m.useCallback(()=>{if(!j.current||!C.current)return;const S={placement:t,strategy:r,middleware:h};I.current&&(S.platform=I.current),uF(j.current,C.current,S).then(M=>{const T={...M,isPositioned:P.current!==!1};A.current&&!wu(N.current,T)&&(N.current=T,da.flushSync(()=>{f(T)}))})},[h,t,r,I,P]);Ec(()=>{u===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,f(S=>({...S,isPositioned:!1})))},[u]);const A=m.useRef(!1);Ec(()=>(A.current=!0,()=>{A.current=!1}),[]),Ec(()=>{if(_&&(j.current=_),k&&(C.current=k),_&&k){if(E.current)return E.current(_,k,O);O()}},[_,k,O,E,F]);const $=m.useMemo(()=>({reference:j,floating:C,setReference:y,setFloating:v}),[y,v]),D=m.useMemo(()=>({reference:_,floating:k}),[_,k]),z=m.useMemo(()=>{const S={position:r,left:0,top:0};if(!D.floating)return S;const M=ob(D.floating,d.x),T=ob(D.floating,d.y);return l?{...S,transform:"translate("+M+"px, "+T+"px)",...qS(D.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:M,top:T}},[r,l,D.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:O,refs:$,elements:D,floatingStyles:z}),[d,O,$,D,z])}const fF=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?sb({element:n.current,padding:s}).fn(r):{}:n?sb({element:n,padding:s}).fn(r):{}}}},hF=(e,t)=>({...sF(e),options:[e,t]}),mF=(e,t)=>({...oF(e),options:[e,t]}),gF=(e,t)=>({...cF(e),options:[e,t]}),pF=(e,t)=>({...aF(e),options:[e,t]}),yF=(e,t)=>({...iF(e),options:[e,t]}),xF=(e,t)=>({...lF(e),options:[e,t]}),vF=(e,t)=>({...fF(e),options:[e,t]});var bF="Arrow",WS=m.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...o}=e;return a.jsx(Se.svg,{...o,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});WS.displayName=bF;var wF=WS;function _F(e){const[t,r]=m.useState(void 0);return Ct(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,l;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;r({width:i,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var r0="Popper",[HS,_d]=Qs(r0),[kF,KS]=HS(r0),YS=e=>{const{__scopePopper:t,children:r}=e,[n,s]=m.useState(null);return a.jsx(kF,{scope:t,anchor:n,onAnchorChange:s,children:r})};YS.displayName=r0;var JS="PopperAnchor",XS=m.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,o=KS(JS,r),i=m.useRef(null),l=Le(t,i);return m.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:a.jsx(Se.div,{...s,ref:l})});XS.displayName=JS;var n0="PopperContent",[SF,jF]=HS(n0),QS=m.forwardRef((e,t)=>{var R,G,X,H,Y,K;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:g="optimized",onPlaced:b,...x}=e,w=KS(n0,r),[p,y]=m.useState(null),v=Le(t,U=>y(U)),[_,k]=m.useState(null),j=_F(_),C=(j==null?void 0:j.width)??0,N=(j==null?void 0:j.height)??0,F=n+(o!=="center"?"-"+o:""),E=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},I=Array.isArray(u)?u:[u],P=I.length>0,O={padding:E,boundary:I.filter(CF),altBoundary:P},{refs:A,floatingStyles:$,placement:D,isPositioned:z,middlewareData:S}=dF({strategy:"fixed",placement:F,whileElementsMounted:(...U)=>nF(...U,{animationFrame:g==="always"}),elements:{reference:w.anchor},middleware:[hF({mainAxis:s+N,alignmentAxis:i}),c&&mF({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?gF():void 0,...O}),c&&pF({...O}),yF({...O,apply:({elements:U,rects:J,availableWidth:ne,availableHeight:ie})=>{const{width:ue,height:Be}=J.reference,je=U.floating.style;je.setProperty("--radix-popper-available-width",`${ne}px`),je.setProperty("--radix-popper-available-height",`${ie}px`),je.setProperty("--radix-popper-anchor-width",`${ue}px`),je.setProperty("--radix-popper-anchor-height",`${Be}px`)}}),_&&vF({element:_,padding:l}),EF({arrowWidth:C,arrowHeight:N}),h&&xF({strategy:"referenceHidden",...O})]}),[M,T]=tj(D),B=Tr(b);Ct(()=>{z&&(B==null||B())},[z,B]);const V=(R=S.arrow)==null?void 0:R.x,re=(G=S.arrow)==null?void 0:G.y,se=((X=S.arrow)==null?void 0:X.centerOffset)!==0,[fe,oe]=m.useState();return Ct(()=>{p&&oe(window.getComputedStyle(p).zIndex)},[p]),a.jsx("div",{ref:A.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:z?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:fe,"--radix-popper-transform-origin":[(H=S.transformOrigin)==null?void 0:H.x,(Y=S.transformOrigin)==null?void 0:Y.y].join(" "),...((K=S.hide)==null?void 0:K.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(SF,{scope:r,placedSide:M,onArrowChange:k,arrowX:V,arrowY:re,shouldHideArrow:se,children:a.jsx(Se.div,{"data-side":M,"data-align":T,...x,ref:v,style:{...x.style,animation:z?void 0:"none"}})})})});QS.displayName=n0;var ZS="PopperArrow",NF={top:"bottom",right:"left",bottom:"top",left:"right"},ej=m.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,o=jF(ZS,n),i=NF[o.placedSide];return a.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:a.jsx(wF,{...s,ref:r,style:{...s.style,display:"block"}})})});ej.displayName=ZS;function CF(e){return e!==null}var EF=e=>({name:"transformOrigin",options:e,fn(t){var w,p,y;const{placement:r,rects:n,middlewareData:s}=t,i=((w=s.arrow)==null?void 0:w.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=tj(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((p=s.arrow)==null?void 0:p.x)??0)+l/2,g=(((y=s.arrow)==null?void 0:y.y)??0)+c/2;let b="",x="";return u==="bottom"?(b=i?f:`${h}px`,x=`${-c}px`):u==="top"?(b=i?f:`${h}px`,x=`${n.floating.height+c}px`):u==="right"?(b=`${-c}px`,x=i?f:`${g}px`):u==="left"&&(b=`${n.floating.width+c}px`,x=i?f:`${g}px`),{data:{x:b,y:x}}}});function tj(e){const[t,r="center"]=e.split("-");return[t,r]}var rj=YS,nj=XS,sj=QS,oj=ej,Bf="rovingFocusGroup.onEntryFocus",PF={bubbles:!1,cancelable:!0},vl="RovingFocusGroup",[Dm,aj,TF]=Hp(vl),[AF,ij]=Qs(vl,[TF]),[RF,MF]=AF(vl),lj=m.forwardRef((e,t)=>a.jsx(Dm.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(Dm.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(LF,{...e,ref:t})})}));lj.displayName=vl;var LF=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=m.useRef(null),g=Le(t,h),b=Kp(o),[x,w]=fu({prop:i,defaultProp:l??null,onChange:c,caller:vl}),[p,y]=m.useState(!1),v=Tr(u),_=aj(r),k=m.useRef(!1),[j,C]=m.useState(0);return m.useEffect(()=>{const N=h.current;if(N)return N.addEventListener(Bf,v),()=>N.removeEventListener(Bf,v)},[v]),a.jsx(RF,{scope:r,orientation:n,dir:b,loop:s,currentTabStopId:x,onItemFocus:m.useCallback(N=>w(N),[w]),onItemShiftTab:m.useCallback(()=>y(!0),[]),onFocusableItemAdd:m.useCallback(()=>C(N=>N+1),[]),onFocusableItemRemove:m.useCallback(()=>C(N=>N-1),[]),children:a.jsx(Se.div,{tabIndex:p||j===0?-1:0,"data-orientation":n,...f,ref:g,style:{outline:"none",...e.style},onMouseDown:de(e.onMouseDown,()=>{k.current=!0}),onFocus:de(e.onFocus,N=>{const F=!k.current;if(N.target===N.currentTarget&&F&&!p){const E=new CustomEvent(Bf,PF);if(N.currentTarget.dispatchEvent(E),!E.defaultPrevented){const I=_().filter(D=>D.focusable),P=I.find(D=>D.active),O=I.find(D=>D.id===x),$=[P,O,...I].filter(Boolean).map(D=>D.ref.current);dj($,d)}}k.current=!1}),onBlur:de(e.onBlur,()=>y(!1))})})}),cj="RovingFocusGroupItem",uj=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:o,children:i,...l}=e,c=Ms(),u=o||c,d=MF(cj,r),f=d.currentTabStopId===u,h=aj(r),{onFocusableItemAdd:g,onFocusableItemRemove:b,currentTabStopId:x}=d;return m.useEffect(()=>{if(n)return g(),()=>b()},[n,g,b]),a.jsx(Dm.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:a.jsx(Se.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:de(e.onMouseDown,w=>{n?d.onItemFocus(u):w.preventDefault()}),onFocus:de(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:de(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){d.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const p=IF(w,d.orientation,d.dir);if(p!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let v=h().filter(_=>_.focusable).map(_=>_.ref.current);if(p==="last")v.reverse();else if(p==="prev"||p==="next"){p==="prev"&&v.reverse();const _=v.indexOf(w.currentTarget);v=d.loop?FF(v,_+1):v.slice(_+1)}setTimeout(()=>dj(v))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:x!=null}):i})})});uj.displayName=cj;var DF={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function OF(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function IF(e,t,r){const n=OF(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return DF[n]}function dj(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function FF(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var $F=lj,UF=uj,Om=["Enter"," "],zF=["ArrowDown","PageUp","Home"],fj=["ArrowUp","PageDown","End"],BF=[...zF,...fj],VF={ltr:[...Om,"ArrowRight"],rtl:[...Om,"ArrowLeft"]},GF={ltr:["ArrowLeft"],rtl:["ArrowRight"]},bl="Menu",[el,qF,WF]=Hp(bl),[Zs,hj]=Qs(bl,[WF,_d,ij]),kd=_d(),mj=ij(),[HF,eo]=Zs(bl),[KF,wl]=Zs(bl),gj=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:o,modal:i=!0}=e,l=kd(t),[c,u]=m.useState(null),d=m.useRef(!1),f=Tr(o),h=Kp(s);return m.useEffect(()=>{const g=()=>{d.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>d.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),a.jsx(rj,{...l,children:a.jsx(HF,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:a.jsx(KF,{scope:t,onClose:m.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:i,children:n})})})};gj.displayName=bl;var YF="MenuAnchor",s0=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=kd(r);return a.jsx(nj,{...s,...n,ref:t})});s0.displayName=YF;var o0="MenuPortal",[JF,pj]=Zs(o0,{forceMount:void 0}),yj=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,o=eo(o0,t);return a.jsx(JF,{scope:t,forceMount:r,children:a.jsx(us,{present:r||o.open,children:a.jsx(fd,{asChild:!0,container:s,children:n})})})};yj.displayName=o0;var hr="MenuContent",[XF,a0]=Zs(hr),xj=m.forwardRef((e,t)=>{const r=pj(hr,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,o=eo(hr,e.__scopeMenu),i=wl(hr,e.__scopeMenu);return a.jsx(el.Provider,{scope:e.__scopeMenu,children:a.jsx(us,{present:n||o.open,children:a.jsx(el.Slot,{scope:e.__scopeMenu,children:i.modal?a.jsx(QF,{...s,ref:t}):a.jsx(ZF,{...s,ref:t})})})})}),QF=m.forwardRef((e,t)=>{const r=eo(hr,e.__scopeMenu),n=m.useRef(null),s=Le(t,n);return m.useEffect(()=>{const o=n.current;if(o)return Up(o)},[]),a.jsx(i0,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:de(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),ZF=m.forwardRef((e,t)=>{const r=eo(hr,e.__scopeMenu);return a.jsx(i0,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),e$=zs("MenuContent.ScrollLock"),i0=m.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:g,disableOutsideScroll:b,...x}=e,w=eo(hr,r),p=wl(hr,r),y=kd(r),v=mj(r),_=qF(r),[k,j]=m.useState(null),C=m.useRef(null),N=Le(t,C,w.onContentChange),F=m.useRef(0),E=m.useRef(""),I=m.useRef(0),P=m.useRef(null),O=m.useRef("right"),A=m.useRef(0),$=b?md:m.Fragment,D=b?{as:e$,allowPinchZoom:!0}:void 0,z=M=>{var R,G;const T=E.current+M,B=_().filter(X=>!X.disabled),V=document.activeElement,re=(R=B.find(X=>X.ref.current===V))==null?void 0:R.textValue,se=B.map(X=>X.textValue),fe=f$(se,T,re),oe=(G=B.find(X=>X.textValue===fe))==null?void 0:G.ref.current;(function X(H){E.current=H,window.clearTimeout(F.current),H!==""&&(F.current=window.setTimeout(()=>X(""),1e3))})(T),oe&&setTimeout(()=>oe.focus())};m.useEffect(()=>()=>window.clearTimeout(F.current),[]),$p();const S=m.useCallback(M=>{var B,V;return O.current===((B=P.current)==null?void 0:B.side)&&m$(M,(V=P.current)==null?void 0:V.area)},[]);return a.jsx(XF,{scope:r,searchRef:E,onItemEnter:m.useCallback(M=>{S(M)&&M.preventDefault()},[S]),onItemLeave:m.useCallback(M=>{var T;S(M)||((T=C.current)==null||T.focus(),j(null))},[S]),onTriggerLeave:m.useCallback(M=>{S(M)&&M.preventDefault()},[S]),pointerGraceTimerRef:I,onPointerGraceIntentChange:m.useCallback(M=>{P.current=M},[]),children:a.jsx($,{...D,children:a.jsx(dd,{asChild:!0,trapped:s,onMountAutoFocus:de(o,M=>{var T;M.preventDefault(),(T=C.current)==null||T.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:a.jsx(ud,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:g,children:a.jsx($F,{asChild:!0,...v,dir:p.dir,orientation:"vertical",loop:n,currentTabStopId:k,onCurrentTabStopIdChange:j,onEntryFocus:de(c,M=>{p.isUsingKeyboardRef.current||M.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(sj,{role:"menu","aria-orientation":"vertical","data-state":Lj(w.open),"data-radix-menu-content":"",dir:p.dir,...y,...x,ref:N,style:{outline:"none",...x.style},onKeyDown:de(x.onKeyDown,M=>{const B=M.target.closest("[data-radix-menu-content]")===M.currentTarget,V=M.ctrlKey||M.altKey||M.metaKey,re=M.key.length===1;B&&(M.key==="Tab"&&M.preventDefault(),!V&&re&&z(M.key));const se=C.current;if(M.target!==se||!BF.includes(M.key))return;M.preventDefault();const oe=_().filter(R=>!R.disabled).map(R=>R.ref.current);fj.includes(M.key)&&oe.reverse(),u$(oe)}),onBlur:de(e.onBlur,M=>{M.currentTarget.contains(M.target)||(window.clearTimeout(F.current),E.current="")}),onPointerMove:de(e.onPointerMove,tl(M=>{const T=M.target,B=A.current!==M.clientX;if(M.currentTarget.contains(T)&&B){const V=M.clientX>A.current?"right":"left";O.current=V,A.current=M.clientX}}))})})})})})})});xj.displayName=hr;var t$="MenuGroup",l0=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(Se.div,{role:"group",...n,ref:t})});l0.displayName=t$;var r$="MenuLabel",vj=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(Se.div,{...n,ref:t})});vj.displayName=r$;var _u="MenuItem",ab="menu.itemSelect",Sd=m.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,o=m.useRef(null),i=wl(_u,e.__scopeMenu),l=a0(_u,e.__scopeMenu),c=Le(t,o),u=m.useRef(!1),d=()=>{const f=o.current;if(!r&&f){const h=new CustomEvent(ab,{bubbles:!0,cancelable:!0});f.addEventListener(ab,g=>n==null?void 0:n(g),{once:!0}),Hk(f,h),h.defaultPrevented?u.current=!1:i.onClose()}};return a.jsx(bj,{...s,ref:c,disabled:r,onClick:de(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:de(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:de(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||Om.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Sd.displayName=_u;var bj=m.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...o}=e,i=a0(_u,r),l=mj(r),c=m.useRef(null),u=Le(t,c),[d,f]=m.useState(!1),[h,g]=m.useState("");return m.useEffect(()=>{const b=c.current;b&&g((b.textContent??"").trim())},[o.children]),a.jsx(el.ItemSlot,{scope:r,disabled:n,textValue:s??h,children:a.jsx(UF,{asChild:!0,...l,focusable:!n,children:a.jsx(Se.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...o,ref:u,onPointerMove:de(e.onPointerMove,tl(b=>{n?i.onItemLeave(b):(i.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:de(e.onPointerLeave,tl(b=>i.onItemLeave(b))),onFocus:de(e.onFocus,()=>f(!0)),onBlur:de(e.onBlur,()=>f(!1))})})})}),n$="MenuCheckboxItem",wj=m.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return a.jsx(Nj,{scope:e.__scopeMenu,checked:r,children:a.jsx(Sd,{role:"menuitemcheckbox","aria-checked":ku(r)?"mixed":r,...s,ref:t,"data-state":u0(r),onSelect:de(s.onSelect,()=>n==null?void 0:n(ku(r)?!0:!r),{checkForDefaultPrevented:!1})})})});wj.displayName=n$;var _j="MenuRadioGroup",[s$,o$]=Zs(_j,{value:void 0,onValueChange:()=>{}}),kj=m.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,o=Tr(n);return a.jsx(s$,{scope:e.__scopeMenu,value:r,onValueChange:o,children:a.jsx(l0,{...s,ref:t})})});kj.displayName=_j;var Sj="MenuRadioItem",jj=m.forwardRef((e,t)=>{const{value:r,...n}=e,s=o$(Sj,e.__scopeMenu),o=r===s.value;return a.jsx(Nj,{scope:e.__scopeMenu,checked:o,children:a.jsx(Sd,{role:"menuitemradio","aria-checked":o,...n,ref:t,"data-state":u0(o),onSelect:de(n.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,r)},{checkForDefaultPrevented:!1})})})});jj.displayName=Sj;var c0="MenuItemIndicator",[Nj,a$]=Zs(c0,{checked:!1}),Cj=m.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,o=a$(c0,r);return a.jsx(us,{present:n||ku(o.checked)||o.checked===!0,children:a.jsx(Se.span,{...s,ref:t,"data-state":u0(o.checked)})})});Cj.displayName=c0;var i$="MenuSeparator",Ej=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(Se.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});Ej.displayName=i$;var l$="MenuArrow",Pj=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=kd(r);return a.jsx(oj,{...s,...n,ref:t})});Pj.displayName=l$;var c$="MenuSub",[UG,Tj]=Zs(c$),Qa="MenuSubTrigger",Aj=m.forwardRef((e,t)=>{const r=eo(Qa,e.__scopeMenu),n=wl(Qa,e.__scopeMenu),s=Tj(Qa,e.__scopeMenu),o=a0(Qa,e.__scopeMenu),i=m.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=o,u={__scopeMenu:e.__scopeMenu},d=m.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return m.useEffect(()=>d,[d]),m.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),a.jsx(s0,{asChild:!0,...u,children:a.jsx(bj,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":Lj(r.open),...e,ref:Ip(t,s.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:de(e.onPointerMove,tl(f=>{o.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:de(e.onPointerLeave,tl(f=>{var g,b;d();const h=(g=r.content)==null?void 0:g.getBoundingClientRect();if(h){const x=(b=r.content)==null?void 0:b.dataset.side,w=x==="right",p=w?-5:5,y=h[w?"left":"right"],v=h[w?"right":"left"];o.onPointerGraceIntentChange({area:[{x:f.clientX+p,y:f.clientY},{x:y,y:h.top},{x:v,y:h.top},{x:v,y:h.bottom},{x:y,y:h.bottom}],side:x}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(f),f.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:de(e.onKeyDown,f=>{var g;const h=o.searchRef.current!=="";e.disabled||h&&f.key===" "||VF[n.dir].includes(f.key)&&(r.onOpenChange(!0),(g=r.content)==null||g.focus(),f.preventDefault())})})})});Aj.displayName=Qa;var Rj="MenuSubContent",Mj=m.forwardRef((e,t)=>{const r=pj(hr,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,o=eo(hr,e.__scopeMenu),i=wl(hr,e.__scopeMenu),l=Tj(Rj,e.__scopeMenu),c=m.useRef(null),u=Le(t,c);return a.jsx(el.Provider,{scope:e.__scopeMenu,children:a.jsx(us,{present:n||o.open,children:a.jsx(el.Slot,{scope:e.__scopeMenu,children:a.jsx(i0,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;i.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:de(e.onFocusOutside,d=>{d.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:de(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:de(e.onKeyDown,d=>{var g;const f=d.currentTarget.contains(d.target),h=GF[i.dir].includes(d.key);f&&h&&(o.onOpenChange(!1),(g=l.trigger)==null||g.focus(),d.preventDefault())})})})})})});Mj.displayName=Rj;function Lj(e){return e?"open":"closed"}function ku(e){return e==="indeterminate"}function u0(e){return ku(e)?"indeterminate":e?"checked":"unchecked"}function u$(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function d$(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function f$(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let i=d$(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function h$(e,t){const{x:r,y:n}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o],c=t[i],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(s=!s)}return s}function m$(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return h$(r,t)}function tl(e){return t=>t.pointerType==="mouse"?e(t):void 0}var g$=gj,p$=s0,y$=yj,x$=xj,v$=l0,b$=vj,w$=Sd,_$=wj,k$=kj,S$=jj,j$=Cj,N$=Ej,C$=Pj,E$=Aj,P$=Mj,d0="ContextMenu",[T$,zG]=Qs(d0,[hj]),It=hj(),[A$,Dj]=T$(d0),Oj=e=>{const{__scopeContextMenu:t,children:r,onOpenChange:n,dir:s,modal:o=!0}=e,[i,l]=m.useState(!1),c=It(t),u=Tr(n),d=m.useCallback(f=>{l(f),u(f)},[u]);return a.jsx(A$,{scope:t,open:i,onOpenChange:d,modal:o,children:a.jsx(g$,{...c,dir:s,open:i,onOpenChange:d,modal:o,children:r})})};Oj.displayName=d0;var Ij="ContextMenuTrigger",Fj=m.forwardRef((e,t)=>{const{__scopeContextMenu:r,disabled:n=!1,...s}=e,o=Dj(Ij,r),i=It(r),l=m.useRef({x:0,y:0}),c=m.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...l.current})}),u=m.useRef(0),d=m.useCallback(()=>window.clearTimeout(u.current),[]),f=h=>{l.current={x:h.clientX,y:h.clientY},o.onOpenChange(!0)};return m.useEffect(()=>d,[d]),m.useEffect(()=>void(n&&d()),[n,d]),a.jsxs(a.Fragment,{children:[a.jsx(p$,{...i,virtualRef:c}),a.jsx(Se.span,{"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,...s,ref:t,style:{WebkitTouchCallout:"none",...e.style},onContextMenu:n?e.onContextMenu:de(e.onContextMenu,h=>{d(),f(h),h.preventDefault()}),onPointerDown:n?e.onPointerDown:de(e.onPointerDown,sc(h=>{d(),u.current=window.setTimeout(()=>f(h),700)})),onPointerMove:n?e.onPointerMove:de(e.onPointerMove,sc(d)),onPointerCancel:n?e.onPointerCancel:de(e.onPointerCancel,sc(d)),onPointerUp:n?e.onPointerUp:de(e.onPointerUp,sc(d))})]})});Fj.displayName=Ij;var R$="ContextMenuPortal",$j=e=>{const{__scopeContextMenu:t,...r}=e,n=It(t);return a.jsx(y$,{...n,...r})};$j.displayName=R$;var Uj="ContextMenuContent",zj=m.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,s=Dj(Uj,r),o=It(r),i=m.useRef(!1);return a.jsx(x$,{...o,...n,ref:t,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:l=>{var c;(c=e.onCloseAutoFocus)==null||c.call(e,l),!l.defaultPrevented&&i.current&&l.preventDefault(),i.current=!1},onInteractOutside:l=>{var c;(c=e.onInteractOutside)==null||c.call(e,l),!l.defaultPrevented&&!s.modal&&(i.current=!0)},style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});zj.displayName=Uj;var M$="ContextMenuGroup",L$=m.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,s=It(r);return a.jsx(v$,{...s,...n,ref:t})});L$.displayName=M$;var D$="ContextMenuLabel",Bj=m.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,s=It(r);return a.jsx(b$,{...s,...n,ref:t})});Bj.displayName=D$;var O$="ContextMenuItem",Vj=m.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,s=It(r);return a.jsx(w$,{...s,...n,ref:t})});Vj.displayName=O$;var I$="ContextMenuCheckboxItem",Gj=m.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,s=It(r);return a.jsx(_$,{...s,...n,ref:t})});Gj.displayName=I$;var F$="ContextMenuRadioGroup",$$=m.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,s=It(r);return a.jsx(k$,{...s,...n,ref:t})});$$.displayName=F$;var U$="ContextMenuRadioItem",qj=m.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,s=It(r);return a.jsx(S$,{...s,...n,ref:t})});qj.displayName=U$;var z$="ContextMenuItemIndicator",Wj=m.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,s=It(r);return a.jsx(j$,{...s,...n,ref:t})});Wj.displayName=z$;var B$="ContextMenuSeparator",Hj=m.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,s=It(r);return a.jsx(N$,{...s,...n,ref:t})});Hj.displayName=B$;var V$="ContextMenuArrow",G$=m.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,s=It(r);return a.jsx(C$,{...s,...n,ref:t})});G$.displayName=V$;var q$="ContextMenuSubTrigger",Kj=m.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,s=It(r);return a.jsx(E$,{...s,...n,ref:t})});Kj.displayName=q$;var W$="ContextMenuSubContent",Yj=m.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,s=It(r);return a.jsx(P$,{...s,...n,ref:t,style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Yj.displayName=W$;function sc(e){return t=>t.pointerType!=="mouse"?e(t):void 0}var H$=Oj,K$=Fj,Y$=$j,Jj=zj,Xj=Bj,Qj=Vj,Zj=Gj,e4=qj,t4=Wj,r4=Hj,n4=Kj,s4=Yj;const Im=H$,Fm=K$,J$=m.forwardRef(({className:e,inset:t,children:r,...n},s)=>a.jsxs(n4,{ref:s,className:Ne("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",t&&"pl-8",e),...n,children:[r,a.jsx(BD,{className:"ml-auto h-4 w-4"})]}));J$.displayName=n4.displayName;const X$=m.forwardRef(({className:e,...t},r)=>a.jsx(s4,{ref:r,className:Ne("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));X$.displayName=s4.displayName;const Su=m.forwardRef(({className:e,...t},r)=>a.jsx(Y$,{children:a.jsx(Jj,{ref:r,className:Ne("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})}));Su.displayName=Jj.displayName;const _r=m.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(Qj,{ref:n,className:Ne("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));_r.displayName=Qj.displayName;const Q$=m.forwardRef(({className:e,children:t,checked:r,...n},s)=>a.jsxs(Zj,{ref:s,className:Ne("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(t4,{children:a.jsx(Uk,{className:"h-4 w-4"})})}),t]}));Q$.displayName=Zj.displayName;const Z$=m.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(e4,{ref:n,className:Ne("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(t4,{children:a.jsx(Bk,{className:"h-2 w-2 fill-current"})})}),t]}));Z$.displayName=e4.displayName;const eU=m.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(Xj,{ref:n,className:Ne("px-2 py-1.5 text-sm font-semibold text-foreground",t&&"pl-8",e),...r}));eU.displayName=Xj.displayName;const tU=m.forwardRef(({className:e,...t},r)=>a.jsx(r4,{ref:r,className:Ne("-mx-1 my-1 h-px bg-border",e),...t}));tU.displayName=r4.displayName;const rU=({children:e,className:t,...r})=>a.jsx("div",{className:`flex border-b border-gray-200 dark:border-gray-700 ${t||""}`,...r,children:e}),Vf=({value:e,active:t,onSelect:r,children:n,className:s})=>a.jsx("button",{type:"button",role:"tab","aria-selected":t===e,onClick:()=>r(e),className:`px-3 py-2 text-sm font-medium border-b-2 transition-colors flex-1 ${t===e?"border-rose-500 text-rose-600 dark:text-rose-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"} ${s||""}`,children:n}),Gf=({value:e,active:t,children:r,className:n})=>a.jsx("div",{role:"tabpanel",hidden:t!==e,className:`${n||""} ${t===e?"block":"hidden"}`,children:r}),nU=({children:e,className:t})=>a.jsx("div",{className:t,children:e}),sU=`
  .highlight-conversation {
    animation: highlight 2s ease-in-out;
  }
  
  @keyframes highlight {
    0%, 100% { background-color: transparent; }
    50% { background-color: rgba(59, 130, 246, 0.2); }
  }
  
  .highlight-conversation-target:focus-visible {
    outline: 2px solid #3b82f6;
    background-color: rgba(59, 130, 246, 0.1);
  }
`,ib=()=>{const{user:e}=od(),t=st(),{t:r}=Mr(),{conversationId:n}=Hu(),[s,o]=m.useState({}),[i,l]=m.useState([]),[c,u]=m.useState([]),[d,f]=m.useState("direct"),[h,g]=m.useState(null),[b,x]=m.useState(null),[w,p]=m.useState(null),[y,v]=m.useState(!0),[_,k]=m.useState(window.innerWidth<768),[j,C]=m.useState(!1);m.useEffect(()=>{const R=()=>{k(window.innerWidth<768)};return window.addEventListener("resize",R),()=>window.removeEventListener("resize",R)},[]),m.useEffect(()=>{const R=document.createElement("style");return R.textContent=sU,document.head.appendChild(R),()=>{document.head.removeChild(R)}},[]),m.useEffect(()=>{e&&(d==="direct"?E():d==="events"?A():d==="groups"&&D())},[e,d]),m.useEffect(()=>{n&&d==="direct"&&s[n]&&g(s[n])},[n,s,d]),m.useEffect(()=>{console.log("DEBUG: Component did mount - Force events tab to be active"),f("events");const R=P();console.log("Setting default sample events:",R.length),l(R),O(R)},[]);const N=()=>{const R=[{id:"sample-friend-1",user_id:(e==null?void 0:e.id)||"",other_user_id:"sample-friend-1",other_user:{id:"sample-friend-1",full_name:"Alex Johnson",avatar_url:"https://randomuser.me/api/portraits/men/32.jpg"},last_message:{content:"Hey there! How are you doing?",created_at:new Date(Date.now()-864e5).toISOString(),sender_id:"sample-friend-1"},unread:1},{id:"sample-friend-2",user_id:(e==null?void 0:e.id)||"",other_user_id:"sample-friend-2",other_user:{id:"sample-friend-2",full_name:"Sarah Miller",avatar_url:"https://randomuser.me/api/portraits/women/44.jpg"},last_message:{content:"Are we still meeting tomorrow?",created_at:new Date(Date.now()-72e5).toISOString(),sender_id:(e==null?void 0:e.id)||""},unread:0},{id:"sample-friend-3",user_id:(e==null?void 0:e.id)||"",other_user_id:"sample-friend-3",other_user:{id:"sample-friend-3",full_name:"Mike Robinson",avatar_url:"https://randomuser.me/api/portraits/men/67.jpg"},last_message:{content:"Did you see that cool new tech announcement?",created_at:new Date(Date.now()-2592e5).toISOString(),sender_id:"sample-friend-3"},unread:0},{id:"sample-friend-4",user_id:(e==null?void 0:e.id)||"",other_user_id:"sample-friend-4",other_user:{id:"sample-friend-4",full_name:"Emma Wilson",avatar_url:"https://randomuser.me/api/portraits/women/22.jpg"},last_message:{content:"Thanks for your help yesterday!",created_at:new Date(Date.now()-432e6).toISOString(),sender_id:"sample-friend-4"},unread:0}];try{localStorage.setItem("sampleFriends",JSON.stringify(R))}catch(G){console.error("Failed to save sample friends to localStorage:",G)}return R},F=()=>{const R=localStorage.getItem("sampleFriends");if(R)try{const G=JSON.parse(R);if(Array.isArray(G)&&G.length>0){console.log("Friends already exist in localStorage:",G.length);return}}catch(G){console.error("Error parsing localStorage friends:",G)}console.log("Creating default friends as none were found"),N()};m.useEffect(()=>{e&&F()},[e]);const E=async()=>{if(e)try{v(!0);try{const{data:H,error:Y}=await Pe.rpc("get_user_relationships",{p_user_id:e.id});if(!Y&&H&&H.length>0){console.log("Successfully fetched relationships via RPC:",H);const K={};for(const U of H)K[U.other_user_id]={id:U.other_user_id,user_id:e.id,other_user_id:U.other_user_id,other_user:{id:U.other_user_id,full_name:U.other_user_full_name||"User",avatar_url:U.other_user_avatar_url},unread:0};await I(K);return}console.log("RPC method for relationships not available, trying fallback method")}catch(H){console.log("RPC method for relationships failed, trying fallback method",H)}try{const{data:H,error:Y}=await Pe.rpc("get_user_friendships",{p_user_id:e.id});if(!Y&&H&&H.length>0){console.log("Successfully fetched friendships via RPC:",H);const K={};for(const U of H)K[U.other_user_id]={id:U.other_user_id,user_id:e.id,other_user_id:U.other_user_id,other_user:{id:U.other_user_id,full_name:U.other_user_full_name||"User",avatar_url:U.other_user_avatar_url},unread:0};await I(K);return}console.log("Friendships RPC method failed, trying direct queries")}catch(H){console.log("Friendships RPC method failed:",H)}try{const{data:H,error:Y}=await Pe.from("relationships").select("id, requester_id, addressee_id, status, created_at").or(`requester_id.eq.${e.id},addressee_id.eq.${e.id}`).eq("status","accepted");if(!Y&&H&&H.length>0){const K={};for(const U of H)try{const J=U.requester_id===(e==null?void 0:e.id)?U.addressee_id:U.requester_id,{data:ne,error:ie}=await Pe.from("profiles").select("id, full_name, avatar_url").eq("id",J).single();if(ie){console.error(`Error fetching profile for user ${J}:`,ie);continue}if(!ne){console.log(`No profile found for user ${J}`);continue}K[J]={id:J,user_id:(e==null?void 0:e.id)||"",other_user_id:J,other_user:{id:ne.id,full_name:ne.full_name,avatar_url:ne.avatar_url},unread:0};try{const{data:ue}=await Pe.from("direct_messages").select("content, created_at, sender_id").or(`and(sender_id.eq.${e==null?void 0:e.id},receiver_id.eq.${J}),and(sender_id.eq.${J},receiver_id.eq.${e==null?void 0:e.id})`).order("created_at",{ascending:!1}).limit(1);ue&&ue.length>0&&(K[J].last_message={content:ue[0].content,created_at:ue[0].created_at,sender_id:ue[0].sender_id})}catch(ue){console.log(`Error fetching messages for conversation with ${J}:`,ue)}}catch(J){console.error("Error processing relationship:",J)}if(Object.keys(K).length>0){o(K),n&&K[n]&&g(K[n]),v(!1);return}}}catch(H){console.log("Direct query for relationships failed, trying friendships table",H)}try{const{data:H,error:Y}=await Pe.from("friendships").select("id, user_id, friend_id, status, created_at").or(`user_id.eq.${e.id},friend_id.eq.${e.id}`).eq("status","accepted");if(!Y&&H&&H.length>0){const K={};for(const U of H)try{const J=U.user_id===(e==null?void 0:e.id)?U.friend_id:U.user_id,{data:ne,error:ie}=await Pe.from("profiles").select("id, full_name, avatar_url").eq("id",J).single();if(ie){console.error(`Error fetching profile for user ${J}:`,ie);continue}if(!ne){console.log(`No profile found for user ${J}`);continue}K[J]={id:J,user_id:(e==null?void 0:e.id)||"",other_user_id:J,other_user:{id:ne.id,full_name:ne.full_name,avatar_url:ne.avatar_url},unread:0};try{const{data:ue}=await Pe.from("direct_messages").select("content, created_at, sender_id").or(`and(sender_id.eq.${e==null?void 0:e.id},receiver_id.eq.${J}),and(sender_id.eq.${J},receiver_id.eq.${e==null?void 0:e.id})`).order("created_at",{ascending:!1}).limit(1);ue&&ue.length>0&&(K[J].last_message={content:ue[0].content,created_at:ue[0].created_at,sender_id:ue[0].sender_id})}catch(ue){console.log(`Error fetching messages for conversation with ${J}:`,ue)}}catch(J){console.error("Error processing friendship:",J)}if(Object.keys(K).length>0){o(K),n&&K[n]&&g(K[n]),v(!1);return}}}catch(H){console.log("Friendships table query failed",H)}const R=localStorage.getItem("sampleFriends");if(R)try{const H=JSON.parse(R);if(Array.isArray(H)&&H.length>0){console.log("Using sample friends from localStorage:",H);const Y={};H.forEach(K=>{Y[K.other_user_id]=K}),o(Y),n&&Y[n]&&g(Y[n]),v(!1);return}}catch(H){console.error("Error parsing localStorage friends:",H)}console.log("No friends found, creating sample friends");const G=N(),X={};G.forEach(H=>{X[H.other_user_id]=H}),o(X),v(!1)}catch(R){console.error("Error in fetchFriendConversations:",R),q.error("Failed to load conversations");const G=N(),X={};G.forEach(H=>{X[H.other_user_id]=H}),o(X)}finally{v(!1)}},I=async R=>{try{const G=Object.keys(R);await Promise.all(G.map(async X=>{try{const{data:H}=await Pe.from("direct_messages").select("content, created_at, sender_id").or(`and(sender_id.eq.${e==null?void 0:e.id},receiver_id.eq.${X}),and(sender_id.eq.${X},receiver_id.eq.${e==null?void 0:e.id})`).order("created_at",{ascending:!1}).limit(1);H&&H.length>0&&(R[X].last_message={content:H[0].content,created_at:H[0].created_at,sender_id:H[0].sender_id});const{count:Y}=await Pe.from("direct_messages").select("*",{count:"exact",head:!0}).eq("receiver_id",e==null?void 0:e.id).eq("sender_id",X).eq("is_read",!1);R[X].unread=Y||0}catch(H){console.log(`Error fetching messages for conversation ${X}:`,H)}})),o(R),n&&R[n]&&g(R[n]),v(!1)}catch(G){console.error("Error fetching last messages for conversations:",G),o(R),v(!1)}},P=()=>{const R=new Date;return[{id:"sample-event-1",title:"Community Meetup",start_date:new Date(R.getTime()+2*24*60*60*1e3).toISOString(),image_url:"https://images.unsplash.com/photo-1511795409834-432f7b1d6574"},{id:"sample-event-2",title:"Tech Conference",start_date:new Date(R.getTime()+7*24*60*60*1e3).toISOString(),image_url:"https://images.unsplash.com/photo-1523580494863-6f3031224c94"},{id:"sample-event-3",title:"Networking Party",start_date:new Date(R.getTime()+14*24*60*60*1e3).toISOString(),image_url:"https://images.unsplash.com/photo-1505373877841-8d25f7d46678"},{id:"sample-event-4",title:"Product Launch",start_date:new Date(R.getTime()+21*24*60*60*1e3).toISOString(),image_url:"https://images.unsplash.com/photo-1540317580384-e5d43867caa6"},{id:"sample-event-5",title:"Workshop: Advanced Skills",start_date:new Date(R.getTime()+5*24*60*60*1e3).toISOString(),image_url:"https://images.unsplash.com/photo-1552664730-d307ca884978"}]},O=R=>{try{localStorage.setItem("eventAttendances",JSON.stringify(R)),console.log("Saved events to localStorage:",R)}catch(G){console.error("Error saving events to localStorage:",G)}},A=async()=>{if(e)try{try{console.log("DEBUG: Trying direct query approach for events");const{data:G,error:X}=await Pe.from("event_attendees").select(`
            *,
            events (
              id, title, description, start_date, category, location, is_public, created_by
            )
          `).eq("user_id",e.id);if(X)throw console.error("Error fetching attended events:",X),X;if(G&&G.length>0){console.log("DEBUG: Found",G.length,"events user is attending");const H=G.map(Y=>{const K=Y.events;return K?{id:K.id,title:K.title,description:K.description,start_date:K.start_date,category:K.category,location:K.location,is_public:K.is_public}:null}).filter(Boolean);if(H.length>0){console.log("DEBUG: Processed",H.length,"valid events");const Y=await $(H);l(Y),O(Y);return}}}catch(G){console.error("Error with direct query approach:",G)}try{console.log("DEBUG: Trying RPC function for events");const{data:G,error:X}=await Pe.rpc("get_user_event_attendances",{p_user_id:e.id});if(X)throw console.error("RPC function error:",X),X;if(G&&G.length>0){console.log("DEBUG: RPC returned",G.length,"events");const H=G.map(K=>({id:K.id,title:K.title,description:K.description,start_date:K.start_date,category:K.category,location:K.location,is_public:K.is_public,created_by:K.created_by})),Y=await $(H);l(Y),O(Y);return}}catch(G){console.error("Error with RPC function approach:",G)}try{console.log("DEBUG: Trying to find events created by user");const{data:G,error:X}=await Pe.from("events").select("*").eq("created_by",e.id);if(X)throw console.error("Error fetching created events:",X),X;if(G&&G.length>0){console.log("DEBUG: Found",G.length,"events created by user");const H=G.map(K=>({id:K.id,title:K.title,description:K.description,start_date:K.start_date,category:K.category,location:K.location,is_public:K.is_public,created_by:K.created_by})),Y=await $(H);l(Y),O(Y);return}}catch(G){console.error("Error with created events approach:",G)}console.log("DEBUG: No real events found. Keeping sample events.");const R=P();l(R),O(R)}catch(R){console.error("Error in fetchEventChats:",R);const G=P();l(G),O(G)}finally{}},$=async R=>{try{const G=[...R];for(let X=0;X<G.length;X++)try{if(G[X].id.startsWith("sample-"))continue;const{data:H,error:Y}=await Pe.from("event_messages").select("content, created_at, user_id, profiles:user_id (full_name, avatar_url)").eq("event_id",G[X].id).order("created_at",{ascending:!1}).limit(1);if(Y){console.error(`Error fetching messages for event ${G[X].id}:`,Y);continue}if(H&&H.length>0){const K=H[0].profiles;G[X].last_message={content:H[0].content,created_at:H[0].created_at,sender_id:H[0].user_id,sender_name:(K==null?void 0:K.full_name)||"Unknown User"}}}catch(H){console.log(`Error processing messages for event ${G[X].id}:`,H)}return console.log("DEBUG: Events with messages:",G.length),G}catch(G){return console.error("Error fetching event messages:",G),R}},D=async()=>{if(e)try{v(!0);try{const{data:G,error:X}=await Pe.rpc("get_user_group_memberships",{p_user_id:e.id});if(!X&&G&&G.length>0){await z(G);return}console.log("RPC method not available or returned no results, trying fallback method")}catch(G){console.log("RPC method failed, trying fallback method",G)}const{data:R}=await S();if(R&&R.length>0){console.log("Using groups from localStorage:",R);const G=R.map(Y=>Y.group_id),{data:X,error:H}=await Pe.from("groups").select("id, name, description, image_url, category, created_at, created_by").in("id",G);if(!H&&X&&X.length>0){const Y=X.map(K=>{const U=R.find(J=>J.group_id===K.id);return{...K,role:(U==null?void 0:U.role)||"member"}});console.log("Fetched user groups from localStorage fallback:",Y),u(Y),v(!1);return}}console.log("No group memberships found via any method"),u([])}catch(R){console.error("Error in fetchUserGroups:",R),q.error("Failed to load your groups"),u([])}finally{v(!1)}},z=async R=>{const G=R.map(K=>K.group_id),{data:X,error:H}=await Pe.from("groups").select("id, name, description, image_url, category, created_at, created_by").in("id",G);if(H){console.error("Error fetching group details:",H),u([]);return}const Y=(X||[]).map(K=>{const U=R.find(J=>J.group_id===K.id);return{...K,role:(U==null?void 0:U.role)||"member"}});console.log("Fetched user groups via processGroupMemberships:",Y),u(Y)},S=async()=>{try{const R=localStorage.getItem("groupMemberships");if(!R)return{data:[]};const G=JSON.parse(R);return{data:Object.entries(G).map(([H,Y])=>({group_id:H,role:Y.role||"member"}))}}catch(R){return console.error("Error parsing localStorage group memberships:",R),{data:[]}}},M=async R=>{if(e)try{const{error:G}=await Pe.from("direct_messages").delete().or(`and(sender_id.eq.${e.id},receiver_id.eq.${R}),and(sender_id.eq.${R},receiver_id.eq.${e.id})`);if(G)throw G;o(X=>{const H={...X};return delete H[R],H}),(h==null?void 0:h.id)===R&&g(null),q(r("messages.conversation_deleted")||"Conversation deleted")}catch(G){console.error("Error deleting conversation:",G),q(r("messages.conversation_delete_error")||"Could not delete conversation")}},T=R=>{const X=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(R),H=R.startsWith("sample-");if(!X&&!H){console.error(`Invalid event ID format: ${R}`),q.error(r("messages.invalid_event_id")||"Invalid event ID format");return}const Y=i.find(K=>K.id===R);if(!Y){if(console.error(`Event not found: ${R}`),q.error(r("messages.event_not_found")||"Event not found"),H){const K=B(R);l(U=>[...U,K]),O([...i,K]),t(`/events/${R}/chat`);return}return}console.log(`Navigating to event chat, ID: ${R}, Title: ${Y.title}`),t(`/events/${R}/chat`)},B=R=>{const G=new Date;return{id:R,title:`Event ${R.substring(0,8)}`,start_date:new Date(G.getTime()+2*24*60*60*1e3).toISOString(),image_url:"https://images.unsplash.com/photo-1511795409834-432f7b1d6574"}},V=()=>{C(R=>!R)},re=R=>{R&&(console.log("Navigating to profile:",R),t(`/profile/${R}`))},se=async R=>{if(!(!e||!R))try{const{error:G}=await Pe.from("direct_messages").update({is_read:!0}).eq("receiver_id",e.id).eq("sender_id",R);if(G){console.error("Error marking messages as read:",G);return}o(X=>{const H={...X};return H[R]&&(H[R]={...H[R],unread:0}),H})}catch(G){console.error("Error in markMessagesAsRead:",G)}};m.useEffect(()=>{h!=null&&h.id&&se(h.id)},[h==null?void 0:h.id]);const fe=R=>{t(`/groups/${R}/chat`)},oe=()=>{const R=localStorage.getItem("eventAttendances");if(R)try{const X=JSON.parse(R);if(Array.isArray(X)&&X.length>0){console.log("Events already exist in localStorage:",X.length);return}}catch(X){console.error("Error parsing localStorage events:",X)}console.log("Creating default events as none were found");const G=P();O(G),l(G)};return m.useEffect(()=>{e&&oe()},[e]),y&&Object.keys(s).length===0&&i.length===0&&c.length===0?a.jsx("div",{className:"flex justify-center items-center min-h-screen",children:a.jsx(Ee,{size:"lg"})}):a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 md:py-12",children:[a.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:a.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center",children:[a.jsx(ea,{className:"mr-3 h-6 w-6"})," ",r("messages.title")||"Messages"]})}),a.jsxs("div",{className:`flex flex-col md:flex-row rounded-xl shadow-md overflow-hidden border border-gray-200 dark:border-gray-700 h-[calc(100vh-12rem)] ${j?"fixed inset-0 z-50 h-screen w-screen max-w-none rounded-none":""}`,children:[a.jsx("div",{className:`w-full md:w-1/3 lg:w-1/4 flex-shrink-0 border-r border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 ${j||_&&(h||b||w)?"hidden md:flex md:flex-col":"flex flex-col"}`,children:a.jsxs(nU,{defaultValue:d,onValueChange:f,className:"flex-shrink-0",children:[a.jsxs(rU,{className:"flex border-b border-gray-200 dark:border-gray-700",children:[a.jsx(Vf,{value:"direct",active:d,onSelect:R=>{console.log("DEBUG: Tab changed to DIRECT",R),f(R)},className:"py-4 px-6 font-medium text-base focus:outline-none",children:r("messages.tabs.direct")||"Direct"}),a.jsx(Vf,{value:"groups",active:d,onSelect:R=>{console.log("DEBUG: Tab changed to GROUPS",R),f(R)},className:"py-4 px-6 font-medium text-base focus:outline-none",children:r("messages.tabs.groups")||"Groups"}),a.jsx(Vf,{value:"events",active:d,onSelect:R=>{console.log("DEBUG: Tab changed to EVENTS",R),f(R),R==="events"&&(console.log("DEBUG: Forcing event fetch because tab was selected"),A())},className:"py-4 px-6 font-medium text-base focus:outline-none",children:r("messages.tabs.events")||"Events"})]}),a.jsx(Gf,{value:"direct",active:d,className:"flex-1 overflow-y-auto",children:Object.keys(s).length===0?a.jsxs("div",{className:"text-center py-10 px-4",children:[a.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:r("messages.no_direct_messages")||"No direct messages yet"}),a.jsx(be,{to:"/friends",className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-indigo-500 to-purple-500 hover:from-indigo-600 hover:to-purple-600 rounded-full text-sm font-medium text-white shadow-sm hover:shadow transition-all",children:r("messages.find_friends")||"Find Friends"})]}):a.jsx("div",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:Object.values(s).sort((R,G)=>!R.last_message&&!G.last_message?0:R.last_message?G.last_message?new Date(G.last_message.created_at).getTime()-new Date(R.last_message.created_at).getTime():-1:1).map(R=>a.jsxs(Im,{children:[a.jsx(Fm,{children:a.jsxs("div",{className:`flex items-center p-4 cursor-pointer ${(h==null?void 0:h.id)===R.id?"bg-indigo-50 dark:bg-indigo-900/30":"hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,onClick:()=>g(R),children:[a.jsx("div",{className:"flex-shrink-0 h-12 w-12 rounded-full overflow-hidden bg-gray-200 dark:bg-gray-700 relative",children:R.other_user.avatar_url?a.jsx("img",{src:R.other_user.avatar_url,alt:R.other_user.full_name,className:"h-full w-full object-cover"}):a.jsx("div",{className:"h-full w-full flex items-center justify-center bg-gradient-to-br from-indigo-500 to-purple-600 text-white",children:a.jsx(Nr,{size:22})})}),a.jsxs("div",{className:"ml-3 flex-1 overflow-hidden",children:[a.jsxs("div",{className:"flex justify-between items-baseline",children:[a.jsx("h3",{className:"text-base font-medium text-gray-900 dark:text-white truncate",children:R.other_user.full_name}),R.last_message&&a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(R.last_message.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:R.last_message?R.last_message.sender_id===(e==null?void 0:e.id)?`${r("messages.you")}: ${R.last_message.content}`:R.last_message.content:r("messages.no_messages_yet")})]}),R.unread&&R.unread>0&&a.jsx("div",{className:"ml-2 bg-indigo-600 text-white text-xs font-medium rounded-full h-5 w-5 flex items-center justify-center",children:R.unread})]})}),a.jsxs(Su,{children:[a.jsxs(_r,{onClick:()=>re(R.other_user.id),children:[a.jsx(Nr,{className:"mr-2 h-4 w-4"}),r("messages.view_profile")||"View Profile"]}),a.jsxs(_r,{children:[a.jsx(zi,{className:"mr-2 h-4 w-4"}),r("messages.mute_notifications")||"Mute Notifications"]}),a.jsxs(_r,{children:[a.jsx(ox,{className:"mr-2 h-4 w-4"}),r("messages.block_user")||"Block User"]}),a.jsxs(_r,{onClick:()=>M(R.id),children:[a.jsx(Us,{className:"mr-2 h-4 w-4"}),r("messages.delete_conversation")||"Delete Conversation"]})]})]},R.id))})}),a.jsx(Gf,{value:"groups",active:d,className:"flex-1 overflow-y-auto",children:c.length===0?a.jsxs("div",{className:"text-center py-10 px-4",children:[a.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:r("messages.no_group_chats")||"You are not a member of any groups yet"}),a.jsx(be,{to:"/groups",className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-rose-500 to-red-500 hover:from-rose-600 hover:to-red-600 rounded-full text-sm font-medium text-white shadow-sm hover:shadow transition-all",children:r("messages.browse_groups")||"Browse Groups"})]}):a.jsx("div",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:c.map(R=>a.jsxs("div",{className:"flex items-center p-4 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50",onClick:()=>fe(R.id),children:[a.jsx("div",{className:"flex-shrink-0 h-12 w-12 rounded-full overflow-hidden bg-gray-200 dark:bg-gray-700",children:R.image_url?a.jsx("img",{src:R.image_url,alt:R.name,className:"h-full w-full object-cover"}):a.jsx("div",{className:"h-full w-full flex items-center justify-center bg-gradient-to-br from-indigo-500 to-purple-600 text-white",children:a.jsx(qe,{size:22})})}),a.jsxs("div",{className:"ml-3 flex-1 overflow-hidden",children:[a.jsxs("div",{className:"flex justify-between items-baseline",children:[a.jsx("h3",{className:"text-base font-medium text-gray-900 dark:text-white truncate",children:R.name}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:R.role==="admin"?r("messages.admin")||"Admin":r("messages.member")||"Member"})]}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:R.description||r("messages.no_description")||"No description"})]})]},R.id))})}),a.jsxs(Gf,{value:"events",active:d,className:"flex-1 overflow-y-auto",children:[(console.log("DEBUG: Inside Events TabsContent render, activeTab:",d,"eventChats:",i),null),i.length===0?a.jsxs("div",{className:"text-center py-10 px-4",children:[a.jsxs("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:[r("messages.no_event_chats")||"No event chats yet","(Debug info: activeTab=",d,", eventChats.length=",i.length,")"]}),a.jsx("button",{onClick:()=>{console.log("DEBUG: Force fetch clicked"),A()},className:"inline-flex items-center mb-4 px-4 py-2 bg-blue-500 hover:bg-blue-600 rounded-full text-sm font-medium text-white shadow-sm hover:shadow transition-all",children:"Olaylar Yenile"}),a.jsx(be,{to:"/events",className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-rose-500 to-red-500 hover:from-rose-600 hover:to-red-600 rounded-full text-sm font-medium text-white shadow-sm hover:shadow transition-all",children:r("messages.browse_events")||"Browse Events"})]}):a.jsxs("div",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:[a.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 sticky top-0 z-10 flex justify-between items-center",children:[a.jsxs("h3",{className:"font-medium text-gray-900 dark:text-white",children:[r("messages.your_events")||"Your Events"," (",i.length,")"]}),a.jsxs("button",{onClick:()=>{console.log("DEBUG: Refresh events button clicked"),A()},className:"p-2 text-sm text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-300 flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),r("messages.refresh")||"Refresh"]})]}),i.map(R=>a.jsxs("div",{className:`flex items-center p-4 cursor-pointer ${(w==null?void 0:w.id)===R.id?"bg-indigo-50 dark:bg-indigo-900/30":"hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,onClick:()=>T(R.id),children:[a.jsx("div",{className:"flex-shrink-0 h-12 w-12 rounded-full overflow-hidden bg-gray-200 dark:bg-gray-700",children:R.image_url?a.jsx("img",{src:R.image_url,alt:R.title,className:"h-full w-full object-cover"}):a.jsx("div",{className:"h-full w-full flex items-center justify-center bg-gradient-to-br from-rose-500 to-red-600 text-white",children:a.jsx(Rt,{size:22})})}),a.jsxs("div",{className:"ml-3 flex-1 overflow-hidden",children:[a.jsxs("div",{className:"flex justify-between items-baseline",children:[a.jsx("h3",{className:"text-base font-medium text-gray-900 dark:text-white truncate",children:R.title}),a.jsx("span",{className:"ml-2 px-2 py-1 text-xs rounded-full bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200",children:new Date(R.start_date).toLocaleDateString(void 0,{month:"short",day:"numeric"})})]}),a.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate flex items-center",children:[a.jsx(Rt,{className:"mr-1 h-3 w-3"}),new Date(R.start_date).toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})]}),R.last_message&&a.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1 italic truncate",children:R.last_message.content})]})]},R.id))]})]})]})}),a.jsxs("div",{className:`flex flex-col flex-1 bg-white dark:bg-gray-800 ${_&&!h&&!b&&!w?"hidden md:flex":"flex"}`,children:[_&&(h||b||w)&&a.jsx("div",{className:"flex items-center p-3 border-b border-gray-200 dark:border-gray-700",children:a.jsx("button",{onClick:()=>{g(null),x(null),p(null),t("/messages")},className:"p-2 rounded-full text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",children:a.jsx(mT,{size:20})})}),h?a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-10 w-10 rounded-full overflow-hidden bg-gray-200 dark:bg-gray-700 mr-3",children:h.other_user.avatar_url?a.jsx("img",{src:h.other_user.avatar_url,alt:h.other_user.full_name,className:"h-full w-full object-cover"}):a.jsx("div",{className:"h-full w-full flex items-center justify-center bg-gradient-to-br from-indigo-500 to-purple-600 text-white",children:a.jsx(Nr,{size:18})})}),a.jsx("div",{children:a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:h.other_user.full_name})})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:V,className:"p-2 rounded-full text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700","aria-label":j?r("messages.exit_fullscreen")||"Exit full screen":r("messages.enter_fullscreen")||"Full screen",children:j?a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:a.jsx("path",{d:"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"})}):a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:a.jsx("path",{d:"M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"})})}),a.jsxs(Im,{children:[a.jsx(Fm,{children:a.jsx("button",{className:"p-2 rounded-full text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700","aria-label":r("messages.settings")||"Message Settings",children:a.jsx(sd,{size:20})})}),a.jsxs(Su,{children:[a.jsxs(_r,{onClick:()=>re(h.other_user.id),children:[a.jsx(Nr,{className:"mr-2 h-4 w-4"}),r("messages.view_profile")||"View Profile"]}),a.jsxs(_r,{children:[a.jsx(zi,{className:"mr-2 h-4 w-4"}),r("messages.mute_notifications")||"Mute Notifications"]}),a.jsxs(_r,{children:[a.jsx(ox,{className:"mr-2 h-4 w-4"}),r("messages.block_user")||"Block User"]}),a.jsxs(_r,{onClick:()=>M(h.id),children:[a.jsx(Us,{className:"mr-2 h-4 w-4"}),r("messages.delete_conversation")||"Delete Conversation"]})]})]})]})]}),a.jsx(w9,{conversationId:h.id,otherUserId:h.other_user.id,otherUserName:h.other_user.full_name,otherUserAvatar:h.other_user.avatar_url||void 0})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-4",children:[a.jsx("div",{className:"w-24 h-24 mb-6 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center",children:a.jsx(ea,{size:40,className:"text-gray-400 dark:text-gray-500"})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:r("messages.select_conversation")||"Select a conversation"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400 max-w-md",children:r("messages.select_conversation_description")||"Choose a conversation from the list or start a new one from the Friends page"})]})]})]})]})})},oU=()=>{const{user:e}=at(),[t,r]=m.useState(null),[n,s]=m.useState(!1),o=async()=>{if(!e){r({status:"error",message:"You must be logged in to use chat features",issues:[{type:"auth",message:"Not authenticated"}]});return}try{const l=[];let c=!1;const{count:u,error:d}=await L.from("chat_groups").select("*",{count:"exact",head:!0});d&&(console.error("Error checking chat_groups table:",d),l.push({type:"database",message:"Chat tables may not exist in the database",details:d.message}));const{data:f,error:h}=await L.from("chat_group_members").select("group_id, chat_groups(name, is_public)").eq("user_id",e.id);h?(console.error("Error checking group memberships:",h),l.push({type:"membership",message:"Could not verify group memberships",details:h.message})):!f||f.length===0?l.push({type:"membership",message:"You are not a member of any chat groups",fixable:!0}):c=!0;const{data:g,error:b}=await L.from("chat_groups").select("id, name").eq("is_public",!0).limit(5);b?console.error("Error checking public groups:",b):(!g||g.length===0)&&l.push({type:"groups",message:"No public groups available",fixable:!0});let x="success",w="Chat access is working correctly";return l.length>0&&(l.some(p=>p.type==="database")?(x="error",w="Database setup issue detected"):c?(x="info",w="Some minor issues detected"):(x="warning",w="You cannot access any chat groups")),r({status:x,message:w,issues:l,publicGroups:g||[]}),{status:x,message:w,issues:l,publicGroups:g||[]}}catch(l){return console.error("Error during chat diagnostics:",l),r({status:"error",message:"An error occurred during diagnostics",issues:[{type:"unknown",message:l.message}]}),{status:"error",message:"An error occurred during diagnostics",issues:[{type:"unknown",message:l.message}]}}};return{runDiagnostics:o,fixIssues:async()=>{if(!e)return q.error("You must be logged in to fix chat issues"),!1;if(!t&&(await o()).status==="success")return q.success("No issues to fix!"),!0;s(!0);try{const l=(t==null?void 0:t.issues)||[];if(l.filter(d=>d.fixable).length===0)return q.error("No automatically fixable issues found"),!1;let u=!1;if(l.some(d=>d.type==="membership")){const d=(t==null?void 0:t.publicGroups)||[];if(d.length>0){const f=d[0],{data:h,error:g}=await L.from("chat_group_members").select("id").eq("user_id",e.id).eq("group_id",f.id).maybeSingle();if(g)throw new Error(`Failed to check existing membership: ${g.message}`);if(h)q.info("You are already a member of a public group");else{const{error:b}=await L.from("chat_group_members").insert({user_id:e.id,group_id:f.id,joined_at:new Date().toISOString()});if(b)throw new Error(`Failed to join group: ${b.message}`);const{error:x}=await L.from("chat_messages").insert({group_id:f.id,user_id:e.id,content:"I just joined this group!",created_at:new Date().toISOString()});x&&console.error("Failed to add welcome message:",x),q.success(`You have been added to the group: ${f.name}`),u=!0}}else{const{data:f,error:h}=await L.from("chat_groups").insert({name:"General Chat",description:"Public chat group for all users",created_by:e.id,is_public:!0,max_members:100,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),avatar_url:"https://ui-avatars.com/api/?name=General+Chat&background=random"}).select();if(h)throw new Error(`Failed to create public group: ${h.message}`);if(f&&f[0]){const{error:g}=await L.from("chat_group_members").insert({user_id:e.id,group_id:f[0].id,is_admin:!0,joined_at:new Date().toISOString()});if(g)throw new Error(`Failed to join new group: ${g.message}`);q.success("Created and joined General Chat group"),u=!0}}}return await o(),u}catch(l){return console.error("Error fixing chat issues:",l),q.error(`Failed to fix issues: ${l.message}`),!1}finally{s(!1)}},diagnosisResult:t,isFixing:n,clearDiagnosis:()=>r(null)}},qf="px-4 py-2 bg-gradient-to-r from-indigo-500 to-rose-500 hover:opacity-90 text-white rounded-lg transition-colors font-medium",aU="px-4 py-2 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-white rounded-lg transition-colors font-medium",iU=()=>{const{user:e}=at(),{tWithTemplate:t}=ot(),r=st(),{runDiagnostics:n,fixIssues:s,diagnosisResult:o,isFixing:i}=oU(),[l,c]=m.useState(null),[u,d]=m.useState(!1),[f,h]=m.useState([]),[g,b]=m.useState(!1);m.useEffect(()=>{e&&(x(),w())},[e]);const x=async()=>{try{const{data:_,error:k}=await L.from("profiles").select("*").eq("id",e.id).single();if(k)throw k;c(_)}catch(_){console.error("Error fetching user profile:",_)}},w=async()=>{if(e){b(!0);try{const{data:_,error:k}=await L.from("chat_group_members").select(`
          id,
          group_id,
          is_admin,
          joined_at,
          chat_groups(
            id,
            name,
            description,
            avatar_url,
            is_public,
            created_at
          )
        `).eq("user_id",e.id);if(k)throw k;h(_||[])}catch(_){console.error("Error fetching group memberships:",_)}finally{b(!1)}}},p=async()=>{d(!0);try{await n(),w()}finally{d(!1)}},y=async()=>{await s()&&w()},v=_=>{switch(_){case"success":return a.jsx(O2,{className:"h-6 w-6 text-green-500"});case"error":return a.jsx(dT,{className:"h-6 w-6 text-red-500"});case"warning":return a.jsx(D2,{className:"h-6 w-6 text-yellow-500"});case"info":return a.jsx(ST,{className:"h-6 w-6 text-blue-500"});default:return a.jsx(bc,{className:"h-6 w-6 text-gray-500"})}};return a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-6",children:"Chat Diagnostics"}),l&&a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 mb-6",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[a.jsx(Nr,{className:"mr-2"})," User Information"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400 w-32",children:"User ID:"}),a.jsx("span",{className:"text-gray-900 dark:text-white font-mono text-sm",children:l.id})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400 w-32",children:"Name:"}),a.jsx("span",{className:"text-gray-900 dark:text-white",children:l.full_name})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400 w-32",children:"Email:"}),a.jsx("span",{className:"text-gray-900 dark:text-white",children:l.email})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 mb-6",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[a.jsx(qe,{className:"mr-2"})," Group Memberships"]}),g?a.jsx("div",{className:"flex justify-center py-8",children:a.jsx(Ee,{size:"lg"})}):f.length===0?a.jsxs("div",{className:"text-center py-6 text-gray-500 dark:text-gray-400",children:[a.jsx("p",{children:"You are not a member of any chat groups."}),a.jsx("button",{onClick:p,className:`${qf} mt-4`,disabled:u,children:u?a.jsxs("span",{className:"flex items-center",children:[a.jsx(Ee,{size:"sm",className:"mr-2"})," Running Diagnostics..."]}):a.jsxs("span",{className:"flex items-center",children:[a.jsx(bc,{className:"mr-2"})," Run Diagnostics"]})})]}):a.jsx("div",{className:"space-y-4",children:f.map(_=>a.jsxs("div",{className:"p-4 border dark:border-gray-700 rounded-lg",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center mr-3",children:_.chat_groups.avatar_url?a.jsx("img",{src:_.chat_groups.avatar_url,alt:_.chat_groups.name,className:"w-full h-full rounded-full object-cover"}):a.jsx(qe,{className:"text-blue-600 dark:text-blue-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:_.chat_groups.name}),a.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[_.is_admin?"Admin":"Member","  Joined on ",new Date(_.joined_at).toLocaleDateString()]})]})]}),a.jsx("div",{className:"mt-3 text-sm text-gray-600 dark:text-gray-300",children:_.chat_groups.description||"No description provided"}),a.jsx("div",{className:"mt-3 flex",children:a.jsx("button",{onClick:()=>r(`/messages/group/${_.group_id}`),className:qf,children:"Open Chat"})})]},_.id))})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white flex items-center",children:[a.jsx(bc,{className:"mr-2"})," Diagnostics"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:p,className:aU,disabled:u,children:u?a.jsxs("span",{className:"flex items-center",children:[a.jsx(Ee,{size:"sm",className:"mr-2"})," Running..."]}):a.jsxs("span",{className:"flex items-center",children:[a.jsx(F2,{className:"mr-2"})," Run Diagnostics"]})}),o&&a.jsx("button",{onClick:y,className:qf,disabled:i||o.status==="success",children:i?a.jsxs("span",{className:"flex items-center",children:[a.jsx(Ee,{size:"sm",className:"mr-2"})," Fixing..."]}):"Auto-Fix Issues"})]})]}),o?a.jsxs("div",{children:[a.jsxs("div",{className:`p-4 rounded-lg mb-4 flex items-start ${o.status==="success"?"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-200":o.status==="error"?"bg-red-100 dark:bg-red-900/20 text-red-800 dark:text-red-200":o.status==="warning"?"bg-yellow-100 dark:bg-yellow-900/20 text-yellow-800 dark:text-yellow-200":"bg-blue-100 dark:bg-blue-900/20 text-blue-800 dark:text-blue-200"}`,children:[a.jsx("div",{className:"mr-3 mt-0.5",children:v(o.status)}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-1",children:o.message}),o.issues&&o.issues.length>0?a.jsx("ul",{className:"list-disc list-inside space-y-1 mt-2",children:o.issues.map((_,k)=>a.jsxs("li",{children:[_.message,_.details&&a.jsxs("span",{className:"text-sm opacity-75",children:[" (",_.details,")"]})]},k))}):o.status==="success"?a.jsx("p",{children:"All systems operational. Chat functionality is working correctly."}):null]})]}),o.publicGroups&&o.publicGroups.length>0&&a.jsxs("div",{className:"mt-4",children:[a.jsx("h3",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Available Public Groups:"}),a.jsx("ul",{className:"space-y-2",children:o.publicGroups.map(_=>a.jsxs("li",{className:"flex items-center",children:[a.jsx(qe,{className:"mr-2 text-blue-500"}),_.name]},_.id))})]})]}):a.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[a.jsx("p",{children:"Run the diagnostics to check your chat access."}),a.jsx("p",{className:"mt-2 text-sm",children:"This will check if you can access chat groups and identify any issues."})]})]})]})},o4="https://ohserebigziyxlxpkaib.supabase.co",a4="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9oc2VyZWJpZ3ppeXhseHBrYWliIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTI3NDk0MTAsImV4cCI6MjAyODMyNTQxMH0.2mVOdgG-4QPVjVxqKshjFmcAyVELY6KYHtqlR-KLpvw",lU=Xg(o4,a4,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!1}}),lb=()=>{const[e,t]=m.useState(!0),[r,n]=m.useState(null),[s,o]=m.useState(null),i=st(),l=c=>{if(!c||c.length<2)return null;const d=c.substring(1).split("&"),f={};return d.forEach(h=>{try{const[g,b]=h.split("=");g&&b&&(f[decodeURIComponent(g)]=decodeURIComponent(b.replace(/\+/g," ")))}catch(g){console.warn("AuthCallback: Failed to parse key-value pair in hash:",h,g)}}),f};return m.useEffect(()=>{let c=!0;return(async()=>{try{if(!c)return;t(!0),n(null),console.log("========================="),console.log("AuthCallbackPage: Processing OAuth callback (Reverted Version)"),console.log("CURRENT URL:",window.location.href),console.log("URL Hash:",window.location.hash),console.log("Environment check:"),console.log("- VITE_SUPABASE_URL:","https://ohserebigziyxlxpkaib.supabase.co"),console.log("- VITE_SUPABASE_KEY:","SET"),console.log("=========================");const d={timestamp:new Date().toISOString(),url:window.location.href,hash:window.location.hash,supabaseUrlUsed:o4,supabaseKeySet:!!a4,userAgent:navigator.userAgent,authMethodAttempted:"None"};o(d);try{d.authMethodAttempted="getSession",o({...d}),console.log("AuthCallback: Attempt 1 - Checking existing session...");const{data:f,error:h}=await L.auth.getSession();if(h)console.error("AuthCallback: Error getting session:",h);else if(f!=null&&f.session){console.log("AuthCallback: SUCCESS (Approach 1)! Valid session detected:",f.session.user.id),localStorage.setItem("auth_method","existing_session"),Z.success("Already signed in!"),i("/home",{replace:!0});return}else console.log("AuthCallback: No existing session found.")}catch(f){console.error("AuthCallback: getSession check error:",f)}try{d.authMethodAttempted="exchangeCodeForSession",o({...d}),console.log("AuthCallback: Attempt 2 - Trying exchangeCodeForSession...");const{error:f}=await L.auth.exchangeCodeForSession(window.location.href);if(f)console.error("AuthCallback: Error with exchangeCodeForSession:",f);else{const{data:h}=await L.auth.getSession();if(h!=null&&h.session){console.log("AuthCallback: SUCCESS (Approach 2)! Session obtained via code exchange:",h.session.user.id),localStorage.setItem("auth_method","code_exchange"),Z.success("Successfully signed in!"),i("/home",{replace:!0});return}else console.error("AuthCallback: exchangeCodeForSession succeeded but no session found afterwards.")}}catch(f){console.error("AuthCallback: exchangeCodeForSession error:",f)}if(window.location.hash)try{d.authMethodAttempted="manualHashParsing",o({...d}),console.log("AuthCallback: Attempt 3 - Processing hash fragment...");const f=l(window.location.hash);if(f&&f.access_token){console.log("AuthCallback: Found access_token in hash. Params:",Object.keys(f).join(", "));const h={access_token:f.access_token,refresh_token:f.refresh_token||""};console.log("AuthCallback: Calling setSession with tokens...");const{data:g,error:b}=await lU.auth.setSession(h);if(b)throw console.error("AuthCallback: Error setting session manually:",b),b;if(g!=null&&g.session){console.log("AuthCallback: SUCCESS (Approach 3)! Session set manually:",g.session.user.id),localStorage.setItem("auth_method","manual_hash"),await L.auth.setSession(h),Z.success("Successfully signed in!"),i("/home",{replace:!0});return}else console.error("AuthCallback: Manual setSession call did not return a session.")}else{if(f!=null&&f.error)throw console.error("AuthCallback: Error found in hash fragment:",f.error,f.error_description),new Error(`OAuth Provider Error: ${f.error_description||f.error}`);console.error("AuthCallback: No access_token or error found in hash.")}}catch(f){if(console.error("AuthCallback: Manual hash processing error:",f),f instanceof Error)throw f}else console.log("AuthCallback: No hash fragment present in URL.");throw console.error("AuthCallback: All authentication approaches failed."),new Error("Unable to establish session. Please try logging in again.")}catch(d){console.error("AuthCallbackPage: Fatal error during callback handling:",d),c&&(n(d.message||"An unknown error occurred during authentication."),t(!1),o(f=>({...f,error:d.message,finalStatus:"Failed"})))}})(),()=>{c=!1}},[i]),a.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-100 dark:bg-neutral-900 p-4",children:a.jsxs("div",{className:"text-center max-w-lg w-full",children:[e&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-rose-500 mx-auto mb-4"}),a.jsx("h1",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200 mb-2",children:"Processing Authentication..."}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Please wait while we verify your login."})]}),r&&a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"mx-auto h-12 w-12 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("h1",{className:"text-xl font-semibold text-red-600 dark:text-red-400 mt-4 mb-2",children:"Authentication Failed"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4 whitespace-pre-wrap",children:r}),a.jsx("button",{onClick:()=>i("/login",{replace:!0}),className:"mt-6 px-4 py-2 bg-rose-500 text-white rounded-md hover:bg-rose-600 transition-colors",children:"Return to Login"})]}),s&&a.jsxs("details",{className:"mt-6 text-left",children:[a.jsx("summary",{className:"cursor-pointer text-sm text-gray-500 dark:text-gray-400",children:"Show Debug Info"}),a.jsx("pre",{className:"mt-2 text-xs bg-gray-200 dark:bg-gray-800 p-3 rounded overflow-auto",children:JSON.stringify(s,null,2)})]})]})})},cU=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],uU=()=>{const{t:e}=Mr(),t=st(),{user:r,loading:n,setHasCompletedProfile:s,refreshUserData:o}=pa(),[i,l]=m.useState(""),[c,u]=m.useState(null),[d,f]=m.useState(null),[h,g]=m.useState(1),[b,x]=m.useState([]),[w,p]=m.useState(!1);m.useEffect(()=>{(async()=>{var F,E,I,P,O;if(n||!r){console.log("CompleteProfilePage: Skipping loadUserData - auth loading or no user.");return}try{console.log("CompleteProfilePage: Loading user data from user object:",r.id);const A=((F=r.user_metadata)==null?void 0:F.profile_completed)===!0;console.log("Profile complete in metadata:",A),(E=r.user_metadata)!=null&&E.full_name?(l(r.user_metadata.full_name),console.log("Loaded fullName from metadata:",r.user_metadata.full_name)):r.email&&(l(r.email.split("@")[0]),console.log("Set fallback fullName from email:",r.email.split("@")[0])),(I=r.user_metadata)!=null&&I.avatar_url&&(u(r.user_metadata.avatar_url),console.log("Loaded avatarUrl from metadata")),(P=r.user_metadata)!=null&&P.avatar_emoji&&(f(r.user_metadata.avatar_emoji),console.log("Loaded avatarEmoji from metadata")),(O=r.user_metadata)!=null&&O.interests&&Array.isArray(r.user_metadata.interests)&&(x(r.user_metadata.interests),console.log("Loaded interests from metadata:",r.user_metadata.interests));try{const{data:$,error:D}=await L.from("profiles").select("*").eq("id",r.id).maybeSingle();D&&D.code!=="PGRST116"&&console.error("Error loading profile data:",D),$&&(console.log("Found profile data in database"),$.full_name&&!i&&(l($.full_name),console.log("Loaded fullName from database:",$.full_name)),$.avatar_url&&!c&&(u($.avatar_url),console.log("Loaded avatarUrl from database")),$.avatar_emoji&&!d&&(f($.avatar_emoji),console.log("Loaded avatarEmoji from database")))}catch($){console.error("Error querying profiles database:",$)}try{const{data:$,error:D}=await L.from("user_interests").select("interest").eq("user_id",r.id);if(D&&console.error("Error loading interests:",D),$&&$.length>0&&b.length===0){const z=$.map(S=>S.interest);x(z),console.log("Loaded interests from database:",z)}}catch($){console.error("Error querying interests database:",$)}try{const{data:$,error:D}=await L.from("users").select("full_name, avatar_url, avatar_emoji, interests").eq("id",r.id).maybeSingle();D&&D.code!=="PGRST116"&&console.error("Error loading user data:",D),$&&(console.log("Found user data in database"),$.full_name&&!i&&(l($.full_name),console.log("Loaded fullName from users table:",$.full_name)),$.avatar_url&&!c&&(u($.avatar_url),console.log("Loaded avatarUrl from users table")),$.avatar_emoji&&!d&&(f($.avatar_emoji),console.log("Loaded avatarEmoji from users table")),$.interests&&Array.isArray($.interests)&&b.length===0&&(x($.interests),console.log("Loaded interests from users table:",$.interests)))}catch($){console.error("Error querying users database:",$)}}catch(A){console.error("Error in loadUserData:",A)}})()},[r,n]);const y=()=>{if(!i.trim()){q.error("Please enter your full name");return}if(!c&&!d){q.error("Please select an avatar or emoji");return}g(2)},v=async N=>{if(N.preventDefault(),!!r){if(b.length===0){q.error("Please select at least 1 interest");return}try{p(!0),console.log("CompleteProfilePage: Submitting profile data");const F=[];F.push(L.auth.updateUser({data:{full_name:i,avatar_url:c,avatar_emoji:d,interests:b,profile_completed:!0}}).then(({error:O})=>{O?console.error("Error updating auth metadata:",O):console.log("Auth metadata updated successfully")})),F.push(L.from("profiles").upsert({id:r.id,full_name:i,avatar_url:c,avatar_emoji:d,is_profile_complete:!0,updated_at:new Date().toISOString()},{onConflict:"id"}).then(({error:O})=>{O?console.error("Error updating profiles table:",O):console.log("Profiles table updated successfully")})),F.push(L.from("users").upsert({id:r.id,full_name:i,avatar_url:c,avatar_emoji:d,interests:b,profile_completed:!0,email:r.email},{onConflict:"id"}).then(({error:O})=>{O?console.error("Error updating users table:",O):console.log("Users table updated successfully")})),F.push(L.from("user_interests").delete().eq("user_id",r.id).then(async({error:O})=>{if(O)console.error("Error deleting existing interests:",O);else if(console.log("Existing interests deleted successfully"),b.length>0){const A=b.map(D=>({user_id:r.id,interest:D})),{error:$}=await L.from("user_interests").insert(A);$?console.error("Error inserting new interests:",$):console.log("New interests inserted successfully")}}));const E=await Promise.allSettled(F);console.log("Profile update results:",E);const I=E[0].status==="rejected",P=E[1].status==="rejected";I||P?q.error("Failed to save profile. Please try again."):(s(!0),q.success("Profile completed successfully!"),await o(),t("/"))}catch(F){console.error("Error submitting profile:",F),q.error("An error occurred while saving your profile.")}finally{p(!1)}}},_=async()=>{console.log("CompleteProfilePage: Skipping profile completion");try{await o(),s(!0),q.success("Profile completion skipped"),t("/home",{replace:!0})}catch(N){console.error("Error during skip process:",N),q.error("Could not skip profile completion, please try again."),t("/home",{replace:!0})}},k=(N,F)=>{N==="url"?(u(F),f(null)):N==="emoji"?(f(F),u(null)):N==="file"&&(F instanceof File?j(F):(u(F),f(null)))},j=async N=>{if(r){p(!0);try{const F=N.name.split(".").pop(),E=`${r.id}/avatar.${F}`,{error:I}=await L.storage.from("avatars").upload(E,N,{upsert:!0});if(I)throw I;const{data:P}=L.storage.from("avatars").getPublicUrl(E);P.publicUrl&&(u(P.publicUrl),f(null),q.success("Avatar uploaded!"))}catch(F){console.error("Error uploading avatar:",F),q.error("Failed to upload avatar.")}finally{p(!1)}}},C=N=>{x(F=>F.includes(N)?F.filter(E=>E!==N):F.length<10?[...F,N]:(q.error("You can select up to 10 interests."),F))};return n?a.jsx("div",{className:"flex justify-center items-center h-screen",children:"Loading session..."}):!n&&!r?(console.log("CompleteProfilePage: Auth loaded, but no user found. Redirecting to login."),m.useEffect(()=>{t("/login")},[t]),null):a.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white dark:bg-gray-900 p-4",children:a.jsxs("div",{className:"w-full max-w-2xl bg-white dark:bg-gray-800 rounded-xl shadow-xl p-8 space-y-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:h===1?"Complete Your Profile":"Select Your Interests"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:h===1?"Tell us about yourself":"Choose what you love (up to 10)"}),a.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-1.5 mt-4",children:a.jsx("div",{className:"bg-gradient-to-r from-rose-500 to-indigo-500 h-1.5 rounded-full transition-all duration-500 ease-out",style:{width:`${h===1?"50%":"100%"}`}})})]}),a.jsxs("form",{onSubmit:v,className:"space-y-6",children:[h===1&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Full Name *"}),a.jsx("input",{type:"text",id:"fullName",value:i,onChange:N=>l(N.target.value),placeholder:"Enter your full name",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-rose-500 focus:border-rose-500 dark:bg-gray-700 dark:text-white",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Choose Your Avatar *"}),a.jsx(gl,{userId:r==null?void 0:r.id,avatarUrl:c,avatarEmoji:d,fullName:i,size:"lg",editable:!0,onAvatarChange:k,suggestedEmojis:cU})]}),a.jsx(xe,{type:"button",onClick:y,className:"w-full",children:"Next: Select Interests"})]}),h===2&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Selected Interests (",b.length,"/10)"]}),b.length>0&&a.jsx("div",{className:"mb-4 flex flex-wrap gap-2 p-2 border border-blue-200 dark:border-blue-800 bg-blue-50 dark:bg-blue-900/30 rounded-lg",children:b.map(N=>a.jsx("button",{onClick:()=>C(N),className:"px-2 py-1 bg-blue-50 dark:bg-blue-800 text-blue-700 dark:text-blue-300 rounded-md hover:bg-blue-100 dark:hover:bg-blue-700",children:N},`${N}-${Math.random()}`))})]}),a.jsx("div",{className:"max-h-60 overflow-y-auto p-3 border border-gray-200 dark:border-gray-700 rounded-lg scrollbar-thin scrollbar-thumb-gray-400 dark:scrollbar-thumb-gray-600 scrollbar-track-gray-100 dark:scrollbar-track-gray-800",children:a.jsx("div",{className:"flex flex-wrap gap-2",children:MS.map(N=>a.jsx("button",{type:"button",onClick:()=>C(N),disabled:b.includes(N),className:`px-3 py-1.5 rounded-full text-sm transition-all duration-200 ${b.includes(N)?"bg-gray-300 text-gray-500 cursor-not-allowed dark:bg-gray-600 dark:text-gray-400 opacity-70":"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300 hover:bg-gradient-to-r hover:from-rose-100 hover:to-indigo-100 dark:hover:from-rose-900/50 dark:hover:to-indigo-900/50 hover:shadow"}`,children:N},N))})}),a.jsx("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:"Select at least one interest to help us connect you with relevant content."}),a.jsxs("div",{className:"flex justify-between gap-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[a.jsx(xe,{type:"button",onClick:()=>g(1),variant:"secondary",children:"Back"}),a.jsx(xe,{type:"submit",disabled:w||b.length===0,className:"min-w-[120px]",children:w?a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Finishing..."]}):"Finish Setup"})]})]})]}),a.jsx(xe,{type:"button",variant:"secondary",onClick:_,className:"w-full text-center text-xs text-gray-500 dark:text-gray-400 hover:text-rose-600 dark:hover:text-rose-400 mt-2",children:"Skip for now"})]})})},Ur=m.forwardRef(({className:e,type:t,...r},n)=>a.jsx("input",{type:t,className:Ne("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Ur.displayName="Input";const f0=m.forwardRef(({className:e,...t},r)=>a.jsx("textarea",{className:Ne("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm transition-colors placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));f0.displayName="Textarea";var dU="Label",i4=m.forwardRef((e,t)=>a.jsx(Se.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));i4.displayName=dU;var l4=i4;const fU=Ek("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ht=m.forwardRef(({className:e,...t},r)=>a.jsx(l4,{ref:r,className:Ne(fU(),e),...t}));Ht.displayName=l4.displayName;function cb(e,[t,r]){return Math.min(r,Math.max(t,e))}function hU(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var c4=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),mU="VisuallyHidden",gU=m.forwardRef((e,t)=>a.jsx(Se.span,{...e,ref:t,style:{...c4,...e.style}}));gU.displayName=mU;var pU=[" ","Enter","ArrowUp","ArrowDown"],yU=[" ","Enter"],qs="Select",[jd,Nd,xU]=Hp(qs),[Sa,BG]=Qs(qs,[xU,_d]),Cd=_d(),[vU,ds]=Sa(qs),[bU,wU]=Sa(qs),u4=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:o,value:i,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:g,form:b}=e,x=Cd(t),[w,p]=m.useState(null),[y,v]=m.useState(null),[_,k]=m.useState(!1),j=Kp(u),[C,N]=fu({prop:n,defaultProp:s??!1,onChange:o,caller:qs}),[F,E]=fu({prop:i,defaultProp:l,onChange:c,caller:qs}),I=m.useRef(null),P=w?b||!!w.closest("form"):!0,[O,A]=m.useState(new Set),$=Array.from(O).map(D=>D.props.value).join(";");return a.jsx(rj,{...x,children:a.jsxs(vU,{required:g,scope:t,trigger:w,onTriggerChange:p,valueNode:y,onValueNodeChange:v,valueNodeHasChildren:_,onValueNodeHasChildrenChange:k,contentId:Ms(),value:F,onValueChange:E,open:C,onOpenChange:N,dir:j,triggerPointerDownPosRef:I,disabled:h,children:[a.jsx(jd.Provider,{scope:t,children:a.jsx(bU,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(D=>{A(z=>new Set(z).add(D))},[]),onNativeOptionRemove:m.useCallback(D=>{A(z=>{const S=new Set(z);return S.delete(D),S})},[]),children:r})}),P?a.jsxs(L4,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:f,value:F,onChange:D=>E(D.target.value),disabled:h,form:b,children:[F===void 0?a.jsx("option",{value:""}):null,Array.from(O)]},$):null]})})};u4.displayName=qs;var d4="SelectTrigger",f4=m.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,o=Cd(r),i=ds(d4,r),l=i.disabled||n,c=Le(t,i.onTriggerChange),u=Nd(r),d=m.useRef("touch"),[f,h,g]=O4(x=>{const w=u().filter(v=>!v.disabled),p=w.find(v=>v.value===i.value),y=I4(w,x,p);y!==void 0&&i.onValueChange(y.value)}),b=x=>{l||(i.onOpenChange(!0),g()),x&&(i.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return a.jsx(nj,{asChild:!0,...o,children:a.jsx(Se.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":D4(i.value)?"":void 0,...s,ref:c,onClick:de(s.onClick,x=>{x.currentTarget.focus(),d.current!=="mouse"&&b(x)}),onPointerDown:de(s.onPointerDown,x=>{d.current=x.pointerType;const w=x.target;w.hasPointerCapture(x.pointerId)&&w.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(b(x),x.preventDefault())}),onKeyDown:de(s.onKeyDown,x=>{const w=f.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&h(x.key),!(w&&x.key===" ")&&pU.includes(x.key)&&(b(),x.preventDefault())})})})});f4.displayName=d4;var h4="SelectValue",m4=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:o,placeholder:i="",...l}=e,c=ds(h4,r),{onValueNodeHasChildrenChange:u}=c,d=o!==void 0,f=Le(t,c.onValueNodeChange);return Ct(()=>{u(d)},[u,d]),a.jsx(Se.span,{...l,ref:f,style:{pointerEvents:"none"},children:D4(c.value)?a.jsx(a.Fragment,{children:i}):o})});m4.displayName=h4;var _U="SelectIcon",g4=m.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return a.jsx(Se.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});g4.displayName=_U;var kU="SelectPortal",p4=e=>a.jsx(fd,{asChild:!0,...e});p4.displayName=kU;var Ws="SelectContent",y4=m.forwardRef((e,t)=>{const r=ds(Ws,e.__scopeSelect),[n,s]=m.useState();if(Ct(()=>{s(new DocumentFragment)},[]),!r.open){const o=n;return o?da.createPortal(a.jsx(x4,{scope:e.__scopeSelect,children:a.jsx(jd.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),o):null}return a.jsx(v4,{...e,ref:t})});y4.displayName=Ws;var br=10,[x4,fs]=Sa(Ws),SU="SelectContentImpl",jU=zs("SelectContent.RemoveScroll"),v4=m.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:g,sticky:b,hideWhenDetached:x,avoidCollisions:w,...p}=e,y=ds(Ws,r),[v,_]=m.useState(null),[k,j]=m.useState(null),C=Le(t,R=>_(R)),[N,F]=m.useState(null),[E,I]=m.useState(null),P=Nd(r),[O,A]=m.useState(!1),$=m.useRef(!1);m.useEffect(()=>{if(v)return Up(v)},[v]),$p();const D=m.useCallback(R=>{const[G,...X]=P().map(K=>K.ref.current),[H]=X.slice(-1),Y=document.activeElement;for(const K of R)if(K===Y||(K==null||K.scrollIntoView({block:"nearest"}),K===G&&k&&(k.scrollTop=0),K===H&&k&&(k.scrollTop=k.scrollHeight),K==null||K.focus(),document.activeElement!==Y))return},[P,k]),z=m.useCallback(()=>D([N,v]),[D,N,v]);m.useEffect(()=>{O&&z()},[O,z]);const{onOpenChange:S,triggerPointerDownPosRef:M}=y;m.useEffect(()=>{if(v){let R={x:0,y:0};const G=H=>{var Y,K;R={x:Math.abs(Math.round(H.pageX)-(((Y=M.current)==null?void 0:Y.x)??0)),y:Math.abs(Math.round(H.pageY)-(((K=M.current)==null?void 0:K.y)??0))}},X=H=>{R.x<=10&&R.y<=10?H.preventDefault():v.contains(H.target)||S(!1),document.removeEventListener("pointermove",G),M.current=null};return M.current!==null&&(document.addEventListener("pointermove",G),document.addEventListener("pointerup",X,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",G),document.removeEventListener("pointerup",X,{capture:!0})}}},[v,S,M]),m.useEffect(()=>{const R=()=>S(!1);return window.addEventListener("blur",R),window.addEventListener("resize",R),()=>{window.removeEventListener("blur",R),window.removeEventListener("resize",R)}},[S]);const[T,B]=O4(R=>{const G=P().filter(Y=>!Y.disabled),X=G.find(Y=>Y.ref.current===document.activeElement),H=I4(G,R,X);H&&setTimeout(()=>H.ref.current.focus())}),V=m.useCallback((R,G,X)=>{const H=!$.current&&!X;(y.value!==void 0&&y.value===G||H)&&(F(R),H&&($.current=!0))},[y.value]),re=m.useCallback(()=>v==null?void 0:v.focus(),[v]),se=m.useCallback((R,G,X)=>{const H=!$.current&&!X;(y.value!==void 0&&y.value===G||H)&&I(R)},[y.value]),fe=n==="popper"?$m:b4,oe=fe===$m?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:g,sticky:b,hideWhenDetached:x,avoidCollisions:w}:{};return a.jsx(x4,{scope:r,content:v,viewport:k,onViewportChange:j,itemRefCallback:V,selectedItem:N,onItemLeave:re,itemTextRefCallback:se,focusSelectedItem:z,selectedItemText:E,position:n,isPositioned:O,searchRef:T,children:a.jsx(md,{as:jU,allowPinchZoom:!0,children:a.jsx(dd,{asChild:!0,trapped:y.open,onMountAutoFocus:R=>{R.preventDefault()},onUnmountAutoFocus:de(s,R=>{var G;(G=y.trigger)==null||G.focus({preventScroll:!0}),R.preventDefault()}),children:a.jsx(ud,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:R=>R.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:a.jsx(fe,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:R=>R.preventDefault(),...p,...oe,onPlaced:()=>A(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...p.style},onKeyDown:de(p.onKeyDown,R=>{const G=R.ctrlKey||R.altKey||R.metaKey;if(R.key==="Tab"&&R.preventDefault(),!G&&R.key.length===1&&B(R.key),["ArrowUp","ArrowDown","Home","End"].includes(R.key)){let H=P().filter(Y=>!Y.disabled).map(Y=>Y.ref.current);if(["ArrowUp","End"].includes(R.key)&&(H=H.slice().reverse()),["ArrowUp","ArrowDown"].includes(R.key)){const Y=R.target,K=H.indexOf(Y);H=H.slice(K+1)}setTimeout(()=>D(H)),R.preventDefault()}})})})})})})});v4.displayName=SU;var NU="SelectItemAlignedPosition",b4=m.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,o=ds(Ws,r),i=fs(Ws,r),[l,c]=m.useState(null),[u,d]=m.useState(null),f=Le(t,C=>d(C)),h=Nd(r),g=m.useRef(!1),b=m.useRef(!0),{viewport:x,selectedItem:w,selectedItemText:p,focusSelectedItem:y}=i,v=m.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&u&&x&&w&&p){const C=o.trigger.getBoundingClientRect(),N=u.getBoundingClientRect(),F=o.valueNode.getBoundingClientRect(),E=p.getBoundingClientRect();if(o.dir!=="rtl"){const Y=E.left-N.left,K=F.left-Y,U=C.left-K,J=C.width+U,ne=Math.max(J,N.width),ie=window.innerWidth-br,ue=cb(K,[br,Math.max(br,ie-ne)]);l.style.minWidth=J+"px",l.style.left=ue+"px"}else{const Y=N.right-E.right,K=window.innerWidth-F.right-Y,U=window.innerWidth-C.right-K,J=C.width+U,ne=Math.max(J,N.width),ie=window.innerWidth-br,ue=cb(K,[br,Math.max(br,ie-ne)]);l.style.minWidth=J+"px",l.style.right=ue+"px"}const I=h(),P=window.innerHeight-br*2,O=x.scrollHeight,A=window.getComputedStyle(u),$=parseInt(A.borderTopWidth,10),D=parseInt(A.paddingTop,10),z=parseInt(A.borderBottomWidth,10),S=parseInt(A.paddingBottom,10),M=$+D+O+S+z,T=Math.min(w.offsetHeight*5,M),B=window.getComputedStyle(x),V=parseInt(B.paddingTop,10),re=parseInt(B.paddingBottom,10),se=C.top+C.height/2-br,fe=P-se,oe=w.offsetHeight/2,R=w.offsetTop+oe,G=$+D+R,X=M-G;if(G<=se){const Y=I.length>0&&w===I[I.length-1].ref.current;l.style.bottom="0px";const K=u.clientHeight-x.offsetTop-x.offsetHeight,U=Math.max(fe,oe+(Y?re:0)+K+z),J=G+U;l.style.height=J+"px"}else{const Y=I.length>0&&w===I[0].ref.current;l.style.top="0px";const U=Math.max(se,$+x.offsetTop+(Y?V:0)+oe)+X;l.style.height=U+"px",x.scrollTop=G-se+x.offsetTop}l.style.margin=`${br}px 0`,l.style.minHeight=T+"px",l.style.maxHeight=P+"px",n==null||n(),requestAnimationFrame(()=>g.current=!0)}},[h,o.trigger,o.valueNode,l,u,x,w,p,o.dir,n]);Ct(()=>v(),[v]);const[_,k]=m.useState();Ct(()=>{u&&k(window.getComputedStyle(u).zIndex)},[u]);const j=m.useCallback(C=>{C&&b.current===!0&&(v(),y==null||y(),b.current=!1)},[v,y]);return a.jsx(EU,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:j,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:a.jsx(Se.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});b4.displayName=NU;var CU="SelectPopperPosition",$m=m.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=br,...o}=e,i=Cd(r);return a.jsx(sj,{...i,...o,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});$m.displayName=CU;var[EU,h0]=Sa(Ws,{}),Um="SelectViewport",w4=m.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,o=fs(Um,r),i=h0(Um,r),l=Le(t,o.onViewportChange),c=m.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(jd.Slot,{scope:r,children:a.jsx(Se.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:de(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=i;if(h!=null&&h.current&&f){const g=Math.abs(c.current-d.scrollTop);if(g>0){const b=window.innerHeight-br*2,x=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),p=Math.max(x,w);if(p<b){const y=p+g,v=Math.min(b,y),_=y-v;f.style.height=v+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});w4.displayName=Um;var _4="SelectGroup",[PU,TU]=Sa(_4),AU=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Ms();return a.jsx(PU,{scope:r,id:s,children:a.jsx(Se.div,{role:"group","aria-labelledby":s,...n,ref:t})})});AU.displayName=_4;var k4="SelectLabel",S4=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=TU(k4,r);return a.jsx(Se.div,{id:s.id,...n,ref:t})});S4.displayName=k4;var ju="SelectItem",[RU,j4]=Sa(ju),N4=m.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:o,...i}=e,l=ds(ju,r),c=fs(ju,r),u=l.value===n,[d,f]=m.useState(o??""),[h,g]=m.useState(!1),b=Le(t,y=>{var v;return(v=c.itemRefCallback)==null?void 0:v.call(c,y,n,s)}),x=Ms(),w=m.useRef("touch"),p=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(RU,{scope:r,value:n,disabled:s,textId:x,isSelected:u,onItemTextChange:m.useCallback(y=>{f(v=>v||((y==null?void 0:y.textContent)??"").trim())},[]),children:a.jsx(jd.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:a.jsx(Se.div,{role:"option","aria-labelledby":x,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:b,onFocus:de(i.onFocus,()=>g(!0)),onBlur:de(i.onBlur,()=>g(!1)),onClick:de(i.onClick,()=>{w.current!=="mouse"&&p()}),onPointerUp:de(i.onPointerUp,()=>{w.current==="mouse"&&p()}),onPointerDown:de(i.onPointerDown,y=>{w.current=y.pointerType}),onPointerMove:de(i.onPointerMove,y=>{var v;w.current=y.pointerType,s?(v=c.onItemLeave)==null||v.call(c):w.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:de(i.onPointerLeave,y=>{var v;y.currentTarget===document.activeElement&&((v=c.onItemLeave)==null||v.call(c))}),onKeyDown:de(i.onKeyDown,y=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&y.key===" "||(yU.includes(y.key)&&p(),y.key===" "&&y.preventDefault())})})})})});N4.displayName=ju;var Za="SelectItemText",C4=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...o}=e,i=ds(Za,r),l=fs(Za,r),c=j4(Za,r),u=wU(Za,r),[d,f]=m.useState(null),h=Le(t,p=>f(p),c.onItemTextChange,p=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,p,c.value,c.disabled)}),g=d==null?void 0:d.textContent,b=m.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:x,onNativeOptionRemove:w}=u;return Ct(()=>(x(b),()=>w(b)),[x,w,b]),a.jsxs(a.Fragment,{children:[a.jsx(Se.span,{id:c.textId,...o,ref:h}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?da.createPortal(o.children,i.valueNode):null]})});C4.displayName=Za;var E4="SelectItemIndicator",P4=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return j4(E4,r).isSelected?a.jsx(Se.span,{"aria-hidden":!0,...n,ref:t}):null});P4.displayName=E4;var zm="SelectScrollUpButton",T4=m.forwardRef((e,t)=>{const r=fs(zm,e.__scopeSelect),n=h0(zm,e.__scopeSelect),[s,o]=m.useState(!1),i=Le(t,n.onScrollButtonChange);return Ct(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;o(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(R4,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});T4.displayName=zm;var Bm="SelectScrollDownButton",A4=m.forwardRef((e,t)=>{const r=fs(Bm,e.__scopeSelect),n=h0(Bm,e.__scopeSelect),[s,o]=m.useState(!1),i=Le(t,n.onScrollButtonChange);return Ct(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;o(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(R4,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});A4.displayName=Bm;var R4=m.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,o=fs("SelectScrollButton",r),i=m.useRef(null),l=Nd(r),c=m.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),Ct(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),a.jsx(Se.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:de(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:de(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:de(s.onPointerLeave,()=>{c()})})}),MU="SelectSeparator",M4=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(Se.div,{"aria-hidden":!0,...n,ref:t})});M4.displayName=MU;var Vm="SelectArrow",LU=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Cd(r),o=ds(Vm,r),i=fs(Vm,r);return o.open&&i.position==="popper"?a.jsx(oj,{...s,...n,ref:t}):null});LU.displayName=Vm;var DU="SelectBubbleInput",L4=m.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=m.useRef(null),o=Le(n,s),i=hU(t);return m.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[i,t]),a.jsx(Se.select,{...r,style:{...c4,...r.style},ref:o,defaultValue:t})});L4.displayName=DU;function D4(e){return e===""||e===void 0}function O4(e){const t=Tr(e),r=m.useRef(""),n=m.useRef(0),s=m.useCallback(i=>{const l=r.current+i;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),o=m.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,o]}function I4(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let i=OU(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function OU(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var IU=u4,F4=f4,FU=m4,$U=g4,UU=p4,$4=y4,zU=w4,U4=S4,z4=N4,BU=C4,VU=P4,B4=T4,V4=A4,G4=M4;const q4=IU,W4=FU,m0=m.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(F4,{ref:n,className:Ne("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx($U,{asChild:!0,children:a.jsx(zk,{className:"h-4 w-4 opacity-50"})})]}));m0.displayName=F4.displayName;const H4=m.forwardRef(({className:e,...t},r)=>a.jsx(B4,{ref:r,className:Ne("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(GD,{className:"h-4 w-4"})}));H4.displayName=B4.displayName;const K4=m.forwardRef(({className:e,...t},r)=>a.jsx(V4,{ref:r,className:Ne("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(zk,{className:"h-4 w-4"})}));K4.displayName=V4.displayName;const g0=m.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>a.jsx(UU,{children:a.jsxs($4,{ref:s,className:Ne("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx(H4,{}),a.jsx(zU,{className:Ne("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(K4,{})]})}));g0.displayName=$4.displayName;const GU=m.forwardRef(({className:e,...t},r)=>a.jsx(U4,{ref:r,className:Ne("px-2 py-1.5 text-sm font-semibold",e),...t}));GU.displayName=U4.displayName;const p0=m.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(z4,{ref:n,className:Ne("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(VU,{children:a.jsx(Uk,{className:"h-4 w-4"})})}),a.jsx(BU,{children:t})]}));p0.displayName=z4.displayName;const qU=m.forwardRef(({className:e,...t},r)=>a.jsx(G4,{ref:r,className:Ne("-mx-1 my-1 h-px bg-muted",e),...t}));qU.displayName=G4.displayName;const WU=["technology","business","education","entertainment","health","sports","travel","art","food","music"],HU=()=>{const{t:e}=ot(),t=st(),[r,n]=m.useState(""),[s,o]=m.useState(null),[i,l]=m.useState(!1),{user:c}=pa(),u=m.useRef(null),[d,f]=m.useState({name:"",description:"",category:"technology",isPrivate:!1}),h=p=>{const{name:y,value:v,type:_}=p.target;f(k=>({...k,[y]:_==="checkbox"?p.target.checked:v}))},g=()=>{u.current&&u.current.click()},b=p=>{if(p.target.files&&p.target.files[0]){const y=p.target.files[0];if(y.size>5*1024*1024){Z.error("Image must be less than 5MB");return}if(!y.type.startsWith("image/")){Z.error("File must be an image");return}o(y);const v=new FileReader;v.onload=_=>{var k;(k=_.target)!=null&&k.result&&n(_.target.result)},v.readAsDataURL(y)}},x=p=>{p.stopPropagation(),n(""),o(null),u.current&&(u.current.value="")},w=async p=>{if(p.preventDefault(),!c){Z.error(e("errors.loginRequiredGroup")||"You must be logged in to create a group");return}if(!d.name.trim()){Z.error(e("errors.groupNameRequired")||"Group name is required");return}if(!d.category){Z.error(e("errors.groupCategoryRequired")||"Please select a category for the group");return}try{l(!0),console.log("Starting group creation with user:",c.id),console.log("Refreshing session before group creation...");try{const{error:P}=await L.auth.refreshSession();P&&console.warn("Session refresh attempt failed:",P.message)}catch(P){console.warn("Exception during session refresh:",P)}console.log("Re-verifying session before insert...");const{data:y,error:v}=await L.auth.getSession();if(v||!y.session){console.error("Session invalid right before insert:",v),Z.error("Authentication session problem. Please log in again."),l(!1);return}const _=y.session.user.id;console.log("Current authenticated user ID for group creation:",_),_!==c.id&&console.warn("User ID mismatch detected before insert! Using latest session ID.");let k="";if(s)try{const P=s.name.split(".").pop(),A=`group_images/${`${Math.random().toString(36).substring(2,15)}.${P}`}`;console.log("Uploading image:",A);const{error:$}=await L.storage.from("images").upload(A,s,{cacheControl:"3600",upsert:!1});if($){console.error("Error uploading image:",$),$.message.includes("File size limit")?Z.error("Image must be less than 5MB"):$.message.includes("Invalid file type")?Z.error("File must be an image (PNG, JPG, GIF)"):Z.error("Failed to upload image. Please try again.");return}const{data:{publicUrl:D}}=L.storage.from("images").getPublicUrl(A);k=D,console.log("Image uploaded successfully:",k)}catch(P){console.error("Error in image upload:",P),Z.error("Failed to upload image. Please try again.");return}const j={name:d.name.trim(),description:d.description.trim(),category:d.category,privacy:d.isPrivate?"private":"public",image_url:k,created_by:_,created_at:new Date().toISOString()};console.log("Creating group with data:",j);let C;const{data:N,error:F}=await L.from("groups").insert(j).select().single();if(F){if(console.error("Error creating group:",F),console.error("Error details:",{code:F.code,message:F.message,details:F.details,hint:F.hint}),F.code==="23505")Z.error("A group with this name already exists");else if(F.message.includes("created_by")){const{data:P,error:O}=await L.from("groups").insert({...j,created_by:null}).select().single();if(O){console.error("Error in retry:",O),Z.error("Failed to create group. Please try again.");return}const{error:A}=await L.from("groups").update({created_by:c.id}).eq("id",P.id);if(A){console.error("Error updating creator:",A),Z.error("Failed to set group creator. Please try again.");return}C=P}else F.message.includes("is_private")?Z.error("Error: Unable to set group privacy. Please try again."):F.message.includes("rules")?Z.error("Error: Unable to set group rules. Please try again."):F.message.includes("permission denied")?Z.error("Error: You do not have permission to create groups."):Z.error(`Failed to create group: ${F.message}`);return}C=N,console.log("Group created successfully:",C),console.log("Adding creator as member:",{group_id:C.id,user_id:c.id});const{error:E}=await L.rpc("create_group_member",{p_group_id:C.id,p_user_id:c.id,p_role:"admin",p_status:"approved"});if(E){console.error("Error adding creator as member:",E),console.error("Error details:",{code:E.code,message:E.message,details:E.details,hint:E.hint}),await L.from("groups").delete().eq("id",C.id),Z.error("Failed to set up group membership. Please try again.");return}const{error:I}=await L.from("groups").update({member_count:1}).eq("id",C.id);I&&console.error("Error updating member count:",I),Z.success(e("success.groupCreated")||"Group created successfully!"),window.location.href=`/groups/${C.id}/chat`}catch(y){console.error("Error in handleSubmit:",y),Z.error(`${e("errors.groupCreationFailed")||"Failed to create group"}: ${y.message}`)}finally{l(!1)}};return a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 max-w-4xl mx-auto my-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-8",children:e("createGroup.title")||"Create a New Group"}),a.jsxs("form",{onSubmit:w,className:"space-y-8",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{onClick:g,className:`relative w-full max-w-2xl h-64 border-2 border-dashed ${r?"border-transparent":"border-gray-300 dark:border-gray-600"} rounded-lg flex items-center justify-center cursor-pointer overflow-hidden`,children:r?a.jsxs(a.Fragment,{children:[a.jsx("img",{src:r,alt:"Group",className:"w-full h-full object-cover"}),a.jsx("button",{type:"button",onClick:x,className:"absolute top-3 right-3 bg-red-500 text-white rounded-full p-2 hover:bg-red-600 shadow-lg",children:a.jsx(cn,{size:20})})]}):a.jsxs("div",{className:"text-center p-6",children:[a.jsx(Qg,{className:"mx-auto h-16 w-16 text-gray-400"}),a.jsx("p",{className:"mt-4 text-base text-gray-500 dark:text-gray-400",children:"Click to upload group image"}),a.jsx("p",{className:"mt-2 text-sm text-gray-400 dark:text-gray-500",children:"PNG, JPG, GIF up to 5MB"})]})}),a.jsx("input",{type:"file",ref:u,onChange:b,accept:"image/*",className:"hidden"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx(Ht,{htmlFor:"name",className:"block text-base font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("createGroup.nameLabel")||"Group Name *"}),a.jsx(Ur,{type:"text",id:"name",name:"name",value:d.name,onChange:h,placeholder:e("createGroup.namePlaceholder")||"E.g., Tech Enthusiasts, Book Club",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white text-base",required:!0})]}),a.jsxs("div",{children:[a.jsx(Ht,{htmlFor:"category",className:"block text-base font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("createGroup.categoryLabel")||"Category"}),a.jsxs(q4,{onValueChange:p=>f({...d,category:p}),value:d.category,disabled:i,children:[a.jsx(m0,{className:"w-full",children:a.jsx(W4,{placeholder:e("createGroup.categoryPlaceholder")||"Select a category..."})}),a.jsx(g0,{children:WU.map(p=>a.jsx(p0,{value:p,children:e(`groups.categories.${p}`)||p.charAt(0).toUpperCase()+p.slice(1)},p))})]})]}),a.jsxs("div",{className:"flex items-center mt-8 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[a.jsx("input",{type:"checkbox",id:"isPrivate",name:"isPrivate",checked:d.isPrivate,onChange:h,className:"h-5 w-5 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"isPrivate",className:"ml-3 block text-base text-gray-700 dark:text-gray-300",children:e("createGroup.visibilityLabel")||"Visibility"})]})]}),a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{children:[a.jsx(Ht,{htmlFor:"description",className:"block text-base font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("createGroup.descriptionLabel")||"Description"}),a.jsx(f0,{id:"description",name:"description",value:d.description,onChange:h,placeholder:e("createGroup.descriptionPlaceholder")||"What is this group about?",rows:8,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white text-base"})]})})]}),a.jsxs("div",{className:"flex justify-end space-x-4 mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:[a.jsx(xe,{type:"button",onClick:()=>t("/groups"),variant:"outline",disabled:i,children:e("buttons.cancel")||"Cancel"}),a.jsx(xe,{type:"submit",disabled:i,className:`px-6 py-3 ${i?"bg-gray-400":"bg-gradient-to-r from-indigo-500 to-rose-500 hover:opacity-90"} text-white rounded-lg transition-colors flex items-center justify-center font-medium text-base min-w-[120px]`,children:i?a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):e("createGroup.createButton")||"Create Group"})]})]})]})},Ir=["https://images.unsplash.com/photo-1523580494863-6f3031224c94?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2340&q=80","https://images.unsplash.com/photo-1519389950473-47ba0277781c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2340&q=80","https://images.unsplash.com/photo-1517245386807-bb43f82c33c4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2340&q=80","https://images.unsplash.com/photo-1522202176988-66273c2fd55f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2340&q=80","https://images.unsplash.com/photo-1517048676732-d65bc937f952?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2340&q=80","https://images.unsplash.com/photo-1511632765486-a01980e01a18?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2340&q=80"],KU=["technology","business","education","entertainment","health","sports","travel","art","food","music"],oc={technology:"",business:"",education:"",entertainment:"",health:"",sports:"",travel:"",art:"",food:"",music:"",all:""},YU=()=>{const{tWithTemplate:e}=ot(),{user:t}=at(),r=st(),[n,s]=m.useState([]),[o,i]=m.useState(!0),[l,c]=m.useState(null),[u,d]=m.useState(""),[f,h]=m.useState("all"),[g,b]=m.useState(null),[x,w]=m.useState("all"),[p,y]=m.useState(!1);m.useEffect(()=>{if(t!=null&&t.id)try{console.log("Loading memberships from localStorage...");const P=localStorage.getItem("groupMemberships");if(P){const O=JSON.parse(P);console.log("Loaded memberships:",O),localStorage.setItem("membershipDataLoaded","true")}}catch(P){console.warn("Error loading group memberships from localStorage:",P)}},[t==null?void 0:t.id]),m.useEffect(()=>(x==="all"?v():_(),()=>{localStorage.removeItem("membershipDataLoaded")}),[t,x]);const v=async()=>{if(!t){console.log("No user, skipping fetchGroups");return}i(!0),c(null);try{console.log("Fetching groups...");const{data:P,error:O}=await L.rpc("get_user_groups",{p_user_id:t.id});if(O){console.error("Error fetching groups via RPC:",O),console.log("Falling back to direct table queries...");const{data:A,error:$}=await L.from("groups").select("*");if($)throw console.error("Error fetching all groups:",$),$;console.log("Fetched all groups:",A);const{data:D,error:z}=await L.from("group_members").select("group_id, role").eq("user_id",t.id);z&&console.error("Error fetching group memberships:",z),console.log("Fetched group memberships from group_members:",D);const{data:S,error:M}=await L.from("chat_group_members").select("group_id, is_admin").eq("user_id",t.id);M&&console.error("Error fetching chat group memberships:",M),console.log("Fetched group memberships from chat_group_members:",S);const T=new Map;D&&D.forEach(V=>{T.set(V.group_id,{is_member:!0,role:V.role})}),S&&S.forEach(V=>{T.set(V.group_id,{is_member:!0,role:V.is_admin?"admin":"member"})}),console.log("Combined membership map:",Object.fromEntries(T));const B=(A||[]).map(V=>{const re=T.get(V.id);return{...V,is_member:!!re,is_admin:(re==null?void 0:re.role)==="admin",member_count:0}});console.log("Processed groups with membership info:",B),s(B),B.length>0&&k(B),B.length||C();return}if(console.log("Fetched groups via RPC:",P),P&&P.length>0){const A=P.map($=>({...$,is_member:!0,member_count:$.member_count||0}));s(A)}else s([]),C()}catch(P){console.error("Error in fetchGroups:",P),c(P.message),C()}finally{i(!1)}},_=async()=>{try{if(i(!0),c(null),!(t!=null&&t.id)){console.log("User not authenticated, skipping my groups fetch"),s([]),i(!1);return}console.log("Fetching my groups from Supabase...");const{data:P,error:O}=await L.from("group_members").select("group_id, role").eq("user_id",t.id);if(O){console.error("Error fetching group memberships:",O),c("Failed to load your groups"),s([]),i(!1);return}if(!P||P.length===0){console.log("No group memberships found for the user"),s([]),i(!1);return}const A=P.map(M=>M.group_id),$=new Map;P.forEach(M=>{$.set(M.group_id,{role:M.role})});const{data:D,error:z}=await L.from("groups").select("id, name, description, image_url, category, created_at, created_by").in("id",A);if(z){console.error("Error fetching group details:",z),c("Failed to load your groups"),s([]),i(!1);return}const S=(D||[]).map(M=>{const T=$.get(M.id);return{...M,member_count:0,is_member:!0,is_admin:(T==null?void 0:T.role)==="admin"||!1}});console.log("Processed my groups:",S),s(S),S.length>0&&k(S)}catch(P){console.error("Error in fetchMyGroups:",P),Z.error("Failed to load your groups"),s([])}finally{i(!1)}},k=async P=>{try{const O=[...P],A=O.map(D=>L.from("group_members").select("*",{count:"exact",head:!0}).eq("group_id",D.id));(await Promise.all(A)).forEach((D,z)=>{const{count:S,error:M}=D;!M&&S!==null&&(O[z].member_count=S)}),s(O)}catch(O){console.error("Error fetching member counts:",O)}},j=()=>[{id:"sample-1",name:"Tech Enthusiasts",description:"A group for discussing the latest in technology, gadgets, and software development. Join us for weekly virtual meetups!",category:"technology",image_url:Ir[0],created_at:new Date().toISOString(),member_count:24,is_member:!1,created_by:"sample"},{id:"sample-2",name:"Startup Founders",description:"Connect with other entrepreneurs and discuss business strategies, funding opportunities, and growth hacking techniques.",category:"business",image_url:Ir[1],created_at:new Date().toISOString(),member_count:15,is_member:!0,created_by:"sample"},{id:"sample-3",name:"Fitness Community",description:"Share workout tips, nutrition advice, and stay motivated together. We organize monthly fitness challenges with prizes!",category:"health",image_url:Ir[2],created_at:new Date().toISOString(),member_count:32,is_member:!1,created_by:"sample"},{id:"sample-4",name:"Travel Adventurers",description:"Exchange travel stories, tips, and plan group adventures around the world. From backpacking to luxury experiences!",category:"travel",image_url:Ir[3],created_at:new Date().toISOString(),member_count:18,is_member:!1,created_by:"sample"},{id:"sample-5",name:"Professional Network",description:"A space for professionals to connect, share job opportunities, and discuss career development strategies.",category:"business",image_url:Ir[4],created_at:new Date().toISOString(),member_count:27,is_member:!1,created_by:"sample"},{id:"sample-6",name:"Creative Arts Collective",description:"For artists, designers, and creatives to share their work, collaborate on projects, and get inspired together.",category:"art",image_url:Ir[5],created_at:new Date().toISOString(),member_count:21,is_member:!1,created_by:"sample"}],C=async()=>{try{if(!(t!=null&&t.id)){console.error("Cannot create sample groups: user not authenticated"),i(!1);return}console.log("Creating sample groups...");const P=[],O=[{name:"Tech Enthusiasts",description:"A group for discussing the latest in technology, gadgets, and software development.",category:"technology",image_url:Ir[0]},{name:"Startup Founders",description:"Connect with other entrepreneurs and discuss business strategies, funding, and growth.",category:"business",image_url:Ir[1]},{name:"Fitness Community",description:"Share workout tips, nutrition advice, and stay motivated together.",category:"health",image_url:Ir[2]},{name:"Travel Adventurers",description:"Exchange travel stories, tips, and plan group adventures around the world.",category:"travel",image_url:Ir[3]}];for(const A of O){const{data:$,error:D}=await L.from("groups").insert({name:A.name,description:A.description,category:A.category,image_url:A.image_url,created_by:"sample",created_at:new Date().toISOString()}).select().single();if(D){console.error("Error creating sample group:",D);continue}await L.from("group_members").insert({group_id:$.id,user_id:t.id,role:"admin",joined_at:new Date().toISOString()}),console.log(`Created sample group: ${A.name}`),P.push({...$,member_count:1,is_member:!0})}P.length>0?s(P):s(j()),i(!1)}catch(P){console.error("Error in createSampleGroups:",P),s(j()),i(!1)}},N=async P=>{try{if(!(t!=null&&t.id)){Z.error("You must be logged in to join a group");return}if(console.log(`Attempting to join group ${P} for user ${t.id}`),P.startsWith("sample-")){Z.success("Joined sample group! In a real app, this would connect you to the group."),s(n.map(M=>M.id===P?{...M,is_member:!0,member_count:M.member_count+1}:M));return}b(P),console.log("Checking existing membership in group_members table...");const{data:O,error:A}=await L.from("group_members").select("id, role").eq("group_id",P).eq("user_id",t.id).single();if(A&&A.code!=="PGRST116")throw console.error("Error checking membership:",A),new Error(`Failed to check membership status: ${A.message}`);if(O){console.log("User is already a member of this group in group_members table:",O),Z.success("You are already a member of this group");try{const M=JSON.parse(localStorage.getItem("groupMemberships")||"{}");M[P]={is_member:!0,role:O.role},localStorage.setItem("groupMemberships",JSON.stringify(M))}catch(M){console.warn("Failed to update localStorage:",M)}r(`/groups/${P}/chat`);return}console.log("Checking existing membership in chat_group_members table...");const{data:$,error:D}=await L.from("chat_group_members").select("id, is_admin").eq("group_id",P).eq("user_id",t.id).single();if(D&&D.code!=="PGRST116"&&console.error("Error checking chat membership:",D),$){console.log("User is already a member of this group in chat_group_members table:",$),Z.success("You are already a member of this group");try{const M=JSON.parse(localStorage.getItem("groupMemberships")||"{}");M[P]={is_member:!0,role:$.is_admin?"admin":"member"},localStorage.setItem("groupMemberships",JSON.stringify(M))}catch(M){console.warn("Failed to update localStorage:",M)}r(`/groups/${P}/chat`);return}console.log("User is not a member of this group, creating new membership...");const{error:z}=await L.from("group_members").insert({group_id:P,user_id:t.id,role:"member"});z?console.error("Error joining group (group_members):",z):console.log("Successfully joined group in group_members table");const{error:S}=await L.from("chat_group_members").insert({group_id:P,user_id:t.id,is_admin:!1});if(S){if(console.error("Error joining group (chat_group_members):",S),z)throw new Error(`Failed to join group: ${z.message}`)}else console.log("Successfully joined group in chat_group_members table");Z.success("Successfully joined the group!"),s(M=>M.map(T=>T.id===P?{...T,is_member:!0,member_count:(T.member_count||0)+1}:T));try{const M=JSON.parse(localStorage.getItem("groupMemberships")||"{}");M[P]={is_member:!0,role:"member"},localStorage.setItem("groupMemberships",JSON.stringify(M)),console.log("Saved membership to localStorage:",M)}catch(M){console.warn("Failed to store membership in localStorage:",M)}r(`/groups/${P}/chat`)}catch(O){console.error("Error in handleJoinGroup:",O),Z.error(O.message||"Failed to join group. Please try again later.")}finally{b(null)}},F=async P=>{try{if(!(t!=null&&t.id)){Z.error("You must be logged in to leave a group");return}if(console.log(`Attempting to leave group ${P} for user ${t.id}`),P.startsWith("sample-")){Z.success("Left sample group!"),s(n.map(V=>V.id===P?{...V,is_member:!1,member_count:V.member_count-1}:V));return}const{data:O,error:A}=await L.from("group_members").select("role").eq("group_id",P).eq("user_id",t.id).single(),{data:$,error:D}=await L.from("chat_group_members").select("is_admin").eq("group_id",P).eq("user_id",t.id).single(),z=(O==null?void 0:O.role)==="admin"||($==null?void 0:$.is_admin)===!0;if(console.log("User role check results:",{memberData:O,chatMemberData:$,isAdmin:z}),z){if(!window.confirm("Are you sure you want to delete this group? This action cannot be undone."))return;console.log("Deleting group as admin...");const{error:re}=await L.from("groups").delete().eq("id",P);if(re){console.error("Error deleting group:",re),Z.error("Failed to delete group");return}Z.success("Group deleted successfully"),s(n.filter(se=>se.id!==P));return}if(!window.confirm("Are you sure you want to leave this group?"))return;console.log("User confirmed leaving the group");let M=!1;const{error:T}=await L.from("group_members").delete().eq("group_id",P).eq("user_id",t.id);T?console.error("Error leaving group (group_members):",T):(console.log("Successfully left group in group_members table"),M=!0);const{error:B}=await L.from("chat_group_members").delete().eq("group_id",P).eq("user_id",t.id);if(B?console.error("Error leaving group (chat_group_members):",B):(console.log("Successfully left group in chat_group_members table"),M=!0),!M){console.error("Failed to leave group in both tables"),Z.error("Failed to leave group");return}Z.success("Successfully left the group"),s(n.map(V=>V.id===P?{...V,is_member:!1,member_count:V.member_count-1}:V));try{const V=JSON.parse(localStorage.getItem("groupMemberships")||"{}");delete V[P],localStorage.setItem("groupMemberships",JSON.stringify(V)),console.log("Updated localStorage after leaving group")}catch(V){console.warn("Failed to update membership in localStorage:",V)}}catch(O){console.error("Error in handleUnjoinGroup:",O),Z.error("Failed to leave group")}},E=()=>{r("/groups/create")},I=n.filter(P=>(f==="all"||P.category===f)&&(u===""||P.name.toLowerCase().includes(u.toLowerCase())||P.description.toLowerCase().includes(u.toLowerCase())));return a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 md:py-12",children:[a.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:a.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center",children:[a.jsx(qe,{className:"mr-3 h-6 w-6"})," ",e("groups.title")||"Groups"]})}),a.jsxs("div",{className:"flex justify-between items-center border-b border-gray-200 dark:border-gray-700 mb-6",children:[a.jsxs("div",{className:"flex",children:[a.jsx("button",{className:`py-4 px-6 font-medium text-base focus:outline-none flex-1 max-w-[160px] text-center ${x==="all"?"text-indigo-600 border-b-2 border-indigo-600 font-semibold":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,onClick:()=>w("all"),children:e("groups.tabs.all")||"All Groups"}),a.jsx("button",{className:`py-4 px-6 font-medium text-base focus:outline-none flex-1 max-w-[160px] text-center ${x==="my"?"text-indigo-600 border-b-2 border-indigo-600 font-semibold":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,onClick:()=>w("my"),children:e("groups.tabs.my")||"My Groups"})]}),a.jsxs(xe,{onClick:E,className:"flex items-center px-6 py-2.5 rounded-full bg-gradient-to-r from-rose-500 to-red-500 hover:from-rose-600 hover:to-red-600 text-white shadow-lg",children:[a.jsx(ln,{className:"mr-2"})," ",e("groups.buttons.create")||"Create Group"]})]}),a.jsxs("div",{className:"mb-8 flex flex-col gap-4",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Ur,{type:"text",placeholder:e("groups.search_placeholder")||"Find your community...",value:u,onChange:P=>d(P.target.value),className:"w-full px-4 pl-10 py-2.5 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-full focus:outline-none focus:ring-2 focus:ring-rose-500 focus:border-transparent shadow-sm"}),a.jsx(Zg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]}),a.jsxs("div",{className:"w-full",children:[a.jsxs("button",{onClick:()=>y(!p),className:"w-full flex items-center justify-between p-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg shadow-sm",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(bT,{className:"mr-2 text-gray-500"}),a.jsxs("span",{className:"font-medium",children:[e("groups.category_label")||"Category",": ",f==="all"?e("groups.categories.all")||"All":e(`groups.categories.${f}`)||f.charAt(0).toUpperCase()+f.slice(1)]})]}),p?a.jsx(gT,{className:"text-gray-500"}):a.jsx(I2,{className:"text-gray-500"})]}),a.jsx(ip,{children:p&&a.jsx(fr.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 border-t-0 rounded-b-lg shadow-md overflow-hidden mt-[-1px] z-10 relative",children:a.jsxs("div",{className:"max-h-60 overflow-y-auto p-2 grid grid-cols-2 gap-2",children:[a.jsxs("button",{onClick:()=>{h("all"),y(!1)},className:`p-2 rounded-lg text-sm flex items-center ${f==="all"?"bg-gradient-to-r from-rose-500 to-red-500 text-white shadow-md":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[a.jsx("span",{className:"mr-2",children:oc.all}),e("groups.categories.all")||"All"]}),KU.map(P=>a.jsxs("button",{onClick:()=>{h(P),y(!1)},className:`p-2 rounded-lg text-sm flex items-center ${f===P?"bg-gradient-to-r from-rose-500 to-red-500 text-white shadow-md":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[a.jsx("span",{className:"mr-2",children:oc[P]}),e(`groups.categories.${P}`)||P.charAt(0).toUpperCase()+P.slice(1)]},P))]})})})]})]}),a.jsx("div",{className:"min-h-[60vh]",children:o?a.jsx("div",{className:"flex justify-center my-16",children:a.jsx(Ee,{})}):l?a.jsxs("div",{className:"text-center my-16 py-16 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[a.jsx(oa,{message:l}),a.jsx(xe,{onClick:()=>{x==="all"?v():_()},className:"mt-6 rounded-full bg-indigo-500 hover:bg-indigo-600 text-white px-6 py-3",children:e("buttons.tryAgain")||"Try Again"})]}):I.length>0?a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:I.map(P=>a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-all transform hover:-translate-y-1 border border-gray-200 dark:border-gray-700 h-full flex flex-col",children:[a.jsx("div",{className:"flex items-center justify-center h-32 bg-gradient-to-br from-rose-400/20 to-indigo-400/20 dark:from-rose-900/20 dark:to-indigo-900/20",children:a.jsx("span",{className:"text-5xl",role:"img","aria-label":P.category,children:oc[P.category]||oc.all})}),a.jsxs("div",{className:"p-5 flex-1 flex flex-col",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2 truncate",children:P.name}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4 line-clamp-3 flex-grow",children:P.description}),a.jsxs("div",{className:"flex justify-between items-center mt-auto",children:[a.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center",children:[a.jsx(qe,{className:"mr-1 h-3 w-3"}),P.member_count," ",e("groups.members")||"members"]}),P.is_member?a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{onClick:()=>r(`/groups/${P.id}/chat`),className:"px-3 py-1 text-xs font-medium bg-gradient-to-r from-indigo-500 to-purple-500 hover:from-indigo-600 hover:to-purple-600 text-white rounded-full shadow-sm hover:shadow transition-all flex items-center",children:[a.jsx(nd,{className:"h-3 w-3 mr-1"}),e("groups.buttons.chat")||"Chat"]}),a.jsx("button",{onClick:()=>F(P.id),className:"px-3 py-1 text-xs font-medium bg-gradient-to-r from-red-500 to-orange-500 hover:from-red-600 hover:to-orange-600 text-white rounded-full shadow-sm hover:shadow transition-all flex items-center",children:e("groups.buttons.leave")||"Leave"})]}):a.jsx(xe,{onClick:()=>N(P.id),disabled:g===P.id,className:"text-xs px-3 py-1 rounded-full",children:g===P.id?e("groups.buttons.joining")||"Joining...":e("groups.buttons.join")||"Join"})]})]})]},P.id))}):a.jsxs("div",{className:"text-center my-16 py-16 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[a.jsx(qe,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:e("groups.no_groups_found_title")||"No groups found"}),a.jsx("p",{className:"mt-3 text-gray-500 dark:text-gray-400 text-lg",children:x==="my"?e("groups.no_my_groups_message")||"You haven't joined any groups yet.":e("groups.no_all_groups_message")||"Try adjusting your search or create a new group."}),a.jsx(xe,{onClick:E,className:"mt-6 rounded-full bg-gradient-to-r from-rose-500 to-red-500 hover:from-rose-600 hover:to-red-600 text-white px-6 py-3",children:e("groups.buttons.create")||"Create Group"})]})})]})})},ub=["https://images.unsplash.com/photo-1540575467063-178a50c2df87?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2370&q=80","https://images.unsplash.com/photo-1511795409834-ef04bbd61622?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2369&q=80","https://images.unsplash.com/photo-1540575467063-178a50c2df87?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2370&q=80","https://images.unsplash.com/photo-1501281668745-f7f57925c3b4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2370&q=80"],JU=["technology","business","education","entertainment","health","sports","travel","art","food","music"],XU=()=>{const{tWithTemplate:e}=ot(),{user:t}=at(),r=st(),[n,s]=m.useState("all"),[o,i]=m.useState([]),[l,c]=m.useState(!0),[u,d]=m.useState(""),[f,h]=m.useState("all"),[g,b]=m.useState(null),[x,w]=m.useState(null);m.useEffect(()=>{n==="all"?p():y()},[t,n,f]);const p=async()=>{try{if(c(!0),!(t!=null&&t.id)){console.log("User not authenticated, using sample data"),i(v()),c(!1);return}console.log("Fetching all events from Supabase...");let E=L.from("events").select(`
        id, 
        title, 
        description, 
        location,
        start_date,
        end_date,
        category,
        created_by,
        created_at,
        is_public,
        max_attendees,
        status
      `);f!=="all"&&(E=E.eq("category",f));const{data:I,error:P}=await E;if(P)throw console.error("Error fetching events:",P),P;if(console.log(`Found ${(I==null?void 0:I.length)||0} events`),!I||I.length===0){await _();return}const O=await Promise.all(I.map(async A=>{const{count:$}=await L.from("event_attendees").select("*",{count:"exact"}).eq("event_id",A.id),{data:D}=await L.from("event_attendees").select("id").eq("event_id",A.id).eq("user_id",t.id).maybeSingle();return{...A,attendee_count:$||0,is_attending:!!D}}));i(O)}catch(E){console.error("Error in fetchAllEvents:",E),Z.error("Failed to load events"),i(v())}finally{c(!1)}},y=async()=>{try{if(c(!0),!(t!=null&&t.id)){console.log("User not authenticated, skipping my events fetch"),i([]),c(!1);return}console.log("Fetching my events from Supabase...");const{data:E,error:I}=await L.from("event_attendees").select(`
          event:events (
            id, 
            title, 
            description, 
            location,
            start_date,
            end_date,
            category,
            created_by,
            created_at,
            is_public,
            max_attendees,
            status
          )
        `).eq("user_id",t.id);if(I)throw console.error("Error fetching my events:",I),I;if(!E||E.length===0){console.log("No events found that the user is attending"),i([]),c(!1);return}const O=(await Promise.all(E.map(async A=>{const $=A.event;if(!$)return console.warn("Event data is missing for an attendee record"),null;const{count:D}=await L.from("event_attendees").select("*",{count:"exact"}).eq("event_id",$.id);return{...$,attendee_count:D||0,is_attending:!0}}))).filter(A=>A!==null);i(O)}catch(E){console.error("Error in fetchMyEvents:",E),Z.error("Failed to load your events"),i([])}finally{c(!1)}},v=()=>{const E=new Date,I=new Date(E);I.setDate(I.getDate()+1);const P=new Date(E);P.setDate(P.getDate()+7);const O=new Date(E);return O.setMonth(O.getMonth()+1),[{id:"sample-1",title:"Tech Conference 2023",description:"Join us for the biggest tech conference of the year with renowned speakers, workshops, and networking opportunities.",location:"Convention Center, New York",start_date:I.toISOString(),end_date:P.toISOString(),category:"technology",created_by:"sample",created_at:E.toISOString(),is_public:!0,max_attendees:126,status:"going",attendee_count:126,is_attending:!1},{id:"sample-2",title:"Startup Pitch Night",description:"An exciting evening where innovative startups pitch their ideas to investors and industry experts.",location:"Innovation Hub, San Francisco",start_date:P.toISOString(),category:"business",created_by:"sample",created_at:E.toISOString(),is_public:!0,max_attendees:58,status:"going",attendee_count:58,is_attending:!1},{id:"sample-3",title:"Wellness Retreat Weekend",description:"A rejuvenating weekend of yoga, meditation, healthy food, and wellness workshops.",location:"Mountain View Resort, Colorado",start_date:O.toISOString(),category:"health",created_by:"sample",created_at:E.toISOString(),is_public:!0,max_attendees:45,status:"going",attendee_count:45,is_attending:!1},{id:"sample-4",title:"Photography Workshop",description:"Learn advanced photography techniques from professional photographers in this hands-on workshop.",location:"Art Gallery, Chicago",start_date:P.toISOString(),category:"art",created_by:"sample",created_at:E.toISOString(),is_public:!0,max_attendees:32,status:"going",attendee_count:32,is_attending:!1}]},_=async()=>{try{if(!(t!=null&&t.id)){console.error("Cannot create sample events: user not authenticated"),c(!1);return}console.log("Creating sample events...");const E=[],I=new Date,P=new Date(I);P.setDate(P.getDate()+1);const O=new Date(I);O.setDate(O.getDate()+7);const A=new Date(I);A.setMonth(A.getMonth()+1);const $=[{title:"Tech Conference 2023",description:"Join us for the biggest tech conference of the year with renowned speakers, workshops, and networking opportunities.",location:"Convention Center, New York",start_date:P.toISOString(),end_date:O.toISOString(),category:"technology",created_by:"sample",created_at:I.toISOString(),is_public:!0,max_attendees:126,status:"going"},{title:"Startup Pitch Night",description:"An exciting evening where innovative startups pitch their ideas to investors and industry experts.",location:"Innovation Hub, San Francisco",start_date:O.toISOString(),category:"business",created_by:"sample",created_at:I.toISOString(),is_public:!0,max_attendees:58,status:"going"},{title:"Wellness Retreat Weekend",description:"A rejuvenating weekend of yoga, meditation, healthy food, and wellness workshops.",location:"Mountain View Resort, Colorado",start_date:A.toISOString(),category:"health",created_by:"sample",created_at:I.toISOString(),is_public:!0,max_attendees:45,status:"going"},{title:"Photography Workshop",description:"Learn advanced photography techniques from professional photographers in this hands-on workshop.",location:"Art Gallery, Chicago",start_date:O.toISOString(),category:"art",created_by:"sample",created_at:I.toISOString(),is_public:!0,max_attendees:32,status:"going"}];for(const D of $){const{data:z,error:S}=await L.from("events").insert({title:D.title,description:D.description,location:D.location,start_date:D.start_date,end_date:D.end_date,category:D.category,created_by:D.created_by,created_at:D.created_at,is_public:D.is_public,max_attendees:D.max_attendees,status:D.status}).select().single();if(S){console.error("Error creating sample event:",S);continue}await L.from("event_attendees").insert({event_id:z.id,user_id:t.id,status:"going",joined_at:new Date().toISOString()}),console.log(`Created sample event: ${D.title}`),E.push({...z,attendee_count:1,is_attending:!0})}E.length>0?i(E):i(v()),c(!1)}catch(E){console.error("Error in createSampleEvents:",E),i(v()),c(!1)}},k=async E=>{try{if(!(t!=null&&t.id)){Z.error("You must be logged in to join an event");return}if(E.startsWith("sample-")){Z.success("RSVP successful! In a real app, this would add you to the event."),i(o.map(O=>O.id===E?{...O,is_attending:!0,attendee_count:O.attendee_count+1}:O));return}b(E);const{data:I}=await L.from("event_attendees").select("id").eq("event_id",E).eq("user_id",t.id).maybeSingle();if(I){Z.error("You are already attending this event"),b(null);return}const{error:P}=await L.from("event_attendees").insert({event_id:E,user_id:t.id,status:"going",joined_at:new Date().toISOString()});if(P){console.error("Error joining event:",P),Z.error("Failed to RSVP for the event");return}Z.success("Successfully RSVP'd for the event!"),i(o.map(O=>O.id===E?{...O,is_attending:!0,attendee_count:O.attendee_count+1}:O))}catch(I){console.error("Error in handleJoinEvent:",I),Z.error("Failed to RSVP for the event")}finally{b(null)}},j=async E=>{try{if(!(t!=null&&t.id)){Z.error("You must be logged in to leave an event");return}if(E.startsWith("sample-")){Z.success("Successfully left the event (simulated)."),i(o.map(P=>P.id===E?{...P,is_attending:!1,attendee_count:Math.max(0,P.attendee_count-1)}:P));return}w(E);const{error:I}=await L.from("event_attendees").delete().eq("event_id",E).eq("user_id",t.id);if(I){console.error("Error leaving event:",I),Z.error("Failed to leave the event");return}Z.success("Successfully left the event"),i(o.map(P=>P.id===E?{...P,is_attending:!1,attendee_count:Math.max(0,P.attendee_count-1)}:P))}catch(I){console.error("Error in handleLeaveEvent:",I),Z.error("Failed to leave the event")}finally{w(null)}},C=()=>{r("/events/create")},N=E=>{try{return yl(new Date(E),"MMM d, yyyy")}catch{return E}},F=o.filter(E=>(f==="all"||E.category===f)&&(u===""||E.title.toLowerCase().includes(u.toLowerCase())||E.description.toLowerCase().includes(u.toLowerCase())||E.location.toLowerCase().includes(u.toLowerCase())));return a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 md:py-12",children:[a.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:a.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center",children:[a.jsx(Rt,{className:"mr-3 h-6 w-6"})," ",e("events.title")||"Events"]})}),a.jsxs("div",{className:"flex justify-between items-center border-b border-gray-200 dark:border-gray-700 mb-6",children:[a.jsxs("div",{className:"flex",children:[a.jsx("button",{className:`py-4 px-6 font-medium text-base focus:outline-none flex-1 max-w-[160px] text-center ${n==="all"?"text-indigo-600 border-b-2 border-indigo-600 font-semibold":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,onClick:()=>s("all"),children:e("events.tabs.all")||"All Events"}),a.jsx("button",{className:`py-4 px-6 font-medium text-base focus:outline-none flex-1 max-w-[160px] text-center ${n==="my"?"text-indigo-600 border-b-2 border-indigo-600 font-semibold":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,onClick:()=>s("my"),children:e("events.tabs.my")||"My Events"})]}),a.jsxs("button",{onClick:C,className:"flex items-center px-6 py-2.5 bg-gradient-to-r from-slate-400 to-rose-300 text-white rounded-full hover:from-slate-500 hover:to-rose-400 transition-all text-base font-medium shadow-lg",children:[a.jsx(ln,{className:"mr-2"})," ",e("events.buttons.create")||"Create Event"]})]}),a.jsxs("div",{className:"mb-8 flex flex-col sm:flex-row gap-4",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx("input",{type:"text",placeholder:e("events.search_placeholder")||"Search events...",value:u,onChange:E=>d(E.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white text-base"}),a.jsx(Zg,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 text-lg"})]}),a.jsxs("select",{value:f,onChange:E=>h(E.target.value),className:"px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white min-w-[200px] text-base","aria-label":e("events.category_label")||"Select Category",children:[a.jsx("option",{value:"all",children:e("events.categories.all")||"All Categories"}),JU.map(E=>a.jsx("option",{value:E,children:e(`events.categories.${E}`)||E.charAt(0).toUpperCase()+E.slice(1)},E))]})]}),l?a.jsx("div",{className:"flex justify-center my-16",children:a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-500"})}):F.length>0?a.jsx("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:F.map((E,I)=>a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-200 overflow-hidden border border-gray-200 dark:border-gray-700 flex flex-col",style:{maxHeight:"380px"},children:[a.jsxs("div",{className:"h-32 bg-gray-200 dark:bg-gray-700 relative overflow-hidden",style:{backgroundImage:`url(${ub[I%ub.length]})`,backgroundSize:"cover",backgroundPosition:"center"},children:[a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-20"}),a.jsx("div",{className:"absolute top-2 right-2",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${E.is_public?"bg-green-500":"bg-yellow-500"} text-white`,children:E.is_public?e("events.public")||"Public":e("events.private")||"Private"})})]}),a.jsxs("div",{className:"p-4 flex-1 flex flex-col",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1 line-clamp-1",children:E.title}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-2 line-clamp-2",children:E.description}),a.jsxs("div",{className:"mt-auto space-y-2",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400",children:[a.jsx(As,{className:"w-4 h-4 mr-1"}),a.jsx("span",{className:"truncate",children:E.location})]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400",children:[a.jsx(Rt,{className:"w-4 h-4 mr-1"}),a.jsx("span",{children:N(E.start_date)})]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400",children:[a.jsx(qe,{className:"w-4 h-4 mr-1"}),a.jsxs("span",{children:[E.attendee_count," / ",E.max_attendees||""]})]})]}),a.jsx("div",{className:"mt-4 flex justify-end",children:E.is_attending?a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>j(E.id),disabled:x===E.id,className:"px-3 py-1 text-sm bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-full hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors duration-200",children:x===E.id?e("events.buttons.leaving")||"Leaving...":e("events.buttons.leave")||"Leave"}),a.jsxs("button",{onClick:P=>{P.stopPropagation(),r(`/events/${E.id}/chat`)},className:"px-3 py-1 text-sm bg-rose-500 text-white rounded-full hover:bg-rose-600 transition-colors duration-200 flex items-center",children:[a.jsx(ea,{className:"mr-1"})," ",e("events.buttons.chat")||"Chat"]})]}):a.jsx("button",{onClick:()=>k(E.id),disabled:g===E.id,className:"px-3 py-1 text-sm bg-indigo-500 text-white rounded-full hover:bg-indigo-600 transition-colors duration-200",children:g===E.id?e("events.buttons.joining")||"Joining...":e("events.buttons.join")||"Join"})})]})]},E.id))}):a.jsxs("div",{className:"text-center my-16 py-16 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[a.jsx(Rt,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:e("events.no_events_found_title")||"No events found"}),a.jsx("p",{className:"mt-3 text-gray-500 dark:text-gray-400 text-lg",children:n==="my"?e("events.no_my_events_message")||"You haven't RSVP'd to any events yet.":e("events.no_all_events_message")||"Try adjusting your search or create a new event."}),a.jsx("button",{onClick:C,className:"mt-6 px-6 py-3 bg-gradient-to-r from-slate-400 to-rose-300 text-white rounded-full hover:from-slate-500 hover:to-rose-400 transition-all text-base font-medium shadow-sm",children:e("events.buttons.create")||"Create Event"})]})]})})},fo={WEB_DEVELOPMENT:"/images/stock/content/web-development.jpg",URBAN_PHOTOGRAPHY:"/images/stock/content/urban-photography.jpg",DIGITAL_ART:"/images/stock/content/digital-art.jpg",ECO_LIVING:"/images/stock/content/eco-living.jpg",WILDLIFE:"/images/stock/content/wildlife.jpg",COOKING:"/images/stock/content/cooking.jpg"},QU=()=>{const{t:e}=ot(),[t,r]=m.useState("all"),n=[{id:"all",name:e("saved.categories.all")||"All Items",emoji:""},{id:"articles",name:e("saved.categories.articles")||"Articles",emoji:""},{id:"photos",name:e("saved.categories.photos")||"Photos",emoji:""},{id:"videos",name:e("saved.categories.videos")||"Videos",emoji:""}],s=[{id:1,type:"article",title:"The Future of Web Development",description:"Exploring upcoming trends in web development for 2025",image:fo.WEB_DEVELOPMENT,author:"Tech Insights",date:"2025-02-20",readTime:e("saved.readTime5")||"5 min read"},{id:2,type:"photo",title:"Urban Photography Collection",description:"A stunning collection of city landscapes",image:fo.URBAN_PHOTOGRAPHY,author:"Urban Shots",date:"2025-02-19"},{id:3,type:"video",title:"Digital Art Tutorial",description:"Learn digital art techniques from professionals",image:fo.DIGITAL_ART,author:"Creative Arts",date:"2025-02-18",duration:"15:30"},{id:4,type:"article",title:"Sustainable Living Guide",description:"Tips for a more eco-friendly lifestyle",image:fo.ECO_LIVING,author:"Green Living",date:"2025-02-17",readTime:e("saved.readTime8")||"8 min read"},{id:5,type:"photo",title:"Wildlife Photography",description:"Capturing nature's most beautiful moments",image:fo.WILDLIFE,author:"Nature Lens",date:"2025-02-16"},{id:6,type:"video",title:"Cooking Masterclass",description:"Learn to cook like a professional chef",image:fo.COOKING,author:"Culinary Arts",date:"2025-02-15",duration:"25:45"}],o=t==="all"?s:s.filter(i=>i.type===t.slice(0,-1));return a.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8 dark:bg-neutral-800 min-h-full",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-6",children:e("saved.title")||"Saved Items"}),a.jsx("div",{className:"flex space-x-3 overflow-x-auto pb-4",children:n.map(i=>a.jsxs("button",{onClick:()=>r(i.id),className:`px-5 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors flex items-center shadow-sm ${t===i.id?"bg-gradient-to-r from-rose-600 to-red-600 text-white shadow-md":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600 border border-gray-200 dark:border-gray-600"}`,children:[a.jsx("span",{className:"mr-2 text-lg",role:"img","aria-label":i.name,children:i.emoji}),i.name]},i.id))})]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:o.map(i=>a.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-all transform hover:-translate-y-1 border border-gray-200 dark:border-gray-600",children:[a.jsxs("div",{className:"relative h-40",children:[a.jsx("img",{src:i.image,alt:i.title,className:"w-full h-full object-cover"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),a.jsx("div",{className:"absolute top-2 left-2 flex items-center",children:a.jsxs("span",{className:"text-xs font-medium bg-black/60 text-white px-2 py-1 rounded-full flex items-center",children:[i.type==="article"&&"",i.type==="photo"&&"",i.type==="video"&&"",a.jsx("span",{className:"ml-1 capitalize",children:i.type})]})}),i.type==="video"&&a.jsx("div",{className:"absolute bottom-2 right-2 px-2 py-1 bg-black/70 text-white text-xs rounded-full font-medium",children:i.duration}),i.readTime&&a.jsx("div",{className:"absolute bottom-2 right-2 px-2 py-1 bg-black/70 text-white text-xs rounded-full font-medium",children:i.readTime})]}),a.jsxs("div",{className:"p-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1 text-xs",children:[a.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-300 truncate max-w-[120px]",children:i.author}),a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:new Date(i.date).toLocaleDateString()})]}),a.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-1 truncate",children:i.title}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300 line-clamp-2 mb-3 h-8",children:i.description}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("button",{className:"p-1.5 bg-gray-100 dark:bg-gray-700 rounded-full text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:a.jsx(r8,{className:"w-3.5 h-3.5"})}),a.jsx("button",{className:"px-3 py-1 text-xs font-medium bg-gradient-to-r from-rose-500 to-red-500 hover:from-rose-600 hover:to-red-600 text-white rounded-full shadow-sm hover:shadow transition-all",children:e("buttons.view")||"View"}),a.jsx("button",{className:"p-1.5 text-rose-500 hover:text-rose-600 transition-colors bg-rose-50 dark:bg-rose-900/20 rounded-full",children:a.jsx(ou,{className:"w-3.5 h-3.5"})})]})]})]},i.id))}),o.length===0&&a.jsxs("div",{className:"text-center py-12 bg-white dark:bg-gray-700 rounded-xl shadow-md my-6 border border-gray-200 dark:border-gray-600",children:[a.jsx("div",{className:"bg-gray-100 dark:bg-gray-600 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(ou,{className:"h-8 w-8 text-gray-400 dark:text-gray-500"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:e("saved.no_items_title")||"No saved items found"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 max-w-md mx-auto",children:e("saved.no_items_message")||"Items you save will appear here. Browse content and click the bookmark icon to save items."}),a.jsx("button",{className:"mt-4 px-4 py-2 text-sm font-medium bg-gradient-to-r from-rose-500 to-red-500 hover:from-rose-600 hover:to-red-600 text-white rounded-full shadow-sm hover:shadow transition-all",children:e("saved.buttons.explore")||"Explore Content"})]})]})},ZU=["technology","business","education","entertainment","health","sports","travel","art","food","music"],ez=()=>{const{tWithTemplate:e}=ot(),t=st(),[r,n]=m.useState(""),[s,o]=m.useState(null),[i,l]=m.useState(!1),{user:c}=at(),u=m.useRef(null),[d,f]=m.useState({title:"",description:"",location:"",startDate:"",startTime:"",endDate:"",endTime:"",category:"technology",isPrivate:!1,maxAttendees:""}),h=x=>{const{name:w,value:p}=x.target;f(y=>({...y,[w]:p}))},g=x=>{const{name:w,checked:p}=x.target;f(y=>({...y,[w]:p}))},b=async x=>{if(x.preventDefault(),!c){Z.error(e("errors.loginRequiredEvent")||"You must be logged in to create an event");return}if(!d.title.trim()){Z.error(e("errors.eventNameRequired")||"Event title is required");return}if(!d.startDate){Z.error(e("errors.eventDateRequired")||"Start date is required");return}if(!d.location.trim()){Z.error("Location is required");return}if(!d.category){Z.error(e("errors.eventCategoryRequired"));return}try{l(!0);let w="";if(s){const k=s.name.split(".").pop(),C=`event_images/${`${Math.random().toString(36).substring(2,15)}.${k}`}`,{error:N}=await L.storage.from("images").upload(C,s);if(N)throw console.error("Error uploading image:",N),N;const{data:{publicUrl:F}}=L.storage.from("images").getPublicUrl(C);w=F}let p=null;if(d.maxAttendees.trim()!==""){const k=parseInt(d.maxAttendees,10);if(isNaN(k)||k<=0){Z.error("Invalid number for Max Attendees."),l(!1);return}p=k}const{data:y,error:v}=await L.from("events").insert({title:d.title,description:d.description,start_date:d.startDate,end_date:d.endDate||null,location:d.location,category:d.category,created_by:c.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),is_public:!d.isPrivate,max_attendees:p,status:"active"}).select().single();if(v)throw console.error("Error creating event:",v),v;console.log("Event created successfully:",y);const{error:_}=await L.from("event_attendees").insert({event_id:y.id,user_id:c.id,status:"going",joined_at:new Date().toISOString()});_&&console.error("Error adding creator as attendee:",_),Z.success(e("success.eventCreated")||"Event created successfully!"),t("/events")}catch(w){console.error("Error in handleSubmit:",w),Z.error(`${e("errors.eventCreationFailed")}: ${w.message}`)}finally{l(!1)}};return a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 max-w-4xl mx-auto my-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-8",children:e("createEvent.title")||"Create a New Event"}),a.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 mb-6 rounded-lg border border-blue-200 dark:border-blue-800",children:a.jsxs("p",{className:"text-blue-800 dark:text-blue-200 text-sm",children:[a.jsx("strong",{children:"Note:"})," Event image upload is temporarily disabled due to system maintenance. You can create events without images for now."]})}),a.jsxs("form",{onSubmit:b,className:"space-y-8",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsxs("div",{className:"relative w-full max-w-2xl h-64 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg flex items-center justify-center overflow-hidden bg-gray-50 dark:bg-gray-700 opacity-60",children:[a.jsxs("div",{className:"text-center p-6",children:[a.jsx(Qg,{className:"mx-auto h-16 w-16 text-gray-400"}),a.jsx("p",{className:"mt-4 text-base text-gray-500 dark:text-gray-400",children:"Image upload temporarily disabled"}),a.jsx("p",{className:"mt-2 text-sm text-gray-400 dark:text-gray-500",children:"This feature will be available soon"})]}),a.jsx("div",{className:"absolute inset-0 bg-gray-100 dark:bg-gray-800 opacity-30"})]}),a.jsx("input",{type:"file",ref:u,className:"hidden",disabled:!0})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx(Ht,{htmlFor:"title",className:"block text-base font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("createEvent.nameLabel")||"Event Title *"}),a.jsx(Ur,{type:"text",id:"title",name:"title",value:d.title,onChange:h,placeholder:e("createEvent.namePlaceholder")||"E.g., Annual Tech Conference, Community Meetup",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white text-base",required:!0})]}),a.jsxs("div",{children:[a.jsx(Ht,{htmlFor:"description",className:"block text-base font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("createEvent.descriptionLabel")||"Description"}),a.jsx(f0,{id:"description",name:"description",value:d.description,onChange:h,placeholder:e("createEvent.descriptionPlaceholder")||"Tell people more about the event",rows:4,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white text-base"})]})]}),a.jsxs("div",{children:[a.jsx(Ht,{htmlFor:"location",className:"block text-base font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("createEvent.locationLabel")||"Location *"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(As,{className:"h-5 w-5 text-gray-400"})}),a.jsx(Ur,{type:"text",id:"location",name:"location",value:d.location,onChange:h,placeholder:e("createEvent.locationPlaceholder")||"E.g., Conference Center, Online",className:"w-full pl-12 px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white text-base",required:!0})]})]}),a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:e("createEvent.startDateLabel")||"Start Date & Time"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx(Ht,{htmlFor:"startDate",className:"block text-base font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("createEvent.startDateLabel")||"Start Date *"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Rt,{className:"h-5 w-5 text-gray-400"})}),a.jsx(Ur,{type:"datetime-local",id:"startDate",name:"startDate",value:d.startDate,onChange:h,className:"w-full pl-12 px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white text-base",required:!0})]})]}),a.jsxs("div",{children:[a.jsx(Ht,{htmlFor:"startTime",className:"block text-base font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("createEvent.startTimeLabel")||"Start Time"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(su,{className:"h-5 w-5 text-gray-400"})}),a.jsx(Ur,{type:"time",id:"startTime",name:"startTime",value:d.startTime,onChange:h,className:"w-full pl-12 px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white text-base"})]})]}),a.jsxs("div",{children:[a.jsx(Ht,{htmlFor:"endDate",className:"block text-base font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("createEvent.endDateLabel")||"End Date & Time (Optional)"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Rt,{className:"h-5 w-5 text-gray-400"})}),a.jsx(Ur,{type:"datetime-local",id:"endDate",name:"endDate",value:d.endDate,onChange:h,className:"w-full pl-12 px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white text-base"})]})]}),a.jsxs("div",{children:[a.jsx(Ht,{htmlFor:"endTime",className:"block text-base font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("createEvent.endTimeLabel")||"End Time"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(su,{className:"h-5 w-5 text-gray-400"})}),a.jsx(Ur,{type:"time",id:"endTime",name:"endTime",value:d.endTime,onChange:h,className:"w-full pl-12 px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white text-base"})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx(Ht,{htmlFor:"category",className:"block text-base font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("createEvent.categoryLabel")}),a.jsxs(q4,{value:d.category,onValueChange:x=>f(w=>({...w,category:x})),children:[a.jsx(m0,{className:"w-full",children:a.jsx(W4,{placeholder:e("createEvent.categoryPlaceholder")})}),a.jsx(g0,{children:ZU.map(x=>a.jsx(p0,{value:x,children:e(`events.categories.${x}`)},x))})]})]}),a.jsxs("div",{className:"flex items-center p-6 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[a.jsx("input",{type:"checkbox",id:"isPrivate",name:"isPrivate",checked:d.isPrivate,onChange:g,className:"h-5 w-5 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"isPrivate",className:"ml-3 block text-base text-gray-700 dark:text-gray-300",children:d.isPrivate?e("createEvent.visibilityPrivate"):e("createEvent.visibilityPublic")})]}),a.jsxs("div",{children:[a.jsx(Ht,{htmlFor:"max_attendees",className:"block text-base font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("createEvent.maxAttendeesLabel")}),a.jsx(Ur,{id:"max_attendees",type:"number",name:"maxAttendees",value:d.maxAttendees,onChange:h,placeholder:e("createEvent.maxAttendeesPlaceholder"),min:"1",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white text-base"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4 mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:[a.jsx(xe,{type:"button",onClick:()=>t("/events"),className:"px-6 py-3 text-base border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 font-medium",children:e("buttons.cancel")||"Cancel"}),a.jsx(xe,{type:"submit",disabled:i,className:`px-6 py-3 ${i?"bg-gray-400":"bg-gradient-to-r from-slate-400 to-rose-300 hover:from-slate-500 hover:to-rose-400"} text-white rounded-lg transition-colors flex items-center justify-center font-medium text-base min-w-[120px]`,children:i?a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):e("createEvent.createButton")||"Create Event"})]})]})]})},tz=()=>{const{t:e}=ot(),{user:t}=at(),[r,n]=m.useState([]),[s,o]=m.useState(!0),[i,l]=m.useState("all");m.useEffect(()=>{t&&c()},[t]);const c=async()=>{try{o(!0),console.log("Fetching notifications for user:",t==null?void 0:t.id);const{data:b,error:x}=await L.from("notifications").select("*").eq("user_id",t==null?void 0:t.id).order("created_at",{ascending:!1});if(x)throw console.error("Error fetching notifications:",x),x;console.log("Raw notifications data:",b);const w=await Promise.all((b||[]).map(async p=>{if(p.related_id)try{console.log(`Fetching profile for notification type: ${p.type}, related_id: ${p.related_id}`);const{data:y,error:v}=await L.from("profiles").select("id, full_name, avatar_url").eq("id",p.related_id).single();if(v)return console.error("Error fetching profile:",v),p;if(y)return console.log("Profile data found:",y),{...p,sender:y}}catch(y){console.error("Error fetching profile for notification:",y)}return p}));console.log("Final notifications with profiles:",w),n(w)}catch(b){console.error("Error fetching notifications:",b),Z.error("Failed to load notifications")}finally{o(!1)}},u=async b=>{try{const{error:x}=await L.from("notifications").update({read:!0}).eq("id",b);if(x)throw x;n(w=>w.map(p=>p.id===b?{...p,read:!0}:p)),Z.success("Notification marked as read")}catch(x){console.error("Error marking notification as read:",x),Z.error("Failed to update notification")}},d=async()=>{try{const b=r.filter(w=>!w.read).map(w=>w.id);if(b.length===0)return;const{error:x}=await L.from("notifications").update({read:!0}).in("id",b);if(x)throw x;n(w=>w.map(p=>({...p,read:!0}))),Z.success("All notifications marked as read")}catch(b){console.error("Error marking all notifications as read:",b),Z.error("Failed to update notifications")}},f=async()=>{try{const{error:b}=await L.from("notifications").delete().eq("user_id",t==null?void 0:t.id);if(b)throw b;n([]),Z.success("All notifications deleted")}catch(b){console.error("Error deleting notifications:",b),Z.error("Failed to delete notifications")}},h=b=>{switch(b){case"friend_request":return a.jsx(au,{className:"w-4 h-4 text-indigo-500"});case"friend_accepted":return a.jsx(au,{className:"w-4 h-4 text-green-500"});case"like":return a.jsx(H2,{className:"w-4 h-4 text-rose-500"});case"comment":return a.jsx(Vi,{className:"w-4 h-4 text-green-500"});case"group":return a.jsx(ra,{className:"w-4 h-4 text-purple-500"});case"event":return a.jsx(ta,{className:"w-4 h-4 text-yellow-500"});default:return a.jsx(Vi,{className:"w-4 h-4 text-blue-500"})}},g=r.filter(b=>i==="all"?!0:i==="unread"?!b.read:b.type.includes(i));return a.jsxs("div",{className:"container max-w-4xl mx-auto px-4 py-8 dark:bg-neutral-800",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e("notifications.title")}),a.jsxs("div",{className:"space-x-2",children:[a.jsx("button",{onClick:d,className:"px-3 py-1 text-sm bg-indigo-50 text-indigo-600 dark:bg-indigo-900/20 dark:text-indigo-400 rounded-md hover:bg-indigo-100 dark:hover:bg-indigo-800/30",children:e("notifications.markAllAsRead")}),a.jsx("button",{onClick:f,className:"px-3 py-1 text-sm bg-red-50 text-red-600 dark:bg-red-900/20 dark:text-red-400 rounded-md hover:bg-red-100 dark:hover:bg-red-800/30",children:e("notifications.deleteAll")})]})]}),a.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg shadow overflow-hidden mb-6",children:[a.jsxs("div",{className:"flex overflow-x-auto scrollbar-hide border-b border-gray-200 dark:border-gray-700",children:[a.jsx("button",{className:`px-4 py-3 text-sm font-medium whitespace-nowrap ${i==="all"?"text-indigo-600 dark:text-indigo-400 border-b-2 border-indigo-600 dark:border-indigo-400":"text-gray-600 dark:text-gray-300"}`,onClick:()=>l("all"),children:e("notifications.all")}),a.jsx("button",{className:`px-4 py-3 text-sm font-medium whitespace-nowrap ${i==="unread"?"text-indigo-600 dark:text-indigo-400 border-b-2 border-indigo-600 dark:border-indigo-400":"text-gray-600 dark:text-gray-300"}`,onClick:()=>l("unread"),children:e("notifications.unread")}),a.jsx("button",{className:`px-4 py-3 text-sm font-medium whitespace-nowrap ${i==="friend"?"text-indigo-600 dark:text-indigo-400 border-b-2 border-indigo-600 dark:border-indigo-400":"text-gray-600 dark:text-gray-300"}`,onClick:()=>l("friend"),children:e("notifications.friends")}),a.jsx("button",{className:`px-4 py-3 text-sm font-medium whitespace-nowrap ${i==="like"?"text-indigo-600 dark:text-indigo-400 border-b-2 border-indigo-600 dark:border-indigo-400":"text-gray-600 dark:text-gray-300"}`,onClick:()=>l("like"),children:e("notifications.likes")}),a.jsx("button",{className:`px-4 py-3 text-sm font-medium whitespace-nowrap ${i==="comment"?"text-indigo-600 dark:text-indigo-400 border-b-2 border-indigo-600 dark:border-indigo-400":"text-gray-600 dark:text-gray-300"}`,onClick:()=>l("comment"),children:e("notifications.comments")})]}),s?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx("div",{className:"inline-block w-6 h-6 border-2 border-gray-300 border-t-indigo-600 rounded-full animate-spin"}),a.jsx("p",{className:"mt-2 text-gray-500 dark:text-gray-400",children:e("loading")})]}):a.jsx(a.Fragment,{children:g.length===0?a.jsx("div",{className:"p-8 text-center",children:a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:e("notifications.empty")})}):a.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:g.map(b=>{var x;return a.jsxs("div",{className:`p-4 flex ${b.read?"bg-white dark:bg-neutral-800":"bg-indigo-50 dark:bg-indigo-900/20"}`,children:[a.jsx("div",{className:"flex-shrink-0 mr-4",children:(x=b.sender)!=null&&x.avatar_url?a.jsx("img",{src:b.sender.avatar_url,alt:b.sender.full_name,className:"w-10 h-10 rounded-full"}):a.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-100 dark:bg-indigo-800 flex items-center justify-center",children:h(b.type)})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:b.content}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 ml-2 whitespace-nowrap",children:Wp(new Date(b.created_at),{addSuffix:!0})})]}),!b.read&&a.jsx("button",{onClick:()=>u(b.id),className:"mt-2 text-xs text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-300",children:e("notifications.markAsRead")})]})]},b.id)})})})]})]})},rz=()=>{const{user:e,signOut:t,setUser:r}=at(),{isDarkMode:n,toggleDarkMode:s}=qg(),{t:o}=ot(),i=st(),[l,c]=m.useState("profile"),[u,d]=m.useState(null),[f,h]=m.useState(null),[g,b]=m.useState(null),[x,w]=m.useState(""),[p,y]=m.useState(""),[v,_]=m.useState(!0),[k,j]=m.useState(!1),[C,N]=m.useState(""),[F,E]=m.useState(null);m.useEffect(()=>{e?I():_(!1)},[e]);const I=async()=>{_(!0);try{const{data:U,error:J}=await L.from("profiles").select("*").eq("id",e==null?void 0:e.id).single();if(J)throw J;U?(d({name:U.full_name||"",email:(e==null?void 0:e.email)||""}),h({email_notifications:U.email_notifications!==!1,push_notifications:U.push_notifications!==!1,marketing_notifications:U.marketing_notifications||!1}),b({profile_visibility:U.profile_visibility||"public",show_email:U.show_email||!1,show_location:U.show_location||!1})):(console.log("Profile not found for user:",e==null?void 0:e.id),d({name:"",email:(e==null?void 0:e.email)||""}),h({email_notifications:!0,push_notifications:!0,marketing_notifications:!1}),b({profile_visibility:"public",show_email:!1,show_location:!1}))}catch(U){console.error("Error loading user settings:",U),Z.error("Failed to load settings")}finally{_(!1)}},P=U=>{if(!u)return;const{name:J,value:ne}=U.target;d(ie=>ie?{...ie,[J]:ne}:null)},O=U=>{f&&h(J=>J?{...J,[U]:!J[U]}:null)},A=(U,J)=>{g&&b(ne=>ne?{...ne,[U]:J}:null)},$=async U=>{if(e){j(!0);try{let J={},ne=!1;if(U==="profile"&&u){J={...J,...u};const{error:ie}=await L.from("profiles").update(J).eq("id",e.id);ie&&(console.error("Error saving profile:",ie),ne=!0)}else if(U==="notifications"&&f)console.log("Saving notifications:",f),await new Promise(ie=>setTimeout(ie,500));else if(U==="privacy"&&g)console.log("Saving privacy:",g),await new Promise(ie=>setTimeout(ie,500));else if(U==="password")if(x!==p||!x)Z.error("Passwords do not match or are empty."),ne=!0;else{const{error:ie}=await L.auth.updateUser({password:x});ie?(console.error("Error updating password:",ie),Z.error(`Password Update Failed: ${ie.message}`),ne=!0):(w(""),y(""),Z.success("Password updated successfully!"))}!ne&&U!=="password"&&Z.success(`${U.charAt(0).toUpperCase()+U.slice(1)} settings saved!`),ne&&Z.error(`Failed to save ${U} settings.`)}catch(J){console.error(`Error saving ${U} settings:`,J),Z.error(`Failed to save ${U} settings.`)}finally{j(!1)}}},D=async()=>{if(e&&window.confirm("Are you sure you want to delete your account permanently? This action cannot be undone.")){j(!0);try{const{error:U}=await L.rpc("delete_user_account");if(U)throw U;Z.success("Account deleted successfully."),r(null),i("/")}catch(U){console.error("Error deleting account:",U),Z.error(`Failed to delete account: ${U.message}`)}finally{j(!1)}}},z=U=>{(U==="dark"&&!n||U==="light"&&n)&&s()},S=async()=>{try{await t(),Z.success("Logged out successfully"),i("/login")}catch(U){console.error("Logout Error:",U),Z.error("Logout failed. Please try again.")}},M=()=>{window.open("https://t.me/your_support_bot","_blank"),Z.success(o("helpAndSupport.openingTelegram")||"Opening Telegram support")},T=()=>{window.location.href="mailto:support@yourapp.com",Z.success(o("helpAndSupport.openingEmail")||"Opening email client")},B=()=>{Z.success(o("helpAndSupport.redirectingToHelp")||"Redirecting to Help Center..."),setTimeout(()=>{window.open("https://help.yourdomain.com","_blank")},1e3)},V=()=>{Z.success(o("helpAndSupport.redirectingToDocs")||"Opening Documentation..."),setTimeout(()=>{window.open("https://docs.yourdomain.com","_blank")},1e3)},re=()=>{Z.success(o("helpAndSupport.redirectingToTutorials")||"Opening Tutorials..."),setTimeout(()=>{window.open("https://youtube.com/yourchannel","_blank")},1e3)},se=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200",children:o("settings.profile.title")||"Profile Information"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:o("settings.profile.fullNameLabel")||"Full Name"}),a.jsx("input",{type:"text",id:"name",name:"name",value:(u==null?void 0:u.name)||"",onChange:P,disabled:k,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-1 focus:ring-rose-500 focus:border-rose-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:o("settings.profile.emailLabel")||"Email Address"}),a.jsx("input",{type:"email",id:"email",name:"email",value:(u==null?void 0:u.email)||"",disabled:!0,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 cursor-not-allowed"})]})]}),a.jsx("div",{className:"text-right",children:a.jsx(xe,{type:"submit",onClick:()=>$("profile"),disabled:k||v,className:"px-5 py-2.5 rounded-lg",children:k?o("buttons.saving")||"Saving...":o("buttons.saveProfile")||"Save Profile"})})]}),fe=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200",children:o("settings.notifications.title")||"Notifications"}),a.jsxs("div",{className:"space-y-4 divide-y divide-gray-200 dark:divide-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between pt-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:o("settings.notifications.emailLabel")||"Email Notifications"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:o("settings.notifications.emailDescription")||"Receive important updates via email."})]}),a.jsx("input",{type:"checkbox",id:"email_notifications",name:"email_notifications",checked:(f==null?void 0:f.email_notifications)||!1,onChange:()=>O("email_notifications"),disabled:k,className:"form-checkbox h-5 w-5 text-rose-600 rounded focus:ring-rose-500 cursor-pointer"})]}),a.jsxs("div",{className:"flex items-center justify-between pt-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:o("settings.notifications.pushLabel")||"Push Notifications"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:o("settings.notifications.pushDescription")||"Get notified directly in the app (requires browser permission)."})]}),a.jsx("input",{type:"checkbox",id:"push_notifications",name:"push_notifications",checked:(f==null?void 0:f.push_notifications)||!1,onChange:()=>O("push_notifications"),disabled:k,className:"form-checkbox h-5 w-5 text-rose-600 rounded focus:ring-rose-500 cursor-pointer"})]}),a.jsxs("div",{className:"flex items-center justify-between pt-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:o("settings.notifications.marketingLabel")||"Marketing Emails"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:o("settings.notifications.marketingDescription")||"Receive promotional offers and news."})]}),a.jsx("input",{type:"checkbox",id:"marketing_notifications",name:"marketing_notifications",checked:(f==null?void 0:f.marketing_notifications)||!1,onChange:()=>O("marketing_notifications"),disabled:k,className:"form-checkbox h-5 w-5 text-rose-600 rounded focus:ring-rose-500 cursor-pointer"})]})]}),a.jsx("div",{className:"text-right",children:a.jsx(xe,{type:"submit",onClick:()=>$("notifications"),disabled:k||v,className:"px-5 py-2.5 rounded-lg",children:k?o("buttons.saving")||"Saving...":o("settings.notifications.saveButton")||"Save Notifications"})})]}),oe=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200",children:o("settings.privacy.title")||"Privacy Settings"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"profile_visibility",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:o("settings.privacy.profileVisibilityLabel")||"Profile Visibility"}),a.jsxs("select",{id:"profile_visibility",name:"profile_visibility",value:(g==null?void 0:g.profile_visibility)||"public",onChange:U=>A("profile_visibility",U.target.value),disabled:k,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-1 focus:ring-rose-500 focus:border-rose-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[a.jsx("option",{value:"public",children:o("settings.privacy.visibilityOptions.public")||"Public (Visible to everyone)"}),a.jsx("option",{value:"connections",children:o("settings.privacy.visibilityOptions.connections")||"Connections Only"}),a.jsx("option",{value:"private",children:o("settings.privacy.visibilityOptions.private")||"Private (Only you)"})]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-700",children:[a.jsx("label",{htmlFor:"show_email",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:o("settings.privacy.showEmailLabel")||"Show Email on Profile"}),a.jsx("input",{type:"checkbox",id:"show_email",name:"show_email",checked:(g==null?void 0:g.show_email)||!1,onChange:U=>A("show_email",U.target.checked.toString()),disabled:k,className:"form-checkbox h-5 w-5 text-rose-600 rounded focus:ring-rose-500 cursor-pointer"})]}),a.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-700",children:[a.jsx("label",{htmlFor:"show_location",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:o("settings.privacy.showLocationLabel")||"Show Location on Profile"}),a.jsx("input",{type:"checkbox",id:"show_location",name:"show_location",checked:(g==null?void 0:g.show_location)||!1,onChange:U=>A("show_location",U.target.checked.toString()),disabled:k,className:"form-checkbox h-5 w-5 text-rose-600 rounded focus:ring-rose-500 cursor-pointer"})]})]}),a.jsx("div",{className:"text-right",children:a.jsx(xe,{type:"submit",onClick:()=>$("privacy"),disabled:k||v,className:"px-5 py-2.5 rounded-lg",children:k?o("buttons.saving")||"Saving...":o("settings.privacy.saveButton")||"Save Privacy Settings"})})]}),R=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200",children:o("settings.appearance.title")||"Appearance"}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:o("settings.appearance.themeLabel")||"Theme"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:()=>z("light"),className:`px-4 py-2 rounded-lg border ${n?"border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700":"bg-rose-100 border-rose-500 text-rose-700"}`,children:o("settings.appearance.lightTheme")||"Light"}),a.jsx("button",{onClick:()=>z("dark"),className:`px-4 py-2 rounded-lg border ${n?"bg-rose-900 border-rose-500 text-rose-300":"border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:o("settings.appearance.darkTheme")||"Dark"})]})]})})]}),G=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200",children:o("settings.security.title")||"Security"}),a.jsxs("div",{className:"space-y-4 p-4 border border-gray-200 dark:border-gray-700 rounded-lg",children:[a.jsx("h3",{className:"font-medium text-gray-800 dark:text-gray-200",children:o("settings.security.changePasswordTitle")||"Change Password"}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:o("settings.security.newPasswordLabel")||"New Password"}),a.jsx("input",{type:"password",id:"newPassword",value:x,onChange:U=>w(U.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-1 focus:ring-rose-500 focus:border-rose-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:o("settings.security.confirmPasswordLabel")||"Confirm New Password"}),a.jsx("input",{type:"password",id:"confirmPassword",value:p,onChange:U=>y(U.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-1 focus:ring-rose-500 focus:border-rose-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),a.jsx("div",{className:"text-right",children:a.jsx(xe,{type:"submit",onClick:()=>$("password"),disabled:k||!x||!p,className:"px-5 py-2.5 rounded-lg",children:k?o("buttons.saving")||"Saving...":o("settings.security.changePasswordButton")||"Change Password"})})]}),a.jsxs("div",{className:"space-y-4 p-4 border border-red-300 dark:border-red-700 rounded-lg",children:[a.jsx("h3",{className:"font-medium text-red-600 dark:text-red-400",children:o("settings.security.accountActionsTitle")||"Account Actions"}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsxs("button",{onClick:S,className:"w-full sm:w-auto px-5 py-2.5 rounded-lg border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors flex items-center justify-center gap-2",disabled:k,children:[a.jsx(sx,{})," ",o("settings.security.logoutButton")||"Log Out"]}),a.jsxs("button",{onClick:D,className:"w-full sm:w-auto px-5 py-2.5 rounded-lg bg-red-600 hover:bg-red-700 text-white transition-colors flex items-center justify-center gap-2",disabled:k,children:[a.jsx(Us,{})," ",o("settings.security.deleteAccountButton")||"Delete Account"]})]}),a.jsx("p",{className:"text-xs text-red-500 dark:text-red-400",children:o("settings.security.deleteWarning")||"Warning: Deleting your account is permanent and cannot be undone."})]})]}),X=()=>{const J=[{question:o("faq.createGroup.question")||"How do I create a group?",answer:o("faq.createGroup.answer")||'Navigate to the Groups page and click the "Create Group" button. Fill in the details and invite members.'},{question:o("faq.addFriends.question")||"How can I add friends?",answer:o("faq.addFriends.answer")||'Go to the Friends page, find people under "Suggestions" or search, and click "Connect" or "Add Friend".'},{question:o("faq.privacy.question")||"How do I manage my privacy settings?",answer:o("faq.privacy.answer")||"Go to Settings -> Privacy. Here you can control who sees your profile and posts."},{question:o("faq.notifications.question")||"How can I change my notification preferences?",answer:o("faq.notifications.answer")||"Visit Settings -> Notifications to enable or disable email and push notifications."},{question:o("faq.deleteAccount.question")||"How do I delete my account?",answer:o("faq.deleteAccount.answer")||"Go to Settings -> Security -> Account Actions. Be aware that deleting your account is permanent."}].filter(ne=>ne.question.toLowerCase().includes(C.toLowerCase())||ne.answer.toLowerCase().includes(C.toLowerCase()));return a.jsxs("div",{className:"space-y-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200",children:o("settings.help.title")||"Help & Support"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{onClick:M,className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow cursor-pointer group border border-gray-100 dark:border-gray-600",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx("div",{className:"bg-blue-100 dark:bg-blue-900 p-2 rounded-full mr-3",children:a.jsx(V2,{className:"text-lg text-blue-500 dark:text-blue-400 group-hover:scale-110 transition-transform"})}),a.jsxs("h3",{className:"font-semibold text-gray-800 dark:text-white flex items-center",children:[o("helpAndSupport.telegramSupport")||"Telegram Support",a.jsx(ff,{className:"ml-1.5 text-xs opacity-0 group-hover:opacity-100 transition-opacity"})]})]}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:o("helpAndSupport.telegramSupportDescription")||"Chat with us directly on Telegram."})]}),a.jsxs("div",{onClick:T,className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow cursor-pointer group border border-gray-100 dark:border-gray-600",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx("div",{className:"bg-red-100 dark:bg-red-900 p-2 rounded-full mr-3",children:a.jsx(tp,{className:"text-lg text-red-500 dark:text-red-400 group-hover:scale-110 transition-transform"})}),a.jsxs("h3",{className:"font-semibold text-gray-800 dark:text-white flex items-center",children:[o("helpAndSupport.emailSupport")||"Email Support",a.jsx(ff,{className:"ml-1.5 text-xs opacity-0 group-hover:opacity-100 transition-opacity"})]})]}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:o("helpAndSupport.emailSupportDescription")||"Send us an email for assistance."})]}),a.jsxs("div",{onClick:B,className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow cursor-pointer group border border-gray-100 dark:border-gray-600",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx("div",{className:"bg-green-100 dark:bg-green-900 p-2 rounded-full mr-3",children:a.jsx(e8,{className:"text-lg text-green-500 dark:text-green-400 group-hover:scale-110 transition-transform"})}),a.jsxs("h3",{className:"font-semibold text-gray-800 dark:text-white flex items-center",children:[o("helpAndSupport.helpCenter")||"Help Center",a.jsx(ff,{className:"ml-1.5 text-xs opacity-0 group-hover:opacity-100 transition-opacity"})]})]}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:o("helpAndSupport.helpCenterDescription")||"Find answers in our knowledge base."})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 shadow-sm border border-gray-100 dark:border-gray-600",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx("div",{className:"bg-purple-100 dark:bg-purple-900 p-2 rounded-full mr-3",children:a.jsx(fT,{className:"text-lg text-purple-500 dark:text-purple-400"})}),a.jsx("h3",{className:"font-semibold text-gray-800 dark:text-white",children:o("helpAndSupport.documentation")||"Documentation"})]}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-3",children:o("helpAndSupport.documentationDescription")||"Browse comprehensive guides."}),a.jsx("button",{onClick:V,className:"text-sm text-indigo-600 dark:text-indigo-400 font-medium hover:underline",children:o("helpAndSupport.viewDocumentation")||"View Documentation"})]}),a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 shadow-sm border border-gray-100 dark:border-gray-600",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx("div",{className:"bg-yellow-100 dark:bg-yellow-900 p-2 rounded-full mr-3",children:a.jsx(a8,{className:"text-lg text-yellow-500 dark:text-yellow-400"})}),a.jsx("h3",{className:"font-semibold text-gray-800 dark:text-white",children:o("helpAndSupport.videoTutorials")||"Video Tutorials"})]}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-3",children:o("helpAndSupport.videoTutorialsDescription")||"Watch videos to get started."}),a.jsx("button",{onClick:re,className:"text-sm text-indigo-600 dark:text-indigo-400 font-medium hover:underline",children:o("helpAndSupport.watchTutorials")||"Watch Tutorials"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200 mb-4",children:o("helpAndSupport.frequentlyAskedQuestions")||"Frequently Asked Questions"}),a.jsxs("div",{className:"relative mb-4",children:[a.jsx(Y2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:o("actions.search")||"Search FAQs...",value:C,onChange:ne=>N(ne.target.value)})]}),a.jsx("div",{className:"space-y-2",children:J.length>0?J.map((ne,ie)=>a.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[a.jsxs("button",{className:"w-full text-left p-3 bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors flex justify-between items-center",onClick:()=>E(F===ie?null:ie),children:[a.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:ne.question}),a.jsx(I2,{className:`h-5 w-5 text-gray-500 dark:text-gray-400 transform transition-transform ${F===ie?"rotate-180":""}`})]}),F===ie&&a.jsx("div",{className:"p-3 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700",children:a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 whitespace-pre-line",children:ne.answer})})]},ie)):a.jsx("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:a.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:o("helpAndSupport.noMatchingFAQs")||"No matching FAQs found."})})})]})]})},H=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200",children:o("settings.account.title")||"Account Management"}),a.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[a.jsx(xe,{variant:"secondary",className:"w-full justify-center py-2",onClick:()=>Z("Sessions management not implemented yet"),children:o("settings.account.manageSessionsButton")||"Manage Logged-in Sessions"}),a.jsx(xe,{variant:"secondary",className:"w-full justify-center py-2 bg-blue-600 hover:bg-blue-700 text-white",onClick:()=>Z("Password change UI not fully implemented"),children:o("settings.account.managePasswordButton")||"Manage Password (OAuth?)"}),a.jsx(xe,{variant:"secondary",className:"w-full justify-center py-2 bg-amber-600 hover:bg-amber-700 text-white",onClick:()=>Z("Account deactivation not implemented"),children:o("settings.account.deactivateButton")||"Deactivate Account (Temporary)"}),a.jsx(xe,{variant:"destructive",className:"w-full justify-center py-2",onClick:D,disabled:k,children:k?o("buttons.deleting")||"Deleting...":o("settings.account.deletePermanentlyButton")||"Delete Account Permanently"})]})]}),Y=[{id:"profile",label:o("settings.tabs.profile")||"Profile",icon:Nr,content:se},{id:"appearance",label:o("settings.tabs.appearance")||"Appearance",icon:yT,content:R},{id:"notifications",label:o("settings.tabs.notifications")||"Notifications",icon:zi,content:fe},{id:"privacy",label:o("settings.tabs.privacy")||"Privacy",icon:z2,content:oe},{id:"security",label:o("settings.tabs.security")||"Security",icon:jT,content:G},{id:"account",label:o("settings.tabs.account")||"Account",icon:$2,content:H},{id:"help",label:o("settings.tabs.help")||"Help & Support",icon:kT,content:X}];if(v&&!u)return a.jsx("div",{className:"flex justify-center items-center min-h-screen",children:a.jsx(Ee,{size:"lg"})});if(!e&&!v)return a.jsx(ci,{to:"/login",replace:!0});const K=Y.find(U=>U.id===l);return a.jsxs("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-8",children:o("settings.pageTitle")||"Settings"}),a.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[a.jsx("aside",{className:"w-full lg:w-64 flex-shrink-0 mb-6 lg:mb-0",children:a.jsx("div",{className:"sticky top-6 space-y-1 bg-white dark:bg-gray-800 rounded-lg shadow p-3",children:a.jsxs("nav",{className:"space-y-1",children:[Y.map(U=>a.jsxs("button",{onClick:()=>c(U.id),className:`group flex items-center px-3 py-2 text-sm font-medium rounded-md w-full text-left ${l===U.id?"bg-indigo-50 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-200":"text-gray-600 hover:bg-gray-50 hover:text-gray-900 dark:text-gray-400 dark:hover:bg-gray-800 dark:hover:text-white"}`,children:[a.jsx(U.icon,{className:`mr-3 flex-shrink-0 h-5 w-5 ${l===U.id?"text-indigo-500 dark:text-indigo-400":"text-gray-400 group-hover:text-gray-500 dark:text-gray-500 dark:group-hover:text-gray-400"}`}),U.label]},U.id)),a.jsxs("button",{onClick:S,className:"group flex items-center px-3 py-2 text-sm font-medium rounded-md w-full text-left text-gray-600 hover:bg-red-50 hover:text-red-700 dark:text-gray-400 dark:hover:bg-red-900/20 dark:hover:text-red-400 mt-4",children:[a.jsx(sx,{className:"mr-3 flex-shrink-0 h-5 w-5 text-gray-400 group-hover:text-red-500 dark:group-hover:text-red-400"}),"Logout"]})]})})}),a.jsx("div",{className:"flex-1 bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:K?K.content():a.jsx("div",{children:"Select a category"})})]})]})},nz=[{name:"Emma Johnson",avatar:"https://randomuser.me/api/portraits/women/1.jpg",bio:"Digital marketing specialist with 5+ years experience"},{name:"Liam Wilson",avatar:"https://randomuser.me/api/portraits/men/2.jpg",bio:"Software engineer passionate about AI and machine learning"},{name:"Olivia Martinez",avatar:"https://randomuser.me/api/portraits/women/3.jpg",bio:"Travel blogger exploring hidden gems around the world"},{name:"Noah Thompson",avatar:"https://randomuser.me/api/portraits/men/4.jpg",bio:"Fitness trainer specialized in nutrition and weight loss"},{name:"Sophia Anderson",avatar:"https://randomuser.me/api/portraits/women/5.jpg",bio:"Graphic designer with an eye for minimalist aesthetics"},{name:"Elijah Taylor",avatar:"https://randomuser.me/api/portraits/men/6.jpg",bio:"Photographer capturing beautiful landscapes and wildlife"},{name:"Ava Thomas",avatar:"https://randomuser.me/api/portraits/women/7.jpg",bio:"UX researcher focused on creating intuitive interfaces"},{name:"Lucas Walker",avatar:"https://randomuser.me/api/portraits/men/8.jpg",bio:"Chef specializing in fusion cuisine and baking"}],sz=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(null),[s,o]=m.useState([]),[i,l]=m.useState([]),[c,u]=m.useState(!1),[d,f]=m.useState({totalUsers:0,totalGroups:0,totalPosts:0,totalEvents:0}),{user:h}=at(),g=st(),b=async()=>{try{t(!0),console.log("Fetching mock users...");const{data:j,error:C}=await L.from("profiles").select("*").order("created_at",{ascending:!1});if(C)throw C;console.log("Fetched users:",(j==null?void 0:j.length)||0,"users found"),o(j||[])}catch(j){console.error("Error fetching users:",j),q.error("Failed to load users")}finally{t(!1)}},x=async()=>{try{const{data:j,error:C}=await L.from("chat_groups").select("*").order("created_at",{ascending:!1});if(C)throw C;l(j||[])}catch(j){console.error("Error fetching groups:",j)}},w=async()=>{u(!0);try{const{count:j,error:C}=await L.from("profiles").select("*",{count:"exact",head:!0});if(C)throw C;const{count:N,error:F}=await L.from("chat_groups").select("*",{count:"exact",head:!0});if(F)throw F;const{count:E,error:I}=await L.from("posts").select("*",{count:"exact",head:!0});let P=0;I||(P=E||0);const{count:O,error:A}=await L.from("events").select("*",{count:"exact",head:!0});let $=0;A||($=O||0),f({totalUsers:j||0,totalGroups:N||0,totalPosts:P,totalEvents:$})}catch(j){console.error("Error fetching stats:",j)}finally{u(!1)}};m.useEffect(()=>{h&&(b(),x(),w())},[h]);const p=async()=>{var j;try{n("creating"),console.log("Creating mock users...");let C=0,N=0;const{data:F,error:E}=await L.from("profiles").select("full_name, email").order("created_at",{ascending:!1});if(E){console.error("Error fetching existing profiles:",E),q.error(`Error checking existing profiles: ${E.message}`);return}console.log(`Found ${(F==null?void 0:F.length)||0} existing profiles`);const I=new Set((F==null?void 0:F.map(O=>O.full_name.toLowerCase()))||[]),P=new Set((F==null?void 0:F.map(O=>{var A;return(A=O.email)==null?void 0:A.toLowerCase()}))||[]);for(const O of nz){if(I.has(O.name.toLowerCase())){console.log(`Skipping ${O.name} - user with this name already exists`);continue}const A=`test_${Math.random().toString(36).substring(2,10)}@example.com`;if(P.has(A.toLowerCase())){console.log(`Skipping ${O.name} - generated email ${A} already exists`);continue}const{data:$,error:D}=await L.auth.signUp({email:A,password:"test123456",options:{data:{full_name:O.name}}});if(D){console.error(`Error creating auth user for ${O.name}:`,D),N++;continue}const{error:z}=await L.from("profiles").insert([{id:(j=$.user)==null?void 0:j.id,full_name:O.name,avatar_url:O.avatar,bio:O.bio,email:A,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]);if(z){console.error(`Error creating profile for ${O.name}:`,z),N++;continue}C++}q.success(`Created ${C} users successfully${N>0?` (${N} failed)`:""}`),b()}catch(C){console.error("Error creating mock users:",C),q.error("Failed to create mock users")}finally{n(null)}},y=async()=>{if(h)try{n("group");const j=s.slice(0,4);if(j.length<2){q.error("Need at least 2 other users to create a group");return}const{data:C,error:N}=await L.from("chat_groups").insert({name:`Group Chat ${Math.floor(Math.random()*1e3)}`,description:"A mock group chat for testing",created_by:h.id,created_at:new Date().toISOString(),avatar_url:"https://ui-avatars.com/api/?name=Group+Chat&background=random"}).select();if(N)throw N;if(C&&C[0]){const F=C[0].id;await L.from("chat_group_members").insert({group_id:F,user_id:h.id,joined_at:new Date().toISOString(),is_admin:!0});const E=j.map(I=>L.from("chat_group_members").insert({group_id:F,user_id:I.id,joined_at:new Date().toISOString(),is_admin:!1}));await Promise.all(E),await L.from("chat_messages").insert({group_id:F,user_id:h.id,content:"Welcome to the group chat!",created_at:new Date().toISOString()}),q.success("Group chat created successfully"),x()}}catch(j){console.error("Error creating mock group:",j),q.error("Failed to create mock group chat")}finally{n(null)}},v=j=>{g(`/chat/groups/${j}`)},_=j=>{g(`/messages/${j}`)},k=async()=>{if(!(!h||!window.confirm("Are you sure? This will delete all mock users and chat groups.")))try{n("deleting"),await L.from("profiles").delete().not("id","eq",h.id),await L.from("chat_groups").delete().neq("id",0),q.success("All mock data deleted successfully"),b(),x()}catch(j){console.error("Error deleting mock data:",j),q.error("Failed to delete mock data")}finally{n(null)}};return e?a.jsx("div",{className:"flex justify-center items-center py-8",children:a.jsx(Ee,{size:"lg"})}):a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 mb-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Admin Dashboard"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage users, groups, and system settings"})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 mt-4 sm:mt-0",children:[a.jsx("button",{onClick:p,disabled:r==="creating",className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-indigo-500 to-rose-500 hover:opacity-90 text-white rounded-lg transition-colors",children:r==="creating"?a.jsxs(a.Fragment,{children:[a.jsx(Ee,{size:"sm",className:"mr-2"}),"Creating..."]}):a.jsxs(a.Fragment,{children:[a.jsx($n,{className:"mr-2"}),"Create Mock Users"]})}),a.jsx("button",{onClick:y,disabled:r==="group"||s.length<2,className:"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:r==="group"?a.jsxs(a.Fragment,{children:[a.jsx(Ee,{size:"sm",className:"mr-2"}),"Creating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(ln,{className:"mr-2"}),"Create Mock Group"]})}),a.jsx("button",{onClick:k,disabled:r==="deleting",className:"inline-flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:r==="deleting"?a.jsxs(a.Fragment,{children:[a.jsx(Ee,{size:"sm",className:"mr-2"}),"Deleting..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Us,{className:"mr-2"}),"Delete All"]})}),a.jsxs("button",{onClick:()=>{b(),x(),w()},className:"inline-flex items-center px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:[a.jsx(F2,{className:"mr-2"}),"Refresh"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[a.jsx("div",{className:"bg-white dark:bg-gray-750 p-4 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-3 rounded-full bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-300",children:a.jsx(qe,{className:"h-6 w-6"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Total Users"}),a.jsx("div",{className:"text-2xl font-semibold text-gray-800 dark:text-white",children:c?a.jsx(Ee,{size:"sm"}):d.totalUsers})]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-750 p-4 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-3 rounded-full bg-green-100 dark:bg-green-900 text-green-600 dark:text-green-300",children:a.jsx(qe,{className:"h-6 w-6"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Groups"}),a.jsx("div",{className:"text-2xl font-semibold text-gray-800 dark:text-white",children:c?a.jsx(Ee,{size:"sm"}):d.totalGroups})]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-750 p-4 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-3 rounded-full bg-purple-100 dark:bg-purple-900 text-purple-600 dark:text-purple-300",children:a.jsx(bc,{className:"h-6 w-6"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Posts"}),a.jsx("div",{className:"text-2xl font-semibold text-gray-800 dark:text-white",children:c?a.jsx(Ee,{size:"sm"}):d.totalPosts})]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-750 p-4 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-3 rounded-full bg-yellow-100 dark:bg-yellow-900 text-yellow-600 dark:text-yellow-300",children:a.jsx(pT,{className:"h-6 w-6"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Events"}),a.jsx("div",{className:"text-2xl font-semibold text-gray-800 dark:text-white",children:c?a.jsx(Ee,{size:"sm"}):d.totalEvents})]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"border dark:border-gray-700 p-4 rounded-lg",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[a.jsx(Nr,{className:"mr-2"}),"Users (",s.length,")"]}),a.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto pr-2",children:s.length===0?a.jsx("div",{className:"text-center py-4 text-gray-500 dark:text-gray-400",children:"No users found. Create some mock users to get started."}):s.map(j=>a.jsxs("div",{className:"flex items-center justify-between bg-gray-50 dark:bg-gray-750 p-3 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(aa,{src:j.avatar_url,name:j.full_name,size:"md"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:j.full_name}),j.bio&&a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 line-clamp-1",children:j.bio})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>_(j.id),className:"px-3 py-1 text-sm bg-gradient-to-r from-indigo-500/10 to-rose-500/10 text-indigo-700 dark:text-indigo-300 rounded-md hover:from-indigo-500/20 hover:to-rose-500/20 dark:hover:from-indigo-500/20 dark:hover:to-rose-500/20",children:"Message"}),a.jsx("button",{className:"px-3 py-1 text-sm bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600",onClick:()=>g(`/profile/${j.id}`),children:"View Profile"})]})]},j.id))})]}),a.jsxs("div",{className:"border dark:border-gray-700 p-4 rounded-lg",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[a.jsx(qe,{className:"mr-2"}),"Groups (",i.length,")"]}),a.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto pr-2",children:i.length===0?a.jsx("div",{className:"text-center py-4 text-gray-500 dark:text-gray-400",children:"No groups found. Create a mock group to get started."}):i.map(j=>a.jsxs("div",{className:"flex items-center justify-between bg-gray-50 dark:bg-gray-750 p-3 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(aa,{src:j.avatar_url,name:j.name,size:"md"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:j.name}),j.description&&a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 line-clamp-1",children:j.description})]})]}),a.jsx("button",{onClick:()=>v(j.id),className:"px-3 py-1 text-sm bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300 rounded-md hover:bg-blue-200 dark:hover:bg-blue-800",children:"View Group"})]},j.id))})]})]}),a.jsxs("div",{className:"mt-8",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[a.jsx(z2,{className:"mr-2"}),"Admin Tools"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("button",{onClick:()=>g("/admin/chat-diagnostics"),className:"p-4 bg-white dark:bg-gray-750 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-left",children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Chat Diagnostics"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Test and debug chat functionality"})]}),a.jsxs("button",{onClick:()=>g("/settings"),className:"p-4 bg-white dark:bg-gray-750 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-left",children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"System Settings"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Configure application settings"})]}),a.jsxs("button",{onClick:()=>window.open("/setup-database.js"),className:"p-4 bg-white dark:bg-gray-750 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-left",children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Database Setup"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Initialize and configure database tables"})]})]})]})]})})},oz=e=>{if(!e)return"";try{return yl(new Date(e),"p")}catch(t){return console.error("Error formatting time:",t),"Invalid date"}},Y4=ht.memo(({message:e,isCurrentUser:t,currentUserProfile:r,getMessageStyle:n})=>{const{t:s}=Mr(),o=t?r:e.profiles,i=(o==null?void 0:o.full_name)||(t?"You":s("group_chat.unknown_user")),l=(o==null?void 0:o.avatar_url)||"/default-avatar.png";return a.jsxs("div",{className:`flex items-end gap-2.5 ${t?"justify-end":"justify-start"} mb-2`,children:[!t&&a.jsx("img",{src:l,alt:i,className:"h-6 w-6 rounded-full flex-shrink-0 border border-gray-200 dark:border-gray-600 self-start mt-1",onError:c=>c.currentTarget.src="/default-avatar.png"}),a.jsxs("div",{className:`flex flex-col ${t?"items-end":"items-start"} max-w-[75%]`,children:[!t&&o&&a.jsx("span",{className:"text-xs font-medium mb-0.5 text-indigo-600 dark:text-indigo-400 ml-1",children:i}),a.jsxs("div",{className:n(t),children:[a.jsx("p",{className:"whitespace-pre-wrap",children:e.content}),a.jsx("span",{className:`text-[10px] mt-1 ${t?"text-indigo-100/80":"text-gray-500 dark:text-gray-400"} ${t?"text-right":"text-left"} block opacity-80`,children:oz(e.created_at)})]})]}),t&&a.jsx("img",{src:l,alt:i,className:"h-6 w-6 rounded-full flex-shrink-0 border border-gray-200 dark:border-gray-600 self-start mt-1 ml-1",onError:c=>c.currentTarget.src="/default-avatar.png"})]})});Y4.displayName="MessageItem";const az=()=>{const{id:e}=Hu(),{user:t}=at(),r=st(),{t:n}=Mr(),[s,o]=m.useState([]),[i,l]=m.useState(""),[c,u]=m.useState(!0),[d,f]=m.useState(null),[h,g]=m.useState(null),b=m.useRef(null),[x,w]=m.useState(!1),[p,y]=m.useState(!1),[v,_]=m.useState([]),[k,j]=m.useState(!1),[C,N]=m.useState(null),[F,E]=m.useState(!1),[I,P]=m.useState("default"),[O,A]=m.useState("rounded"),[$,D]=m.useState("medium"),[z,S]=m.useState(!1),[M,T]=m.useState(null),[B,V]=m.useState(null),re=()=>{E(U=>!U)},se=async()=>{if(!e||!t){f(n("group_chat.error_invalid_group_id")),u(!1);return}u(!0),f(null);try{const{data:U,error:J}=await L.from("profiles").select("id, full_name, avatar_url").eq("id",t.id).single();!J&&U&&V(U);const{data:ne,error:ie}=await L.from("groups").select("id, name, description, image_url").eq("id",e).single();if(ie)throw ie.code==="PGRST116"?new Error(n("group_chat.error_group_not_found")):ie;g({id:ne.id,name:ne.name,description:ne.description,image_url:ne.image_url}),console.log(`[fetchInitialData] Checking membership for user ${t.id} in group ${e}...`);try{const{count:je,error:Pt}=await L.from("chat_group_members").select("*",{count:"exact",head:!0}).eq("group_id",e).eq("user_id",t.id);if(Pt)console.error("[fetchInitialData] Error checking membership via direct query:",Pt),w(!1);else{const bt=(je??0)>0;w(bt),console.log("[fetchInitialData] Membership check result via direct query:",{isMember:bt,count:je})}}catch(je){console.error("[fetchInitialData] Exception in membership check:",je),w(!1)}const{data:ue,error:Be}=await L.from("chat_messages").select("id, created_at, content, user_id, group_id").eq("group_id",e).order("created_at",{ascending:!0});if(Be){if(console.log("[fetchInitialData] Error fetching messages:",Be),!Be.message.includes("permission denied"))throw Be}else{console.log("[fetchInitialData] Fetched messages data:",ue);const je=ue||[],Pt=[...new Set(je.map(pe=>pe.user_id))];let bt={};if(Pt.length>0){const{data:pe,error:W}=await L.from("profiles").select("id, full_name, avatar_url").in("id",Pt);!W&&pe&&(bt=pe.reduce((he,we)=>(he[we.id]=we,he),{}))}const te=je.map(pe=>({...pe,profiles:bt[pe.user_id]||null}));o(te)}}catch(U){console.error("[fetchInitialData] Error fetching initial data:",U),f(U.message||n("group_chat.error_loading_chat"))}finally{u(!1)}};m.useEffect(()=>{if(!t){r("/login");return}se()},[t,r,e,n]);const fe=async()=>{if(e)try{j(!0),N(null);const{data:U,error:J}=await L.from("chat_group_members").select(`
          id,
          user_id,
          group_id,
          role,
          profiles (
            id,
            full_name,
            avatar_url
          )
        `).eq("group_id",e);if(J)throw console.error("Error fetching group members directly:",J),J;if(U&&U.length>0){const ne=U.map(ie=>({id:ie.id,user_id:ie.user_id,group_id:ie.group_id,role:ie.role,is_admin:ie.role==="admin",profiles:ie.profiles}));console.log("Fetched members with profiles:",ne),_(ne)}else console.log("No members found for group:",e),_([])}catch(U){console.error("Error fetching group members:",U),N(n("group_chat.error_loading_members"))}finally{j(!1)}};m.useEffect(()=>{p&&v.length===0&&!k&&fe()},[p,v.length,k,e,n]),m.useEffect(()=>{if(!e)return;const U=L.channel(`group_chat_${e}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_messages",filter:`group_id=eq.${e}`},async J=>{console.log("New message received:",J);const ne=J.new;if(ne.user_id)try{const{data:ie}=await L.from("profiles").select("id, full_name, avatar_url").eq("id",ne.user_id).single();o(ue=>ue.some(Be=>Be.id===ne.id)?ue:[...ue,{...ne,profiles:ie||null}])}catch(ie){console.error("Error fetching profile for new message:",ie),o(ue=>ue.some(Be=>Be.id===ne.id)?ue:[...ue,{...ne,profiles:null}])}}).subscribe(J=>{J==="SUBSCRIBED"?console.log(`Subscribed to group_chat_${e}`):J==="CHANNEL_ERROR"&&(console.error(`Subscription error on channel group_chat_${e}`),f(n("group_chat.error_realtime_connection")))});return()=>{L.removeChannel(U).then(J=>console.log(`Unsubscribed from group_chat_${e}:`,J))}},[e,n]);const oe=async()=>{if(!(!e||!t))try{const{data:U,error:J}=await L.rpc("get_chat_group_settings",{p_group_id:e,p_user_id:t.id});if(J)throw J;U&&(T(U),U.theme&&P(U.theme),U.bubble_style&&A(U.bubble_style),U.font_size&&D(U.font_size))}catch(U){console.error("Error fetching group settings:",U)}},R=async()=>{if(!(!e||!t))try{const{error:U}=await L.from("group_chat_settings").upsert({group_id:e,user_id:t.id,theme:I,bubble_style:O,font_size:$,updated_at:new Date().toISOString()});if(U)throw U;Z.success(n("group_chat.settings_saved"))}catch(U){console.error("Error saving chat settings:",U),Z.error(n("group_chat.error_saving_settings"))}};m.useEffect(()=>{se(),oe()},[e,t]);const G=async U=>{U.preventDefault();let J=`temp-${Date.now()}`;if(!i.trim()||!t||!e)return;const ne=i.trim(),ie=t.id,ue=e;l("");const Be={id:J,content:ne,user_id:ie,group_id:ue,created_at:new Date().toISOString(),profiles:B};o(je=>[...je,Be]);try{const{data:je,error:Pt}=await L.from("chat_messages").insert({content:ne,group_id:ue,user_id:ie}).select("id, created_at").single();if(Pt){console.error("Error inserting message directly:",Pt),o(bt=>bt.filter(te=>te.id!==J)),Z.error(n("group_chat.error_sending_message")),l(ne);return}console.log("Message inserted successfully:",je),o(bt=>bt.map(te=>te.id===J?{...te,id:je.id,created_at:je.created_at}:te))}catch(je){console.error("Error sending message catch block:",je),o(Pt=>Pt.filter(bt=>bt.id!==J)),Z.error(n("group_chat.error_sending_message")),l(ne)}};m.useEffect(()=>{b.current&&b.current.scrollIntoView({behavior:"smooth"})},[s]);const X=async()=>{if(!t||!e)return;const U=e,J=t.id;try{const{data:ne,error:ie}=await L.from("chat_group_members").insert({group_id:U,user_id:J}).select().single();if(ie)if(ie.code==="23505")console.warn("User might already be a member or rejoining failed due to constraint:",ie),w(!0),Z.success(n("group_chat.joined_group_success"));else{console.error("Error inserting group membership:",ie),Z.error(n("group_chat.error_joining_group"));return}else console.log("Successfully inserted group membership:",ne),Z.success(n("group_chat.joined_group_success")),w(!0);se()}catch(ne){console.error("Error in handleJoinGroup catch block:",ne),Z.error(ne.message||n("group_chat.error_joining_group"))}},H=U=>{let J="";switch(I){case"modern":J=U?"bg-gradient-to-br from-blue-500 to-indigo-600 text-white":"bg-gray-200 dark:bg-gray-800 text-gray-900 dark:text-gray-100";break;case"minimal":J=U?"bg-indigo-100 dark:bg-indigo-900 text-indigo-800 dark:text-indigo-100 border border-indigo-200 dark:border-indigo-800":"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200 border border-gray-200 dark:border-gray-700";break;case"colorful":J=U?"bg-gradient-to-br from-pink-500 to-orange-500 text-white":"bg-gradient-to-br from-cyan-500 to-blue-500 text-white";break;default:J=U?"bg-gradient-to-br from-indigo-500 to-purple-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-gray-100"}switch(O){case"square":J+=" rounded-md";break;case"bubble":J+=U?" rounded-2xl rounded-br-sm":" rounded-2xl rounded-bl-sm";break;default:J+=U?" rounded-xl rounded-br-sm":" rounded-xl rounded-bl-sm"}switch($){case"small":J+=" text-xs";break;case"large":J+=" text-base";break;default:J+=" text-sm"}return`${J} px-3.5 py-2 shadow-sm break-words`},Y=()=>a.jsxs("div",{className:"sticky top-0 z-10 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800 px-4 py-3 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("button",{onClick:()=>r("/messages"),className:"mr-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:a.jsx(nu,{size:20})}),a.jsxs("div",{className:"flex items-center",children:[h!=null&&h.image_url?a.jsx("img",{src:h.image_url,alt:h.name,className:"w-8 h-8 rounded-full mr-2",onError:U=>U.currentTarget.src="/default-group.png"}):a.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-100 dark:bg-indigo-900 flex items-center justify-center mr-2",children:a.jsx(qe,{size:16,className:"text-indigo-600 dark:text-indigo-400"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"font-medium text-gray-900 dark:text-white",children:h==null?void 0:h.name}),a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[v.length," ",n("group_chat.members")]})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>y(!0),className:"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white p-1.5 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800","aria-label":n("group_chat.view_members"),children:a.jsx(qe,{size:18})}),a.jsx("button",{onClick:()=>S(!z),className:"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white p-1.5 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800","aria-label":n("group_chat.settings"),children:a.jsx($2,{size:18})}),a.jsx("button",{onClick:re,className:"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white p-1.5 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800",children:F?a.jsx(ET,{size:18}):a.jsx(NT,{size:18})})]})]}),K=()=>a.jsxs("div",{className:`${z?"block":"hidden"} p-4 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700`,children:[a.jsx("h3",{className:"font-medium text-gray-900 dark:text-white mb-3",children:n("group_chat.appearance_settings")}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:n("group_chat.chat_theme")}),a.jsx("div",{className:"flex space-x-2",children:["default","modern","minimal","colorful"].map(U=>a.jsx("button",{onClick:()=>P(U),className:`px-3 py-1.5 text-xs rounded-full ${I===U?"bg-indigo-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:n(`group_chat.theme_${U}`)},U))})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:n("group_chat.bubble_style")}),a.jsx("div",{className:"flex space-x-2",children:["rounded","square","bubble"].map(U=>a.jsx("button",{onClick:()=>A(U),className:`px-3 py-1.5 text-xs rounded-full ${O===U?"bg-indigo-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:n(`group_chat.style_${U}`)},U))})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:n("group_chat.font_size")}),a.jsx("div",{className:"flex space-x-2",children:["small","medium","large"].map(U=>a.jsx("button",{onClick:()=>D(U),className:`px-3 py-1.5 text-xs rounded-full ${$===U?"bg-indigo-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:n(`group_chat.size_${U}`)},U))})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{onClick:R,className:"px-4 py-1.5 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:n("group_chat.save_settings")})})]});return c&&s.length===0?a.jsx("div",{className:"flex justify-center items-center h-full",children:a.jsx(Ee,{size:"lg"})}):d&&!h?a.jsxs("div",{className:"p-4 text-center",children:[a.jsx("p",{className:"text-red-600 dark:text-red-400",children:d}),a.jsx("button",{onClick:()=>r("/groups"),className:"mt-4 px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700",children:n("group_chat.back_to_groups")})]}):a.jsxs("div",{className:`flex flex-col h-screen ${F?"fixed inset-0 z-50 bg-white dark:bg-gray-900":""}`,children:[Y(),K(),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-50 dark:bg-gray-900",children:[!x&&h&&a.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-4 text-center",children:[a.jsx("p",{className:"text-yellow-800 dark:text-yellow-200 mb-2",children:n("group_chat.not_a_member")||"You are not a member of this group."}),a.jsx("button",{onClick:X,className:"px-4 py-2 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-lg hover:opacity-90 transition",children:n("group_chat.join_group")||"Join Group"})]}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-3 sm:p-4 space-y-1 pb-16",children:[d&&h&&a.jsx("p",{className:"text-red-500 dark:text-red-400 text-center text-sm mb-2",children:d}),c&&s.length===0&&a.jsx("div",{className:"flex justify-center pt-4",children:a.jsx(Ee,{})}),!c&&s.length===0&&a.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center pt-4",children:n("group_chat.no_messages_yet")}),!c&&s.length>0&&s.map(U=>a.jsx(Y4,{message:U,isCurrentUser:U.user_id===(t==null?void 0:t.id),currentUserProfile:{avatar_url:B==null?void 0:B.avatar_url,full_name:B==null?void 0:B.full_name},getMessageStyle:H},U.id)),a.jsx("div",{ref:b})]}),a.jsx("footer",{className:"fixed bottom-0 left-0 right-0 p-3 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-850",children:x?a.jsxs("form",{onSubmit:G,className:"flex items-center space-x-2",children:[a.jsx("input",{type:"text",value:i,onChange:U=>l(U.target.value),placeholder:n("group_chat.type_a_message"),className:"flex-1 px-4 py-2.5 bg-gray-100 dark:bg-gray-700 border border-transparent rounded-full focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 text-sm transition duration-150 ease-in-out"}),a.jsx("button",{type:"submit",disabled:!i.trim(),className:"flex-shrink-0 flex items-center justify-center p-2.5 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-full hover:opacity-90 transition duration-150 ease-in-out disabled:opacity-50 disabled:cursor-not-allowed","aria-label":n("group_chat.send_message"),children:a.jsx(ep,{size:18})})]}):a.jsx("div",{className:"flex justify-center items-center p-2",children:a.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:n("group_chat.join_to_send_messages")||"Join the group to send messages"})})})]}),a.jsx(Gp,{open:p,onOpenChange:y,children:a.jsxs(pd,{className:"sm:max-w-md",children:[a.jsx(yd,{children:a.jsx(xd,{children:n("group_chat.group_members")})}),a.jsx("div",{className:"max-h-[60vh] overflow-y-auto my-4",children:k?a.jsx("div",{className:"flex justify-center py-4",children:a.jsx(Ee,{})}):C?a.jsx("div",{className:"text-center py-4 text-red-500",children:C}):a.jsx("div",{className:"space-y-3",children:v.map(U=>{var J,ne,ie;return a.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("img",{src:((J=U.profiles)==null?void 0:J.avatar_url)||"/default-avatar.png",alt:((ne=U.profiles)==null?void 0:ne.full_name)||"Member",className:"h-8 w-8 rounded-full",onError:ue=>ue.currentTarget.src="/default-avatar.png"}),a.jsx("div",{children:a.jsxs("div",{className:"font-medium text-gray-900 dark:text-white",children:[((ie=U.profiles)==null?void 0:ie.full_name)||n("group_chat.unknown_user"),U.is_admin&&a.jsx("span",{className:"ml-2 text-xs bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200 px-2 py-0.5 rounded-full",children:n("group_chat.admin")})]})})]}),U.user_id!==(t==null?void 0:t.id)&&a.jsx("button",{onClick:()=>r(`/profile/${U.user_id}`),className:"text-sm text-indigo-600 hover:text-indigo-800 dark:text-indigo-400 dark:hover:text-indigo-300",children:n("general.view_profile")})]},U.id)})})}),a.jsx("div",{className:"flex justify-end mt-4",children:a.jsx("button",{onClick:()=>y(!1),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-800 focus:outline-none",children:n("general.close")})})]})})]})},J4=ht.memo(({message:e,currentUserId:t})=>{const r=e.user_id===t,n=e.profiles,s=(n==null?void 0:n.avatar_url)||"/default-avatar.png",o=(n==null?void 0:n.full_name)||"Unknown User",i=l=>{try{return yl(new Date(l),"p")}catch(c){return console.error("Error formatting timestamp:",c),"Invalid Date"}};return a.jsxs("div",{className:`flex items-end ${r?"justify-end":"justify-start"} mb-2`,children:[!r&&a.jsx("img",{src:s,alt:o,className:"h-6 w-6 rounded-full flex-shrink-0 mr-2 mb-1 self-start border border-gray-200 dark:border-gray-600"}),a.jsxs("div",{className:`flex flex-col ${r?"items-end":"items-start"} max-w-xs sm:max-w-md lg:max-w-lg`,children:[!r&&n&&a.jsx("span",{className:"text-xs font-medium mb-0.5 text-rose-600 dark:text-rose-400 ml-1",children:o}),a.jsxs("div",{className:`px-3 py-2 shadow-sm break-words ${r?"bg-gradient-to-br from-rose-500 to-red-600 text-white rounded-t-lg rounded-bl-lg":"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-t-lg rounded-br-lg"}`,children:[a.jsx("p",{className:"text-sm whitespace-pre-wrap",children:e.content}),a.jsx("span",{className:`text-[10px] mt-1 ${r?"text-white/70":"text-gray-500 dark:text-gray-400"} ${r?"text-right":"text-left"} block`,children:i(e.created_at)})]})]})]})});J4.displayName="MessageItem";const iz=()=>{const{eventId:e}=Hu(),{user:t}=at(),{t:r}=ot(),[n,s]=m.useState([]),[o,i]=m.useState(""),[l,c]=m.useState(!0),[u,d]=m.useState(null),[f,h]=m.useState(!1),[g,b]=m.useState(null),x=m.useRef(null),[w,p]=m.useState([]),[y,v]=m.useState(!1),[_,k]=m.useState(0),[j,C]=m.useState(!1),N=()=>{var A;(A=x.current)==null||A.scrollIntoView({behavior:"smooth"})},F=async A=>{try{if(A.startsWith("sample-")){console.log(`Loading sample event with ID: ${A}`);const fe={id:A,title:`Sample Event ${A.split("-")[1]||"Unknown"}`,start_date:new Date().toISOString(),description:"This is a sample event for demonstration purposes.",location:"Online"};return b(fe),fe}if(!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(A)){console.error(`EventId is not a valid UUID: ${A}`);const fe=A.substring(0,8),oe={id:A,title:`${r("events.title")} ${fe}`,start_date:new Date().toISOString(),description:r("event_chat.error_event_not_found"),location:r("event_chat.unknown_location")||"Unknown"};return b(oe),oe}console.log(`Fetching event with ID: ${A}`);const{data:z,error:S}=await L.from("events").select("*").eq("id",A).maybeSingle();if(S&&console.error(`Database error in direct fetch: ${S.message}`),z){console.log("Successfully fetched event:",z);const fe={id:z.id,title:z.title,start_date:z.start_date||z.start_time||new Date().toISOString(),description:z.description,location:z.location};return b(fe),fe}console.log(`No event found with direct ID match: ${A}, trying other queries`);const{data:M,error:T}=await L.from("events").select("*").or(`event_id.eq.${A},uuid.eq.${A}`).maybeSingle();if(!T&&M){console.log("Found event using alternative ID column:",M);const fe={id:M.id||A,title:M.title,start_date:M.start_date||M.start_time||new Date().toISOString(),description:M.description,location:M.location};return b(fe),fe}const{data:B,error:V}=await L.from("event_attendees").select(`
          event_id,
          events:events (
            id, title, start_date, description, location
          )
        `).eq("event_id",A).limit(1);if(!V&&B&&B.length>0&&(console.log("Found event through attendance:",B[0]),B[0].events&&typeof B[0].events=="object")){const fe=Array.isArray(B[0].events)?B[0].events[0]:B[0].events;if(fe&&fe.id){const oe={id:fe.id,title:fe.title||`Event ${A.substring(0,8)}`,start_date:fe.start_date||new Date().toISOString(),description:fe.description||"No description available",location:fe.location||"No location specified"};return b(oe),oe}}console.log(`Creating fallback event for ID: ${A}`);const re=A.substring(0,8),se={id:A,title:`${r("events.title")} ${re}`,start_date:new Date().toISOString(),description:r("event_chat.error_event_not_found"),location:r("event_chat.unknown_location")||"Unknown"};return b(se),d("Error loading event details. Using fallback information."),se}catch($){console.error("Error in fetchEvent:",$);const D=A.substring(0,8),z={id:A,title:`${r("events.title")} ${D}`,start_date:new Date().toISOString(),description:r("event_chat.error_event_not_found"),location:r("event_chat.unknown_location")||"Unknown"};return b(z),d("Error loading event details. Using fallback information."),z}},E=m.useCallback(async()=>{if(!(!e||!t)){c(!0),d(null);try{if(await F(e),e.startsWith("sample-")){s([]),k(Math.floor(Math.random()*20)+5),c(!1);return}console.log(`Fetching messages for event: ${e}`);try{const{data:A,error:$}=await L.from("event_messages").select("*, profiles:user_id (full_name, avatar_url)").eq("event_id",e).order("created_at",{ascending:!0}).limit(50);$?console.error(`Error fetching messages: ${$.message}`):(s(A||[]),console.log(`Fetched ${(A==null?void 0:A.length)||0} messages for event ${e}`))}catch(A){console.error("Error fetching messages:",A),s([])}try{console.log(`Fetching attendee count for event: ${e}`);const{count:A,error:$}=await L.from("event_attendees").select("*",{count:"exact",head:!0}).eq("event_id",e).in("status",["going","interested",null]);if($)console.error(`Error fetching attendee count: ${$.message}`),k(0);else{console.log(`Found ${A||0} attendees for event ${e}`);const D=A??0;_!==D&&k(D)}}catch(A){console.error("Error fetching attendee count:",A),k(0)}}catch(A){console.error("Error fetching event data:",A),d(A.message||"Failed to load event chat."),g||b({id:e,title:`Event ${e.substring(0,8)}...`,start_date:new Date().toISOString(),description:"Event information unavailable.",location:"Unknown"})}finally{c(!1)}}},[e,t]);m.useEffect(()=>{E()},[E]),m.useEffect(()=>{N()},[n]),m.useEffect(()=>{if(!e||e.startsWith("sample-"))return;const A=L.channel(`event_chat:${e}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"event_messages",filter:`event_id=eq.${e}`},async $=>{if(console.log("New message received:",$),$.new&&$.new.user_id!==(t==null?void 0:t.id)){const{data:D,error:z}=await L.from("event_messages").select(`
                *,
                profiles:user_id (
                  full_name,
                  avatar_url
                )
              `).eq("id",$.new.id).single();if(z){console.error("Error fetching profile for new message:",z);const S={...$.new,profiles:null};s(M=>[...M,S])}else if(D){const S={id:D.id,content:D.content,created_at:D.created_at,user_id:D.user_id,profiles:Array.isArray(D.profiles)&&D.profiles.length>0?{full_name:D.profiles[0].full_name||"",avatar_url:D.profiles[0].avatar_url||null}:null};s(M=>[...M,S]),N()}}}).subscribe(($,D)=>{$==="SUBSCRIBED"&&console.log(`Subscribed to event chat ${e}`),($==="CHANNEL_ERROR"||$==="TIMED_OUT")&&(console.error(`Subscription error: ${$}`,D),d("Connection error. Real-time updates may be unavailable."))});return()=>{L.removeChannel(A),console.log(`Unsubscribed from event chat ${e}`)}},[e,t]);const I=async A=>{var $;if(A.preventDefault(),!(!o.trim()||!t||f))try{h(!0);const D={id:`temp-${Date.now()}`,event_id:e,user_id:t.id,content:o.trim(),created_at:new Date().toISOString(),profiles:t.user_metadata?{full_name:t.user_metadata.full_name||(($=t.email)==null?void 0:$.split("@")[0])||"User",avatar_url:t.user_metadata.avatar_url||null}:null};if(s(M=>[...M,D]),i(""),N(),e&&e.startsWith("sample-")){h(!1);return}const{data:z,error:S}=await L.from("event_messages").insert({event_id:e,user_id:t.id,content:D.content,created_at:D.created_at}).select();if(S)throw S;z&&z.length>0&&s(M=>M.map(T=>T.id===D.id?{...T,id:z[0].id}:T))}catch(D){console.error("Error sending message:",D),d(r("event_chat.error_sending_message")),s(z=>z.filter(S=>S.id!==`temp-${Date.now()}`))}finally{h(!1)}},P=m.useCallback(async()=>{if(!(!e||!y))try{if(e.startsWith("sample-")){p([{user_id:"sample-user-1",profiles:{full_name:"Sample User 1",avatar_url:null}},{user_id:"sample-user-2",profiles:{full_name:"Sample User 2",avatar_url:null}},{user_id:"sample-user-3",profiles:{full_name:"Sample User 3",avatar_url:null}}]);return}const{data:A,error:$}=await L.from("event_attendees").select(`
                user_id,
                profiles:user_id (
                    full_name,
                    avatar_url
                )
            `).eq("event_id",e).in("status",["going","interested",null]);if($)throw $;const D=(A||[]).map(z=>{const S=z,M=S.profiles&&Array.isArray(S.profiles)&&S.profiles.length>0?{full_name:S.profiles[0].full_name||"Unknown User",avatar_url:S.profiles[0].avatar_url}:null;return{user_id:S.user_id,profiles:M}});p(D)}catch(A){console.error("Error fetching event attendees:",A),p([])}},[e,y]);m.useEffect(()=>{y&&P()},[y,P]);const O=()=>{C(A=>!A)};return l&&!g?a.jsx("div",{className:"flex justify-center items-center h-screen",children:a.jsx(Ee,{size:"lg"})}):u&&!g?a.jsxs("div",{className:"p-4",children:[a.jsxs(be,{to:"/events",className:"text-rose-600 hover:underline mb-4 inline-block",children:[a.jsx(nu,{className:"inline mr-1"})," Back to Events"]}),a.jsx(oa,{message:u})]}):a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 md:py-12",children:a.jsxs("div",{className:`flex flex-col rounded-xl shadow-md overflow-hidden border border-gray-200 dark:border-gray-700 h-[calc(100vh-12rem)] ${j?"fixed inset-0 z-50 h-screen w-screen max-w-none p-0 rounded-none":""}`,children:[a.jsx("header",{className:"flex-shrink-0 bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"w-full mx-auto px-3 py-2 flex items-center justify-between space-x-3",children:[a.jsx(be,{to:"/messages",className:"flex-shrink-0 text-gray-500 dark:text-gray-400 hover:text-rose-600 dark:hover:text-rose-500 transition-colors p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700","aria-label":r("event_chat.back_to_messages"),children:a.jsx(nu,{size:20})}),a.jsxs("div",{className:"flex flex-col min-w-0",children:[a.jsx("h1",{className:"text-lg md:text-xl font-semibold text-gray-900 dark:text-white truncate",children:(g==null?void 0:g.title)||r("event_chat.loading")}),a.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400",children:[a.jsxs("span",{children:[_," ",r("event_chat.attendees")]}),(g==null?void 0:g.start_date)&&a.jsxs("span",{className:"ml-2",children:[" ",yl(new Date(g.start_date),"dd.MM.yyyy")]})]})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("button",{onClick:O,className:"flex-shrink-0 text-gray-500 dark:text-gray-400 hover:text-rose-600 dark:hover:text-rose-500 transition-colors p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700","aria-label":r(j?"event_chat.exit_fullscreen":"event_chat.enter_fullscreen"),children:j?a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:a.jsx("path",{d:"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"})}):a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:a.jsx("path",{d:"M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"})})}),a.jsx("button",{onClick:()=>v(!0),className:"flex-shrink-0 text-gray-500 dark:text-gray-400 hover:text-rose-600 dark:hover:text-rose-500 transition-colors p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700","aria-label":r("event_chat.view_attendees"),children:a.jsx(qe,{size:20})}),a.jsxs(Im,{children:[a.jsx(Fm,{children:a.jsx("button",{className:"flex-shrink-0 text-gray-500 dark:text-gray-400 hover:text-rose-600 dark:hover:text-rose-500 transition-colors p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700","aria-label":r("event_chat.settings"),children:a.jsx(sd,{size:20})})}),a.jsxs(Su,{children:[a.jsxs(_r,{children:[a.jsx(vT,{className:"mr-2 h-4 w-4"}),r("event_chat.edit_event")]}),a.jsxs(_r,{children:[a.jsx(MT,{className:"mr-2 h-4 w-4"}),r("event_chat.delete_event")]})]})]})]})]})}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden bg-white dark:bg-gray-900",children:[a.jsxs("main",{className:"flex-1 overflow-y-auto p-3 sm:p-4 space-y-3 pb-16",children:[l&&n.length===0&&a.jsx("div",{className:"flex justify-center items-center h-full pt-10",children:a.jsx(Ee,{})}),u&&g&&a.jsx("div",{className:"my-4 px-2",children:a.jsx(oa,{message:`${r("event_chat.error_loading_messages")}: ${u}`})}),n.map(A=>a.jsx(J4,{message:A,currentUserId:t==null?void 0:t.id},A.id)),a.jsx("div",{ref:x,className:"h-1"})," "]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 p-3",children:[a.jsxs("form",{onSubmit:I,className:"flex items-center gap-3",children:[a.jsx("textarea",{value:o,onChange:A=>i(A.target.value),placeholder:r("event_chat.type_your_message"),className:"flex-grow resize-none border border-gray-300 dark:border-gray-600 rounded-lg p-2 focus:ring-1 focus:ring-indigo-500 dark:bg-gray-700 dark:text-white",rows:1,onKeyDown:A=>{A.key==="Enter"&&!A.shiftKey&&(A.preventDefault(),I(A))}}),a.jsx(xe,{type:"submit",disabled:!o.trim()||f,className:"p-2 flex-shrink-0",children:a.jsx(ep,{className:"h-5 w-5"})})]}),u&&!l&&a.jsx("p",{className:"text-xs text-red-500 mt-1 px-2",children:u})]})]}),y&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md max-h-[80vh] flex flex-col",children:[a.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("h3",{className:"text-lg font-semibold",children:[r("event_chat.event_attendees")," (",_,")"]}),a.jsx("button",{onClick:()=>v(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:a.jsx(cn,{size:20})})]}),a.jsx("div",{className:"overflow-y-auto p-4 flex-1",children:w.length===0?a.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400",children:r("event_chat.no_attendees_found")}):a.jsx("div",{className:"space-y-3",children:w.map(A=>{var $,D,z;return a.jsxs("div",{className:"flex items-center space-x-3 p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-200 dark:bg-gray-700 overflow-hidden",children:($=A.profiles)!=null&&$.avatar_url?a.jsx("img",{src:A.profiles.avatar_url,alt:A.profiles.full_name||r("event_chat.unknown_attendee"),className:"h-full w-full object-cover"}):a.jsx("div",{className:"h-full w-full flex items-center justify-center bg-gray-300 dark:bg-gray-600",children:a.jsx("span",{className:"text-gray-600 dark:text-gray-200 font-medium",children:(D=A.profiles)!=null&&D.full_name?A.profiles.full_name.charAt(0).toUpperCase():"?"})})}),a.jsx("div",{children:a.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:((z=A.profiles)==null?void 0:z.full_name)||r("event_chat.unknown_attendee")})})]},A.user_id)})})})]})})]})})})},lz=()=>{const{pathname:e}=rr();return m.useEffect(()=>{window.scrollTo(0,0)},[e]),null},cz=()=>a.jsx(Sc,{children:a.jsx(Em,{children:a.jsx(eO,{})})}),uz=()=>{const{isDarkMode:e}=qg();return a.jsx(a2,{children:a.jsxs(lT,{children:[a.jsx(V5,{position:"bottom-right",toastOptions:{duration:3e3,style:{background:"#363636",color:"#fff"}}}),a.jsx("div",{className:`app ${e?"dark":""}`,children:a.jsxs(m.Suspense,{fallback:a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-500"})}),children:[a.jsx(lz,{}),a.jsxs(SE,{children:[a.jsx(Me,{path:"/",element:a.jsx(h9,{})}),a.jsx(Me,{path:"/login",element:a.jsx(nO,{})}),a.jsx(Me,{path:"/register",element:a.jsx(sO,{})}),a.jsx(Me,{path:"/auth/callback",element:a.jsx(lb,{})}),a.jsx(Me,{path:"/callback",element:a.jsx(lb,{})}),a.jsx(Me,{path:"/complete-profile",element:a.jsx(Sc,{children:a.jsx(uU,{})})}),a.jsxs(Me,{element:a.jsx(cz,{}),children:[a.jsx(Me,{path:"/home",element:a.jsx(r9,{})}),a.jsx(Me,{path:"/discover",element:a.jsx(y9,{})}),a.jsx(Me,{path:"/profile/:id?",element:a.jsx(c9,{})}),a.jsx(Me,{path:"/friends",element:a.jsx(x9,{})}),a.jsx(Me,{path:"/messages",element:a.jsx(ib,{})}),a.jsx(Me,{path:"/messages/:id",element:a.jsx(ib,{})}),a.jsx(Me,{path:"/groups",element:a.jsx(YU,{})}),a.jsx(Me,{path:"/groups/create",element:a.jsx(HU,{})}),a.jsx(Me,{path:"/events",element:a.jsx(XU,{})}),a.jsx(Me,{path:"/events/create",element:a.jsx(ez,{})}),a.jsx(Me,{path:"/saved",element:a.jsx(QU,{})}),a.jsx(Me,{path:"/favorites",element:a.jsx(v9,{})}),a.jsx(Me,{path:"/notifications",element:a.jsx(tz,{})}),a.jsx(Me,{path:"/settings",element:a.jsx(rz,{})}),a.jsx(Me,{path:"/chat-diagnostics",element:a.jsx(iU,{})}),a.jsx(Me,{path:"/mock-users",element:a.jsx(sz,{})})]}),a.jsx(Me,{path:"/groups/:id/chat",element:a.jsx(Sc,{children:a.jsx(Em,{children:a.jsx(az,{})})})}),a.jsx(Me,{path:"/events/:eventId/chat",element:a.jsx(Sc,{children:a.jsx(Em,{children:a.jsx(iz,{})})})}),a.jsx(Me,{path:"*",element:a.jsx(u9,{})})]})]})})]})})},ge=e=>typeof e=="string",Va=()=>{let e,t;const r=new Promise((n,s)=>{e=n,t=s});return r.resolve=e,r.reject=t,r},db=e=>e==null?"":""+e,dz=(e,t,r)=>{e.forEach(n=>{t[n]&&(r[n]=t[n])})},fz=/###/g,fb=e=>e&&e.indexOf("###")>-1?e.replace(fz,"."):e,hb=e=>!e||ge(e),vi=(e,t,r)=>{const n=ge(t)?t.split("."):t;let s=0;for(;s<n.length-1;){if(hb(e))return{};const o=fb(n[s]);!e[o]&&r&&(e[o]=new r),Object.prototype.hasOwnProperty.call(e,o)?e=e[o]:e={},++s}return hb(e)?{}:{obj:e,k:fb(n[s])}},mb=(e,t,r)=>{const{obj:n,k:s}=vi(e,t,Object);if(n!==void 0||t.length===1){n[s]=r;return}let o=t[t.length-1],i=t.slice(0,t.length-1),l=vi(e,i,Object);for(;l.obj===void 0&&i.length;)o=`${i[i.length-1]}.${o}`,i=i.slice(0,i.length-1),l=vi(e,i,Object),l&&l.obj&&typeof l.obj[`${l.k}.${o}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${o}`]=r},hz=(e,t,r,n)=>{const{obj:s,k:o}=vi(e,t,Object);s[o]=s[o]||[],s[o].push(r)},Nu=(e,t)=>{const{obj:r,k:n}=vi(e,t);if(r)return r[n]},mz=(e,t,r)=>{const n=Nu(e,r);return n!==void 0?n:Nu(t,r)},X4=(e,t,r)=>{for(const n in t)n!=="__proto__"&&n!=="constructor"&&(n in e?ge(e[n])||e[n]instanceof String||ge(t[n])||t[n]instanceof String?r&&(e[n]=t[n]):X4(e[n],t[n],r):e[n]=t[n]);return e},ho=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var gz={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const pz=e=>ge(e)?e.replace(/[&<>"'\/]/g,t=>gz[t]):e;class yz{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const r=this.regExpMap.get(t);if(r!==void 0)return r;const n=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,n),this.regExpQueue.push(t),n}}const xz=[" ",",","?","!",";"],vz=new yz(20),bz=(e,t,r)=>{t=t||"",r=r||"";const n=xz.filter(i=>t.indexOf(i)<0&&r.indexOf(i)<0);if(n.length===0)return!0;const s=vz.getRegExp(`(${n.map(i=>i==="?"?"\\?":i).join("|")})`);let o=!s.test(e);if(!o){const i=e.indexOf(r);i>0&&!s.test(e.substring(0,i))&&(o=!0)}return o},Gm=function(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!e)return;if(e[t])return e[t];const n=t.split(r);let s=e;for(let o=0;o<n.length;){if(!s||typeof s!="object")return;let i,l="";for(let c=o;c<n.length;++c)if(c!==o&&(l+=r),l+=n[c],i=s[l],i!==void 0){if(["string","number","boolean"].indexOf(typeof i)>-1&&c<n.length-1)continue;o+=c-o+1;break}s=i}return s},Cu=e=>e&&e.replace("_","-"),wz={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class Eu{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(t,r)}init(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=t||wz,this.options=r,this.debug=r.debug}log(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.forward(r,"log","",!0)}warn(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.forward(r,"warn","",!0)}error(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.forward(r,"error","")}deprecate(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}forward(t,r,n,s){return s&&!this.debug?null:(ge(t[0])&&(t[0]=`${n}${this.prefix} ${t[0]}`),this.logger[r](t))}create(t){return new Eu(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new Eu(this.logger,t)}}var Vr=new Eu;class Ed{constructor(){this.observers={}}on(t,r){return t.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const s=this.observers[n].get(r)||0;this.observers[n].set(r,s+1)}),this}off(t,r){if(this.observers[t]){if(!r){delete this.observers[t];return}this.observers[t].delete(r)}}emit(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];this.observers[t]&&Array.from(this.observers[t].entries()).forEach(i=>{let[l,c]=i;for(let u=0;u<c;u++)l(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(i=>{let[l,c]=i;for(let u=0;u<c;u++)l.apply(l,[t,...n])})}}class gb extends Ed{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const r=this.options.ns.indexOf(t);r>-1&&this.options.ns.splice(r,1)}getResource(t,r,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,i=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;t.indexOf(".")>-1?l=t.split("."):(l=[t,r],n&&(Array.isArray(n)?l.push(...n):ge(n)&&o?l.push(...n.split(o)):l.push(n)));const c=Nu(this.data,l);return!c&&!r&&!n&&t.indexOf(".")>-1&&(t=l[0],r=l[1],n=l.slice(2).join(".")),c||!i||!ge(n)?c:Gm(this.data&&this.data[t]&&this.data[t][r],n,o)}addResource(t,r,n,s){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const i=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let l=[t,r];n&&(l=l.concat(i?n.split(i):n)),t.indexOf(".")>-1&&(l=t.split("."),s=r,r=l[1]),this.addNamespaces(r),mb(this.data,l,s),o.silent||this.emit("added",t,r,n,s)}addResources(t,r,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const o in n)(ge(n[o])||Array.isArray(n[o]))&&this.addResource(t,r,o,n[o],{silent:!0});s.silent||this.emit("added",t,r,n)}addResourceBundle(t,r,n,s,o){let i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},l=[t,r];t.indexOf(".")>-1&&(l=t.split("."),s=n,n=r,r=l[1]),this.addNamespaces(r);let c=Nu(this.data,l)||{};i.skipCopy||(n=JSON.parse(JSON.stringify(n))),s?X4(c,n,o):c={...c,...n},mb(this.data,l,c),i.silent||this.emit("added",t,r,n)}removeResourceBundle(t,r){this.hasResourceBundle(t,r)&&delete this.data[t][r],this.removeNamespaces(r),this.emit("removed",t,r)}hasResourceBundle(t,r){return this.getResource(t,r)!==void 0}getResourceBundle(t,r){return r||(r=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(t,r)}:this.getResource(t,r)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const r=this.getDataByLanguage(t);return!!(r&&Object.keys(r)||[]).find(s=>r[s]&&Object.keys(r[s]).length>0)}toJSON(){return this.data}}var Q4={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,r,n,s){return e.forEach(o=>{this.processors[o]&&(t=this.processors[o].process(t,r,n,s))}),t}};const pb={};class Pu extends Ed{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),dz(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Vr.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(t==null)return!1;const n=this.resolve(t,r);return n&&n.res!==void 0}extractFromKey(t,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const s=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let o=r.ns||this.options.defaultNS||[];const i=n&&t.indexOf(n)>-1,l=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!bz(t,n,s);if(i&&!l){const c=t.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:t,namespaces:ge(o)?[o]:o};const u=t.split(n);(n!==s||n===s&&this.options.ns.indexOf(u[0])>-1)&&(o=u.shift()),t=u.join(s)}return{key:t,namespaces:ge(o)?[o]:o}}translate(t,r,n){if(typeof r!="object"&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),typeof r=="object"&&(r={...r}),r||(r={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const s=r.returnDetails!==void 0?r.returnDetails:this.options.returnDetails,o=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,{key:i,namespaces:l}=this.extractFromKey(t[t.length-1],r),c=l[l.length-1],u=r.lng||this.language,d=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(d){const _=r.nsSeparator||this.options.nsSeparator;return s?{res:`${c}${_}${i}`,usedKey:i,exactUsedKey:i,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(r)}:`${c}${_}${i}`}return s?{res:i,usedKey:i,exactUsedKey:i,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(r)}:i}const f=this.resolve(t,r);let h=f&&f.res;const g=f&&f.usedKey||i,b=f&&f.exactUsedKey||i,x=Object.prototype.toString.apply(h),w=["[object Number]","[object Function]","[object RegExp]"],p=r.joinArrays!==void 0?r.joinArrays:this.options.joinArrays,y=!this.i18nFormat||this.i18nFormat.handleAsObject,v=!ge(h)&&typeof h!="boolean"&&typeof h!="number";if(y&&h&&v&&w.indexOf(x)<0&&!(ge(p)&&Array.isArray(h))){if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const _=this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,h,{...r,ns:l}):`key '${i} (${this.language})' returned an object instead of string.`;return s?(f.res=_,f.usedParams=this.getUsedParamsDetails(r),f):_}if(o){const _=Array.isArray(h),k=_?[]:{},j=_?b:g;for(const C in h)if(Object.prototype.hasOwnProperty.call(h,C)){const N=`${j}${o}${C}`;k[C]=this.translate(N,{...r,joinArrays:!1,ns:l}),k[C]===N&&(k[C]=h[C])}h=k}}else if(y&&ge(p)&&Array.isArray(h))h=h.join(p),h&&(h=this.extendTranslation(h,t,r,n));else{let _=!1,k=!1;const j=r.count!==void 0&&!ge(r.count),C=Pu.hasDefaultValue(r),N=j?this.pluralResolver.getSuffix(u,r.count,r):"",F=r.ordinal&&j?this.pluralResolver.getSuffix(u,r.count,{ordinal:!1}):"",E=j&&!r.ordinal&&r.count===0&&this.pluralResolver.shouldUseIntlApi(),I=E&&r[`defaultValue${this.options.pluralSeparator}zero`]||r[`defaultValue${N}`]||r[`defaultValue${F}`]||r.defaultValue;!this.isValidLookup(h)&&C&&(_=!0,h=I),this.isValidLookup(h)||(k=!0,h=i);const O=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&k?void 0:h,A=C&&I!==h&&this.options.updateMissing;if(k||_||A){if(this.logger.log(A?"updateKey":"missingKey",u,c,i,A?I:h),o){const S=this.resolve(i,{...r,keySeparator:!1});S&&S.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let $=[];const D=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if(this.options.saveMissingTo==="fallback"&&D&&D[0])for(let S=0;S<D.length;S++)$.push(D[S]);else this.options.saveMissingTo==="all"?$=this.languageUtils.toResolveHierarchy(r.lng||this.language):$.push(r.lng||this.language);const z=(S,M,T)=>{const B=C&&T!==h?T:O;this.options.missingKeyHandler?this.options.missingKeyHandler(S,c,M,B,A,r):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(S,c,M,B,A,r),this.emit("missingKey",S,c,M,h)};this.options.saveMissing&&(this.options.saveMissingPlurals&&j?$.forEach(S=>{const M=this.pluralResolver.getSuffixes(S,r);E&&r[`defaultValue${this.options.pluralSeparator}zero`]&&M.indexOf(`${this.options.pluralSeparator}zero`)<0&&M.push(`${this.options.pluralSeparator}zero`),M.forEach(T=>{z([S],i+T,r[`defaultValue${T}`]||I)})}):z($,i,I))}h=this.extendTranslation(h,t,r,f,n),k&&h===i&&this.options.appendNamespaceToMissingKey&&(h=`${c}:${i}`),(k||_)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?h=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}:${i}`:i,_?h:void 0):h=this.options.parseMissingKeyHandler(h))}return s?(f.res=h,f.usedParams=this.getUsedParamsDetails(r),f):h}extendTranslation(t,r,n,s,o){var i=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const u=ge(t)&&(n&&n.interpolation&&n.interpolation.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(u){const h=t.match(this.interpolator.nestingRegexp);d=h&&h.length}let f=n.replace&&!ge(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),t=this.interpolator.interpolate(t,f,n.lng||this.language||s.usedLng,n),u){const h=t.match(this.interpolator.nestingRegexp),g=h&&h.length;d<g&&(n.nest=!1)}!n.lng&&this.options.compatibilityAPI!=="v1"&&s&&s.res&&(n.lng=this.language||s.usedLng),n.nest!==!1&&(t=this.interpolator.nest(t,function(){for(var h=arguments.length,g=new Array(h),b=0;b<h;b++)g[b]=arguments[b];return o&&o[0]===g[0]&&!n.context?(i.logger.warn(`It seems you are nesting recursively key: ${g[0]} in key: ${r[0]}`),null):i.translate(...g,r)},n)),n.interpolation&&this.interpolator.reset()}const l=n.postProcess||this.options.postProcess,c=ge(l)?[l]:l;return t!=null&&c&&c.length&&n.applyPostProcessor!==!1&&(t=Q4.handle(c,t,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),t}resolve(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n,s,o,i,l;return ge(t)&&(t=[t]),t.forEach(c=>{if(this.isValidLookup(n))return;const u=this.extractFromKey(c,r),d=u.key;s=d;let f=u.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const h=r.count!==void 0&&!ge(r.count),g=h&&!r.ordinal&&r.count===0&&this.pluralResolver.shouldUseIntlApi(),b=r.context!==void 0&&(ge(r.context)||typeof r.context=="number")&&r.context!=="",x=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);f.forEach(w=>{this.isValidLookup(n)||(l=w,!pb[`${x[0]}-${w}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(l)&&(pb[`${x[0]}-${w}`]=!0,this.logger.warn(`key "${s}" for languages "${x.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),x.forEach(p=>{if(this.isValidLookup(n))return;i=p;const y=[d];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(y,d,p,w,r);else{let _;h&&(_=this.pluralResolver.getSuffix(p,r.count,r));const k=`${this.options.pluralSeparator}zero`,j=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(y.push(d+_),r.ordinal&&_.indexOf(j)===0&&y.push(d+_.replace(j,this.options.pluralSeparator)),g&&y.push(d+k)),b){const C=`${d}${this.options.contextSeparator}${r.context}`;y.push(C),h&&(y.push(C+_),r.ordinal&&_.indexOf(j)===0&&y.push(C+_.replace(j,this.options.pluralSeparator)),g&&y.push(C+k))}}let v;for(;v=y.pop();)this.isValidLookup(n)||(o=v,n=this.getResource(p,w,v,r))}))})}),{res:n,usedKey:s,exactUsedKey:o,usedLng:i,usedNS:l}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,r,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,r,n,s):this.resourceStore.getResource(t,r,n,s)}getUsedParamsDetails(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=t.replace&&!ge(t.replace);let s=n?t.replace:t;if(n&&typeof t.count<"u"&&(s.count=t.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!n){s={...s};for(const o of r)delete s[o]}return s}static hasDefaultValue(t){const r="defaultValue";for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&r===n.substring(0,r.length)&&t[n]!==void 0)return!0;return!1}}const Wf=e=>e.charAt(0).toUpperCase()+e.slice(1);class yb{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Vr.create("languageUtils")}getScriptPartFromCode(t){if(t=Cu(t),!t||t.indexOf("-")<0)return null;const r=t.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(t){if(t=Cu(t),!t||t.indexOf("-")<0)return t;const r=t.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(t){if(ge(t)&&t.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let s=Intl.getCanonicalLocales(t)[0];if(s&&this.options.lowerCaseLng&&(s=s.toLowerCase()),s)return s}catch{}const r=["hans","hant","latn","cyrl","cans","mong","arab"];let n=t.split("-");return this.options.lowerCaseLng?n=n.map(s=>s.toLowerCase()):n.length===2?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),r.indexOf(n[1].toLowerCase())>-1&&(n[1]=Wf(n[1].toLowerCase()))):n.length===3&&(n[0]=n[0].toLowerCase(),n[1].length===2&&(n[1]=n[1].toUpperCase()),n[0]!=="sgn"&&n[2].length===2&&(n[2]=n[2].toUpperCase()),r.indexOf(n[1].toLowerCase())>-1&&(n[1]=Wf(n[1].toLowerCase())),r.indexOf(n[2].toLowerCase())>-1&&(n[2]=Wf(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let r;return t.forEach(n=>{if(r)return;const s=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(s))&&(r=s)}),!r&&this.options.supportedLngs&&t.forEach(n=>{if(r)return;const s=this.getLanguagePartFromCode(n);if(this.isSupportedCode(s))return r=s;r=this.options.supportedLngs.find(o=>{if(o===s)return o;if(!(o.indexOf("-")<0&&s.indexOf("-")<0)&&(o.indexOf("-")>0&&s.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===s||o.indexOf(s)===0&&s.length>1))return o})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(t,r){if(!t)return[];if(typeof t=="function"&&(t=t(r)),ge(t)&&(t=[t]),Array.isArray(t))return t;if(!r)return t.default||[];let n=t[r];return n||(n=t[this.getScriptPartFromCode(r)]),n||(n=t[this.formatLanguageCode(r)]),n||(n=t[this.getLanguagePartFromCode(r)]),n||(n=t.default),n||[]}toResolveHierarchy(t,r){const n=this.getFallbackCodes(r||this.options.fallbackLng||[],t),s=[],o=i=>{i&&(this.isSupportedCode(i)?s.push(i):this.logger.warn(`rejecting language code not found in supportedLngs: ${i}`))};return ge(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(t))):ge(t)&&o(this.formatLanguageCode(t)),n.forEach(i=>{s.indexOf(i)<0&&o(this.formatLanguageCode(i))}),s}}let _z=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],kz={1:e=>+(e>1),2:e=>+(e!=1),3:e=>0,4:e=>e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,5:e=>e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5,6:e=>e==1?0:e>=2&&e<=4?1:2,7:e=>e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,8:e=>e==1?0:e==2?1:e!=8&&e!=11?2:3,9:e=>+(e>=2),10:e=>e==1?0:e==2?1:e<7?2:e<11?3:4,11:e=>e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3,12:e=>+(e%10!=1||e%100==11),13:e=>+(e!==0),14:e=>e==1?0:e==2?1:e==3?2:3,15:e=>e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2,16:e=>e%10==1&&e%100!=11?0:e!==0?1:2,17:e=>e==1||e%10==1&&e%100!=11?0:1,18:e=>e==0?0:e==1?1:2,19:e=>e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3,20:e=>e==1?0:e==0||e%100>0&&e%100<20?1:2,21:e=>e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0,22:e=>e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3};const Sz=["v1","v2","v3"],jz=["v4"],xb={zero:0,one:1,two:2,few:3,many:4,other:5},Nz=()=>{const e={};return _z.forEach(t=>{t.lngs.forEach(r=>{e[r]={numbers:t.nr,plurals:kz[t.fc]}})}),e};class Cz{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=t,this.options=r,this.logger=Vr.create("pluralResolver"),(!this.options.compatibilityJSON||jz.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Nz(),this.pluralRulesCache={}}addRule(t,r){this.rules[t]=r}clearCache(){this.pluralRulesCache={}}getRule(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const n=Cu(t==="dev"?"en":t),s=r.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:n,type:s});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let i;try{i=new Intl.PluralRules(n,{type:s})}catch{if(!t.match(/-|_/))return;const c=this.languageUtils.getLanguagePartFromCode(t);i=this.getRule(c,r)}return this.pluralRulesCache[o]=i,i}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}needsPlural(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(t,r);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,n).map(s=>`${r}${s}`)}getSuffixes(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(t,r);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort((s,o)=>xb[s]-xb[o]).map(s=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s}`):n.numbers.map(s=>this.getSuffix(t,s,r)):[]}getSuffix(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=this.getRule(t,n);return s?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s.select(r)}`:this.getSuffixRetroCompatible(s,r):(this.logger.warn(`no plural rule found for: ${t}`),"")}getSuffixRetroCompatible(t,r){const n=t.noAbs?t.plurals(r):t.plurals(Math.abs(r));let s=t.numbers[n];this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1&&(s===2?s="plural":s===1&&(s=""));const o=()=>this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString();return this.options.compatibilityJSON==="v1"?s===1?"":typeof s=="number"?`_plural_${s.toString()}`:o():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1?o():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!Sz.includes(this.options.compatibilityJSON)}}const vb=function(e,t,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=mz(e,t,r);return!o&&s&&ge(r)&&(o=Gm(e,r,n),o===void 0&&(o=Gm(t,r,n))),o},Hf=e=>e.replace(/\$/g,"$$$$");class Ez{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Vr.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||(r=>r),this.init(t)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});const{escape:r,escapeValue:n,useRawValueToEscape:s,prefix:o,prefixEscaped:i,suffix:l,suffixEscaped:c,formatSeparator:u,unescapeSuffix:d,unescapePrefix:f,nestingPrefix:h,nestingPrefixEscaped:g,nestingSuffix:b,nestingSuffixEscaped:x,nestingOptionsSeparator:w,maxReplaces:p,alwaysFormat:y}=t.interpolation;this.escape=r!==void 0?r:pz,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=o?ho(o):i||"{{",this.suffix=l?ho(l):c||"}}",this.formatSeparator=u||",",this.unescapePrefix=d?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=h?ho(h):g||ho("$t("),this.nestingSuffix=b?ho(b):x||ho(")"),this.nestingOptionsSeparator=w||",",this.maxReplaces=p||1e3,this.alwaysFormat=y!==void 0?y:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(r,n)=>r&&r.source===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,r,n,s){let o,i,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=g=>{if(g.indexOf(this.formatSeparator)<0){const p=vb(r,c,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(p,void 0,n,{...s,...r,interpolationkey:g}):p}const b=g.split(this.formatSeparator),x=b.shift().trim(),w=b.join(this.formatSeparator).trim();return this.format(vb(r,c,x,this.options.keySeparator,this.options.ignoreJSONStructure),w,n,{...s,...r,interpolationkey:x})};this.resetRegExp();const d=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,f=s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>Hf(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?Hf(this.escape(g)):Hf(g)}].forEach(g=>{for(l=0;o=g.regex.exec(t);){const b=o[1].trim();if(i=u(b),i===void 0)if(typeof d=="function"){const w=d(t,o,s);i=ge(w)?w:""}else if(s&&Object.prototype.hasOwnProperty.call(s,b))i="";else if(f){i=o[0];continue}else this.logger.warn(`missed to pass in variable ${b} for interpolating ${t}`),i="";else!ge(i)&&!this.useRawValueToEscape&&(i=db(i));const x=g.safeValue(i);if(t=t.replace(o[0],x),f?(g.regex.lastIndex+=i.length,g.regex.lastIndex-=o[0].length):g.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),t}nest(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,o,i;const l=(c,u)=>{const d=this.nestingOptionsSeparator;if(c.indexOf(d)<0)return c;const f=c.split(new RegExp(`${d}[ ]*{`));let h=`{${f[1]}`;c=f[0],h=this.interpolate(h,i);const g=h.match(/'/g),b=h.match(/"/g);(g&&g.length%2===0&&!b||b.length%2!==0)&&(h=h.replace(/'/g,'"'));try{i=JSON.parse(h),u&&(i={...u,...i})}catch(x){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,x),`${c}${d}${h}`}return i.defaultValue&&i.defaultValue.indexOf(this.prefix)>-1&&delete i.defaultValue,c};for(;s=this.nestingRegexp.exec(t);){let c=[];i={...n},i=i.replace&&!ge(i.replace)?i.replace:i,i.applyPostProcessor=!1,delete i.defaultValue;let u=!1;if(s[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(s[1])){const d=s[1].split(this.formatSeparator).map(f=>f.trim());s[1]=d.shift(),c=d,u=!0}if(o=r(l.call(this,s[1].trim(),i),i),o&&s[0]===t&&!ge(o))return o;ge(o)||(o=db(o)),o||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${t}`),o=""),u&&(o=c.reduce((d,f)=>this.format(d,f,n.lng,{...n,interpolationkey:s[1].trim()}),o.trim())),t=t.replace(s[0],o),this.regexp.lastIndex=0}return t}}const Pz=e=>{let t=e.toLowerCase().trim();const r={};if(e.indexOf("(")>-1){const n=e.split("(");t=n[0].toLowerCase().trim();const s=n[1].substring(0,n[1].length-1);t==="currency"&&s.indexOf(":")<0?r.currency||(r.currency=s.trim()):t==="relativetime"&&s.indexOf(":")<0?r.range||(r.range=s.trim()):s.split(";").forEach(i=>{if(i){const[l,...c]=i.split(":"),u=c.join(":").trim().replace(/^'+|'+$/g,""),d=l.trim();r[d]||(r[d]=u),u==="false"&&(r[d]=!1),u==="true"&&(r[d]=!0),isNaN(u)||(r[d]=parseInt(u,10))}})}return{formatName:t,formatOptions:r}},mo=e=>{const t={};return(r,n,s)=>{let o=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(o={...o,[s.interpolationkey]:void 0});const i=n+JSON.stringify(o);let l=t[i];return l||(l=e(Cu(n),s),t[i]=l),l(r)}};class Tz{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Vr.create("formatter"),this.options=t,this.formats={number:mo((r,n)=>{const s=new Intl.NumberFormat(r,{...n});return o=>s.format(o)}),currency:mo((r,n)=>{const s=new Intl.NumberFormat(r,{...n,style:"currency"});return o=>s.format(o)}),datetime:mo((r,n)=>{const s=new Intl.DateTimeFormat(r,{...n});return o=>s.format(o)}),relativetime:mo((r,n)=>{const s=new Intl.RelativeTimeFormat(r,{...n});return o=>s.format(o,n.range||"day")}),list:mo((r,n)=>{const s=new Intl.ListFormat(r,{...n});return o=>s.format(o)})},this.init(t)}init(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=r.interpolation.formatSeparator||","}add(t,r){this.formats[t.toLowerCase().trim()]=r}addCached(t,r){this.formats[t.toLowerCase().trim()]=mo(r)}format(t,r,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=r.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(l=>l.indexOf(")")>-1)){const l=o.findIndex(c=>c.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,l)].join(this.formatSeparator)}return o.reduce((l,c)=>{const{formatName:u,formatOptions:d}=Pz(c);if(this.formats[u]){let f=l;try{const h=s&&s.formatParams&&s.formatParams[s.interpolationkey]||{},g=h.locale||h.lng||s.locale||s.lng||n;f=this.formats[u](l,g,{...d,...s,...h})}catch(h){this.logger.warn(h)}return f}else this.logger.warn(`there was no format function for ${u}`);return l},t)}}const Az=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class Rz extends Ed{constructor(t,r,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=t,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=s,this.logger=Vr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,s.backend,s)}queueLoad(t,r,n,s){const o={},i={},l={},c={};return t.forEach(u=>{let d=!0;r.forEach(f=>{const h=`${u}|${f}`;!n.reload&&this.store.hasResourceBundle(u,f)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?i[h]===void 0&&(i[h]=!0):(this.state[h]=1,d=!1,i[h]===void 0&&(i[h]=!0),o[h]===void 0&&(o[h]=!0),c[f]===void 0&&(c[f]=!0)))}),d||(l[u]=!0)}),(Object.keys(o).length||Object.keys(i).length)&&this.queue.push({pending:i,pendingCount:Object.keys(i).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(o),pending:Object.keys(i),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(t,r,n){const s=t.split("|"),o=s[0],i=s[1];r&&this.emit("failedLoading",o,i,r),!r&&n&&this.store.addResourceBundle(o,i,n,void 0,void 0,{skipCopy:!0}),this.state[t]=r?-1:2,r&&n&&(this.state[t]=0);const l={};this.queue.forEach(c=>{hz(c.loaded,[o],i),Az(c,t),r&&c.errors.push(r),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(u=>{l[u]||(l[u]={});const d=c.loaded[u];d.length&&d.forEach(f=>{l[u][f]===void 0&&(l[u][f]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(t,r,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,i=arguments.length>5?arguments[5]:void 0;if(!t.length)return i(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:r,fcName:n,tried:s,wait:o,callback:i});return}this.readingCalls++;const l=(u,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(u&&d&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,t,r,n,s+1,o*2,i)},o);return}i(u,d)},c=this.backend[n].bind(this.backend);if(c.length===2){try{const u=c(t,r);u&&typeof u.then=="function"?u.then(d=>l(null,d)).catch(l):l(null,u)}catch(u){l(u)}return}return c(t,r,l)}prepareLoading(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();ge(t)&&(t=this.languageUtils.toResolveHierarchy(t)),ge(r)&&(r=[r]);const o=this.queueLoad(t,r,n,s);if(!o.toLoad.length)return o.pending.length||s(),null;o.toLoad.forEach(i=>{this.loadOne(i)})}load(t,r,n){this.prepareLoading(t,r,{},n)}reload(t,r,n){this.prepareLoading(t,r,{reload:!0},n)}loadOne(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const n=t.split("|"),s=n[0],o=n[1];this.read(s,o,"read",void 0,void 0,(i,l)=>{i&&this.logger.warn(`${r}loading namespace ${o} for language ${s} failed`,i),!i&&l&&this.logger.log(`${r}loaded namespace ${o} for language ${s}`,l),this.loaded(t,i,l)})}saveMissing(t,r,n,s,o){let i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(r)){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend&&this.backend.create){const c={...i,isUpdate:o},u=this.backend.create.bind(this.backend);if(u.length<6)try{let d;u.length===5?d=u(t,r,n,s,c):d=u(t,r,n,s),d&&typeof d.then=="function"?d.then(f=>l(null,f)).catch(l):l(null,d)}catch(d){l(d)}else u(t,r,n,s,l,c)}!t||!t[0]||this.store.addResource(t[0],r,n,s)}}}const bb=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),ge(e[1])&&(t.defaultValue=e[1]),ge(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const r=e[3]||e[2];Object.keys(r).forEach(n=>{t[n]=r[n]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),wb=e=>(ge(e.ns)&&(e.ns=[e.ns]),ge(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),ge(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e),ac=()=>{},Mz=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(r=>{typeof e[r]=="function"&&(e[r]=e[r].bind(e))})};class rl extends Ed{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(super(),this.options=wb(t),this.services={},this.logger=Vr,this.modules={external:[]},Mz(this),r&&!this.isInitialized&&!t.isClone){if(!this.options.initImmediate)return this.init(t,r),this;setTimeout(()=>{this.init(t,r)},0)}}init(){var t=this;let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof r=="function"&&(n=r,r={}),!r.defaultNS&&r.defaultNS!==!1&&r.ns&&(ge(r.ns)?r.defaultNS=r.ns:r.ns.indexOf("translation")<0&&(r.defaultNS=r.ns[0]));const s=bb();this.options={...s,...this.options,...wb(r)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...s.interpolation,...this.options.interpolation}),r.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=r.keySeparator),r.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=r.nsSeparator);const o=d=>d?typeof d=="function"?new d:d:null;if(!this.options.isClone){this.modules.logger?Vr.init(o(this.modules.logger),this.options):Vr.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:typeof Intl<"u"&&(d=Tz);const f=new yb(this.options);this.store=new gb(this.options.resources,this.options);const h=this.services;h.logger=Vr,h.resourceStore=this.store,h.languageUtils=f,h.pluralResolver=new Cz(f,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),d&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(h.formatter=o(d),h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new Ez(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new Rz(o(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",function(g){for(var b=arguments.length,x=new Array(b>1?b-1:0),w=1;w<b;w++)x[w-1]=arguments[w];t.emit(g,...x)}),this.modules.languageDetector&&(h.languageDetector=o(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=o(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new Pu(this.services,this.options),this.translator.on("*",function(g){for(var b=arguments.length,x=new Array(b>1?b-1:0),w=1;w<b;w++)x[w-1]=arguments[w];t.emit(g,...x)}),this.modules.external.forEach(g=>{g.init&&g.init(this)})}if(this.format=this.options.interpolation.format,n||(n=ac),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=function(){return t.store[d](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=function(){return t.store[d](...arguments),t}});const c=Va(),u=()=>{const d=(f,h)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(h),n(f,h)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),c}loadResources(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ac;const s=ge(t)?t:this.language;if(typeof t=="function"&&(n=t),!this.options.resources||this.options.partialBundledLanguages){if(s&&s.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const o=[],i=l=>{if(!l||l==="cimode")return;this.services.languageUtils.toResolveHierarchy(l).forEach(u=>{u!=="cimode"&&o.indexOf(u)<0&&o.push(u)})};s?i(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>i(c)),this.options.preload&&this.options.preload.forEach(l=>i(l)),this.services.backendConnector.load(o,this.options.ns,l=>{!l&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(l)})}else n(null)}reloadResources(t,r,n){const s=Va();return typeof t=="function"&&(n=t,t=void 0),typeof r=="function"&&(n=r,r=void 0),t||(t=this.languages),r||(r=this.options.ns),n||(n=ac),this.services.backendConnector.reload(t,r,o=>{s.resolve(),n(o)}),s}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&Q4.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1))for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}changeLanguage(t,r){var n=this;this.isLanguageChangingTo=t;const s=Va();this.emit("languageChanging",t);const o=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},i=(c,u)=>{u?(o(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,s.resolve(function(){return n.t(...arguments)}),r&&r(c,function(){return n.t(...arguments)})},l=c=>{!t&&!c&&this.services.languageDetector&&(c=[]);const u=ge(c)?c:this.services.languageUtils.getBestMatchFromCodes(c);u&&(this.language||o(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,d=>{i(d,u)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(t),s}getFixedT(t,r,n){var s=this;const o=function(i,l){let c;if(typeof l!="object"){for(var u=arguments.length,d=new Array(u>2?u-2:0),f=2;f<u;f++)d[f-2]=arguments[f];c=s.options.overloadTranslationOptionHandler([i,l].concat(d))}else c={...l};c.lng=c.lng||o.lng,c.lngs=c.lngs||o.lngs,c.ns=c.ns||o.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||n||o.keyPrefix);const h=s.options.keySeparator||".";let g;return c.keyPrefix&&Array.isArray(i)?g=i.map(b=>`${c.keyPrefix}${h}${b}`):g=c.keyPrefix?`${c.keyPrefix}${h}${i}`:i,s.t(g,c)};return ge(t)?o.lng=t:o.lngs=t,o.ns=r,o.keyPrefix=n,o}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const i=(l,c)=>{const u=this.services.backendConnector.state[`${l}|${c}`];return u===-1||u===0||u===2};if(r.precheck){const l=r.precheck(this,i);if(l!==void 0)return l}return!!(this.hasResourceBundle(n,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||i(n,t)&&(!s||i(o,t)))}loadNamespaces(t,r){const n=Va();return this.options.ns?(ge(t)&&(t=[t]),t.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{n.resolve(),r&&r(s)}),n):(r&&r(),Promise.resolve())}loadLanguages(t,r){const n=Va();ge(t)&&(t=[t]);const s=this.options.preload||[],o=t.filter(i=>s.indexOf(i)<0&&this.services.languageUtils.isSupportedCode(i));return o.length?(this.options.preload=s.concat(o),this.loadResources(i=>{n.resolve(),r&&r(i)}),n):(r&&r(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!t)return"rtl";const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services&&this.services.languageUtils||new yb(bb());return r.indexOf(n.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return new rl(t,r)}cloneInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ac;const n=t.forkResourceStore;n&&delete t.forkResourceStore;const s={...this.options,...t,isClone:!0},o=new rl(s);return(t.debug!==void 0||t.prefix!==void 0)&&(o.logger=o.logger.clone(t)),["store","services","language"].forEach(l=>{o[l]=this[l]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},n&&(o.store=new gb(this.store.data,s),o.services.resourceStore=o.store),o.translator=new Pu(o.services,s),o.translator.on("*",function(l){for(var c=arguments.length,u=new Array(c>1?c-1:0),d=1;d<c;d++)u[d-1]=arguments[d];o.emit(l,...u)}),o.init(s,r),o.translator.options=s,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Et=rl.createInstance();Et.createInstance=rl.createInstance;Et.createInstance;Et.dir;Et.init;Et.loadResources;Et.reloadResources;Et.use;Et.changeLanguage;Et.getFixedT;Et.t;Et.exists;Et.setDefaultNamespace;Et.hasLoadedNamespace;Et.loadNamespaces;Et.loadLanguages;const{slice:Lz,forEach:Dz}=[];function Oz(e){return Dz.call(Lz.call(arguments,1),t=>{if(t)for(const r in t)e[r]===void 0&&(e[r]=t[r])}),e}function Iz(e){return typeof e!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(r=>r.test(e))}const _b=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Fz=function(e,t){const n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},s=encodeURIComponent(t);let o=`${e}=${s}`;if(n.maxAge>0){const i=n.maxAge-0;if(Number.isNaN(i))throw new Error("maxAge should be a Number");o+=`; Max-Age=${Math.floor(i)}`}if(n.domain){if(!_b.test(n.domain))throw new TypeError("option domain is invalid");o+=`; Domain=${n.domain}`}if(n.path){if(!_b.test(n.path))throw new TypeError("option path is invalid");o+=`; Path=${n.path}`}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+=`; Expires=${n.expires.toUTCString()}`}if(n.httpOnly&&(o+="; HttpOnly"),n.secure&&(o+="; Secure"),n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return o},kb={create(e,t,r,n){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(s.expires=new Date,s.expires.setTime(s.expires.getTime()+r*60*1e3)),n&&(s.domain=n),document.cookie=Fz(e,encodeURIComponent(t),s)},read(e){const t=`${e}=`,r=document.cookie.split(";");for(let n=0;n<r.length;n++){let s=r[n];for(;s.charAt(0)===" ";)s=s.substring(1,s.length);if(s.indexOf(t)===0)return s.substring(t.length,s.length)}return null},remove(e){this.create(e,"",-1)}};var $z={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&typeof document<"u")return kb.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:r,cookieMinutes:n,cookieDomain:s,cookieOptions:o}=t;r&&typeof document<"u"&&kb.create(r,e,n,s,o)}},Uz={name:"querystring",lookup(e){var n;let{lookupQuerystring:t}=e,r;if(typeof window<"u"){let{search:s}=window.location;!window.location.search&&((n=window.location.hash)==null?void 0:n.indexOf("?"))>-1&&(s=window.location.hash.substring(window.location.hash.indexOf("?")));const i=s.substring(1).split("&");for(let l=0;l<i.length;l++){const c=i[l].indexOf("=");c>0&&i[l].substring(0,c)===t&&(r=i[l].substring(c+1))}}return r}};let go=null;const Sb=()=>{if(go!==null)return go;try{if(go=typeof window<"u"&&window.localStorage!==null,!go)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{go=!1}return go};var zz={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&Sb())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:r}=t;r&&Sb()&&window.localStorage.setItem(r,e)}};let po=null;const jb=()=>{if(po!==null)return po;try{if(po=typeof window<"u"&&window.sessionStorage!==null,!po)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{po=!1}return po};var Bz={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&jb())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:r}=t;r&&jb()&&window.sessionStorage.setItem(r,e)}},Vz={name:"navigator",lookup(e){const t=[];if(typeof navigator<"u"){const{languages:r,userLanguage:n,language:s}=navigator;if(r)for(let o=0;o<r.length;o++)t.push(r[o]);n&&t.push(n),s&&t.push(s)}return t.length>0?t:void 0}},Gz={name:"htmlTag",lookup(e){let{htmlTag:t}=e,r;const n=t||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(r=n.getAttribute("lang")),r}},qz={name:"path",lookup(e){var s;let{lookupFromPathIndex:t}=e;if(typeof window>"u")return;const r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(r)?(s=r[typeof t=="number"?t:0])==null?void 0:s.replace("/",""):void 0}},Wz={name:"subdomain",lookup(e){var s,o;let{lookupFromSubdomainIndex:t}=e;const r=typeof t=="number"?t+1:1,n=typeof window<"u"&&((o=(s=window.location)==null?void 0:s.hostname)==null?void 0:o.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(n)return n[r]}};let Z4=!1;try{document.cookie,Z4=!0}catch{}const eN=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];Z4||eN.splice(1,1);const Hz=()=>({order:eN,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e});class tN{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(t,r)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t,this.options=Oz(r,this.options||{},Hz()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=s=>s.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector($z),this.addDetector(Uz),this.addDetector(zz),this.addDetector(Bz),this.addDetector(Vz),this.addDetector(Gz),this.addDetector(qz),this.addDetector(Wz)}addDetector(t){return this.detectors[t.name]=t,this}detect(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,r=[];return t.forEach(n=>{if(this.detectors[n]){let s=this.detectors[n].lookup(this.options);s&&typeof s=="string"&&(s=[s]),s&&(r=r.concat(s))}}),r=r.filter(n=>n!=null&&!Iz(n)).map(n=>this.options.convertDetectedLanguage(n)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?r:r.length>0?r[0]:null}cacheUserLanguage(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||r.forEach(n=>{this.detectors[n]&&this.detectors[n].cacheUserLanguage(t,this.options)}))}}tN.type="languageDetector";const Kz={save:"Save",cancel:"Cancel",post:"Post",posting:"Posting...",edit:"Edit",delete:"Delete",like:"Like",comment:"Comment",share:"Share",unsave:"Unsave",login:"Login",createPost:"Create Post",close:"Close",postComment:"Post Comment",joinNow:"Join Now",getStarted:"Get Started",signIn:"Sign In",signUp:"Sign Up",submit:"Submit",sendMessage:"Send Message",viewProfile:"View Profile",saveChanges:"Save Changes",completeProfile:"Complete Profile",goBack:"Go Back",continue:"Continue",search:"Search",loadMore:"Load More",refresh:"Refresh",apply:"Apply",reset:"Reset",message:"Message",sending:"Sending...",addFriend:"Add Friend",requestSent:"Request Sent",friends:"Friends",confirm:"Confirm",saved:"Saved",send:"Send",tryAgain:"Try Again",remove:"Remove",view:"View",saving:"Saving...",deleting:"Deleting...",saveProfile:"Save Profile"},Yz={school:"School",degree:"Degree",field:"Field of Study",startDate:"Start Date",endDate:"End Date",currentlyStudying:"Currently Studying Here",description:"Description"},Jz={incompleteProfile:"Incomplete Profile",completeProfileMessage:"Please complete your profile to create posts",editProfile:"Edit Profile ",yourProfile:"Your Profile",confirmDeletePost:"Are you sure you want to delete this post?",postDeletedSuccess:"Post deleted successfully.",postDeleteFailed:"Failed to delete post.",friendRequestSent:"Friend request sent!",friendRequestFailed:"Failed to send friend request.",confirmRemoveFriend:"Are you sure you want to remove this friend?",friendRemovedSuccess:"Friend removed.",friendRemoveFailed:"Failed to remove friend.",friendRequestAccepted:"Friend request accepted!",friendRequestAcceptFailed:"Failed to accept friend request.",buttons:{addFriend:"Add Friend",accept:"Accept",decline:"Decline",removeFriend:"Remove Friend",viewGroup:"View Group",createGroup:"Create Group",viewDetails:"View Details",createEvent:"Create Event",findFriends:"Find Friends",editProfile:"Edit Profile"},status:{requestSent:"Request Sent"},noPostsYet:"You have no posts yet.",userHasNoPostsSuffix:"has no posts.",noGroupsJoined:"You haven't joined or created any groups yet.",userNotInGroupsSuffix:"isn't part of any groups.",noEventsJoined:"You haven't created or joined any events yet.",userNotInEventsSuffix:"isn't associated with any events.",noFriendsYet:"You haven't added any friends yet.",userHasNoFriendsSuffix:"has no friends to display.",noSavedItems:"You haven't saved any items yet.",tabs:{posts:"Posts",groups:"Groups",events:"Events",friends:"Friends",saved:"Saved"},notFound:"Profile not found."},Xz={createPostPlaceholder:"What's on your mind?",createTitle:"Create Title",submit:"Post",addImage:"Add Image",postEmpty:"Post cannot be empty",publish:"Publish",share:"Share",save:"Save",unsave:"Unsave",selectGroup:"Select a group to post to",selectEvent:"Select an event to post to",popularHashtags:"Popular hashtags",postingToGroup:"Posting to group",postingToEvent:"Posting to event",tagLocation:"Tag location",addVideo:"Add video",addEmoji:"Add emoji",selectFriend:"Share with friend",sharingWithFriend:"Sharing with"},Qz={incompleteProfile:"Please complete your profile first",loginRequired:"Please log in to create a post",postCreationFailed:"Failed to create post",completeProfileToPost:"Complete your profile to start posting",loginRequiredGroup:"You must be logged in to create a group.",groupNameRequired:"Group name is required.",groupCategoryRequired:"Please select a category for the group.",groupCreationFailed:"Failed to create group",groupMemberAddFailed:"Group created, but failed to add creator as member.",loginRequiredEvent:"You must be logged in to create an event.",eventNameRequired:"Event title is required.",eventDateRequired:"Event start date is required.",eventCategoryRequired:"Please select a category for the event.",eventCreationFailed:"Failed to create event"},Zz={postCreated:"Post created successfully",groupCreated:"Group created successfully!",eventCreated:"Event created successfully!"},eB={title:"Settings",account:"Account Settings",profile:"Profile Settings",notifications:"Notification Settings",privacy:"Privacy Settings",language:"Language Settings",theme:"Theme Settings",deleteAccount:"Delete Account",darkMode:"Dark Mode",emailNotifications:"Email Notifications",pushNotifications:"Push Notifications",profileVisibility:"Profile Visibility",postVisibility:"Post Visibility",messagePermissions:"Message Permissions",selectLanguage:"Select Language",public:"Public",private:"Private",everyone:"Everyone",connections:"Connections Only",nobody:"Nobody",pageTitle:"Settings",logoutButton:"Logout",tabs:{profile:"Profile",appearance:"Appearance",notifications:"Notifications",privacy:"Privacy",security:"Security",account:"Account",help:"Help & Support"},profileSection:{title:"Profile Information",fullNameLabel:"Full Name",emailLabel:"Email Address"},notificationsSection:{title:"Notifications",emailLabel:"Email Notifications",emailDescription:"Receive important updates via email.",pushLabel:"Push Notifications",pushDescription:"Get notified directly in the app (requires browser permission).",marketingLabel:"Marketing Emails",marketingDescription:"Receive promotional offers and news.",saveButton:"Save Notifications"},privacySection:{title:"Privacy Settings",profileVisibilityLabel:"Profile Visibility",visibilityOptions:{public:"Public (Visible to everyone)",connections:"Connections Only",private:"Private (Only you)"},showEmailLabel:"Show Email on Profile",showLocationLabel:"Show Location on Profile",saveButton:"Save Privacy Settings"},appearanceSection:{title:"Appearance",themeLabel:"Theme",lightTheme:"Light",darkTheme:"Dark"},securitySection:{title:"Security",changePasswordTitle:"Change Password",newPasswordLabel:"New Password",confirmPasswordLabel:"Confirm New Password",changePasswordButton:"Change Password",accountActionsTitle:"Account Actions",logoutButton:"Log Out",deleteAccountButton:"Delete Account",deleteWarning:"Warning: Deleting your account is permanent and cannot be undone."},helpSection:{title:"Help & Support",description:"Need assistance or have questions? Visit our Help Center for guides and FAQs.",helpCenterButton:"Go to Help Center"},accountSection:{title:"Account Management",manageSessionsButton:"Manage Logged-in Sessions",managePasswordButton:"Manage Password (OAuth?)",deactivateButton:"Deactivate Account (Temporary)",deletePermanentlyButton:"Delete Account Permanently"}},tB={title:"Comments",noComments:"No comments yet",writeCommentPlaceholder:"Write a comment..."},rB={welcome:"Welcome to our social network",loginPrompt:"Please log in to see and interact with posts",loading:"Loading...",using_mock_data:"Using Mock Data",use_real_data:"Use Real Data",more_options:"More options"},nB={signIn:"Sign In",signInWithGoogle:"Sign in with Google",signingIn:"Signing in...",welcomeBack:"Welcome Back",dontHaveAccount:"Don't have an account?",register:"Register",emailAddress:"Email address",emailPlaceholder:"you@example.com",password:"Password",passwordPlaceholder:"",rememberMe:"Remember me",forgotPassword:"Forgot password?",failedToSignIn:"Failed to sign in",failedToSignInWithGoogle:"Failed to sign in with Google",loginFailed:"Login failed",redirectTimeout:"Redirect timeout - please try again",redirectingToGoogle:"Redirecting to Google for authentication...",loginFailedTryAgain:"Login failed. Please try again.",redirectingToOAuth:"Redirecting to authentication service...",signInToAccount:"Sign in to your account",connectWithCommunity:"Connect with your community and friends"},sB={landingPage:"Landing Page",joinNow:"Join Now",goToCompleteProfile:"Go to Complete Profile",orContinueWithEmail:"Or continue with email"},oB={allRightsReserved:"All rights reserved"},aB={title:"Notifications",markAsRead:"Mark as read",markAllAsRead:"Mark all as read",deleteAll:"Delete all",empty:"No notifications to display",all:"All",unread:"Unread",friends:"Friends",likes:"Likes",comments:"Comments",groups:"Groups",events:"Events"},iB={completeNow:"Complete Now"},lB={shareThoughts:"What's on your mind?"},cB={title:"Friends",requests:"Requests",suggestions:"Suggestions",no_friends:"No friends yet. Find people in Suggestions!",no_requests:"No pending requests.",no_suggestions:"No suggestions right now. Check back later!",incoming:"Incoming",sent:"Sent",actions:{accept:"Accept",decline:"Decline",cancel_request:"Cancel Request",connect:"Connect",message:"Message",view_profile:"View Profile"},buttons:{createGroup:"Create Group",findPeople:"Find People",accept:"Accept",decline:"Decline",cancel:"Cancel",connect:"Connect"},tabs:{friends:"Friends",requests:"Requests",people:"People"},no_friends_message:"You don't have any friends yet. Find people to connect with!",incoming_requests:"Incoming Requests",sent_requests:"Sent Requests",no_pending_requests:"No pending friend requests",people_you_may_know:"People You May Know",no_suggestions_message:"No suggestions available at the moment",create_group_title:"Create a New Group",create_group_description:"Select friends to add to your new group",create_group_name_label:"Group Name",create_group_name_placeholder:"Enter group name...",create_group_select_label:"Select Friends",create_group_selected:"selected"},uB={main:"Main",shortcuts:"Shortcuts",resources:"Resources",home:"Home",profile:"Profile",groups:"Groups",events:"Events",friends:"Friends",messages:"Messages",chat:"Chat",notifications:"Notifications",discover:"Discover",saved:"Saved",favorites:"Favorites",settings:"Settings"},dB={signIn:"Sign In",signInWithGoogle:"Sign in with Google",signingIn:"Signing in...",signOut:"Sign Out",createAccount:"Create Account",forgotPassword:"Forgot Password?",resetPassword:"Reset Password",sendResetLink:"Send Reset Link"},fB={accept:"Accept",decline:"Decline",connect:"Connect",disconnect:"Disconnect",follow:"Follow",unfollow:"Unfollow",block:"Block",unblock:"Unblock",report:"Report",markAsRead:"Mark as Read",markAllAsRead:"Mark All as Read",clearAll:"Clear All",showMore:"Show More",showLess:"Show Less",readMore:"Read More",seeAll:"See All",unfriendConfirm:"Unfriend @{{username}}?",search:"Search FAQs..."},hB={title:"Messages",tabs:{direct:"Direct",groups:"Groups",events:"Events"},direct:"Direct Messages",groups:"Group Chats",events:"Event Chats",select_conversation:"Select conversation",select_conversation_description:"Select a conversation from the list or start a new one from the Friends page",no_direct_messages:"You don't have any direct messages yet",no_group_chats:"You're not in any groups yet",no_event_chats:"You don't have any event chats yet",find_friends:"Find Friends",browse_groups:"Browse Groups",browse_events:"Browse Events",you:"You",no_messages_yet:"No messages yet",start_conversation:"Start Conversation",members:"members",view_profile:"View Profile",delete_conversation:"Delete Conversation",archive_chat:"Archive Chat",mute_notifications:"Mute Notifications",block_user:"Block User",message_settings:"Message Settings",message_settings_soon:"Message settings coming soon",group_chats_coming_soon:"Group chats coming soon",event_chat_ui_coming_soon:"Event chat UI coming soon",group_chat_ui_coming_soon:"Group chat UI coming soon",view_group_info:"View Group Info",view_event_details:"View Event Details",choose_conversation_or_start_new:"Choose a conversation from the list or start a new one",your_events:"Your Events",refresh:"Refresh",admin:"Admin",member:"Member",no_description:"No description",enter_fullscreen:"Enter Fullscreen",exit_fullscreen:"Exit Fullscreen",settings:"Message Settings",direct_message_policies:{delete_own:"Users can delete their own messages",insert_own:"Users can send their own messages",update_own:"Users can update their own messages",view_own:"Users can view their own messages"}},mB={event_chat:"Event Chat",back_to_messages:"Back to Messages",view_event_details:"View Event Details",view_attendees:"View Attendees",event_attendees:"Event Attendees",no_attendees_found:"No Attendees Found",attendee:"Attendee",attendees:"Attendees",unknown_attendee:"Unknown Attendee",unknown_location:"Unknown Location",type_your_message:"Type your message...",loading:"Loading...",error_loading_messages:"Error loading messages",error_sending_message:"Failed to send message. Please try again.",date:"Date",location:"Location",description:"Description",view_full_event_page:"View Full Event Page",event_settings:"Event Settings",mute_notifications:"Mute Notifications",add_to_calendar:"Add to Calendar",share_event:"Share Event",leave_event:"Leave Event",enter_fullscreen:"Enter Fullscreen",exit_fullscreen:"Exit Fullscreen",error_invalid_event_id:"Invalid event ID",error_event_not_found:"Event not found or may have been deleted",members_can_view:"Members can view other attendees",attendees_can_join:"Users can join events",attendees_can_leave:"Attendees can leave events",users_own_attendance:"Users can see their own attendance",attendees_send_messages:"Attendees can send messages to events",attendees_update_status:"Attendees can update their status",view_attendees_policy:"View attendees policy",delete_own_messages:"Users can delete their own messages",update_own_messages:"Users can update their own messages"},gB={appearance_settings:"Appearance Settings",chat_theme:"Chat Theme",bubble_style:"Bubble Style",font_size:"Font Size",save_settings:"Save Settings",settings_saved:"Settings saved successfully",error_saving_settings:"Error saving settings",members:"members",view_members:"View Members",settings:"Settings",theme_default:"Default",theme_modern:"Modern",theme_minimal:"Minimal",theme_colorful:"Colorful",style_rounded:"Rounded",style_square:"Square",style_bubble:"Bubble",size_small:"Small",size_medium:"Medium",size_large:"Large",error_title:"Error",not_member_title:"Not a Member",not_member_message:"You are not a member of this group. Join to send and view messages.",join_group:"Join Group",admin:"Admin",unknown_user:"Unknown User",no_messages_title:"No Messages Yet",no_messages_message:"Be the first to start a conversation in this group!",message_placeholder:"Type a message...",join_to_send_messages:"Join the group to send messages",group_members:"Group Members",error_invalid_group_id:"Invalid group ID",error_group_not_found:"Group not found",error_loading_chat:"Error loading chat",error_realtime_connection:"Realtime error",error_loading_members:"Error loading group members",error_sending_message:"Failed to send message",error_joining_group:"Error joining group",joined_group_success:"Successfully joined the group",not_a_member:"You are not a member of this group",loading:"Loading...",no_messages_yet:"No messages yet",type_a_message:"Type a message...",send_message:"Send",back_to_messages:"Back to Messages",back_to_groups:"Back to Groups",view_group_info:"View Group Info",mute_notifications:"Mute Notifications",create_event:"Create Event",leave_group:"Leave Group",chat_settings:"Chat Settings",view_group_members:"View Group Members",enter_fullscreen:"Enter Fullscreen",exit_fullscreen:"Exit Fullscreen",not_found:"Group Not Found",error_loading:"Error Loading Group",members_view_policy:"Members can view other members",users_join_policy:"Users can join groups",users_leave_policy:"Users can leave groups",users_view_own_policy:"Users can see their own memberships",members_send_messages:"Members can send messages to groups",members_update_status:"Users can update their chat group status",members_view_others:"Users can view memberships in their groups",view_members_policy:"View members policy",view_own_memberships:"View own memberships policy"},pB={main:"Main",home:"Home",profile:"Profile",groups:"Groups",events:"Events",resources:"Resources",friends:"Friends",messages:"Messages",notifications:"Notifications",saved:"Saved",settings:"Settings"},yB={search_placeholder:"Search posts...",no_posts_title:"No posts found",no_my_posts_message:"You haven't created any posts yet.",no_all_posts_message:"There are no posts to display.",create_first_post:"Create your first post"},xB={title:"Groups",tabs:{all:"All Groups",my:"My Groups"},buttons:{create:"Create Group",joining:"Joining...",join:"Join Group",chat:"Chat",leave:"Leave"},search_placeholder:"Find your community...",category_label:"Category",categories:{all:"All",technology:"Technology",business:"Business",education:"Education",entertainment:"Entertainment",health:"Health",sports:"Sports",travel:"Travel",art:"Art",food:"Food",music:"Music"},members:"members",no_groups_found_title:"No groups found",no_my_groups_message:"You haven't joined any groups yet.",no_all_groups_message:"Try adjusting your search or create a new group."},vB={title:"Events",tabs:{all:"All Events",my:"My Events"},buttons:{create:"Create Event",leaving:"Leaving...",leave:"Leave",chat:"Chat",joining:"Joining...",join:"Join"},search_placeholder:"Search events...",category_label:"Select Category",categories:{all:"All Categories",technology:"Technology",business:"Business",education:"Education",entertainment:"Entertainment",health:"Health",sports:"Sports",travel:"Travel",art:"Art",food:"Food",music:"Music"},public:"Public",private:"Private",no_events_found_title:"No events found",no_my_events_message:"You haven't RSVP'd to any events yet.",no_all_events_message:"Try adjusting your search or create a new event."},bB={eventDate:"Event Date"},wB={title:"Saved Items",categories:{all:"All Items",articles:"Articles",photos:"Photos",videos:"Videos"},readTime5:"5 min read",readTime8:"8 min read",no_items_title:"No saved items found",no_items_message:"Items you save will appear here. Browse content and click the bookmark icon to save items.",buttons:{explore:"Explore Content"}},_B={title:"Favorites",tabs:{groups:"Groups",connections:"Connections"},buttons:{remove:"Remove from Favorites",viewGroup:"View Group"},noHeadline:"No headline",no_groups:"You haven't favorited any groups yet.",no_connections:"You haven't favorited any connections yet."},kB={helpAndSupport:"Help & Support",helpAndSupportDescription:"Find answers to common questions and get in touch with our support team.",telegramSupport:"Telegram Support",telegramSupportDescription:"Chat with us directly on Telegram.",emailSupport:"Email Support",emailSupportDescription:"Send us an email for assistance.",helpCenter:"Help Center",helpCenterDescription:"Find answers in our knowledge base.",documentation:"Documentation",documentationDescription:"Browse comprehensive guides.",viewDocumentation:"View Documentation",videoTutorials:"Video Tutorials",videoTutorialsDescription:"Watch videos to get started.",watchTutorials:"Watch Tutorials",frequentlyAskedQuestions:"Frequently Asked Questions",noMatchingFAQs:"No matching FAQs found.",openingTelegram:"Opening Telegram support",openingEmail:"Opening email client",redirectingToHelp:"Redirecting to Help Center...",redirectingToDocs:"Opening Documentation...",redirectingToTutorials:"Opening Tutorials..."},SB={createGroup:{question:"How do I create a group?",answer:'Navigate to the Groups page and click the "Create Group" button. Fill in the details and invite members.'},addFriends:{question:"How can I add friends?",answer:'Go to the Friends page, find people under "Suggestions" or search, and click "Connect" or "Add Friend".'},privacy:{question:"How do I manage my privacy settings?",answer:"Go to Settings -> Privacy. Here you can control who sees your profile and posts."},notifications:{question:"How can I change my notification preferences?",answer:"Visit Settings -> Notifications to enable or disable email and push notifications."},deleteAccount:{question:"How do I delete my account?",answer:"Go to Settings -> Security -> Account Actions. Be aware that deleting your account is permanent."}},jB={title:"Create a New Group",nameLabel:"Group Name *",namePlaceholder:"E.g., Tech Enthusiasts, Book Club",descriptionLabel:"Description",descriptionPlaceholder:"What is this group about?",categoryLabel:"Category",categoryPlaceholder:"Select a category...",visibilityLabel:"Visibility",visibilityPlaceholder:"Select visibility...",visibilityPublic:"Public - Anyone can see and join",visibilityPrivate:"Private - Members must be invited",createButton:"Create Group",creatingButton:"Creating Group..."},NB={title:"Create a New Event",nameLabel:"Event Title *",namePlaceholder:"E.g., Annual Tech Conference, Community Meetup",descriptionLabel:"Description",descriptionPlaceholder:"Tell people more about the event",categoryLabel:"Category",categoryPlaceholder:"Select a category...",locationLabel:"Location *",locationPlaceholder:"E.g., Conference Center, Online",startDateLabel:"Start Date & Time *",startTimeLabel:"Start Time",endDateLabel:"End Date & Time (Optional)",endTimeLabel:"End Time",visibilityLabel:"Visibility",visibilityPlaceholder:"Select visibility...",visibilityPublic:"Public - Anyone can see",visibilityPrivate:"Private - Invite only",maxAttendeesLabel:"Max Attendees (Optional)",maxAttendeesPlaceholder:"Leave blank for unlimited",createButton:"Create Event",creatingButton:"Creating Event..."},CB={buttons:Kz,formLabels:Yz,profile:Jz,post:Xz,errors:Qz,success:Zz,settings:eB,comments:tB,common:rB,login:nB,navigation:sB,footer:oB,notifications:aB,action:iB,placeholder:lB,friends:cB,nav:uB,auth:dB,actions:fB,messages:hB,event_chat:mB,group_chat:gB,sidebar:pB,home:yB,groups:xB,events:vB,discover:bB,saved:wB,favorites:_B,helpAndSupport:kB,faq:SB,createGroup:jB,createEvent:NB},EB={welcome:"     ",search:"",submit:"",cancel:"",save:"",delete:"",loading:"...",loginPrompt:"Please log in to see and interact with posts",using_mock_data:"  ",use_real_data:"  ",more_options:" ",select_tab:" "},PB={sign_in:"",sign_up:"",sign_out:"",continueWithGoogle:"Continue with Google",login:"Login",register:"Register",forgotPassword:"Forgot Password",resetPassword:"Reset Password",verifyEmail:"Verify Email",completeProfile:"Complete Profile",loginWithGoogle:"Login with Google",loginWithFacebook:"Login with Facebook",alreadyHaveAccount:"Already have an account?",dontHaveAccount:"Don't have an account?",createAccount:"Create Account"},TB={main:"",shortcuts:"",resources:"",home:"",profile:"",groups:"",events:"",friends:"",messages:"",chat:"",notifications:"",discover:"",saved:"",favorites:"",settings:""},AB={title:"",markAsRead:"  ",markAllAsRead:"   ",deleteAll:" ",empty:"   ",all:"",unread:"",friends:"",likes:"",comments:"",groups:"",events:""},RB={save:"",cancel:"",post:"",posting:"...",edit:"",delete:"",like:"",comment:"",share:"",unsave:"  ",login:"Login",createPost:" ",close:"Close",postComment:"Post Comment",message:"",sending:"...",addFriend:"  ",requestSent:" ",friends:"",confirm:"",saved:"",send:"",tryAgain:" ",remove:"",view:"",saving:"...",deleting:"...",saveProfile:" "},MB={school:"School",degree:"Degree",field:"Field of Study",startDate:"Start Date",endDate:"End Date",currentlyStudying:"Currently Studying Here",description:"Description"},LB={incompleteProfile:"Incomplete Profile",completeProfileMessage:"Please complete your profile to create posts",editProfile:"Edit Profile ",yourProfile:"Your Profile",confirmDeletePost:" ,     ?",postDeletedSuccess:"  .",postDeleteFailed:"   .",friendRequestSent:"   !",friendRequestFailed:"     .",confirmRemoveFriend:" ,     ?",friendRemovedSuccess:" .",friendRemoveFailed:"   .",friendRequestAccepted:"   !",friendRequestAcceptFailed:"     .",buttons:{addFriend:"  ",accept:"",decline:"",removeFriend:"  ",viewGroup:" ",createGroup:" ",viewDetails:" ",createEvent:" ",findFriends:" ",editProfile:" "},status:{requestSent:" "},noPostsYet:"    .",userHasNoPostsSuffix:"  .",noGroupsJoined:"         .",userNotInGroupsSuffix:"     .",noEventsJoined:"          .",userNotInEventsSuffix:"     .",noFriendsYet:"      .",userHasNoFriendsSuffix:"    .",noSavedItems:"    .",tabs:{posts:"",groups:"",events:"",friends:"",saved:""},notFound:"  ."},DB={createPostPlaceholder:"   ?",createTitle:" ",submit:"",addImage:" ",publish:"",share:"",save:"",unsave:"  ",writePost:"    ?",post:"",postingToGroup:"  ",postingToEvent:"  ",selectGroup:"   ",selectEvent:"   ",popularHashtags:" ",tagLocation:" ",addVideo:" ",addEmoji:" ",selectFriend:"  ",sharingWithFriend:" "},OB={incompleteProfile:"Please complete your profile first",loginRequired:"Please log in to create post",postCreationFailed:"Failed to create post",completeProfileToPost:"Complete your profile to start posting",loginRequiredGroup:"    ,   .",groupNameRequired:"  .",groupCategoryRequired:",    .",groupCreationFailed:"   ",groupMemberAddFailed:" ,       .",loginRequiredEvent:"    ,   .",eventNameRequired:"  .",eventDateRequired:"   .",eventCategoryRequired:",    .",eventCreationFailed:"   "},IB={postCreated:"Post created successfully",groupCreated:"  !",eventCreated:"  !"},FB={appearance_settings:"  ",chat_theme:" ",bubble_style:" ",font_size:" ",save_settings:" ",settings_saved:"  ",error_saving_settings:"   ",members:" ",add_member:" ",remove_member:" ",leave_group:" ",join_group:"  ",group_settings:" ",group_name:" ",group_description:" ",group_privacy:" ",public:"",private:"",notifications:"",all_messages:" ",mentions_only:" ",none:"",message_placeholder:" ...",typing:"...",no_messages:" ",load_more:" ",seen_by:"",message_not_sent:"  ",try_again:" ",delete_message:" ",edit_message:" ",reply:"",replying_to:" ",message_deleted:" ",you:"",search_messages:" ",member_settings:" ",member_notifications:" ",everyone:"",admins_only:" ",error_loading_chat:"   ",error_sending_message:"   ",error_adding_member:"   ",error_removing_member:"   ",error_leaving_group:"    ",error_joining_group:"    ",error_updating_settings:"   ",create:"  ",edit:"  ",settings:" ",add_members:" ",leave:" ",delete:" ",appearance:"  ",theme:" ",default_theme:" ",dark_theme:"",light_theme:"",custom_theme:"",mute_notifications:" ",permissions:"",admin_only:" ",all_members:" ",message_permissions:" ",invite_permissions:" ",error:{create:"    ",update:"    ",delete:"    ",leave:"    ",add_members:"   ",remove_member:"   ",load:"    "},success:{create:"   ",update:"   ",delete:"   ",leave:"    ",add_members:"  ",remove_member:"  "}},$B={event_chat:" ",back_to_messages:"  ",view_event_details:"  ",view_attendees:" ",event_attendees:" ",no_attendees_found:"  ",attendee:"",attendees:"",unknown_attendee:" ",unknown_location:" ",type_your_message:" ...",loading:"...",error_loading_messages:"   ",error_sending_message:"   . ,   .",date:"",location:" ",description:"",view_full_event_page:"   ",event_settings:" ",mute_notifications:" ",add_to_calendar:"  ",share_event:" ",leave_event:" ",enter_fullscreen:" ",exit_fullscreen:"   ",error_invalid_event_id:" ID ",error_event_not_found:"      .",members_can_view:"    ",attendees_can_join:"    ",attendees_can_leave:"   ",users_own_attendance:"     ",attendees_send_messages:"     ",attendees_update_status:"    ",view_attendees_policy:"  ",delete_own_messages:"     ",update_own_messages:"     "},UB={title:"Settings",account:{title:" ",manageSessionsButton:"  ",managePasswordButton:"  (OAuth?)",deactivateButton:"  ()",deletePermanentlyButton:"  "},profile:{title:" ",fullNameLabel:" ",emailLabel:"  "},notifications:{title:"",emailLabel:"   ",emailDescription:"     .",pushLabel:"Push-",pushDescription:"     (  ).",marketingLabel:" ",marketingDescription:"    .",saveButton:" "},privacy:{title:" ",profileVisibilityLabel:" ",visibilityOptions:{public:" ( )",connections:" ",private:" ( )"},showEmailLabel:" email  ",showLocationLabel:"   ",saveButton:"  "},language:"Language Settings",theme:"Theme Settings",deleteAccount:"Delete Account",darkMode:"Dark Mode",emailNotifications:"Email Notifications",pushNotifications:"Push Notifications",profileVisibility:"Profile Visibility",postVisibility:"Post Visibility",messagePermissions:"Message Permissions",selectLanguage:"Select Language",public:"Public",private:"Private",everyone:"Everyone",connections:"Connections Only",nobody:"Nobody",pageTitle:"",tabs:{profile:"",appearance:" ",notifications:"",privacy:"",security:"",account:"",help:"  "},appearance:{title:" ",themeLabel:"",lightTheme:"",darkTheme:""},security:{title:"",changePasswordTitle:" ",newPasswordLabel:" ",confirmPasswordLabel:"  ",changePasswordButton:" ",accountActionsTitle:"  ",logoutButton:"",deleteAccountButton:" ",deleteWarning:":    ."},help:{title:"  ",description:"    ?             .",helpCenterButton:"   "},logoutButton:""},zB={title:"",noComments:"  ",writeCommentPlaceholder:" ..."},BB={signIn:"",signInWithGoogle:"  Google",signingIn:" ...",welcomeBack:" ",dontHaveAccount:" ?",register:"",emailAddress:"  ",emailPlaceholder:"@.com",password:"",passwordPlaceholder:"",rememberMe:" ",forgotPassword:" ?",failedToSignIn:"  ",failedToSignInWithGoogle:"    Google",loginFailed:"  ",redirectTimeout:"  - ,  ",redirectingToGoogle:"  Google  ...",loginFailedTryAgain:"  . ,  .",redirectingToOAuth:"   ...",signInToAccount:"   ",connectWithCommunity:"     "},VB={landingPage:"Landing Page",joinNow:"Join Now",goToCompleteProfile:"Go to Complete Profile",orContinueWithEmail:"Or continue with email"},GB={allRightsReserved:"All rights reserved"},qB={completeNow:"Complete Now"},WB={shareThoughts:"   ?"},HB={title:"",requests:"",suggestions:"",no_friends:"    .     !",no_requests:"  .",no_suggestions:"  .  !",incoming:"",sent:"",actions:{accept:"",decline:"",cancel_request:" ",connect:"",message:"",view_profile:" "},requestPending:"  ",alreadyFriend:"  "},KB="",YB=" ",JB="",XB={search_placeholder:" ...",no_posts_title:"  ",no_my_posts_message:"      .",no_all_posts_message:"   .",create_first_post:"   "},QB={title:"",tabs:{all:" ",my:" "},buttons:{create:" ",joining:"...",join:"",chat:"",leave:""},search_placeholder:"  ...",category_label:"",categories:{all:"",technology:"",business:"",education:"",entertainment:"",health:"",sports:"",travel:"",art:"",food:"",music:""},members:"",no_groups_found_title:"  ",no_my_groups_message:"       .",no_all_groups_message:"      ."},ZB={title:"",tabs:{all:" ",my:" "},buttons:{create:" ",leaving:"...",leave:"",chat:"",joining:"...",join:""},search_placeholder:" ...",category_label:" ",categories:{all:" ",technology:"",business:"",education:"",entertainment:"",health:"",sports:"",travel:"",art:"",food:"",music:""},public:"",private:"",no_events_found_title:"  ",no_my_events_message:"       .",no_all_events_message:"      ."},eV={title:"",tabs:{direct:"",groups:"",events:""},direct:" ",groups:" ",events:" ",select_conversation:" ",select_conversation_description:"         ",no_direct_messages:"     ",no_group_chats:"      ",no_event_chats:"     ",find_friends:" ",browse_groups:" ",browse_events:" ",you:"",no_messages_yet:"  ",start_conversation:" ",members:"",view_profile:" ",delete_conversation:" ",archive_chat:" ",mute_notifications:" ",block_user:" ",message_settings:" ",message_settings_soon:"   ",group_chats_coming_soon:"   ",event_chat_ui_coming_soon:"    ",group_chat_ui_coming_soon:"    ",view_group_info:"   ",view_event_details:"  ",choose_conversation_or_start_new:"      ",your_events:" ",refresh:"",admin:"",member:"",no_description:" ",enter_fullscreen:" ",exit_fullscreen:"   ",settings:" ",direct_message_policies:{delete_own:"     ",insert_own:"     ",update_own:"     ",view_own:"     "}},tV={title:"",searchPlaceholder:" ,   ...",tabs:{trending:" ",groups:"",events:"",people:""},buttons:{explore:" "},eventDate:" "},rV={title:"",buttons:{explore:" "}},nV={title:"",tabs:{groups:"",connections:""},buttons:{remove:"  ",viewGroup:" "},noHeadline:" ",no_groups:"     .",no_connections:"     ."},sV={helpAndSupport:"  ",helpAndSupportDescription:"           .",telegramSupport:"  Telegram",telegramSupportDescription:"     Telegram.",emailSupport:"   ",emailSupportDescription:"     .",helpCenter:" ",helpCenterDescription:"     .",documentation:"",documentationDescription:"   .",viewDocumentation:" ",videoTutorials:"-",videoTutorialsDescription:" ,   .",watchTutorials:" ",frequentlyAskedQuestions:"  ",noMatchingFAQs:"   .",openingTelegram:"   Telegram",openingEmail:"  ",redirectingToHelp:"   ...",redirectingToDocs:" ...",redirectingToTutorials:" ..."},oV={createGroup:{question:"  ?",answer:'       " ".     .'},addFriends:{question:"  ?",answer:'   ,     ""   ,   ""  "  ".'},privacy:{question:"   ?",answer:"   -> .    ,      ."},notifications:{question:"   ?",answer:"  -> ,          push-."},deleteAccount:{question:"   ?",answer:"   ->  ->   . ,      ."}},aV={accept:"",decline:"",connect:"",disconnect:"",follow:"",unfollow:"",block:"",unblock:"",report:"",markAsRead:"  ",markAllAsRead:"   ",clearAll:" ",showMore:" ",showLess:" ",readMore:" ",seeAll:" ",unfriendConfirm:" @{{username}}  ?",search:"    ..."},iV={title:"  ",nameLabel:"  *",namePlaceholder:":  ,  ",descriptionLabel:"",descriptionPlaceholder:"   ?",categoryLabel:"",categoryPlaceholder:" ...",visibilityLabel:"",visibilityPlaceholder:" ...",visibilityPublic:" -     ",visibilityPrivate:" -    ",createButton:" ",creatingButton:" ..."},lV={title:"  ",nameLabel:"  *",namePlaceholder:":   ,  ",descriptionLabel:"",descriptionPlaceholder:"   ",categoryLabel:"",categoryPlaceholder:" ...",locationLabel:"  *",locationPlaceholder:": -, ",startDateLabel:"    *",startTimeLabel:" ",endDateLabel:"    ()",endTimeLabel:" ",visibilityLabel:"",visibilityPlaceholder:" ...",visibilityPublic:" -   ",visibilityPrivate:" -   ",maxAttendeesLabel:"   ()",maxAttendeesPlaceholder:"    ",createButton:" ",creatingButton:" ..."},cV={common:EB,auth:PB,nav:TB,notifications:AB,buttons:RB,formLabels:MB,profile:LB,post:DB,errors:OB,success:IB,group_chat:FB,event_chat:$B,settings:UB,comments:zB,login:BB,navigation:VB,footer:GB,action:qB,placeholder:WB,friends:HB,main:KB,shortcuts:YB,resources:JB,home:XB,groups:QB,events:ZB,messages:eV,discover:tV,saved:rV,favorites:nV,helpAndSupport:sV,faq:oV,actions:aV,createGroup:iV,createEvent:lV},uV={save:"",cancel:"",post:"",posting:"...",edit:"",delete:"",like:"",comment:" ",share:"",unsave:" ",login:"",createPost:" ",close:"",postComment:" ",message:"",sending:"...",addFriend:" ",requestSent:" ",friends:"",confirm:"",saved:"",send:"",tryAgain:"",remove:"",view:"",saving:"...",deleting:"...",saveProfile:" "},dV={school:"",degree:"",field:"",startDate:" ",endDate:" ",currentlyStudying:"  ",description:""},fV={incompleteProfile:"  ",completeProfileMessage:"    ",editProfile:"  ",yourProfile:" ",confirmDeletePost:"     ?",postDeletedSuccess:"  .",postDeleteFailed:"   .",friendRequestSent:"  !",friendRequestFailed:"    .",confirmRemoveFriend:"     ?",friendRemovedSuccess:" .",friendRemoveFailed:"   .",friendRequestAccepted:"  !",friendRequestAcceptFailed:"    .",buttons:{addFriend:" ",accept:"",decline:" ",removeFriend:" ",viewGroup:" ",createGroup:" ",viewDetails:" ",createEvent:" ",findFriends:" ",editProfile:" "},status:{requestSent:" "},noPostsYet:"   .",userHasNoPostsSuffix:"   .",noGroupsJoined:"      .",userNotInGroupsSuffix:"     .",noEventsJoined:"      .",userNotInEventsSuffix:"     .",noFriendsYet:"   .",userHasNoFriendsSuffix:"    .",noSavedItems:"    .",tabs:{posts:"",groups:"",events:"",friends:"",saved:""},notFound:" ."},hV={createPostPlaceholder:"  ?",createTitle:" ",submit:"",addImage:" ",publish:"",share:"",save:"",unsave:" ",writePost:"  ?",post:"",postingToGroup:" ",postingToEvent:" ",selectGroup:"   ",selectEvent:"   ",popularHashtags:" ",tagLocation:" ",addVideo:" ",addEmoji:" ",selectFriend:" ",sharingWithFriend:" "},mV={incompleteProfile:"  ",loginRequired:"   ",postCreationFailed:"   ",completeProfileToPost:"     ",loginRequiredGroup:"     .",groupNameRequired:"  .",groupCategoryRequired:"   .",groupCreationFailed:"   ",groupMemberAddFailed:" ,       .",loginRequiredEvent:"     .",eventNameRequired:"  .",eventDateRequired:"   .",eventCategoryRequired:"   .",eventCreationFailed:"   "},gV={postCreated:"  ",groupCreated:"  !",eventCreated:"  !"},pV={loading:"...",no_messages_yet:"  .   !",type_a_message:" ...",send_message:"",back_to_messages:" ",back_to_groups:" ",error_loading_members:"    ",error_sending_message:"   .  .",error_realtime_connection:"   ",group_members:"",unknown_user:" ",no_members_found:" ",mute_notifications:" ",view_group_info:"   ",create_event:" ",leave_group:" ",chat_settings:" ",view_group_members:"  ",enter_fullscreen:" ",exit_fullscreen:"  "},yV={title:"",account:{title:" ",manageSessionsButton:"  ",managePasswordButton:"   (OAuth?)",deactivateButton:"  ()",deletePermanentlyButton:"  "},profile:{title:" ",fullNameLabel:" ",emailLabel:"  "},notifications:{title:"",emailLabel:"  ",emailDescription:"     .",pushLabel:"Push ",pushDescription:"    (  ).",marketingLabel:" ",marketingDescription:"    .",saveButton:" "},privacy:{title:" ",profileVisibilityLabel:" ",visibilityOptions:{public:"  (  )",connections:" ",private:" ( )"},showEmailLabel:"   ",showLocationLabel:"   ",saveButton:"  "},language:" ",theme:" ",deleteAccount:" ",darkMode:" ",emailNotifications:"  ",pushNotifications:"Push ",profileVisibility:" ",postVisibility:" ",messagePermissions:" ",selectLanguage:" ",public:" ",private:"",everyone:"",connections:" ",nobody:"",pageTitle:"",tabs:{profile:"",appearance:" ",notifications:"",privacy:"",security:"",account:"",help:" & "},appearance:{title:" ",themeLabel:"",lightTheme:"",darkTheme:""},security:{title:"",changePasswordTitle:"  ",newPasswordLabel:"  ",confirmPasswordLabel:"   ",changePasswordButton:"  ",accountActionsTitle:" ",logoutButton:"",deleteAccountButton:" ",deleteWarning:":    ."},help:{title:" & ",description:"      ?       .",helpCenterButton:"  "},logoutButton:""},xV={title:"",noComments:"  ",writeCommentPlaceholder:" ..."},vV={welcome:"    ",loginPrompt:"      ",loading:"...",using_mock_data:"  ",use_real_data:"  ",more_options:" ",select_tab:" "},bV={signIn:"",signInWithGoogle:"Google  ",signingIn:"...",welcomeBack:"  ",dontHaveAccount:"  ?",register:"",emailAddress:"  ",emailPlaceholder:"siz@example.com",password:" ",passwordPlaceholder:"",rememberMe:"  ",forgotPassword:"   ?",failedToSignIn:"  ",failedToSignInWithGoogle:"Google    ",loginFailed:"  ",redirectTimeout:"   -  ",redirectingToGoogle:"  Google- ...",loginFailedTryAgain:"  .  .",redirectingToOAuth:"  ...",signInToAccount:" ",connectWithCommunity:"   "},wV={landingPage:" ",joinNow:" ",goToCompleteProfile:"  ",orContinueWithEmail:"   "},_V={allRightsReserved:"  "},kV={title:"",markAsRead:"  ",markAllAsRead:"   ",deleteAll:" ",empty:"  ",all:"",unread:"",friends:"",likes:"",comments:"",groups:"",events:""},SV={completeNow:" "},jV={shareThoughts:"  ?"},NV={main:"",home:" ",profile:"",groups:"",events:"",shortcuts:" ",friends:"",messages:"",resources:"",discover:"",saved:"",favorites:"",settings:""},CV={title:"",requests:"",suggestions:"",no_friends:"  .    !",no_requests:"  .",no_suggestions:"  .  !",incoming:"",sent:"",actions:{accept:"",decline:" ",cancel_request:" ",connect:"",message:"",view_profile:" "},buttons:{createGroup:" ",findPeople:" ",accept:"",decline:" ",cancel:"",connect:"",addFriend:" "},tabs:{friends:"",requests:"",people:""},no_friends_message:"   .   !",incoming_requests:"  ",sent_requests:" ",no_pending_requests:"    ",people_you_may_know:"   ",no_suggestions_message:"   ",create_group_title:"  ",create_group_description:"     ",create_group_name_label:" ",create_group_name_placeholder:"  ...",create_group_select_label:" ",create_group_selected:"",requestPending:" ",alreadyFriend:"  "},EV={main:"",shortcuts:" ",resources:"",home:" ",profile:"",groups:"",events:"",friends:"",messages:"",chat:"",notifications:"",discover:"",saved:"",favorites:"",settings:""},PV={search_placeholder:" ...",no_posts_title:" ",no_my_posts_message:"   .",no_all_posts_message:"  .",create_first_post:"  "},TV={title:"",tabs:{all:" ",my:" "},buttons:{create:" ",joining:"...",join:" ",chat:"",leave:""},search_placeholder:"  ...",category_label:"",categories:{all:"",technology:"",business:"",education:"",entertainment:"-",health:"",sports:"",travel:"",art:"",food:"",music:""},members:"",no_groups_found_title:" ",no_my_groups_message:"    .",no_all_groups_message:"      ."},AV={title:"",tabs:{all:" ",my:" "},buttons:{create:" ",leaving:"...",leave:"",chat:"",joining:"...",join:""},search_placeholder:" ...",category_label:" ",categories:{all:" ",technology:"",business:"",education:"",entertainment:"-",health:"",sports:"",travel:"",art:"",food:"",music:""},public:" ",private:"",no_events_found_title:" ",no_my_events_message:"    .",no_all_events_message:"      ."},RV={title:"",tabs:{direct:"",groups:"",events:""},no_direct_messages:"   ",find_friends:" ",delete_conversation:" ",group_chats_coming_soon:"  ",browse_groups:" ",no_event_chats:"   ",browse_events:" ",exit_fullscreen:"  ",enter_fullscreen:" ",settings:" ",view_profile:" ",mute_notifications:" ",block_user:" ",select_conversation:" ",select_conversation_description:"       ",you:"",no_messages_yet:"  "},MV={title:"",searchPlaceholder:",    ...",tabs:{trending:"",groups:"",events:"",people:""},buttons:{explore:" "},eventDate:" "},LV={title:"",categories:{all:" ",articles:"",photos:"",videos:""},readTime5:"5  ",readTime8:"8  ",no_items_title:"  ",no_items_message:"     .   ,      .",buttons:{explore:" "}},DV={title:"",tabs:{groups:"",connections:""},buttons:{remove:" ",viewGroup:" "},noHeadline:" ",no_groups:"     .",no_connections:"     ."},OV={helpAndSupport:" & ",helpAndSupportDescription:"         .",telegramSupport:"Telegram ",telegramSupportDescription:"Telegram    .",emailSupport:"  ",emailSupportDescription:"      .",helpCenter:" ",helpCenterDescription:"    .",documentation:"",documentationDescription:"-   .",viewDocumentation:" ",videoTutorials:" ",videoTutorialsDescription:"   .",watchTutorials:" ",frequentlyAskedQuestions:"  ",noMatchingFAQs:"   .",openingTelegram:"Telegram  ",openingEmail:"   ",redirectingToHelp:"  ...",redirectingToDocs:" ...",redirectingToTutorials:" ..."},IV={createGroup:{question:"  ?",answer:'  , " "  .  ,  .'},addFriends:{question:"  ?",answer:'  , ""       ""  " "  .'},privacy:{question:"   ?",answer:" ->   .         ."},notifications:{question:"   ?",answer:"   push       ->   ."},deleteAccount:{question:"  ?",answer:" ->  ->    .     ."}},FV={accept:"",decline:" ",connect:"",disconnect:"",follow:"",unfollow:" ",block:"",unblock:" ",report:"",markAsRead:"  ",markAllAsRead:"   ",clearAll:" ",showMore:" ",showLess:" ",readMore:" ",seeAll:" ",unfriendConfirm:"@{{username}}   ?",search:" ..."},$V={title:"  ",nameLabel:"  *",namePlaceholder:":  ,  ",descriptionLabel:"",descriptionPlaceholder:"   ?",categoryLabel:"",categoryPlaceholder:" ...",visibilityLabel:"",visibilityPlaceholder:" ...",visibilityPublic:"  -        ",visibilityPrivate:" -   ",createButton:" ",creatingButton:" ..."},UV={title:"  ",nameLabel:"  *",namePlaceholder:":   . ,  ",descriptionLabel:"",descriptionPlaceholder:"    ",categoryLabel:"",categoryPlaceholder:" ...",locationLabel:"  *",locationPlaceholder:":  , ",startDateLabel:"    *",startTimeLabel:" ",endDateLabel:"    ( )",endTimeLabel:" ",visibilityLabel:"",visibilityPlaceholder:" ...",visibilityPublic:"  -     ",visibilityPrivate:" -  ",maxAttendeesLabel:".  ( )",maxAttendeesPlaceholder:"   ",createButton:" ",creatingButton:" ..."},zV={buttons:uV,formLabels:dV,profile:fV,post:hV,errors:mV,success:gV,group_chat:pV,settings:yV,comments:xV,common:vV,login:bV,navigation:wV,footer:_V,notifications:kV,action:SV,placeholder:jV,sidebar:NV,friends:CV,nav:EV,home:PV,groups:TV,events:AV,messages:RV,discover:MV,saved:LV,favorites:DV,helpAndSupport:OV,faq:IV,actions:FV,createGroup:$V,createEvent:UV},BV={save:"Kaydet",cancel:"ptal",post:"Gnder",posting:"Gnderiliyor...",edit:"Dzenle",delete:"Sil",like:"Been",comment:"Yorum Yap",share:"Payla",unsave:"Kaydetmeyi Kaldr",login:"Giri Yap",createPost:"Gnderi Olutur",close:"Kapat",postComment:"Yorum Gnder",message:"Mesaj",sending:"Gnderiliyor...",addFriend:"Arkada Ekle",requestSent:"stek Gnderildi",friends:"Arkadalar",confirm:"Onayla",saved:"Kaydedildi",send:"Gnder",tryAgain:"Tekrar Dene",remove:"Kaldr",view:"Grntle",saving:"Kaydediliyor...",deleting:"Siliniyor...",saveProfile:"Profili Kaydet"},VV={school:"Okul",degree:"Diploma",field:"Alan",startDate:"Balang Tarihi",endDate:"Biti Tarihi",currentlyStudying:"u Anda Burada Okuyor",description:"Aklama"},GV={incompleteProfile:"Eksik Profil",completeProfileMessage:"Gnderi oluturmak iin ltfen profilinizi tamamlayn",editProfile:"Profili Dzenle ",yourProfile:"Profilin",confirmDeletePost:"Bu gnderiyi silmek istediinizden emin misiniz?",postDeletedSuccess:"Gnderi baaryla silindi.",postDeleteFailed:"Gnderi silinemedi.",friendRequestSent:"Arkadalk istei gnderildi!",friendRequestFailed:"Arkadalk istei gnderilemedi.",confirmRemoveFriend:"Bu arkada silmek istediinizden emin misiniz?",friendRemovedSuccess:"Arkada kaldrld.",friendRemoveFailed:"Arkada kaldrlamad.",friendRequestAccepted:"Arkadalk istei kabul edildi!",friendRequestAcceptFailed:"Arkadalk istei kabul edilemedi.",buttons:{addFriend:"Arkada Ekle",accept:"Kabul Et",decline:"Reddet",removeFriend:"Arkadalktan kar",viewGroup:"Grubu Grntle",createGroup:"Grup Olutur",viewDetails:"Detaylar Grntle",createEvent:"Etkinlik Olutur",findFriends:"Arkada Bul",editProfile:"Profili Dzenle"},status:{requestSent:"stek Gnderildi"},noPostsYet:"Henz hi gnderiniz yok.",userHasNoPostsSuffix:"adl kullancnn gnderisi yok.",noGroupsJoined:"Henz hibir gruba katlmadnz veya oluturmadnz.",userNotInGroupsSuffix:"adl kullanc herhangi bir grubun yesi deil.",noEventsJoined:"Henz hibir etkinlie katlmadnz veya oluturmadnz.",userNotInEventsSuffix:"adl kullanc herhangi bir etkinlikle ilikili deil.",noFriendsYet:"Henz hi arkada eklemediniz.",userHasNoFriendsSuffix:"adl kullancnn grntlenecek arkada yok.",noSavedItems:"Henz hibir e kaydetmediniz.",tabs:{posts:"Gnderiler",groups:"Gruplar",events:"Etkinlikler",friends:"Arkadalar",saved:"Kaydedilenler"},notFound:"Profil bulunamad."},qV={createPostPlaceholder:"Aklnda ne var?",createTitle:"Gnderi Olutur",submit:"Gnder",addImage:"Resim Ekle",publish:"Yaynla",share:"Payla",save:"Kaydet",unsave:"Kaydetmeyi Kaldr",writePost:"Aklnda ne var?",post:"Gnder",postingToGroup:"Gruba gnderiliyor",postingToEvent:"Etkinlie gnderiliyor",selectGroup:"Gnderi iin bir grup sein",selectEvent:"Gnderi iin bir etkinlik sein",popularHashtags:"Popler hashtagler",tagLocation:"Konum ekle",addVideo:"Video ekle",addEmoji:"Emoji ekle",selectFriend:"Arkada ile payla",sharingWithFriend:"Paylalacak kii"},WV={incompleteProfile:"Ltfen nce profilinizi tamamlayn",loginRequired:"Gnderi oluturmak iin ltfen giri yapn",postCreationFailed:"Gnderi oluturulamad",completeProfileToPost:"Gnderi paylamaya balamak iin profilinizi tamamlayn",loginRequiredGroup:"Grup oluturmak iin giri yapmalsnz.",groupNameRequired:"Grup ad gerekli.",groupCategoryRequired:"Ltfen grup iin bir kategori sein.",groupCreationFailed:"Grup oluturulamad",groupMemberAddFailed:"Grup oluturuldu, ancak oluturucu ye olarak eklenemedi.",loginRequiredEvent:"Etkinlik oluturmak iin giri yapmalsnz.",eventNameRequired:"Etkinlik bal gerekli.",eventDateRequired:"Etkinlik balang tarihi gerekli.",eventCategoryRequired:"Ltfen etkinlik iin bir kategori sein.",eventCreationFailed:"Etkinlik oluturulamad"},HV={postCreated:"Gnderi baaryla oluturuldu",groupCreated:"Grup baaryla oluturuldu!",eventCreated:"Etkinlik baaryla oluturuldu!"},KV={appearance_settings:"Grnm Ayarlar",chat_theme:"Sohbet Temas",bubble_style:"Baloncuk Stili",font_size:"Yaz Boyutu",save_settings:"Ayarlar Kaydet",settings_saved:"Ayarlar baaryla kaydedildi",error_saving_settings:"Ayarlar kaydedilirken hata olutu",members:"ye",view_members:"yeleri Grntle",settings:"Ayarlar",theme_default:"Varsaylan",theme_modern:"Modern",theme_minimal:"Sade",theme_colorful:"Renkli",style_rounded:"Yuvarlak",style_square:"Kare",style_bubble:"Balon",size_small:"Kk",size_medium:"Orta",size_large:"Byk",error_title:"Hata",not_member_title:"ye Deilsiniz",not_member_message:"Bu grubun yesi deilsiniz. Mesaj gndermek ve grntlemek iin katln.",join_group:"Gruba Katl",no_messages_title:"Henz Mesaj Yok",no_messages_message:"Bu gruptaki ilk konumay balatan siz olun!",message_placeholder:"Bir mesaj yazn...",join_to_send_messages:"Mesaj gndermek iin gruba katln",error_invalid_group_id:"Geersiz grup ID",error_group_not_found:"Grup bulunamad",error_loading_chat:"Sohbet yklenirken hata olutu",error_realtime_connection:"Gerek zamanl balantda hata olutu",error_loading_members:"Grup yeleri yklenirken hata olutu",error_sending_message:"Mesaj gnderilemedi",error_joining_group:"Gruba katlrken hata olutu",joined_group_success:"Gruba baaryla katldnz",not_a_member:"Bu grubun yesi deilsiniz",type_a_message:"Bir mesaj yazn...",send_message:"Gnder",back_to_messages:"Mesajlara Dn",back_to_groups:"Gruplara Dn",view_group_info:"Grup Bilgilerini Grntle",mute_notifications:"Bildirimleri Sessize Al",create_event:"Etkinlik Olutur",leave_group:"Gruptan Ayrl",chat_settings:"Sohbet Ayarlar",view_group_members:"Grup yelerini Grntle",enter_fullscreen:"Tam Ekran",exit_fullscreen:"Tam Ekrandan k",not_found:"Grup bulunamad",error_loading:"Grup yklenirken hata olutu",members_view_policy:"yeler dier yeleri grebilir",users_join_policy:"Kullanclar gruplara katlabilir",users_leave_policy:"Kullanclar gruplardan ayrlabilir",users_view_own_policy:"Kullanclar kendi yeliklerini grebilir",members_send_messages:"yeler gruplara mesaj gnderebilir",members_update_status:"Kullanclar grup durumlarn gncelleyebilir",members_view_others:"Kullanclar gruplarndaki yelikleri grntleyebilir",view_members_policy:"yeleri grntleme politikas",view_own_memberships:"Kendi yeliklerini grntleme politikas"},YV={group_chat:"Grup Sohbeti",back_to_messages:"Mesajlara Geri Dn",view_group_members:"Grup yelerini Grntle",group_members:"Grup yeleri",no_members_found:"ye bulunamad",unknown_user:"Bilinmeyen Kullanc",type_a_message:"Bir mesaj yazn...",no_messages_yet:"Henz mesaj yok",send_message:"Mesaj Gnder",chat_settings:"Sohbet Ayarlar",mute_notifications:"Bildirimleri Sustur",view_group_info:"Grup Bilgilerini Grntle",create_event:"Etkinlik Olutur",leave_group:"Gruptan Ayrl",loading:"Ykleniyor...",enter_fullscreen:"Tam Ekrana Ge",exit_fullscreen:"Tam Ekrandan k",error_invalid_group_id:"Geersiz grup kimlii",error_group_not_found:"Grup bulunamad",error_loading_messages:"Mesajlar yklenirken hata olutu",member:"ye",admin:"Ynetici"},JV={title:"Ayarlar",account:{title:"Hesap Ynetimi",manageSessionsButton:"Oturumlar Ynet",managePasswordButton:"ifreyi Ynet (OAuth?)",deactivateButton:"Hesab Dondur (Geici)",deletePermanentlyButton:"Hesab Kalc Olarak Sil"},profile:{title:"Profil Bilgileri",fullNameLabel:"Tam Ad",emailLabel:"E-posta Adresi"},notifications:{title:"Bildirimler",emailLabel:"E-posta Bildirimleri",emailDescription:"nemli gncellemeleri e-posta ile aln.",pushLabel:"Anlk Bildirimler",pushDescription:"Dorudan uygulamada bildirim aln (tarayc izni gerektirir).",marketingLabel:"Pazarlama E-postalar",marketingDescription:"Promosyon teklifleri ve haberleri aln.",saveButton:"Bildirimleri Kaydet"},privacy:{title:"Gizlilik Ayarlar",profileVisibilityLabel:"Profil Grnrl",visibilityOptions:{public:"Herkese Ak (Herkes grebilir)",connections:"Sadece Balantlar",private:"zel (Sadece siz)"},showEmailLabel:"E-postay Profilde Gster",showLocationLabel:"Konumu Profilde Gster",saveButton:"Gizlilik Ayarlarn Kaydet"},language:"Dil Ayarlar",theme:"Tema Ayarlar",deleteAccount:"Hesab Sil",darkMode:"Karanlk Mod",emailNotifications:"E-posta Bildirimleri",pushNotifications:"Anlk Bildirimler",profileVisibility:"Profil Grnrl",postVisibility:"Gnderi Grnrl",messagePermissions:"Mesaj zinleri",selectLanguage:"Dil Sein",public:"Herkese Ak",private:"zel",everyone:"Herkes",connections:"Sadece Balantlar",nobody:"Hi Kimse",pageTitle:"Ayarlar",tabs:{profile:"Profil",appearance:"Grnm",notifications:"Bildirimler",privacy:"Gizlilik",security:"Gvenlik",account:"Hesap",help:"Yardm & Destek"},appearance:{title:"Grnm",themeLabel:"Tema",lightTheme:"Ak",darkTheme:"Koyu"},security:{title:"Gvenlik",changePasswordTitle:"ifre Deitir",newPasswordLabel:"Yeni ifre",confirmPasswordLabel:"Yeni ifreyi Onayla",changePasswordButton:"ifreyi Deitir",accountActionsTitle:"Hesap lemleri",logoutButton:"k Yap",deleteAccountButton:"Hesab Sil",deleteWarning:"Uyar: Hesabnz silmek kalcdr ve geri alnamaz."},help:{title:"Yardm & Destek",description:"Yardma m ihtiyacnz var veya sorularnz m var? Klavuzlar ve SSS iin Yardm Merkezimizi ziyaret edin.",helpCenterButton:"Yardm Merkezine Git"},logoutButton:"k Yap"},XV={title:"Yorumlar",noComments:"Henz yorum yok",writeCommentPlaceholder:"Yorum yaz..."},QV={welcome:"Sosyal amza ho geldiniz",loginPrompt:"Gnderileri grmek ve etkileimde bulunmak iin ltfen giri yapn",loading:"Ykleniyor...",using_mock_data:"Test Verisi Kullanlyor",use_real_data:"Gerek Veri Kullan",more_options:"Daha fazla seenek",select_tab:"Bir sekme sein"},ZV={signIn:"Giri Yap",signInWithGoogle:"Google ile Giri Yap",signingIn:"Giri yaplyor...",welcomeBack:"Tekrar Ho Geldiniz",dontHaveAccount:"Hesabnz yok mu?",register:"Kayt Ol",emailAddress:"E-posta adresi",emailPlaceholder:"siz@ornek.com",password:"ifre",passwordPlaceholder:"",rememberMe:"Beni hatrla",forgotPassword:"ifrenizi mi unuttunuz?",failedToSignIn:"Giri yaplamad",failedToSignInWithGoogle:"Google ile giri yaplamad",loginFailed:"Giri baarsz",redirectTimeout:"Ynlendirme zaman am - ltfen tekrar deneyin",redirectingToGoogle:"Kimlik dorulama iin Google'a ynlendiriliyor...",loginFailedTryAgain:"Giri baarsz. Ltfen tekrar deneyin.",redirectingToOAuth:"Kimlik dorulama servisine ynlendiriliyor...",signInToAccount:"Hesabnza giri yapn",connectWithCommunity:"Topluluunuz ve arkadalarnzla balant kurun"},eG={landingPage:"Al Sayfas",joinNow:"imdi Katl",goToCompleteProfile:"Profili Tamamlamaya Git",orContinueWithEmail:"Veya e-posta ile devam et"},tG={allRightsReserved:"Tm haklar sakldr"},rG={title:"Bildirimler",markAsRead:"Okundu olarak iaretle",markAllAsRead:"Tmn okundu olarak iaretle",deleteAll:"Tmn sil",empty:"Grntlenecek bildirim yok",all:"Tm",unread:"Okunmam",friends:"Arkadalar",likes:"Beeniler",comments:"Yorumlar",groups:"Gruplar",events:"Etkinlikler"},nG={completeNow:"imdi Tamamla"},sG={shareThoughts:"Aklnda ne var?"},oG={title:"Arkadalar",requests:"stekler",suggestions:"neriler",no_friends:"Henz arkadanz yok. neriler blmnden arkada bulabilirsiniz!",no_requests:"Bekleyen istek yok.",no_suggestions:"u anda neri yok. Daha sonra tekrar kontrol edin!",incoming:"Gelen",sent:"Gnderilen",actions:{accept:"Kabul Et",decline:"Reddet",cancel_request:"stei ptal Et",connect:"Balan",message:"Mesaj",view_profile:"Profili Grntle"},requestPending:"stek Beklemede",alreadyFriend:"Zaten Arkada"},aG={main:"Ana",shortcuts:"Ksayollar",resources:"Kaynaklar",home:"Ana Sayfa",profile:"Profil",groups:"Gruplar",events:"Etkinlikler",friends:"Arkadalar",messages:"Mesajlar",chat:"Sohbet",notifications:"Bildirimler",discover:"Kefet",saved:"Kaydedilenler",favorites:"Favoriler",settings:"Ayarlar"},iG={accept:"Kabul Et",decline:"Reddet",connect:"Balan",disconnect:"Balanty Kes",follow:"Takip Et",unfollow:"Takibi Brak",block:"Engelle",unblock:"Engeli Kaldr",report:"Bildir",markAsRead:"Okundu Olarak aretle",markAllAsRead:"Tmn Okundu Olarak aretle",clearAll:"Tmn Temizle",showMore:"Daha Fazla Gster",showLess:"Daha Az Gster",readMore:"Devamn Oku",seeAll:"Tmn Gr",unfriendConfirm:"@{{username}} arkadalktan karlsn m?",search:"SSS Ara..."},lG={main:"Ana Men",home:"Anasayfa",profile:"Profil",groups:"Gruplar",events:"Etkinlikler",resources:"Kaynaklar",friends:"Arkadalar",messages:"Mesajlar",notifications:"Bildirimler",saved:"Kaydedilenler",settings:"Ayarlar"},cG={search_placeholder:"Gnderi ara...",no_posts_title:"Gnderi bulunamad",no_my_posts_message:"Henz hi gnderi oluturmadnz.",no_all_posts_message:"Grntlenecek gnderi yok.",create_first_post:"lk gnderinizi oluturun"},uG={title:"Gruplar",tabs:{all:"Tm Gruplar",my:"Gruplarm"},buttons:{create:"Grup Olutur",joining:"Katlnyor...",join:"Gruba Katl",chat:"Sohbet",leave:"Ayrl"},search_placeholder:"Topluluunu bul...",category_label:"Kategori",categories:{all:"Tm",technology:"Teknoloji",business:" Dnyas",education:"Eitim",entertainment:"Elence",health:"Salk",sports:"Spor",travel:"Seyahat",art:"Sanat",food:"Yemek",music:"Mzik"},members:"ye",no_groups_found_title:"Grup bulunamad",no_my_groups_message:"Henz hibir gruba katlmadnz.",no_all_groups_message:"Aramanz deitirmeyi veya yeni bir grup oluturmay deneyin."},dG={title:"Etkinlikler",tabs:{all:"Tm Etkinlikler",my:"Etkinliklerim"},buttons:{create:"Etkinlik Olutur",leaving:"Ayrlyor...",leave:"Ayrl",chat:"Sohbet",joining:"Katlnyor...",join:"Katl"},search_placeholder:"Etkinlik ara...",category_label:"Kategori Se",categories:{all:"Tm Kategoriler",technology:"Teknoloji",business:" Dnyas",education:"Eitim",entertainment:"Elence",health:"Salk",sports:"Spor",travel:"Seyahat",art:"Sanat",food:"Yemek",music:"Mzik"},public:"Herkese Ak",private:"zel",no_events_found_title:"Etkinlik bulunamad",no_my_events_message:"Henz hibir etkinlie katlmadnz.",no_all_events_message:"Aramanz deitirmeyi veya yeni bir etkinlik oluturmay deneyin."},fG={title:"Mesajlar",tabs:{direct:"Kiisel",groups:"Gruplar",events:"Etkinlikler"},direct:"Kiisel Mesajlar",groups:"Grup Sohbetleri",events:"Etkinlik Sohbetleri",select_conversation:"Bir konuma sein",select_conversation_description:"Listeden bir konuma sein veya Arkadalar sayfasndan yeni bir konuma balatn",no_direct_messages:"Henz kiisel mesajnz yok",no_group_chats:"Henz hibir grupta deilsiniz",no_event_chats:"Henz etkinlik sohbetiniz yok",find_friends:"Arkada Bul",browse_groups:"Gruplara Gz At",browse_events:"Etkinliklere Gz At",you:"Siz",no_messages_yet:"Henz mesaj yok",start_conversation:"Konuma Balat",members:"ye",view_profile:"Profili Grntle",delete_conversation:"Konumay Sil",archive_chat:"Sohbeti Arivle",mute_notifications:"Bildirimleri Sessize Al",block_user:"Kullancy Engelle",message_settings:"Mesaj Ayarlar",message_settings_soon:"Mesaj ayarlar yaknda gelecek",group_chats_coming_soon:"Grup sohbetleri yaknda gelecek",event_chat_ui_coming_soon:"Etkinlik sohbet arayz yaknda gelecek",group_chat_ui_coming_soon:"Grup sohbet arayz yaknda gelecek",view_group_info:"Grup Bilgisini Grntle",view_event_details:"Etkinlik Detaylarn Grntle",choose_conversation_or_start_new:"Listeden bir konuma sein veya yeni bir konuma balatn",your_events:"Etkinlikleriniz",refresh:"Yenile",admin:"Ynetici",member:"ye",no_description:"Aklama yok",enter_fullscreen:"Tam Ekran",exit_fullscreen:"Tam Ekrandan k",settings:"Mesaj Ayarlar",direct_message_policies:{delete_own:"Kullanclar kendi mesajlarn silebilir",insert_own:"Kullanclar kendi mesajlarn gnderebilir",update_own:"Kullanclar kendi mesajlarn gncelleyebilir",view_own:"Kullanclar kendi mesajlarn grntleyebilir"}},hG={title:"Kefet",searchPlaceholder:"Kii, grup veya etkinlik ara...",tabs:{trending:"Trendler",groups:"Gruplar",events:"Etkinlikler",people:"Kiiler"},buttons:{explore:"Daha Fazla Kefet"},eventDate:"Etkinlik Tarihi"},mG={title:"Kaydedilenler",categories:{all:"Tm eler",articles:"Makaleler",photos:"Fotoraflar",videos:"Videolar"},readTime5:"5 dk okuma",readTime8:"8 dk okuma",no_items_title:"Kaydedilmi e bulunamad",no_items_message:"Kaydettiiniz eler burada grnecektir. erie gz atn ve eleri kaydetmek iin yer imi simgesine tklayn.",buttons:{explore:"erii Kefet"}},gG={title:"Favoriler",tabs:{groups:"Gruplar",connections:"Balantlar"},buttons:{remove:"Favorilerden Kaldr",viewGroup:"Grubu Grntle"},noHeadline:"Balk yok",no_groups:"Henz favori grubunuz yok.",no_connections:"Henz favori balantnz yok."},pG={helpAndSupport:"Yardm & Destek",helpAndSupportDescription:"Sk sorulan sorularn yantlarn bulun ve destek ekibimizle iletiime gein.",telegramSupport:"Telegram Destei",telegramSupportDescription:"Telegram zerinden bizimle dorudan sohbet edin.",emailSupport:"E-posta Destei",emailSupportDescription:"Yardm iin bize bir e-posta gnderin.",helpCenter:"Yardm Merkezi",helpCenterDescription:"Bilgi bankamzda yantlar bulun.",documentation:"Dokmantasyon",documentationDescription:"Kapsaml klavuzlara gz atn.",viewDocumentation:"Dokmantasyonu Grntle",videoTutorials:"Video Eitimleri",videoTutorialsDescription:"Balamak iin videolarmz izleyin.",watchTutorials:"Eitimleri zle",frequentlyAskedQuestions:"Ska Sorulan Sorular",noMatchingFAQs:"Eleen SSS bulunamad.",openingTelegram:"Telegram destei alyor",openingEmail:"E-posta istemcisi alyor",redirectingToHelp:"Yardm Merkezine ynlendiriliyor...",redirectingToDocs:"Dokmantasyon alyor...",redirectingToTutorials:"Eitimler alyor..."},yG={createGroup:{question:"Nasl grup olutururum?",answer:'Gruplar sayfasna gidin ve "Grup Olutur" dmesine tklayn. Ayrntlar doldurun ve yeleri davet edin.'},addFriends:{question:"Nasl arkada ekleyebilirim?",answer:'Arkadalar sayfasna gidin, "neriler" altnda kiileri bulun veya arama yapn ve "Balan" veya "Arkada Ekle" dmesine tklayn.'},privacy:{question:"Gizlilik ayarlarm nasl ynetirim?",answer:"Ayarlar -> Gizlilik blmne gidin. Burada profilinizi ve gnderilerinizi kimlerin grebileceini kontrol edebilirsiniz."},notifications:{question:"Bildirim tercihlerimi nasl deitirebilirim?",answer:"E-posta ve anlk bildirimleri etkinletirmek veya devre d brakmak iin Ayarlar -> Bildirimler blmn ziyaret edin."},deleteAccount:{question:"Hesabm nasl silerim?",answer:"Ayarlar -> Gvenlik -> Hesap lemleri blmne gidin. Hesabnz silmenin kalc olduunu unutmayn."}},xG={title:"Yeni Grup Olutur",nameLabel:"Grup Ad *",namePlaceholder:"rn: Teknoloji Merakllar, Kitap Kulb",descriptionLabel:"Aklama",descriptionPlaceholder:"Bu grup ne hakknda?",categoryLabel:"Kategori",categoryPlaceholder:"Bir kategori sein...",visibilityLabel:"Grnrlk",visibilityPlaceholder:"Grnrl sein...",visibilityPublic:"Herkese Ak - Herkes grebilir ve katlabilir",visibilityPrivate:"zel - yeler davet edilmelidir",createButton:"Grubu Olutur",creatingButton:"Grup Oluturuluyor..."},vG={title:"Yeni Etkinlik Olutur",nameLabel:"Etkinlik Bal *",namePlaceholder:"rn: Yllk Teknoloji Konferans, Topluluk Bulumas",descriptionLabel:"Aklama",descriptionPlaceholder:"Etkinlik hakknda daha fazla bilgi verin",categoryLabel:"Kategori",categoryPlaceholder:"Bir kategori sein...",locationLabel:"Konum *",locationPlaceholder:"rn: Konferans Merkezi, evrimii",startDateLabel:"Balang Tarihi ve Saati *",startTimeLabel:"Balang Saati",endDateLabel:"Biti Tarihi ve Saati (stee bal)",endTimeLabel:"Biti Saati",visibilityLabel:"Grnrlk",visibilityPlaceholder:"Grnrl sein...",visibilityPublic:"Herkese Ak - Herkes grebilir",visibilityPrivate:"zel - Sadece davetliler",maxAttendeesLabel:"Maksimum Katlmc (stee bal)",maxAttendeesPlaceholder:"Snrsz iin bo brakn",createButton:"Etkinlii Olutur",creatingButton:"Etkinlik Oluturuluyor..."},bG={event_chat:"Etkinlik Sohbeti",back_to_messages:"Mesajlara Dn",view_event_details:"Etkinlik Detaylarn Grntle",view_attendees:"Katlmclar Grntle",event_attendees:"Etkinlik Katlmclar",no_attendees_found:"Katlmc bulunamad",attendee:"Katlmc",attendees:"Katlmclar",unknown_attendee:"Bilinmeyen Katlmc",unknown_location:"Bilinmeyen Konum",type_your_message:"Mesajnz yazn...",loading:"Ykleniyor...",error_loading_messages:"Mesajlar yklenirken hata olutu",error_sending_message:"Mesaj gnderilirken hata olutu. Ltfen tekrar deneyin.",date:"Tarih",location:"Konum",description:"Aklama",view_full_event_page:"Tam Etkinlik Sayfasn Grntle",event_settings:"Etkinlik Ayarlar",mute_notifications:"Bildirimleri Sessize Al",add_to_calendar:"Takvime Ekle",share_event:"Etkinlii Payla",leave_event:"Etkinlikten Ayrl",enter_fullscreen:"Tam Ekran",exit_fullscreen:"Tam Ekrandan k",error_invalid_event_id:"Geersiz etkinlik ID",error_event_not_found:"Etkinlik bulunamad veya silinmi olabilir",members_can_view:"Katlmclar dier katlmclar grebilir",attendees_can_join:"Kullanclar etkinliklere katlabilir",attendees_can_leave:"Katlmclar etkinliklerden ayrlabilir",users_own_attendance:"Kullanclar kendi katlmlarn grebilir",attendees_send_messages:"Katlmclar etkinlie mesaj gnderebilir",attendees_update_status:"Katlmclar durumlarn gncelleyebilir",view_attendees_policy:"Katlmclar grntle politikas",delete_own_messages:"Kullanclar kendi mesajlarn silebilir",update_own_messages:"Kullanclar kendi mesajlarn dzenleyebilir"},wG={buttons:BV,formLabels:VV,profile:GV,post:qV,errors:WV,success:HV,group_chat_settings:KV,group_chat:YV,settings:JV,comments:XV,common:QV,login:ZV,navigation:eG,footer:tG,notifications:rG,action:nG,placeholder:sG,friends:oG,nav:aG,actions:iG,sidebar:lG,home:cG,groups:uG,events:dG,messages:fG,discover:hG,saved:mG,favorites:gG,helpAndSupport:pG,faq:yG,createGroup:xG,createEvent:vG,event_chat:bG},_G={en:{translation:CB},ru:{translation:cV},kk:{translation:zV},tr:{translation:wG}};Et.use(tN).use(WE).init({resources:_G,lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator"],caches:["localStorage"]},returnObjects:!0,returnEmptyString:!1,parseMissingKeyHandler:e=>`Missing translation: ${e}`,debug:!1});class kG extends m.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}componentDidCatch(t,r){this.setState({hasError:!0,error:t,errorInfo:r}),console.error("Error caught by ErrorBoundaryDebug:",t,r)}render(){var t,r;return this.state.hasError?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 p-4",children:a.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-6 max-w-3xl w-full",children:[a.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Something went wrong"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Error:"}),a.jsx("pre",{className:"bg-gray-100 p-3 rounded overflow-auto text-sm",children:(t=this.state.error)==null?void 0:t.toString()})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Component Stack:"}),a.jsx("pre",{className:"bg-gray-100 p-3 rounded overflow-auto text-sm",children:(r=this.state.errorInfo)==null?void 0:r.componentStack})]}),a.jsx("button",{onClick:()=>window.location.reload(),className:"mt-6 px-4 py-2 bg-gradient-to-r from-gray-300 to-rose-500 text-white rounded hover:from-gray-400 hover:to-rose-600 transition-all",children:"Reload Page"})]})}):this.props.children}}const SG={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_APP_PORT:"3004",VITE_APP_URL:"https://connectme-uqip.onrender.com",VITE_GOOGLE_TRANSLATE_API_KEY:"AIzaSyAk07im0xTRrro37PicVQNuj0l9qAR_MH0",VITE_PUBLIC_URL:"https://connectme-uqip.onrender.com",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9oc2VyZWJpZ3ppeXhseHBrYWliIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTI3NDk0MTAsImV4cCI6MjAyODMyNTQxMH0.2mVOdgG-4QPVjVxqKshjFmcAyVELY6KYHtqlR-KLpvw",VITE_SUPABASE_URL:"https://ohserebigziyxlxpkaib.supabase.co",VITE_TRANSLATION_SERVER_PORT:"3005"};console.log("Application starting...");console.log("Environment:",SG);$i(2,1e3).then(e=>{e?console.log("Translation server is available and connected."):console.warn("Translation server is not available. Translations will be disabled.")}).catch(e=>{console.error("Error checking translation server:",e)});window.addEventListener("error",e=>{console.error("Unhandled error:",e.error)});window.addEventListener("unhandledrejection",e=>{console.error("Unhandled promise rejection:",e.reason)});window.addEventListener("languageChanged",()=>{console.log("Language changed event detected, refreshing UI..."),document.body.style.zoom="0.99999",setTimeout(()=>{document.body.style.zoom="1"},10)});const rN=document.getElementById("root");if(!rN)throw new Error("Root element not found");console.log("Root element found, rendering app...");window.location.hash&&(window.location.hash.includes("access_token")||window.location.hash.includes("refresh_token")||window.location.hash.includes("error_description"))?(console.log("MAIN.TSX: Detected auth tokens in URL hash!"),console.log("Hash content:",window.location.hash)):localStorage.getItem("force_redirect_home")==="true"&&(localStorage.removeItem("force_redirect_home"),localStorage.removeItem("redirect_attempts"),localStorage.removeItem("auth_hash"));const jG={future:{v7_startTransition:!0,v7_relativeSplatPath:!0}};$1(rN).render(a.jsx(m.StrictMode,{children:a.jsx(kG,{children:a.jsx(AE,{future:jG.future,children:a.jsx(a2,{children:a.jsx(G5,{children:a.jsx(uz,{})})})})})}));export{Nb as g};
//# sourceMappingURL=index-l04_LnCQ.js.map
