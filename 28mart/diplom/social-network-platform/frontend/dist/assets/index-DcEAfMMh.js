function xN(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();var mr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ib(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function vN(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Fb={exports:{}},Tu={},$b={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tl=Symbol.for("react.element"),bN=Symbol.for("react.portal"),wN=Symbol.for("react.fragment"),_N=Symbol.for("react.strict_mode"),kN=Symbol.for("react.profiler"),SN=Symbol.for("react.provider"),jN=Symbol.for("react.context"),NN=Symbol.for("react.forward_ref"),CN=Symbol.for("react.suspense"),EN=Symbol.for("react.memo"),PN=Symbol.for("react.lazy"),S0=Symbol.iterator;function TN(e){return e===null||typeof e!="object"?null:(e=S0&&e[S0]||e["@@iterator"],typeof e=="function"?e:null)}var Ub={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zb=Object.assign,Bb={};function ai(e,t,r){this.props=e,this.context=t,this.refs=Bb,this.updater=r||Ub}ai.prototype.isReactComponent={};ai.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ai.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Vb(){}Vb.prototype=ai.prototype;function Xm(e,t,r){this.props=e,this.context=t,this.refs=Bb,this.updater=r||Ub}var Qm=Xm.prototype=new Vb;Qm.constructor=Xm;zb(Qm,ai.prototype);Qm.isPureReactComponent=!0;var j0=Array.isArray,Gb=Object.prototype.hasOwnProperty,Zm={current:null},qb={key:!0,ref:!0,__self:!0,__source:!0};function Wb(e,t,r){var n,s={},o=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)Gb.call(t,n)&&!qb.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:tl,type:e,key:o,ref:a,props:s,_owner:Zm.current}}function AN(e,t){return{$$typeof:tl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function eg(e){return typeof e=="object"&&e!==null&&e.$$typeof===tl}function RN(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var N0=/\/+/g;function Td(e,t){return typeof e=="object"&&e!==null&&e.key!=null?RN(""+e.key):t.toString(36)}function oc(e,t,r,n,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case tl:case bN:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+Td(a,0):n,j0(s)?(r="",e!=null&&(r=e.replace(N0,"$&/")+"/"),oc(s,t,r,"",function(u){return u})):s!=null&&(eg(s)&&(s=AN(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(N0,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",j0(e))for(var l=0;l<e.length;l++){o=e[l];var c=n+Td(o,l);a+=oc(o,t,r,c,s)}else if(c=TN(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=n+Td(o,l++),a+=oc(o,t,r,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function wl(e,t,r){if(e==null)return e;var n=[],s=0;return oc(e,n,"","",function(o){return t.call(r,o,s++)}),n}function MN(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Lt={current:null},ic={transition:null},DN={ReactCurrentDispatcher:Lt,ReactCurrentBatchConfig:ic,ReactCurrentOwner:Zm};function Hb(){throw Error("act(...) is not supported in production builds of React.")}_e.Children={map:wl,forEach:function(e,t,r){wl(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return wl(e,function(){t++}),t},toArray:function(e){return wl(e,function(t){return t})||[]},only:function(e){if(!eg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};_e.Component=ai;_e.Fragment=wN;_e.Profiler=kN;_e.PureComponent=Xm;_e.StrictMode=_N;_e.Suspense=CN;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DN;_e.act=Hb;_e.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=zb({},e.props),s=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=Zm.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Gb.call(t,c)&&!qb.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:tl,type:e.type,key:s,ref:o,props:n,_owner:a}};_e.createContext=function(e){return e={$$typeof:jN,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:SN,_context:e},e.Consumer=e};_e.createElement=Wb;_e.createFactory=function(e){var t=Wb.bind(null,e);return t.type=e,t};_e.createRef=function(){return{current:null}};_e.forwardRef=function(e){return{$$typeof:NN,render:e}};_e.isValidElement=eg;_e.lazy=function(e){return{$$typeof:PN,_payload:{_status:-1,_result:e},_init:MN}};_e.memo=function(e,t){return{$$typeof:EN,type:e,compare:t===void 0?null:t}};_e.startTransition=function(e){var t=ic.transition;ic.transition={};try{e()}finally{ic.transition=t}};_e.unstable_act=Hb;_e.useCallback=function(e,t){return Lt.current.useCallback(e,t)};_e.useContext=function(e){return Lt.current.useContext(e)};_e.useDebugValue=function(){};_e.useDeferredValue=function(e){return Lt.current.useDeferredValue(e)};_e.useEffect=function(e,t){return Lt.current.useEffect(e,t)};_e.useId=function(){return Lt.current.useId()};_e.useImperativeHandle=function(e,t,r){return Lt.current.useImperativeHandle(e,t,r)};_e.useInsertionEffect=function(e,t){return Lt.current.useInsertionEffect(e,t)};_e.useLayoutEffect=function(e,t){return Lt.current.useLayoutEffect(e,t)};_e.useMemo=function(e,t){return Lt.current.useMemo(e,t)};_e.useReducer=function(e,t,r){return Lt.current.useReducer(e,t,r)};_e.useRef=function(e){return Lt.current.useRef(e)};_e.useState=function(e){return Lt.current.useState(e)};_e.useSyncExternalStore=function(e,t,r){return Lt.current.useSyncExternalStore(e,t,r)};_e.useTransition=function(){return Lt.current.useTransition()};_e.version="18.3.1";$b.exports=_e;var h=$b.exports;const ht=Ib(h),Kb=xN({__proto__:null,default:ht},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LN=h,ON=Symbol.for("react.element"),IN=Symbol.for("react.fragment"),FN=Object.prototype.hasOwnProperty,$N=LN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,UN={key:!0,ref:!0,__self:!0,__source:!0};function Yb(e,t,r){var n,s={},o=null,a=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)FN.call(t,n)&&!UN.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:ON,type:e,key:o,ref:a,props:s,_owner:$N.current}}Tu.Fragment=IN;Tu.jsx=Yb;Tu.jsxs=Yb;Fb.exports=Tu;var i=Fb.exports,Jb={exports:{}},er={},Xb={exports:{}},Qb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(S,M){var T=S.length;S.push(M);e:for(;0<T;){var B=T-1>>>1,V=S[B];if(0<s(V,M))S[B]=M,S[T]=V,T=B;else break e}}function r(S){return S.length===0?null:S[0]}function n(S){if(S.length===0)return null;var M=S[0],T=S.pop();if(T!==M){S[0]=T;e:for(var B=0,V=S.length,re=V>>>1;B<re;){var se=2*(B+1)-1,fe=S[se],oe=se+1,R=S[oe];if(0>s(fe,T))oe<V&&0>s(R,fe)?(S[B]=R,S[oe]=T,B=oe):(S[B]=fe,S[se]=T,B=se);else if(oe<V&&0>s(R,T))S[B]=R,S[oe]=T,B=oe;else break e}}return M}function s(S,M){var T=S.sortIndex-M.sortIndex;return T!==0?T:S.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,f=null,m=3,g=!1,x=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(S){for(var M=r(u);M!==null;){if(M.callback===null)n(u);else if(M.startTime<=S)n(u),M.sortIndex=M.expirationTime,t(c,M);else break;M=r(u)}}function k(S){if(v=!1,b(S),!x)if(r(c)!==null)x=!0,L(_);else{var M=r(u);M!==null&&z(k,M.startTime-S)}}function _(S,M){x=!1,v&&(v=!1,p(N),N=-1),g=!0;var T=m;try{for(b(M),f=r(c);f!==null&&(!(f.expirationTime>M)||S&&!I());){var B=f.callback;if(typeof B=="function"){f.callback=null,m=f.priorityLevel;var V=B(f.expirationTime<=M);M=e.unstable_now(),typeof V=="function"?f.callback=V:f===r(c)&&n(c),b(M)}else n(c);f=r(c)}if(f!==null)var re=!0;else{var se=r(u);se!==null&&z(k,se.startTime-M),re=!1}return re}finally{f=null,m=T,g=!1}}var j=!1,E=null,N=-1,F=5,C=-1;function I(){return!(e.unstable_now()-C<F)}function P(){if(E!==null){var S=e.unstable_now();C=S;var M=!0;try{M=E(!0,S)}finally{M?O():(j=!1,E=null)}}else j=!1}var O;if(typeof y=="function")O=function(){y(P)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,$=A.port2;A.port1.onmessage=P,O=function(){$.postMessage(null)}}else O=function(){w(P,0)};function L(S){E=S,j||(j=!0,O())}function z(S,M){N=w(function(){S(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(S){S.callback=null},e.unstable_continueExecution=function(){x||g||(x=!0,L(_))},e.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<S?Math.floor(1e3/S):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(S){switch(m){case 1:case 2:case 3:var M=3;break;default:M=m}var T=m;m=M;try{return S()}finally{m=T}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(S,M){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var T=m;m=S;try{return M()}finally{m=T}},e.unstable_scheduleCallback=function(S,M,T){var B=e.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?B+T:B):T=B,S){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=T+V,S={id:d++,callback:M,priorityLevel:S,startTime:T,expirationTime:V,sortIndex:-1},T>B?(S.sortIndex=T,t(u,S),r(c)===null&&S===r(u)&&(v?(p(N),N=-1):v=!0,z(k,T-B))):(S.sortIndex=V,t(c,S),x||g||(x=!0,L(_))),S},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(S){var M=m;return function(){var T=m;m=M;try{return S.apply(this,arguments)}finally{m=T}}}})(Qb);Xb.exports=Qb;var zN=Xb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BN=h,Qt=zN;function ee(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Zb=new Set,ya={};function Gs(e,t){Go(e,t),Go(e+"Capture",t)}function Go(e,t){for(ya[e]=t,e=0;e<t.length;e++)Zb.add(t[e])}var un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yf=Object.prototype.hasOwnProperty,VN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,C0={},E0={};function GN(e){return Yf.call(E0,e)?!0:Yf.call(C0,e)?!1:VN.test(e)?E0[e]=!0:(C0[e]=!0,!1)}function qN(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function WN(e,t,r,n){if(t===null||typeof t>"u"||qN(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ot(e,t,r,n,s,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){vt[e]=new Ot(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];vt[t]=new Ot(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){vt[e]=new Ot(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){vt[e]=new Ot(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){vt[e]=new Ot(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){vt[e]=new Ot(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){vt[e]=new Ot(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){vt[e]=new Ot(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){vt[e]=new Ot(e,5,!1,e.toLowerCase(),null,!1,!1)});var tg=/[\-:]([a-z])/g;function rg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(tg,rg);vt[t]=new Ot(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(tg,rg);vt[t]=new Ot(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(tg,rg);vt[t]=new Ot(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){vt[e]=new Ot(e,1,!1,e.toLowerCase(),null,!1,!1)});vt.xlinkHref=new Ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){vt[e]=new Ot(e,1,!1,e.toLowerCase(),null,!0,!0)});function ng(e,t,r,n){var s=vt.hasOwnProperty(t)?vt[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(WN(t,r,s,n)&&(r=null),n||s===null?GN(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var xn=BN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_l=Symbol.for("react.element"),yo=Symbol.for("react.portal"),xo=Symbol.for("react.fragment"),sg=Symbol.for("react.strict_mode"),Jf=Symbol.for("react.profiler"),ew=Symbol.for("react.provider"),tw=Symbol.for("react.context"),og=Symbol.for("react.forward_ref"),Xf=Symbol.for("react.suspense"),Qf=Symbol.for("react.suspense_list"),ig=Symbol.for("react.memo"),En=Symbol.for("react.lazy"),rw=Symbol.for("react.offscreen"),P0=Symbol.iterator;function Ni(e){return e===null||typeof e!="object"?null:(e=P0&&e[P0]||e["@@iterator"],typeof e=="function"?e:null)}var Je=Object.assign,Ad;function Bi(e){if(Ad===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ad=t&&t[1]||""}return`
`+Ad+e}var Rd=!1;function Md(e,t){if(!e||Rd)return"";Rd=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=n.stack.split(`
`),a=s.length-1,l=o.length-1;1<=a&&0<=l&&s[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==o[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==o[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{Rd=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Bi(e):""}function HN(e){switch(e.tag){case 5:return Bi(e.type);case 16:return Bi("Lazy");case 13:return Bi("Suspense");case 19:return Bi("SuspenseList");case 0:case 2:case 15:return e=Md(e.type,!1),e;case 11:return e=Md(e.type.render,!1),e;case 1:return e=Md(e.type,!0),e;default:return""}}function Zf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case xo:return"Fragment";case yo:return"Portal";case Jf:return"Profiler";case sg:return"StrictMode";case Xf:return"Suspense";case Qf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case tw:return(e.displayName||"Context")+".Consumer";case ew:return(e._context.displayName||"Context")+".Provider";case og:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ig:return t=e.displayName||null,t!==null?t:Zf(e.type)||"Memo";case En:t=e._payload,e=e._init;try{return Zf(e(t))}catch{}}return null}function KN(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zf(t);case 8:return t===sg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Yn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function nw(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function YN(e){var t=nw(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function kl(e){e._valueTracker||(e._valueTracker=YN(e))}function sw(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=nw(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Cc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function eh(e,t){var r=t.checked;return Je({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function T0(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Yn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ow(e,t){t=t.checked,t!=null&&ng(e,"checked",t,!1)}function th(e,t){ow(e,t);var r=Yn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?rh(e,t.type,r):t.hasOwnProperty("defaultValue")&&rh(e,t.type,Yn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function A0(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function rh(e,t,r){(t!=="number"||Cc(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Vi=Array.isArray;function Do(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Yn(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function nh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ee(91));return Je({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function R0(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ee(92));if(Vi(r)){if(1<r.length)throw Error(ee(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Yn(r)}}function iw(e,t){var r=Yn(t.value),n=Yn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function M0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function aw(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?aw(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Sl,lw=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Sl=Sl||document.createElement("div"),Sl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Sl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function xa(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Qi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},JN=["Webkit","ms","Moz","O"];Object.keys(Qi).forEach(function(e){JN.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Qi[t]=Qi[e]})});function cw(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Qi.hasOwnProperty(e)&&Qi[e]?(""+t).trim():t+"px"}function uw(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=cw(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var XN=Je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function oh(e,t){if(t){if(XN[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ee(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ee(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ee(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ee(62))}}function ih(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ah=null;function ag(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var lh=null,Lo=null,Oo=null;function D0(e){if(e=sl(e)){if(typeof lh!="function")throw Error(ee(280));var t=e.stateNode;t&&(t=Lu(t),lh(e.stateNode,e.type,t))}}function dw(e){Lo?Oo?Oo.push(e):Oo=[e]:Lo=e}function fw(){if(Lo){var e=Lo,t=Oo;if(Oo=Lo=null,D0(e),t)for(e=0;e<t.length;e++)D0(t[e])}}function hw(e,t){return e(t)}function mw(){}var Dd=!1;function gw(e,t,r){if(Dd)return e(t,r);Dd=!0;try{return hw(e,t,r)}finally{Dd=!1,(Lo!==null||Oo!==null)&&(mw(),fw())}}function va(e,t){var r=e.stateNode;if(r===null)return null;var n=Lu(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ee(231,t,typeof r));return r}var ch=!1;if(un)try{var Ci={};Object.defineProperty(Ci,"passive",{get:function(){ch=!0}}),window.addEventListener("test",Ci,Ci),window.removeEventListener("test",Ci,Ci)}catch{ch=!1}function QN(e,t,r,n,s,o,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Zi=!1,Ec=null,Pc=!1,uh=null,ZN={onError:function(e){Zi=!0,Ec=e}};function eC(e,t,r,n,s,o,a,l,c){Zi=!1,Ec=null,QN.apply(ZN,arguments)}function tC(e,t,r,n,s,o,a,l,c){if(eC.apply(this,arguments),Zi){if(Zi){var u=Ec;Zi=!1,Ec=null}else throw Error(ee(198));Pc||(Pc=!0,uh=u)}}function qs(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function pw(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function L0(e){if(qs(e)!==e)throw Error(ee(188))}function rC(e){var t=e.alternate;if(!t){if(t=qs(e),t===null)throw Error(ee(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return L0(s),e;if(o===n)return L0(s),t;o=o.sibling}throw Error(ee(188))}if(r.return!==n.return)r=s,n=o;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,n=o;break}if(l===n){a=!0,n=s,r=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===r){a=!0,r=o,n=s;break}if(l===n){a=!0,n=o,r=s;break}l=l.sibling}if(!a)throw Error(ee(189))}}if(r.alternate!==n)throw Error(ee(190))}if(r.tag!==3)throw Error(ee(188));return r.stateNode.current===r?e:t}function yw(e){return e=rC(e),e!==null?xw(e):null}function xw(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=xw(e);if(t!==null)return t;e=e.sibling}return null}var vw=Qt.unstable_scheduleCallback,O0=Qt.unstable_cancelCallback,nC=Qt.unstable_shouldYield,sC=Qt.unstable_requestPaint,et=Qt.unstable_now,oC=Qt.unstable_getCurrentPriorityLevel,lg=Qt.unstable_ImmediatePriority,bw=Qt.unstable_UserBlockingPriority,Tc=Qt.unstable_NormalPriority,iC=Qt.unstable_LowPriority,ww=Qt.unstable_IdlePriority,Au=null,Vr=null;function aC(e){if(Vr&&typeof Vr.onCommitFiberRoot=="function")try{Vr.onCommitFiberRoot(Au,e,void 0,(e.current.flags&128)===128)}catch{}}var Cr=Math.clz32?Math.clz32:uC,lC=Math.log,cC=Math.LN2;function uC(e){return e>>>=0,e===0?32:31-(lC(e)/cC|0)|0}var jl=64,Nl=4194304;function Gi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ac(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,o=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?n=Gi(l):(o&=a,o!==0&&(n=Gi(o)))}else a=r&~s,a!==0?n=Gi(a):o!==0&&(n=Gi(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Cr(t),s=1<<r,n|=e[r],t&=~s;return n}function dC(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fC(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-Cr(o),l=1<<a,c=s[a];c===-1?(!(l&r)||l&n)&&(s[a]=dC(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function dh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function _w(){var e=jl;return jl<<=1,!(jl&4194240)&&(jl=64),e}function Ld(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function rl(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Cr(t),e[t]=r}function hC(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Cr(r),o=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~o}}function cg(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Cr(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Ae=0;function kw(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Sw,ug,jw,Nw,Cw,fh=!1,Cl=[],$n=null,Un=null,zn=null,ba=new Map,wa=new Map,An=[],mC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function I0(e,t){switch(e){case"focusin":case"focusout":$n=null;break;case"dragenter":case"dragleave":Un=null;break;case"mouseover":case"mouseout":zn=null;break;case"pointerover":case"pointerout":ba.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":wa.delete(t.pointerId)}}function Ei(e,t,r,n,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[s]},t!==null&&(t=sl(t),t!==null&&ug(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function gC(e,t,r,n,s){switch(t){case"focusin":return $n=Ei($n,e,t,r,n,s),!0;case"dragenter":return Un=Ei(Un,e,t,r,n,s),!0;case"mouseover":return zn=Ei(zn,e,t,r,n,s),!0;case"pointerover":var o=s.pointerId;return ba.set(o,Ei(ba.get(o)||null,e,t,r,n,s)),!0;case"gotpointercapture":return o=s.pointerId,wa.set(o,Ei(wa.get(o)||null,e,t,r,n,s)),!0}return!1}function Ew(e){var t=_s(e.target);if(t!==null){var r=qs(t);if(r!==null){if(t=r.tag,t===13){if(t=pw(r),t!==null){e.blockedOn=t,Cw(e.priority,function(){jw(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ac(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=hh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);ah=n,r.target.dispatchEvent(n),ah=null}else return t=sl(r),t!==null&&ug(t),e.blockedOn=r,!1;t.shift()}return!0}function F0(e,t,r){ac(e)&&r.delete(t)}function pC(){fh=!1,$n!==null&&ac($n)&&($n=null),Un!==null&&ac(Un)&&(Un=null),zn!==null&&ac(zn)&&(zn=null),ba.forEach(F0),wa.forEach(F0)}function Pi(e,t){e.blockedOn===t&&(e.blockedOn=null,fh||(fh=!0,Qt.unstable_scheduleCallback(Qt.unstable_NormalPriority,pC)))}function _a(e){function t(s){return Pi(s,e)}if(0<Cl.length){Pi(Cl[0],e);for(var r=1;r<Cl.length;r++){var n=Cl[r];n.blockedOn===e&&(n.blockedOn=null)}}for($n!==null&&Pi($n,e),Un!==null&&Pi(Un,e),zn!==null&&Pi(zn,e),ba.forEach(t),wa.forEach(t),r=0;r<An.length;r++)n=An[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<An.length&&(r=An[0],r.blockedOn===null);)Ew(r),r.blockedOn===null&&An.shift()}var Io=xn.ReactCurrentBatchConfig,Rc=!0;function yC(e,t,r,n){var s=Ae,o=Io.transition;Io.transition=null;try{Ae=1,dg(e,t,r,n)}finally{Ae=s,Io.transition=o}}function xC(e,t,r,n){var s=Ae,o=Io.transition;Io.transition=null;try{Ae=4,dg(e,t,r,n)}finally{Ae=s,Io.transition=o}}function dg(e,t,r,n){if(Rc){var s=hh(e,t,r,n);if(s===null)qd(e,t,n,Mc,r),I0(e,n);else if(gC(s,e,t,r,n))n.stopPropagation();else if(I0(e,n),t&4&&-1<mC.indexOf(e)){for(;s!==null;){var o=sl(s);if(o!==null&&Sw(o),o=hh(e,t,r,n),o===null&&qd(e,t,n,Mc,r),o===s)break;s=o}s!==null&&n.stopPropagation()}else qd(e,t,n,null,r)}}var Mc=null;function hh(e,t,r,n){if(Mc=null,e=ag(n),e=_s(e),e!==null)if(t=qs(e),t===null)e=null;else if(r=t.tag,r===13){if(e=pw(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Mc=e,null}function Pw(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oC()){case lg:return 1;case bw:return 4;case Tc:case iC:return 16;case ww:return 536870912;default:return 16}default:return 16}}var Ln=null,fg=null,lc=null;function Tw(){if(lc)return lc;var e,t=fg,r=t.length,n,s="value"in Ln?Ln.value:Ln.textContent,o=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[o-n];n++);return lc=s.slice(e,1<n?1-n:void 0)}function cc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function El(){return!0}function $0(){return!1}function tr(e){function t(r,n,s,o,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?El:$0,this.isPropagationStopped=$0,this}return Je(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=El)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=El)},persist:function(){},isPersistent:El}),t}var li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hg=tr(li),nl=Je({},li,{view:0,detail:0}),vC=tr(nl),Od,Id,Ti,Ru=Je({},nl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ti&&(Ti&&e.type==="mousemove"?(Od=e.screenX-Ti.screenX,Id=e.screenY-Ti.screenY):Id=Od=0,Ti=e),Od)},movementY:function(e){return"movementY"in e?e.movementY:Id}}),U0=tr(Ru),bC=Je({},Ru,{dataTransfer:0}),wC=tr(bC),_C=Je({},nl,{relatedTarget:0}),Fd=tr(_C),kC=Je({},li,{animationName:0,elapsedTime:0,pseudoElement:0}),SC=tr(kC),jC=Je({},li,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),NC=tr(jC),CC=Je({},li,{data:0}),z0=tr(CC),EC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=TC[e])?!!t[e]:!1}function mg(){return AC}var RC=Je({},nl,{key:function(e){if(e.key){var t=EC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=cc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?PC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mg,charCode:function(e){return e.type==="keypress"?cc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?cc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),MC=tr(RC),DC=Je({},Ru,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),B0=tr(DC),LC=Je({},nl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mg}),OC=tr(LC),IC=Je({},li,{propertyName:0,elapsedTime:0,pseudoElement:0}),FC=tr(IC),$C=Je({},Ru,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),UC=tr($C),zC=[9,13,27,32],gg=un&&"CompositionEvent"in window,ea=null;un&&"documentMode"in document&&(ea=document.documentMode);var BC=un&&"TextEvent"in window&&!ea,Aw=un&&(!gg||ea&&8<ea&&11>=ea),V0=" ",G0=!1;function Rw(e,t){switch(e){case"keyup":return zC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mw(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var vo=!1;function VC(e,t){switch(e){case"compositionend":return Mw(t);case"keypress":return t.which!==32?null:(G0=!0,V0);case"textInput":return e=t.data,e===V0&&G0?null:e;default:return null}}function GC(e,t){if(vo)return e==="compositionend"||!gg&&Rw(e,t)?(e=Tw(),lc=fg=Ln=null,vo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Aw&&t.locale!=="ko"?null:t.data;default:return null}}var qC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function q0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!qC[e.type]:t==="textarea"}function Dw(e,t,r,n){dw(n),t=Dc(t,"onChange"),0<t.length&&(r=new hg("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ta=null,ka=null;function WC(e){qw(e,0)}function Mu(e){var t=_o(e);if(sw(t))return e}function HC(e,t){if(e==="change")return t}var Lw=!1;if(un){var $d;if(un){var Ud="oninput"in document;if(!Ud){var W0=document.createElement("div");W0.setAttribute("oninput","return;"),Ud=typeof W0.oninput=="function"}$d=Ud}else $d=!1;Lw=$d&&(!document.documentMode||9<document.documentMode)}function H0(){ta&&(ta.detachEvent("onpropertychange",Ow),ka=ta=null)}function Ow(e){if(e.propertyName==="value"&&Mu(ka)){var t=[];Dw(t,ka,e,ag(e)),gw(WC,t)}}function KC(e,t,r){e==="focusin"?(H0(),ta=t,ka=r,ta.attachEvent("onpropertychange",Ow)):e==="focusout"&&H0()}function YC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Mu(ka)}function JC(e,t){if(e==="click")return Mu(t)}function XC(e,t){if(e==="input"||e==="change")return Mu(t)}function QC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pr=typeof Object.is=="function"?Object.is:QC;function Sa(e,t){if(Pr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Yf.call(t,s)||!Pr(e[s],t[s]))return!1}return!0}function K0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Y0(e,t){var r=K0(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=K0(r)}}function Iw(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Iw(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Fw(){for(var e=window,t=Cc();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Cc(e.document)}return t}function pg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ZC(e){var t=Fw(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Iw(r.ownerDocument.documentElement,r)){if(n!==null&&pg(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,o=Math.min(n.start,s);n=n.end===void 0?o:Math.min(n.end,s),!e.extend&&o>n&&(s=n,n=o,o=s),s=Y0(r,o);var a=Y0(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var e3=un&&"documentMode"in document&&11>=document.documentMode,bo=null,mh=null,ra=null,gh=!1;function J0(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;gh||bo==null||bo!==Cc(n)||(n=bo,"selectionStart"in n&&pg(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ra&&Sa(ra,n)||(ra=n,n=Dc(mh,"onSelect"),0<n.length&&(t=new hg("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=bo)))}function Pl(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var wo={animationend:Pl("Animation","AnimationEnd"),animationiteration:Pl("Animation","AnimationIteration"),animationstart:Pl("Animation","AnimationStart"),transitionend:Pl("Transition","TransitionEnd")},zd={},$w={};un&&($w=document.createElement("div").style,"AnimationEvent"in window||(delete wo.animationend.animation,delete wo.animationiteration.animation,delete wo.animationstart.animation),"TransitionEvent"in window||delete wo.transitionend.transition);function Du(e){if(zd[e])return zd[e];if(!wo[e])return e;var t=wo[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in $w)return zd[e]=t[r];return e}var Uw=Du("animationend"),zw=Du("animationiteration"),Bw=Du("animationstart"),Vw=Du("transitionend"),Gw=new Map,X0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rs(e,t){Gw.set(e,t),Gs(t,[e])}for(var Bd=0;Bd<X0.length;Bd++){var Vd=X0[Bd],t3=Vd.toLowerCase(),r3=Vd[0].toUpperCase()+Vd.slice(1);rs(t3,"on"+r3)}rs(Uw,"onAnimationEnd");rs(zw,"onAnimationIteration");rs(Bw,"onAnimationStart");rs("dblclick","onDoubleClick");rs("focusin","onFocus");rs("focusout","onBlur");rs(Vw,"onTransitionEnd");Go("onMouseEnter",["mouseout","mouseover"]);Go("onMouseLeave",["mouseout","mouseover"]);Go("onPointerEnter",["pointerout","pointerover"]);Go("onPointerLeave",["pointerout","pointerover"]);Gs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),n3=new Set("cancel close invalid load scroll toggle".split(" ").concat(qi));function Q0(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,tC(n,t,void 0,e),e.currentTarget=null}function qw(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;Q0(s,l,u),o=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;Q0(s,l,u),o=c}}}if(Pc)throw e=uh,Pc=!1,uh=null,e}function Ue(e,t){var r=t[bh];r===void 0&&(r=t[bh]=new Set);var n=e+"__bubble";r.has(n)||(Ww(t,e,2,!1),r.add(n))}function Gd(e,t,r){var n=0;t&&(n|=4),Ww(r,e,n,t)}var Tl="_reactListening"+Math.random().toString(36).slice(2);function ja(e){if(!e[Tl]){e[Tl]=!0,Zb.forEach(function(r){r!=="selectionchange"&&(n3.has(r)||Gd(r,!1,e),Gd(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Tl]||(t[Tl]=!0,Gd("selectionchange",!1,t))}}function Ww(e,t,r,n){switch(Pw(t)){case 1:var s=yC;break;case 4:s=xC;break;default:s=dg}r=s.bind(null,t,r,e),s=void 0,!ch||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function qd(e,t,r,n,s){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=_s(l),a===null)return;if(c=a.tag,c===5||c===6){n=o=a;continue e}l=l.parentNode}}n=n.return}gw(function(){var u=o,d=ag(r),f=[];e:{var m=Gw.get(e);if(m!==void 0){var g=hg,x=e;switch(e){case"keypress":if(cc(r)===0)break e;case"keydown":case"keyup":g=MC;break;case"focusin":x="focus",g=Fd;break;case"focusout":x="blur",g=Fd;break;case"beforeblur":case"afterblur":g=Fd;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=U0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=wC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=OC;break;case Uw:case zw:case Bw:g=SC;break;case Vw:g=FC;break;case"scroll":g=vC;break;case"wheel":g=UC;break;case"copy":case"cut":case"paste":g=NC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=B0}var v=(t&4)!==0,w=!v&&e==="scroll",p=v?m!==null?m+"Capture":null:m;v=[];for(var y=u,b;y!==null;){b=y;var k=b.stateNode;if(b.tag===5&&k!==null&&(b=k,p!==null&&(k=va(y,p),k!=null&&v.push(Na(y,k,b)))),w)break;y=y.return}0<v.length&&(m=new g(m,x,null,r,d),f.push({event:m,listeners:v}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",m&&r!==ah&&(x=r.relatedTarget||r.fromElement)&&(_s(x)||x[dn]))break e;if((g||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,g?(x=r.relatedTarget||r.toElement,g=u,x=x?_s(x):null,x!==null&&(w=qs(x),x!==w||x.tag!==5&&x.tag!==6)&&(x=null)):(g=null,x=u),g!==x)){if(v=U0,k="onMouseLeave",p="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(v=B0,k="onPointerLeave",p="onPointerEnter",y="pointer"),w=g==null?m:_o(g),b=x==null?m:_o(x),m=new v(k,y+"leave",g,r,d),m.target=w,m.relatedTarget=b,k=null,_s(d)===u&&(v=new v(p,y+"enter",x,r,d),v.target=b,v.relatedTarget=w,k=v),w=k,g&&x)t:{for(v=g,p=x,y=0,b=v;b;b=eo(b))y++;for(b=0,k=p;k;k=eo(k))b++;for(;0<y-b;)v=eo(v),y--;for(;0<b-y;)p=eo(p),b--;for(;y--;){if(v===p||p!==null&&v===p.alternate)break t;v=eo(v),p=eo(p)}v=null}else v=null;g!==null&&Z0(f,m,g,v,!1),x!==null&&w!==null&&Z0(f,w,x,v,!0)}}e:{if(m=u?_o(u):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var _=HC;else if(q0(m))if(Lw)_=XC;else{_=YC;var j=KC}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(_=JC);if(_&&(_=_(e,u))){Dw(f,_,r,d);break e}j&&j(e,m,u),e==="focusout"&&(j=m._wrapperState)&&j.controlled&&m.type==="number"&&rh(m,"number",m.value)}switch(j=u?_o(u):window,e){case"focusin":(q0(j)||j.contentEditable==="true")&&(bo=j,mh=u,ra=null);break;case"focusout":ra=mh=bo=null;break;case"mousedown":gh=!0;break;case"contextmenu":case"mouseup":case"dragend":gh=!1,J0(f,r,d);break;case"selectionchange":if(e3)break;case"keydown":case"keyup":J0(f,r,d)}var E;if(gg)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else vo?Rw(e,r)&&(N="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(Aw&&r.locale!=="ko"&&(vo||N!=="onCompositionStart"?N==="onCompositionEnd"&&vo&&(E=Tw()):(Ln=d,fg="value"in Ln?Ln.value:Ln.textContent,vo=!0)),j=Dc(u,N),0<j.length&&(N=new z0(N,e,null,r,d),f.push({event:N,listeners:j}),E?N.data=E:(E=Mw(r),E!==null&&(N.data=E)))),(E=BC?VC(e,r):GC(e,r))&&(u=Dc(u,"onBeforeInput"),0<u.length&&(d=new z0("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=E))}qw(f,t)})}function Na(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Dc(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=va(e,r),o!=null&&n.unshift(Na(e,o,s)),o=va(e,t),o!=null&&n.push(Na(e,o,s))),e=e.return}return n}function eo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Z0(e,t,r,n,s){for(var o=t._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=va(r,o),c!=null&&a.unshift(Na(r,c,l))):s||(c=va(r,o),c!=null&&a.push(Na(r,c,l)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var s3=/\r\n?/g,o3=/\u0000|\uFFFD/g;function ey(e){return(typeof e=="string"?e:""+e).replace(s3,`
`).replace(o3,"")}function Al(e,t,r){if(t=ey(t),ey(e)!==t&&r)throw Error(ee(425))}function Lc(){}var ph=null,yh=null;function xh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var vh=typeof setTimeout=="function"?setTimeout:void 0,i3=typeof clearTimeout=="function"?clearTimeout:void 0,ty=typeof Promise=="function"?Promise:void 0,a3=typeof queueMicrotask=="function"?queueMicrotask:typeof ty<"u"?function(e){return ty.resolve(null).then(e).catch(l3)}:vh;function l3(e){setTimeout(function(){throw e})}function Wd(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),_a(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);_a(t)}function Bn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ry(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ci=Math.random().toString(36).slice(2),Ur="__reactFiber$"+ci,Ca="__reactProps$"+ci,dn="__reactContainer$"+ci,bh="__reactEvents$"+ci,c3="__reactListeners$"+ci,u3="__reactHandles$"+ci;function _s(e){var t=e[Ur];if(t)return t;for(var r=e.parentNode;r;){if(t=r[dn]||r[Ur]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=ry(e);e!==null;){if(r=e[Ur])return r;e=ry(e)}return t}e=r,r=e.parentNode}return null}function sl(e){return e=e[Ur]||e[dn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function _o(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ee(33))}function Lu(e){return e[Ca]||null}var wh=[],ko=-1;function ns(e){return{current:e}}function ze(e){0>ko||(e.current=wh[ko],wh[ko]=null,ko--)}function Ie(e,t){ko++,wh[ko]=e.current,e.current=t}var Jn={},Nt=ns(Jn),Bt=ns(!1),Ds=Jn;function qo(e,t){var r=e.type.contextTypes;if(!r)return Jn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Vt(e){return e=e.childContextTypes,e!=null}function Oc(){ze(Bt),ze(Nt)}function ny(e,t,r){if(Nt.current!==Jn)throw Error(ee(168));Ie(Nt,t),Ie(Bt,r)}function Hw(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(ee(108,KN(e)||"Unknown",s));return Je({},r,n)}function Ic(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Jn,Ds=Nt.current,Ie(Nt,e),Ie(Bt,Bt.current),!0}function sy(e,t,r){var n=e.stateNode;if(!n)throw Error(ee(169));r?(e=Hw(e,t,Ds),n.__reactInternalMemoizedMergedChildContext=e,ze(Bt),ze(Nt),Ie(Nt,e)):ze(Bt),Ie(Bt,r)}var nn=null,Ou=!1,Hd=!1;function Kw(e){nn===null?nn=[e]:nn.push(e)}function d3(e){Ou=!0,Kw(e)}function ss(){if(!Hd&&nn!==null){Hd=!0;var e=0,t=Ae;try{var r=nn;for(Ae=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}nn=null,Ou=!1}catch(s){throw nn!==null&&(nn=nn.slice(e+1)),vw(lg,ss),s}finally{Ae=t,Hd=!1}}return null}var So=[],jo=0,Fc=null,$c=0,ar=[],lr=0,Ls=null,sn=1,on="";function ps(e,t){So[jo++]=$c,So[jo++]=Fc,Fc=e,$c=t}function Yw(e,t,r){ar[lr++]=sn,ar[lr++]=on,ar[lr++]=Ls,Ls=e;var n=sn;e=on;var s=32-Cr(n)-1;n&=~(1<<s),r+=1;var o=32-Cr(t)+s;if(30<o){var a=s-s%5;o=(n&(1<<a)-1).toString(32),n>>=a,s-=a,sn=1<<32-Cr(t)+s|r<<s|n,on=o+e}else sn=1<<o|r<<s|n,on=e}function yg(e){e.return!==null&&(ps(e,1),Yw(e,1,0))}function xg(e){for(;e===Fc;)Fc=So[--jo],So[jo]=null,$c=So[--jo],So[jo]=null;for(;e===Ls;)Ls=ar[--lr],ar[lr]=null,on=ar[--lr],ar[lr]=null,sn=ar[--lr],ar[lr]=null}var Jt=null,Yt=null,qe=!1,jr=null;function Jw(e,t){var r=cr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function oy(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Jt=e,Yt=Bn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Jt=e,Yt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ls!==null?{id:sn,overflow:on}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=cr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Jt=e,Yt=null,!0):!1;default:return!1}}function _h(e){return(e.mode&1)!==0&&(e.flags&128)===0}function kh(e){if(qe){var t=Yt;if(t){var r=t;if(!oy(e,t)){if(_h(e))throw Error(ee(418));t=Bn(r.nextSibling);var n=Jt;t&&oy(e,t)?Jw(n,r):(e.flags=e.flags&-4097|2,qe=!1,Jt=e)}}else{if(_h(e))throw Error(ee(418));e.flags=e.flags&-4097|2,qe=!1,Jt=e}}}function iy(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Jt=e}function Rl(e){if(e!==Jt)return!1;if(!qe)return iy(e),qe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!xh(e.type,e.memoizedProps)),t&&(t=Yt)){if(_h(e))throw Xw(),Error(ee(418));for(;t;)Jw(e,t),t=Bn(t.nextSibling)}if(iy(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ee(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Yt=Bn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Yt=null}}else Yt=Jt?Bn(e.stateNode.nextSibling):null;return!0}function Xw(){for(var e=Yt;e;)e=Bn(e.nextSibling)}function Wo(){Yt=Jt=null,qe=!1}function vg(e){jr===null?jr=[e]:jr.push(e)}var f3=xn.ReactCurrentBatchConfig;function Ai(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ee(309));var n=r.stateNode}if(!n)throw Error(ee(147,e));var s=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var l=s.refs;a===null?delete l[o]:l[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(ee(284));if(!r._owner)throw Error(ee(290,e))}return e}function Ml(e,t){throw e=Object.prototype.toString.call(t),Error(ee(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ay(e){var t=e._init;return t(e._payload)}function Qw(e){function t(p,y){if(e){var b=p.deletions;b===null?(p.deletions=[y],p.flags|=16):b.push(y)}}function r(p,y){if(!e)return null;for(;y!==null;)t(p,y),y=y.sibling;return null}function n(p,y){for(p=new Map;y!==null;)y.key!==null?p.set(y.key,y):p.set(y.index,y),y=y.sibling;return p}function s(p,y){return p=Wn(p,y),p.index=0,p.sibling=null,p}function o(p,y,b){return p.index=b,e?(b=p.alternate,b!==null?(b=b.index,b<y?(p.flags|=2,y):b):(p.flags|=2,y)):(p.flags|=1048576,y)}function a(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,y,b,k){return y===null||y.tag!==6?(y=ef(b,p.mode,k),y.return=p,y):(y=s(y,b),y.return=p,y)}function c(p,y,b,k){var _=b.type;return _===xo?d(p,y,b.props.children,k,b.key):y!==null&&(y.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===En&&ay(_)===y.type)?(k=s(y,b.props),k.ref=Ai(p,y,b),k.return=p,k):(k=pc(b.type,b.key,b.props,null,p.mode,k),k.ref=Ai(p,y,b),k.return=p,k)}function u(p,y,b,k){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=tf(b,p.mode,k),y.return=p,y):(y=s(y,b.children||[]),y.return=p,y)}function d(p,y,b,k,_){return y===null||y.tag!==7?(y=Ps(b,p.mode,k,_),y.return=p,y):(y=s(y,b),y.return=p,y)}function f(p,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=ef(""+y,p.mode,b),y.return=p,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case _l:return b=pc(y.type,y.key,y.props,null,p.mode,b),b.ref=Ai(p,null,y),b.return=p,b;case yo:return y=tf(y,p.mode,b),y.return=p,y;case En:var k=y._init;return f(p,k(y._payload),b)}if(Vi(y)||Ni(y))return y=Ps(y,p.mode,b,null),y.return=p,y;Ml(p,y)}return null}function m(p,y,b,k){var _=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return _!==null?null:l(p,y,""+b,k);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case _l:return b.key===_?c(p,y,b,k):null;case yo:return b.key===_?u(p,y,b,k):null;case En:return _=b._init,m(p,y,_(b._payload),k)}if(Vi(b)||Ni(b))return _!==null?null:d(p,y,b,k,null);Ml(p,b)}return null}function g(p,y,b,k,_){if(typeof k=="string"&&k!==""||typeof k=="number")return p=p.get(b)||null,l(y,p,""+k,_);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case _l:return p=p.get(k.key===null?b:k.key)||null,c(y,p,k,_);case yo:return p=p.get(k.key===null?b:k.key)||null,u(y,p,k,_);case En:var j=k._init;return g(p,y,b,j(k._payload),_)}if(Vi(k)||Ni(k))return p=p.get(b)||null,d(y,p,k,_,null);Ml(y,k)}return null}function x(p,y,b,k){for(var _=null,j=null,E=y,N=y=0,F=null;E!==null&&N<b.length;N++){E.index>N?(F=E,E=null):F=E.sibling;var C=m(p,E,b[N],k);if(C===null){E===null&&(E=F);break}e&&E&&C.alternate===null&&t(p,E),y=o(C,y,N),j===null?_=C:j.sibling=C,j=C,E=F}if(N===b.length)return r(p,E),qe&&ps(p,N),_;if(E===null){for(;N<b.length;N++)E=f(p,b[N],k),E!==null&&(y=o(E,y,N),j===null?_=E:j.sibling=E,j=E);return qe&&ps(p,N),_}for(E=n(p,E);N<b.length;N++)F=g(E,p,N,b[N],k),F!==null&&(e&&F.alternate!==null&&E.delete(F.key===null?N:F.key),y=o(F,y,N),j===null?_=F:j.sibling=F,j=F);return e&&E.forEach(function(I){return t(p,I)}),qe&&ps(p,N),_}function v(p,y,b,k){var _=Ni(b);if(typeof _!="function")throw Error(ee(150));if(b=_.call(b),b==null)throw Error(ee(151));for(var j=_=null,E=y,N=y=0,F=null,C=b.next();E!==null&&!C.done;N++,C=b.next()){E.index>N?(F=E,E=null):F=E.sibling;var I=m(p,E,C.value,k);if(I===null){E===null&&(E=F);break}e&&E&&I.alternate===null&&t(p,E),y=o(I,y,N),j===null?_=I:j.sibling=I,j=I,E=F}if(C.done)return r(p,E),qe&&ps(p,N),_;if(E===null){for(;!C.done;N++,C=b.next())C=f(p,C.value,k),C!==null&&(y=o(C,y,N),j===null?_=C:j.sibling=C,j=C);return qe&&ps(p,N),_}for(E=n(p,E);!C.done;N++,C=b.next())C=g(E,p,N,C.value,k),C!==null&&(e&&C.alternate!==null&&E.delete(C.key===null?N:C.key),y=o(C,y,N),j===null?_=C:j.sibling=C,j=C);return e&&E.forEach(function(P){return t(p,P)}),qe&&ps(p,N),_}function w(p,y,b,k){if(typeof b=="object"&&b!==null&&b.type===xo&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case _l:e:{for(var _=b.key,j=y;j!==null;){if(j.key===_){if(_=b.type,_===xo){if(j.tag===7){r(p,j.sibling),y=s(j,b.props.children),y.return=p,p=y;break e}}else if(j.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===En&&ay(_)===j.type){r(p,j.sibling),y=s(j,b.props),y.ref=Ai(p,j,b),y.return=p,p=y;break e}r(p,j);break}else t(p,j);j=j.sibling}b.type===xo?(y=Ps(b.props.children,p.mode,k,b.key),y.return=p,p=y):(k=pc(b.type,b.key,b.props,null,p.mode,k),k.ref=Ai(p,y,b),k.return=p,p=k)}return a(p);case yo:e:{for(j=b.key;y!==null;){if(y.key===j)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){r(p,y.sibling),y=s(y,b.children||[]),y.return=p,p=y;break e}else{r(p,y);break}else t(p,y);y=y.sibling}y=tf(b,p.mode,k),y.return=p,p=y}return a(p);case En:return j=b._init,w(p,y,j(b._payload),k)}if(Vi(b))return x(p,y,b,k);if(Ni(b))return v(p,y,b,k);Ml(p,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(r(p,y.sibling),y=s(y,b),y.return=p,p=y):(r(p,y),y=ef(b,p.mode,k),y.return=p,p=y),a(p)):r(p,y)}return w}var Ho=Qw(!0),Zw=Qw(!1),Uc=ns(null),zc=null,No=null,bg=null;function wg(){bg=No=zc=null}function _g(e){var t=Uc.current;ze(Uc),e._currentValue=t}function Sh(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Fo(e,t){zc=e,bg=No=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(zt=!0),e.firstContext=null)}function gr(e){var t=e._currentValue;if(bg!==e)if(e={context:e,memoizedValue:t,next:null},No===null){if(zc===null)throw Error(ee(308));No=e,zc.dependencies={lanes:0,firstContext:e}}else No=No.next=e;return t}var ks=null;function kg(e){ks===null?ks=[e]:ks.push(e)}function e1(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,kg(t)):(r.next=s.next,s.next=r),t.interleaved=r,fn(e,n)}function fn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Pn=!1;function Sg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function t1(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function an(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ce&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,fn(e,r)}return s=n.interleaved,s===null?(t.next=t,kg(n)):(t.next=s.next,s.next=t),n.interleaved=t,fn(e,r)}function uc(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,cg(e,r)}}function ly(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=a:o=o.next=a,r=r.next}while(r!==null);o===null?s=o=t:o=o.next=t}else s=o=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Bc(e,t,r,n){var s=e.updateQueue;Pn=!1;var o=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?o=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(o!==null){var f=s.baseState;a=0,d=u=c=null,l=o;do{var m=l.lane,g=l.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,v=l;switch(m=t,g=r,v.tag){case 1:if(x=v.payload,typeof x=="function"){f=x.call(g,f,m);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=v.payload,m=typeof x=="function"?x.call(g,f,m):x,m==null)break e;f=Je({},f,m);break e;case 2:Pn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else g={eventTime:g,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=g,c=f):d=d.next=g,a|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);Is|=a,e.lanes=a,e.memoizedState=f}}function cy(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(ee(191,s));s.call(n)}}}var ol={},Gr=ns(ol),Ea=ns(ol),Pa=ns(ol);function Ss(e){if(e===ol)throw Error(ee(174));return e}function jg(e,t){switch(Ie(Pa,t),Ie(Ea,e),Ie(Gr,ol),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:sh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=sh(t,e)}ze(Gr),Ie(Gr,t)}function Ko(){ze(Gr),ze(Ea),ze(Pa)}function r1(e){Ss(Pa.current);var t=Ss(Gr.current),r=sh(t,e.type);t!==r&&(Ie(Ea,e),Ie(Gr,r))}function Ng(e){Ea.current===e&&(ze(Gr),ze(Ea))}var He=ns(0);function Vc(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Kd=[];function Cg(){for(var e=0;e<Kd.length;e++)Kd[e]._workInProgressVersionPrimary=null;Kd.length=0}var dc=xn.ReactCurrentDispatcher,Yd=xn.ReactCurrentBatchConfig,Os=0,Ye=null,lt=null,ft=null,Gc=!1,na=!1,Ta=0,h3=0;function wt(){throw Error(ee(321))}function Eg(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Pr(e[r],t[r]))return!1;return!0}function Pg(e,t,r,n,s,o){if(Os=o,Ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,dc.current=e===null||e.memoizedState===null?y3:x3,e=r(n,s),na){o=0;do{if(na=!1,Ta=0,25<=o)throw Error(ee(301));o+=1,ft=lt=null,t.updateQueue=null,dc.current=v3,e=r(n,s)}while(na)}if(dc.current=qc,t=lt!==null&&lt.next!==null,Os=0,ft=lt=Ye=null,Gc=!1,t)throw Error(ee(300));return e}function Tg(){var e=Ta!==0;return Ta=0,e}function Fr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?Ye.memoizedState=ft=e:ft=ft.next=e,ft}function pr(){if(lt===null){var e=Ye.alternate;e=e!==null?e.memoizedState:null}else e=lt.next;var t=ft===null?Ye.memoizedState:ft.next;if(t!==null)ft=t,lt=e;else{if(e===null)throw Error(ee(310));lt=e,e={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},ft===null?Ye.memoizedState=ft=e:ft=ft.next=e}return ft}function Aa(e,t){return typeof t=="function"?t(e):t}function Jd(e){var t=pr(),r=t.queue;if(r===null)throw Error(ee(311));r.lastRenderedReducer=e;var n=lt,s=n.baseQueue,o=r.pending;if(o!==null){if(s!==null){var a=s.next;s.next=o.next,o.next=a}n.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,n=n.baseState;var l=a=null,c=null,u=o;do{var d=u.lane;if((Os&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,a=n):c=c.next=f,Ye.lanes|=d,Is|=d}u=u.next}while(u!==null&&u!==o);c===null?a=n:c.next=l,Pr(n,t.memoizedState)||(zt=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do o=s.lane,Ye.lanes|=o,Is|=o,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Xd(e){var t=pr(),r=t.queue;if(r===null)throw Error(ee(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,o=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do o=e(o,a.action),a=a.next;while(a!==s);Pr(o,t.memoizedState)||(zt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function n1(){}function s1(e,t){var r=Ye,n=pr(),s=t(),o=!Pr(n.memoizedState,s);if(o&&(n.memoizedState=s,zt=!0),n=n.queue,Ag(a1.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||ft!==null&&ft.memoizedState.tag&1){if(r.flags|=2048,Ra(9,i1.bind(null,r,n,s,t),void 0,null),mt===null)throw Error(ee(349));Os&30||o1(r,t,s)}return s}function o1(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ye.updateQueue,t===null?(t={lastEffect:null,stores:null},Ye.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function i1(e,t,r,n){t.value=r,t.getSnapshot=n,l1(t)&&c1(e)}function a1(e,t,r){return r(function(){l1(t)&&c1(e)})}function l1(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Pr(e,r)}catch{return!0}}function c1(e){var t=fn(e,1);t!==null&&Er(t,e,1,-1)}function uy(e){var t=Fr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:e},t.queue=e,e=e.dispatch=p3.bind(null,Ye,e),[t.memoizedState,e]}function Ra(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ye.updateQueue,t===null?(t={lastEffect:null,stores:null},Ye.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function u1(){return pr().memoizedState}function fc(e,t,r,n){var s=Fr();Ye.flags|=e,s.memoizedState=Ra(1|t,r,void 0,n===void 0?null:n)}function Iu(e,t,r,n){var s=pr();n=n===void 0?null:n;var o=void 0;if(lt!==null){var a=lt.memoizedState;if(o=a.destroy,n!==null&&Eg(n,a.deps)){s.memoizedState=Ra(t,r,o,n);return}}Ye.flags|=e,s.memoizedState=Ra(1|t,r,o,n)}function dy(e,t){return fc(8390656,8,e,t)}function Ag(e,t){return Iu(2048,8,e,t)}function d1(e,t){return Iu(4,2,e,t)}function f1(e,t){return Iu(4,4,e,t)}function h1(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function m1(e,t,r){return r=r!=null?r.concat([e]):null,Iu(4,4,h1.bind(null,t,e),r)}function Rg(){}function g1(e,t){var r=pr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Eg(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function p1(e,t){var r=pr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Eg(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function y1(e,t,r){return Os&21?(Pr(r,t)||(r=_w(),Ye.lanes|=r,Is|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,zt=!0),e.memoizedState=r)}function m3(e,t){var r=Ae;Ae=r!==0&&4>r?r:4,e(!0);var n=Yd.transition;Yd.transition={};try{e(!1),t()}finally{Ae=r,Yd.transition=n}}function x1(){return pr().memoizedState}function g3(e,t,r){var n=qn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},v1(e))b1(t,r);else if(r=e1(e,t,r,n),r!==null){var s=Mt();Er(r,e,n,s),w1(r,t,n)}}function p3(e,t,r){var n=qn(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(v1(e))b1(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,l=o(a,r);if(s.hasEagerState=!0,s.eagerState=l,Pr(l,a)){var c=t.interleaved;c===null?(s.next=s,kg(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=e1(e,t,s,n),r!==null&&(s=Mt(),Er(r,e,n,s),w1(r,t,n))}}function v1(e){var t=e.alternate;return e===Ye||t!==null&&t===Ye}function b1(e,t){na=Gc=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function w1(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,cg(e,r)}}var qc={readContext:gr,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useInsertionEffect:wt,useLayoutEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useMutableSource:wt,useSyncExternalStore:wt,useId:wt,unstable_isNewReconciler:!1},y3={readContext:gr,useCallback:function(e,t){return Fr().memoizedState=[e,t===void 0?null:t],e},useContext:gr,useEffect:dy,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,fc(4194308,4,h1.bind(null,t,e),r)},useLayoutEffect:function(e,t){return fc(4194308,4,e,t)},useInsertionEffect:function(e,t){return fc(4,2,e,t)},useMemo:function(e,t){var r=Fr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Fr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=g3.bind(null,Ye,e),[n.memoizedState,e]},useRef:function(e){var t=Fr();return e={current:e},t.memoizedState=e},useState:uy,useDebugValue:Rg,useDeferredValue:function(e){return Fr().memoizedState=e},useTransition:function(){var e=uy(!1),t=e[0];return e=m3.bind(null,e[1]),Fr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ye,s=Fr();if(qe){if(r===void 0)throw Error(ee(407));r=r()}else{if(r=t(),mt===null)throw Error(ee(349));Os&30||o1(n,t,r)}s.memoizedState=r;var o={value:r,getSnapshot:t};return s.queue=o,dy(a1.bind(null,n,o,e),[e]),n.flags|=2048,Ra(9,i1.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=Fr(),t=mt.identifierPrefix;if(qe){var r=on,n=sn;r=(n&~(1<<32-Cr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ta++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=h3++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},x3={readContext:gr,useCallback:g1,useContext:gr,useEffect:Ag,useImperativeHandle:m1,useInsertionEffect:d1,useLayoutEffect:f1,useMemo:p1,useReducer:Jd,useRef:u1,useState:function(){return Jd(Aa)},useDebugValue:Rg,useDeferredValue:function(e){var t=pr();return y1(t,lt.memoizedState,e)},useTransition:function(){var e=Jd(Aa)[0],t=pr().memoizedState;return[e,t]},useMutableSource:n1,useSyncExternalStore:s1,useId:x1,unstable_isNewReconciler:!1},v3={readContext:gr,useCallback:g1,useContext:gr,useEffect:Ag,useImperativeHandle:m1,useInsertionEffect:d1,useLayoutEffect:f1,useMemo:p1,useReducer:Xd,useRef:u1,useState:function(){return Xd(Aa)},useDebugValue:Rg,useDeferredValue:function(e){var t=pr();return lt===null?t.memoizedState=e:y1(t,lt.memoizedState,e)},useTransition:function(){var e=Xd(Aa)[0],t=pr().memoizedState;return[e,t]},useMutableSource:n1,useSyncExternalStore:s1,useId:x1,unstable_isNewReconciler:!1};function wr(e,t){if(e&&e.defaultProps){t=Je({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function jh(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Je({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Fu={isMounted:function(e){return(e=e._reactInternals)?qs(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Mt(),s=qn(e),o=an(n,s);o.payload=t,r!=null&&(o.callback=r),t=Vn(e,o,s),t!==null&&(Er(t,e,s,n),uc(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Mt(),s=qn(e),o=an(n,s);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=Vn(e,o,s),t!==null&&(Er(t,e,s,n),uc(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Mt(),n=qn(e),s=an(r,n);s.tag=2,t!=null&&(s.callback=t),t=Vn(e,s,n),t!==null&&(Er(t,e,n,r),uc(t,e,n))}};function fy(e,t,r,n,s,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,a):t.prototype&&t.prototype.isPureReactComponent?!Sa(r,n)||!Sa(s,o):!0}function _1(e,t,r){var n=!1,s=Jn,o=t.contextType;return typeof o=="object"&&o!==null?o=gr(o):(s=Vt(t)?Ds:Nt.current,n=t.contextTypes,o=(n=n!=null)?qo(e,s):Jn),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Fu,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function hy(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Fu.enqueueReplaceState(t,t.state,null)}function Nh(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Sg(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=gr(o):(o=Vt(t)?Ds:Nt.current,s.context=qo(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(jh(e,t,o,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Fu.enqueueReplaceState(s,s.state,null),Bc(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Yo(e,t){try{var r="",n=t;do r+=HN(n),n=n.return;while(n);var s=r}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Qd(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Ch(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var b3=typeof WeakMap=="function"?WeakMap:Map;function k1(e,t,r){r=an(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Hc||(Hc=!0,Ih=n),Ch(e,t)},r}function S1(e,t,r){r=an(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Ch(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){Ch(e,t),typeof n!="function"&&(Gn===null?Gn=new Set([this]):Gn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function my(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new b3;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=D3.bind(null,e,t,r),t.then(e,e))}function gy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function py(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=an(-1,1),t.tag=2,Vn(r,t,1))),r.lanes|=1),e)}var w3=xn.ReactCurrentOwner,zt=!1;function Tt(e,t,r,n){t.child=e===null?Zw(t,null,r,n):Ho(t,e.child,r,n)}function yy(e,t,r,n,s){r=r.render;var o=t.ref;return Fo(t,s),n=Pg(e,t,r,n,o,s),r=Tg(),e!==null&&!zt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,hn(e,t,s)):(qe&&r&&yg(t),t.flags|=1,Tt(e,t,n,s),t.child)}function xy(e,t,r,n,s){if(e===null){var o=r.type;return typeof o=="function"&&!Ug(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,j1(e,t,o,n,s)):(e=pc(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var a=o.memoizedProps;if(r=r.compare,r=r!==null?r:Sa,r(a,n)&&e.ref===t.ref)return hn(e,t,s)}return t.flags|=1,e=Wn(o,n),e.ref=t.ref,e.return=t,t.child=e}function j1(e,t,r,n,s){if(e!==null){var o=e.memoizedProps;if(Sa(o,n)&&e.ref===t.ref)if(zt=!1,t.pendingProps=n=o,(e.lanes&s)!==0)e.flags&131072&&(zt=!0);else return t.lanes=e.lanes,hn(e,t,s)}return Eh(e,t,r,n,s)}function N1(e,t,r){var n=t.pendingProps,s=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ie(Eo,Ht),Ht|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ie(Eo,Ht),Ht|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Ie(Eo,Ht),Ht|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,Ie(Eo,Ht),Ht|=n;return Tt(e,t,s,r),t.child}function C1(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Eh(e,t,r,n,s){var o=Vt(r)?Ds:Nt.current;return o=qo(t,o),Fo(t,s),r=Pg(e,t,r,n,o,s),n=Tg(),e!==null&&!zt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,hn(e,t,s)):(qe&&n&&yg(t),t.flags|=1,Tt(e,t,r,s),t.child)}function vy(e,t,r,n,s){if(Vt(r)){var o=!0;Ic(t)}else o=!1;if(Fo(t,s),t.stateNode===null)hc(e,t),_1(t,r,n),Nh(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=gr(u):(u=Vt(r)?Ds:Nt.current,u=qo(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==u)&&hy(t,a,n,u),Pn=!1;var m=t.memoizedState;a.state=m,Bc(t,n,a,s),c=t.memoizedState,l!==n||m!==c||Bt.current||Pn?(typeof d=="function"&&(jh(t,r,d,n),c=t.memoizedState),(l=Pn||fy(t,r,l,n,m,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=u,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,t1(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:wr(t.type,l),a.props=u,f=t.pendingProps,m=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=gr(c):(c=Vt(r)?Ds:Nt.current,c=qo(t,c));var g=r.getDerivedStateFromProps;(d=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||m!==c)&&hy(t,a,n,c),Pn=!1,m=t.memoizedState,a.state=m,Bc(t,n,a,s);var x=t.memoizedState;l!==f||m!==x||Bt.current||Pn?(typeof g=="function"&&(jh(t,r,g,n),x=t.memoizedState),(u=Pn||fy(t,r,u,n,m,x,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,x,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,x,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),a.props=n,a.state=x,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return Ph(e,t,r,n,o,s)}function Ph(e,t,r,n,s,o){C1(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&sy(t,r,!1),hn(e,t,o);n=t.stateNode,w3.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Ho(t,e.child,null,o),t.child=Ho(t,null,l,o)):Tt(e,t,l,o),t.memoizedState=n.state,s&&sy(t,r,!0),t.child}function E1(e){var t=e.stateNode;t.pendingContext?ny(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ny(e,t.context,!1),jg(e,t.containerInfo)}function by(e,t,r,n,s){return Wo(),vg(s),t.flags|=256,Tt(e,t,r,n),t.child}var Th={dehydrated:null,treeContext:null,retryLane:0};function Ah(e){return{baseLanes:e,cachePool:null,transitions:null}}function P1(e,t,r){var n=t.pendingProps,s=He.current,o=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ie(He,s&1),e===null)return kh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,o?(n=t.mode,o=t.child,a={mode:"hidden",children:a},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=zu(a,n,0,null),e=Ps(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Ah(r),t.memoizedState=Th,e):Mg(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return _3(e,t,a,n,l,s,r);if(o){o=n.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Wn(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=Wn(l,o):(o=Ps(o,a,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,a=e.child.memoizedState,a=a===null?Ah(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~r,t.memoizedState=Th,n}return o=e.child,e=o.sibling,n=Wn(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Mg(e,t){return t=zu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Dl(e,t,r,n){return n!==null&&vg(n),Ho(t,e.child,null,r),e=Mg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function _3(e,t,r,n,s,o,a){if(r)return t.flags&256?(t.flags&=-257,n=Qd(Error(ee(422))),Dl(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,s=t.mode,n=zu({mode:"visible",children:n.children},s,0,null),o=Ps(o,s,a,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&Ho(t,e.child,null,a),t.child.memoizedState=Ah(a),t.memoizedState=Th,o);if(!(t.mode&1))return Dl(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,o=Error(ee(419)),n=Qd(o,n,void 0),Dl(e,t,a,n)}if(l=(a&e.childLanes)!==0,zt||l){if(n=mt,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,fn(e,s),Er(n,e,s,-1))}return $g(),n=Qd(Error(ee(421))),Dl(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=L3.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,Yt=Bn(s.nextSibling),Jt=t,qe=!0,jr=null,e!==null&&(ar[lr++]=sn,ar[lr++]=on,ar[lr++]=Ls,sn=e.id,on=e.overflow,Ls=t),t=Mg(t,n.children),t.flags|=4096,t)}function wy(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Sh(e.return,t,r)}function Zd(e,t,r,n,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=s)}function T1(e,t,r){var n=t.pendingProps,s=n.revealOrder,o=n.tail;if(Tt(e,t,n.children,r),n=He.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wy(e,r,t);else if(e.tag===19)wy(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ie(He,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Vc(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Zd(t,!1,s,r,o);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Vc(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Zd(t,!0,r,null,o);break;case"together":Zd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function hc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function hn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Is|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ee(153));if(t.child!==null){for(e=t.child,r=Wn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Wn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function k3(e,t,r){switch(t.tag){case 3:E1(t),Wo();break;case 5:r1(t);break;case 1:Vt(t.type)&&Ic(t);break;case 4:jg(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Ie(Uc,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ie(He,He.current&1),t.flags|=128,null):r&t.child.childLanes?P1(e,t,r):(Ie(He,He.current&1),e=hn(e,t,r),e!==null?e.sibling:null);Ie(He,He.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return T1(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ie(He,He.current),n)break;return null;case 22:case 23:return t.lanes=0,N1(e,t,r)}return hn(e,t,r)}var A1,Rh,R1,M1;A1=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Rh=function(){};R1=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Ss(Gr.current);var o=null;switch(r){case"input":s=eh(e,s),n=eh(e,n),o=[];break;case"select":s=Je({},s,{value:void 0}),n=Je({},n,{value:void 0}),o=[];break;case"textarea":s=nh(e,s),n=nh(e,n),o=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Lc)}oh(r,n);var a;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ya.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(o||(o=[]),o.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ya.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ue("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};M1=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ri(e,t){if(!qe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function _t(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function S3(e,t,r){var n=t.pendingProps;switch(xg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(t),null;case 1:return Vt(t.type)&&Oc(),_t(t),null;case 3:return n=t.stateNode,Ko(),ze(Bt),ze(Nt),Cg(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Rl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,jr!==null&&(Uh(jr),jr=null))),Rh(e,t),_t(t),null;case 5:Ng(t);var s=Ss(Pa.current);if(r=t.type,e!==null&&t.stateNode!=null)R1(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ee(166));return _t(t),null}if(e=Ss(Gr.current),Rl(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[Ur]=t,n[Ca]=o,e=(t.mode&1)!==0,r){case"dialog":Ue("cancel",n),Ue("close",n);break;case"iframe":case"object":case"embed":Ue("load",n);break;case"video":case"audio":for(s=0;s<qi.length;s++)Ue(qi[s],n);break;case"source":Ue("error",n);break;case"img":case"image":case"link":Ue("error",n),Ue("load",n);break;case"details":Ue("toggle",n);break;case"input":T0(n,o),Ue("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Ue("invalid",n);break;case"textarea":R0(n,o),Ue("invalid",n)}oh(r,o),s=null;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="children"?typeof l=="string"?n.textContent!==l&&(o.suppressHydrationWarning!==!0&&Al(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Al(n.textContent,l,e),s=["children",""+l]):ya.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Ue("scroll",n)}switch(r){case"input":kl(n),A0(n,o,!0);break;case"textarea":kl(n),M0(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Lc)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=aw(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[Ur]=t,e[Ca]=n,A1(e,t,!1,!1),t.stateNode=e;e:{switch(a=ih(r,n),r){case"dialog":Ue("cancel",e),Ue("close",e),s=n;break;case"iframe":case"object":case"embed":Ue("load",e),s=n;break;case"video":case"audio":for(s=0;s<qi.length;s++)Ue(qi[s],e);s=n;break;case"source":Ue("error",e),s=n;break;case"img":case"image":case"link":Ue("error",e),Ue("load",e),s=n;break;case"details":Ue("toggle",e),s=n;break;case"input":T0(e,n),s=eh(e,n),Ue("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Je({},n,{value:void 0}),Ue("invalid",e);break;case"textarea":R0(e,n),s=nh(e,n),Ue("invalid",e);break;default:s=n}oh(r,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?uw(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&lw(e,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&xa(e,c):typeof c=="number"&&xa(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ya.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Ue("scroll",e):c!=null&&ng(e,o,c,a))}switch(r){case"input":kl(e),A0(e,n,!1);break;case"textarea":kl(e),M0(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Yn(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?Do(e,!!n.multiple,o,!1):n.defaultValue!=null&&Do(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Lc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return _t(t),null;case 6:if(e&&t.stateNode!=null)M1(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ee(166));if(r=Ss(Pa.current),Ss(Gr.current),Rl(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ur]=t,(o=n.nodeValue!==r)&&(e=Jt,e!==null))switch(e.tag){case 3:Al(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Al(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ur]=t,t.stateNode=n}return _t(t),null;case 13:if(ze(He),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(qe&&Yt!==null&&t.mode&1&&!(t.flags&128))Xw(),Wo(),t.flags|=98560,o=!1;else if(o=Rl(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(ee(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ee(317));o[Ur]=t}else Wo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;_t(t),o=!1}else jr!==null&&(Uh(jr),jr=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||He.current&1?ct===0&&(ct=3):$g())),t.updateQueue!==null&&(t.flags|=4),_t(t),null);case 4:return Ko(),Rh(e,t),e===null&&ja(t.stateNode.containerInfo),_t(t),null;case 10:return _g(t.type._context),_t(t),null;case 17:return Vt(t.type)&&Oc(),_t(t),null;case 19:if(ze(He),o=t.memoizedState,o===null)return _t(t),null;if(n=(t.flags&128)!==0,a=o.rendering,a===null)if(n)Ri(o,!1);else{if(ct!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Vc(e),a!==null){for(t.flags|=128,Ri(o,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ie(He,He.current&1|2),t.child}e=e.sibling}o.tail!==null&&et()>Jo&&(t.flags|=128,n=!0,Ri(o,!1),t.lanes=4194304)}else{if(!n)if(e=Vc(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ri(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!qe)return _t(t),null}else 2*et()-o.renderingStartTime>Jo&&r!==1073741824&&(t.flags|=128,n=!0,Ri(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(r=o.last,r!==null?r.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=et(),t.sibling=null,r=He.current,Ie(He,n?r&1|2:r&1),t):(_t(t),null);case 22:case 23:return Fg(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ht&1073741824&&(_t(t),t.subtreeFlags&6&&(t.flags|=8192)):_t(t),null;case 24:return null;case 25:return null}throw Error(ee(156,t.tag))}function j3(e,t){switch(xg(t),t.tag){case 1:return Vt(t.type)&&Oc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ko(),ze(Bt),ze(Nt),Cg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ng(t),null;case 13:if(ze(He),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ee(340));Wo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ze(He),null;case 4:return Ko(),null;case 10:return _g(t.type._context),null;case 22:case 23:return Fg(),null;case 24:return null;default:return null}}var Ll=!1,St=!1,N3=typeof WeakSet=="function"?WeakSet:Set,ie=null;function Co(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Qe(e,t,n)}else r.current=null}function Mh(e,t,r){try{r()}catch(n){Qe(e,t,n)}}var _y=!1;function C3(e,t){if(ph=Rc,e=Fw(),pg(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,u=0,d=0,f=e,m=null;t:for(;;){for(var g;f!==r||s!==0&&f.nodeType!==3||(l=a+s),f!==o||n!==0&&f.nodeType!==3||(c=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(g=f.firstChild)!==null;)m=f,f=g;for(;;){if(f===e)break t;if(m===r&&++u===s&&(l=a),m===o&&++d===n&&(c=a),(g=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=g}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(yh={focusedElem:e,selectionRange:r},Rc=!1,ie=t;ie!==null;)if(t=ie,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ie=e;else for(;ie!==null;){t=ie;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var v=x.memoizedProps,w=x.memoizedState,p=t.stateNode,y=p.getSnapshotBeforeUpdate(t.elementType===t.type?v:wr(t.type,v),w);p.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ee(163))}}catch(k){Qe(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,ie=e;break}ie=t.return}return x=_y,_y=!1,x}function sa(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&Mh(t,r,o)}s=s.next}while(s!==n)}}function $u(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Dh(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function D1(e){var t=e.alternate;t!==null&&(e.alternate=null,D1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ur],delete t[Ca],delete t[bh],delete t[c3],delete t[u3])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function L1(e){return e.tag===5||e.tag===3||e.tag===4}function ky(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||L1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Lh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Lc));else if(n!==4&&(e=e.child,e!==null))for(Lh(e,t,r),e=e.sibling;e!==null;)Lh(e,t,r),e=e.sibling}function Oh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Oh(e,t,r),e=e.sibling;e!==null;)Oh(e,t,r),e=e.sibling}var pt=null,kr=!1;function wn(e,t,r){for(r=r.child;r!==null;)O1(e,t,r),r=r.sibling}function O1(e,t,r){if(Vr&&typeof Vr.onCommitFiberUnmount=="function")try{Vr.onCommitFiberUnmount(Au,r)}catch{}switch(r.tag){case 5:St||Co(r,t);case 6:var n=pt,s=kr;pt=null,wn(e,t,r),pt=n,kr=s,pt!==null&&(kr?(e=pt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):pt.removeChild(r.stateNode));break;case 18:pt!==null&&(kr?(e=pt,r=r.stateNode,e.nodeType===8?Wd(e.parentNode,r):e.nodeType===1&&Wd(e,r),_a(e)):Wd(pt,r.stateNode));break;case 4:n=pt,s=kr,pt=r.stateNode.containerInfo,kr=!0,wn(e,t,r),pt=n,kr=s;break;case 0:case 11:case 14:case 15:if(!St&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var o=s,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Mh(r,t,a),s=s.next}while(s!==n)}wn(e,t,r);break;case 1:if(!St&&(Co(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Qe(r,t,l)}wn(e,t,r);break;case 21:wn(e,t,r);break;case 22:r.mode&1?(St=(n=St)||r.memoizedState!==null,wn(e,t,r),St=n):wn(e,t,r);break;default:wn(e,t,r)}}function Sy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new N3),t.forEach(function(n){var s=O3.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function xr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var o=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:pt=l.stateNode,kr=!1;break e;case 3:pt=l.stateNode.containerInfo,kr=!0;break e;case 4:pt=l.stateNode.containerInfo,kr=!0;break e}l=l.return}if(pt===null)throw Error(ee(160));O1(o,a,s),pt=null,kr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Qe(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)I1(t,e),t=t.sibling}function I1(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xr(t,e),Lr(e),n&4){try{sa(3,e,e.return),$u(3,e)}catch(v){Qe(e,e.return,v)}try{sa(5,e,e.return)}catch(v){Qe(e,e.return,v)}}break;case 1:xr(t,e),Lr(e),n&512&&r!==null&&Co(r,r.return);break;case 5:if(xr(t,e),Lr(e),n&512&&r!==null&&Co(r,r.return),e.flags&32){var s=e.stateNode;try{xa(s,"")}catch(v){Qe(e,e.return,v)}}if(n&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,a=r!==null?r.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&ow(s,o),ih(l,a);var u=ih(l,o);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];d==="style"?uw(s,f):d==="dangerouslySetInnerHTML"?lw(s,f):d==="children"?xa(s,f):ng(s,d,f,u)}switch(l){case"input":th(s,o);break;case"textarea":iw(s,o);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?Do(s,!!o.multiple,g,!1):m!==!!o.multiple&&(o.defaultValue!=null?Do(s,!!o.multiple,o.defaultValue,!0):Do(s,!!o.multiple,o.multiple?[]:"",!1))}s[Ca]=o}catch(v){Qe(e,e.return,v)}}break;case 6:if(xr(t,e),Lr(e),n&4){if(e.stateNode===null)throw Error(ee(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(v){Qe(e,e.return,v)}}break;case 3:if(xr(t,e),Lr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{_a(t.containerInfo)}catch(v){Qe(e,e.return,v)}break;case 4:xr(t,e),Lr(e);break;case 13:xr(t,e),Lr(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Og=et())),n&4&&Sy(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(St=(u=St)||d,xr(t,e),St=u):xr(t,e),Lr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ie=e,d=e.child;d!==null;){for(f=ie=d;ie!==null;){switch(m=ie,g=m.child,m.tag){case 0:case 11:case 14:case 15:sa(4,m,m.return);break;case 1:Co(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(v){Qe(n,r,v)}}break;case 5:Co(m,m.return);break;case 22:if(m.memoizedState!==null){Ny(f);continue}}g!==null?(g.return=m,ie=g):Ny(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=cw("display",a))}catch(v){Qe(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){Qe(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:xr(t,e),Lr(e),n&4&&Sy(e);break;case 21:break;default:xr(t,e),Lr(e)}}function Lr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(L1(r)){var n=r;break e}r=r.return}throw Error(ee(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(xa(s,""),n.flags&=-33);var o=ky(e);Oh(e,o,s);break;case 3:case 4:var a=n.stateNode.containerInfo,l=ky(e);Lh(e,l,a);break;default:throw Error(ee(161))}}catch(c){Qe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function E3(e,t,r){ie=e,F1(e)}function F1(e,t,r){for(var n=(e.mode&1)!==0;ie!==null;){var s=ie,o=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||Ll;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||St;l=Ll;var u=St;if(Ll=a,(St=c)&&!u)for(ie=s;ie!==null;)a=ie,c=a.child,a.tag===22&&a.memoizedState!==null?Cy(s):c!==null?(c.return=a,ie=c):Cy(s);for(;o!==null;)ie=o,F1(o),o=o.sibling;ie=s,Ll=l,St=u}jy(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,ie=o):jy(e)}}function jy(e){for(;ie!==null;){var t=ie;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:St||$u(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!St)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:wr(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&cy(t,o,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}cy(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&_a(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ee(163))}St||t.flags&512&&Dh(t)}catch(m){Qe(t,t.return,m)}}if(t===e){ie=null;break}if(r=t.sibling,r!==null){r.return=t.return,ie=r;break}ie=t.return}}function Ny(e){for(;ie!==null;){var t=ie;if(t===e){ie=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ie=r;break}ie=t.return}}function Cy(e){for(;ie!==null;){var t=ie;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{$u(4,t)}catch(c){Qe(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Qe(t,s,c)}}var o=t.return;try{Dh(t)}catch(c){Qe(t,o,c)}break;case 5:var a=t.return;try{Dh(t)}catch(c){Qe(t,a,c)}}}catch(c){Qe(t,t.return,c)}if(t===e){ie=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ie=l;break}ie=t.return}}var P3=Math.ceil,Wc=xn.ReactCurrentDispatcher,Dg=xn.ReactCurrentOwner,ur=xn.ReactCurrentBatchConfig,Ce=0,mt=null,nt=null,xt=0,Ht=0,Eo=ns(0),ct=0,Ma=null,Is=0,Uu=0,Lg=0,oa=null,$t=null,Og=0,Jo=1/0,tn=null,Hc=!1,Ih=null,Gn=null,Ol=!1,On=null,Kc=0,ia=0,Fh=null,mc=-1,gc=0;function Mt(){return Ce&6?et():mc!==-1?mc:mc=et()}function qn(e){return e.mode&1?Ce&2&&xt!==0?xt&-xt:f3.transition!==null?(gc===0&&(gc=_w()),gc):(e=Ae,e!==0||(e=window.event,e=e===void 0?16:Pw(e.type)),e):1}function Er(e,t,r,n){if(50<ia)throw ia=0,Fh=null,Error(ee(185));rl(e,r,n),(!(Ce&2)||e!==mt)&&(e===mt&&(!(Ce&2)&&(Uu|=r),ct===4&&Rn(e,xt)),Gt(e,n),r===1&&Ce===0&&!(t.mode&1)&&(Jo=et()+500,Ou&&ss()))}function Gt(e,t){var r=e.callbackNode;fC(e,t);var n=Ac(e,e===mt?xt:0);if(n===0)r!==null&&O0(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&O0(r),t===1)e.tag===0?d3(Ey.bind(null,e)):Kw(Ey.bind(null,e)),a3(function(){!(Ce&6)&&ss()}),r=null;else{switch(kw(n)){case 1:r=lg;break;case 4:r=bw;break;case 16:r=Tc;break;case 536870912:r=ww;break;default:r=Tc}r=W1(r,$1.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function $1(e,t){if(mc=-1,gc=0,Ce&6)throw Error(ee(327));var r=e.callbackNode;if($o()&&e.callbackNode!==r)return null;var n=Ac(e,e===mt?xt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Yc(e,n);else{t=n;var s=Ce;Ce|=2;var o=z1();(mt!==e||xt!==t)&&(tn=null,Jo=et()+500,Es(e,t));do try{R3();break}catch(l){U1(e,l)}while(!0);wg(),Wc.current=o,Ce=s,nt!==null?t=0:(mt=null,xt=0,t=ct)}if(t!==0){if(t===2&&(s=dh(e),s!==0&&(n=s,t=$h(e,s))),t===1)throw r=Ma,Es(e,0),Rn(e,n),Gt(e,et()),r;if(t===6)Rn(e,n);else{if(s=e.current.alternate,!(n&30)&&!T3(s)&&(t=Yc(e,n),t===2&&(o=dh(e),o!==0&&(n=o,t=$h(e,o))),t===1))throw r=Ma,Es(e,0),Rn(e,n),Gt(e,et()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(ee(345));case 2:ys(e,$t,tn);break;case 3:if(Rn(e,n),(n&130023424)===n&&(t=Og+500-et(),10<t)){if(Ac(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Mt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=vh(ys.bind(null,e,$t,tn),t);break}ys(e,$t,tn);break;case 4:if(Rn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-Cr(n);o=1<<a,a=t[a],a>s&&(s=a),n&=~o}if(n=s,n=et()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*P3(n/1960))-n,10<n){e.timeoutHandle=vh(ys.bind(null,e,$t,tn),n);break}ys(e,$t,tn);break;case 5:ys(e,$t,tn);break;default:throw Error(ee(329))}}}return Gt(e,et()),e.callbackNode===r?$1.bind(null,e):null}function $h(e,t){var r=oa;return e.current.memoizedState.isDehydrated&&(Es(e,t).flags|=256),e=Yc(e,t),e!==2&&(t=$t,$t=r,t!==null&&Uh(t)),e}function Uh(e){$t===null?$t=e:$t.push.apply($t,e)}function T3(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],o=s.getSnapshot;s=s.value;try{if(!Pr(o(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Rn(e,t){for(t&=~Lg,t&=~Uu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Cr(t),n=1<<r;e[r]=-1,t&=~n}}function Ey(e){if(Ce&6)throw Error(ee(327));$o();var t=Ac(e,0);if(!(t&1))return Gt(e,et()),null;var r=Yc(e,t);if(e.tag!==0&&r===2){var n=dh(e);n!==0&&(t=n,r=$h(e,n))}if(r===1)throw r=Ma,Es(e,0),Rn(e,t),Gt(e,et()),r;if(r===6)throw Error(ee(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ys(e,$t,tn),Gt(e,et()),null}function Ig(e,t){var r=Ce;Ce|=1;try{return e(t)}finally{Ce=r,Ce===0&&(Jo=et()+500,Ou&&ss())}}function Fs(e){On!==null&&On.tag===0&&!(Ce&6)&&$o();var t=Ce;Ce|=1;var r=ur.transition,n=Ae;try{if(ur.transition=null,Ae=1,e)return e()}finally{Ae=n,ur.transition=r,Ce=t,!(Ce&6)&&ss()}}function Fg(){Ht=Eo.current,ze(Eo)}function Es(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,i3(r)),nt!==null)for(r=nt.return;r!==null;){var n=r;switch(xg(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Oc();break;case 3:Ko(),ze(Bt),ze(Nt),Cg();break;case 5:Ng(n);break;case 4:Ko();break;case 13:ze(He);break;case 19:ze(He);break;case 10:_g(n.type._context);break;case 22:case 23:Fg()}r=r.return}if(mt=e,nt=e=Wn(e.current,null),xt=Ht=t,ct=0,Ma=null,Lg=Uu=Is=0,$t=oa=null,ks!==null){for(t=0;t<ks.length;t++)if(r=ks[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,o=r.pending;if(o!==null){var a=o.next;o.next=s,n.next=a}r.pending=n}ks=null}return e}function U1(e,t){do{var r=nt;try{if(wg(),dc.current=qc,Gc){for(var n=Ye.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Gc=!1}if(Os=0,ft=lt=Ye=null,na=!1,Ta=0,Dg.current=null,r===null||r.return===null){ct=1,Ma=t,nt=null;break}e:{var o=e,a=r.return,l=r,c=t;if(t=xt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=gy(a);if(g!==null){g.flags&=-257,py(g,a,l,o,t),g.mode&1&&my(o,u,t),t=g,c=u;var x=t.updateQueue;if(x===null){var v=new Set;v.add(c),t.updateQueue=v}else x.add(c);break e}else{if(!(t&1)){my(o,u,t),$g();break e}c=Error(ee(426))}}else if(qe&&l.mode&1){var w=gy(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),py(w,a,l,o,t),vg(Yo(c,l));break e}}o=c=Yo(c,l),ct!==4&&(ct=2),oa===null?oa=[o]:oa.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var p=k1(o,c,t);ly(o,p);break e;case 1:l=c;var y=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Gn===null||!Gn.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t;var k=S1(o,l,t);ly(o,k);break e}}o=o.return}while(o!==null)}V1(r)}catch(_){t=_,nt===r&&r!==null&&(nt=r=r.return);continue}break}while(!0)}function z1(){var e=Wc.current;return Wc.current=qc,e===null?qc:e}function $g(){(ct===0||ct===3||ct===2)&&(ct=4),mt===null||!(Is&268435455)&&!(Uu&268435455)||Rn(mt,xt)}function Yc(e,t){var r=Ce;Ce|=2;var n=z1();(mt!==e||xt!==t)&&(tn=null,Es(e,t));do try{A3();break}catch(s){U1(e,s)}while(!0);if(wg(),Ce=r,Wc.current=n,nt!==null)throw Error(ee(261));return mt=null,xt=0,ct}function A3(){for(;nt!==null;)B1(nt)}function R3(){for(;nt!==null&&!nC();)B1(nt)}function B1(e){var t=q1(e.alternate,e,Ht);e.memoizedProps=e.pendingProps,t===null?V1(e):nt=t,Dg.current=null}function V1(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=j3(r,t),r!==null){r.flags&=32767,nt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ct=6,nt=null;return}}else if(r=S3(r,t,Ht),r!==null){nt=r;return}if(t=t.sibling,t!==null){nt=t;return}nt=t=e}while(t!==null);ct===0&&(ct=5)}function ys(e,t,r){var n=Ae,s=ur.transition;try{ur.transition=null,Ae=1,M3(e,t,r,n)}finally{ur.transition=s,Ae=n}return null}function M3(e,t,r,n){do $o();while(On!==null);if(Ce&6)throw Error(ee(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ee(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(hC(e,o),e===mt&&(nt=mt=null,xt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ol||(Ol=!0,W1(Tc,function(){return $o(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=ur.transition,ur.transition=null;var a=Ae;Ae=1;var l=Ce;Ce|=4,Dg.current=null,C3(e,r),I1(r,e),ZC(yh),Rc=!!ph,yh=ph=null,e.current=r,E3(r),sC(),Ce=l,Ae=a,ur.transition=o}else e.current=r;if(Ol&&(Ol=!1,On=e,Kc=s),o=e.pendingLanes,o===0&&(Gn=null),aC(r.stateNode),Gt(e,et()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Hc)throw Hc=!1,e=Ih,Ih=null,e;return Kc&1&&e.tag!==0&&$o(),o=e.pendingLanes,o&1?e===Fh?ia++:(ia=0,Fh=e):ia=0,ss(),null}function $o(){if(On!==null){var e=kw(Kc),t=ur.transition,r=Ae;try{if(ur.transition=null,Ae=16>e?16:e,On===null)var n=!1;else{if(e=On,On=null,Kc=0,Ce&6)throw Error(ee(331));var s=Ce;for(Ce|=4,ie=e.current;ie!==null;){var o=ie,a=o.child;if(ie.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ie=u;ie!==null;){var d=ie;switch(d.tag){case 0:case 11:case 15:sa(8,d,o)}var f=d.child;if(f!==null)f.return=d,ie=f;else for(;ie!==null;){d=ie;var m=d.sibling,g=d.return;if(D1(d),d===u){ie=null;break}if(m!==null){m.return=g,ie=m;break}ie=g}}}var x=o.alternate;if(x!==null){var v=x.child;if(v!==null){x.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}ie=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,ie=a;else e:for(;ie!==null;){if(o=ie,o.flags&2048)switch(o.tag){case 0:case 11:case 15:sa(9,o,o.return)}var p=o.sibling;if(p!==null){p.return=o.return,ie=p;break e}ie=o.return}}var y=e.current;for(ie=y;ie!==null;){a=ie;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,ie=b;else e:for(a=y;ie!==null;){if(l=ie,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:$u(9,l)}}catch(_){Qe(l,l.return,_)}if(l===a){ie=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,ie=k;break e}ie=l.return}}if(Ce=s,ss(),Vr&&typeof Vr.onPostCommitFiberRoot=="function")try{Vr.onPostCommitFiberRoot(Au,e)}catch{}n=!0}return n}finally{Ae=r,ur.transition=t}}return!1}function Py(e,t,r){t=Yo(r,t),t=k1(e,t,1),e=Vn(e,t,1),t=Mt(),e!==null&&(rl(e,1,t),Gt(e,t))}function Qe(e,t,r){if(e.tag===3)Py(e,e,r);else for(;t!==null;){if(t.tag===3){Py(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Gn===null||!Gn.has(n))){e=Yo(r,e),e=S1(t,e,1),t=Vn(t,e,1),e=Mt(),t!==null&&(rl(t,1,e),Gt(t,e));break}}t=t.return}}function D3(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Mt(),e.pingedLanes|=e.suspendedLanes&r,mt===e&&(xt&r)===r&&(ct===4||ct===3&&(xt&130023424)===xt&&500>et()-Og?Es(e,0):Lg|=r),Gt(e,t)}function G1(e,t){t===0&&(e.mode&1?(t=Nl,Nl<<=1,!(Nl&130023424)&&(Nl=4194304)):t=1);var r=Mt();e=fn(e,t),e!==null&&(rl(e,t,r),Gt(e,r))}function L3(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),G1(e,r)}function O3(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ee(314))}n!==null&&n.delete(t),G1(e,r)}var q1;q1=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Bt.current)zt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return zt=!1,k3(e,t,r);zt=!!(e.flags&131072)}else zt=!1,qe&&t.flags&1048576&&Yw(t,$c,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;hc(e,t),e=t.pendingProps;var s=qo(t,Nt.current);Fo(t,r),s=Pg(null,t,n,e,s,r);var o=Tg();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Vt(n)?(o=!0,Ic(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Sg(t),s.updater=Fu,t.stateNode=s,s._reactInternals=t,Nh(t,n,e,r),t=Ph(null,t,n,!0,o,r)):(t.tag=0,qe&&o&&yg(t),Tt(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(hc(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=F3(n),e=wr(n,e),s){case 0:t=Eh(null,t,n,e,r);break e;case 1:t=vy(null,t,n,e,r);break e;case 11:t=yy(null,t,n,e,r);break e;case 14:t=xy(null,t,n,wr(n.type,e),r);break e}throw Error(ee(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:wr(n,s),Eh(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:wr(n,s),vy(e,t,n,s,r);case 3:e:{if(E1(t),e===null)throw Error(ee(387));n=t.pendingProps,o=t.memoizedState,s=o.element,t1(e,t),Bc(t,n,null,r);var a=t.memoizedState;if(n=a.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Yo(Error(ee(423)),t),t=by(e,t,n,r,s);break e}else if(n!==s){s=Yo(Error(ee(424)),t),t=by(e,t,n,r,s);break e}else for(Yt=Bn(t.stateNode.containerInfo.firstChild),Jt=t,qe=!0,jr=null,r=Zw(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Wo(),n===s){t=hn(e,t,r);break e}Tt(e,t,n,r)}t=t.child}return t;case 5:return r1(t),e===null&&kh(t),n=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,a=s.children,xh(n,s)?a=null:o!==null&&xh(n,o)&&(t.flags|=32),C1(e,t),Tt(e,t,a,r),t.child;case 6:return e===null&&kh(t),null;case 13:return P1(e,t,r);case 4:return jg(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ho(t,null,n,r):Tt(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:wr(n,s),yy(e,t,n,s,r);case 7:return Tt(e,t,t.pendingProps,r),t.child;case 8:return Tt(e,t,t.pendingProps.children,r),t.child;case 12:return Tt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,o=t.memoizedProps,a=s.value,Ie(Uc,n._currentValue),n._currentValue=a,o!==null)if(Pr(o.value,a)){if(o.children===s.children&&!Bt.current){t=hn(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){a=o.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=an(-1,r&-r),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),Sh(o.return,r,t),l.lanes|=r;break}c=c.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(ee(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),Sh(a,r,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Tt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Fo(t,r),s=gr(s),n=n(s),t.flags|=1,Tt(e,t,n,r),t.child;case 14:return n=t.type,s=wr(n,t.pendingProps),s=wr(n.type,s),xy(e,t,n,s,r);case 15:return j1(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:wr(n,s),hc(e,t),t.tag=1,Vt(n)?(e=!0,Ic(t)):e=!1,Fo(t,r),_1(t,n,s),Nh(t,n,s,r),Ph(null,t,n,!0,e,r);case 19:return T1(e,t,r);case 22:return N1(e,t,r)}throw Error(ee(156,t.tag))};function W1(e,t){return vw(e,t)}function I3(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cr(e,t,r,n){return new I3(e,t,r,n)}function Ug(e){return e=e.prototype,!(!e||!e.isReactComponent)}function F3(e){if(typeof e=="function")return Ug(e)?1:0;if(e!=null){if(e=e.$$typeof,e===og)return 11;if(e===ig)return 14}return 2}function Wn(e,t){var r=e.alternate;return r===null?(r=cr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function pc(e,t,r,n,s,o){var a=2;if(n=e,typeof e=="function")Ug(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case xo:return Ps(r.children,s,o,t);case sg:a=8,s|=8;break;case Jf:return e=cr(12,r,t,s|2),e.elementType=Jf,e.lanes=o,e;case Xf:return e=cr(13,r,t,s),e.elementType=Xf,e.lanes=o,e;case Qf:return e=cr(19,r,t,s),e.elementType=Qf,e.lanes=o,e;case rw:return zu(r,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ew:a=10;break e;case tw:a=9;break e;case og:a=11;break e;case ig:a=14;break e;case En:a=16,n=null;break e}throw Error(ee(130,e==null?e:typeof e,""))}return t=cr(a,r,t,s),t.elementType=e,t.type=n,t.lanes=o,t}function Ps(e,t,r,n){return e=cr(7,e,n,t),e.lanes=r,e}function zu(e,t,r,n){return e=cr(22,e,n,t),e.elementType=rw,e.lanes=r,e.stateNode={isHidden:!1},e}function ef(e,t,r){return e=cr(6,e,null,t),e.lanes=r,e}function tf(e,t,r){return t=cr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $3(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ld(0),this.expirationTimes=Ld(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ld(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function zg(e,t,r,n,s,o,a,l,c){return e=new $3(e,t,r,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=cr(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sg(o),e}function U3(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yo,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function H1(e){if(!e)return Jn;e=e._reactInternals;e:{if(qs(e)!==e||e.tag!==1)throw Error(ee(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Vt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ee(171))}if(e.tag===1){var r=e.type;if(Vt(r))return Hw(e,r,t)}return t}function K1(e,t,r,n,s,o,a,l,c){return e=zg(r,n,!0,e,s,o,a,l,c),e.context=H1(null),r=e.current,n=Mt(),s=qn(r),o=an(n,s),o.callback=t??null,Vn(r,o,s),e.current.lanes=s,rl(e,s,n),Gt(e,n),e}function Bu(e,t,r,n){var s=t.current,o=Mt(),a=qn(s);return r=H1(r),t.context===null?t.context=r:t.pendingContext=r,t=an(o,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Vn(s,t,a),e!==null&&(Er(e,s,a,o),uc(e,s,a)),a}function Jc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ty(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Bg(e,t){Ty(e,t),(e=e.alternate)&&Ty(e,t)}function z3(){return null}var Y1=typeof reportError=="function"?reportError:function(e){console.error(e)};function Vg(e){this._internalRoot=e}Vu.prototype.render=Vg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ee(409));Bu(e,t,null,null)};Vu.prototype.unmount=Vg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Fs(function(){Bu(null,e,null,null)}),t[dn]=null}};function Vu(e){this._internalRoot=e}Vu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nw();e={blockedOn:null,target:e,priority:t};for(var r=0;r<An.length&&t!==0&&t<An[r].priority;r++);An.splice(r,0,e),r===0&&Ew(e)}};function Gg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Gu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ay(){}function B3(e,t,r,n,s){if(s){if(typeof n=="function"){var o=n;n=function(){var u=Jc(a);o.call(u)}}var a=K1(t,n,e,0,null,!1,!1,"",Ay);return e._reactRootContainer=a,e[dn]=a.current,ja(e.nodeType===8?e.parentNode:e),Fs(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Jc(c);l.call(u)}}var c=zg(e,0,!1,null,null,!1,!1,"",Ay);return e._reactRootContainer=c,e[dn]=c.current,ja(e.nodeType===8?e.parentNode:e),Fs(function(){Bu(t,c,r,n)}),c}function qu(e,t,r,n,s){var o=r._reactRootContainer;if(o){var a=o;if(typeof s=="function"){var l=s;s=function(){var c=Jc(a);l.call(c)}}Bu(t,a,e,s)}else a=B3(r,t,e,s,n);return Jc(a)}Sw=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Gi(t.pendingLanes);r!==0&&(cg(t,r|1),Gt(t,et()),!(Ce&6)&&(Jo=et()+500,ss()))}break;case 13:Fs(function(){var n=fn(e,1);if(n!==null){var s=Mt();Er(n,e,1,s)}}),Bg(e,1)}};ug=function(e){if(e.tag===13){var t=fn(e,134217728);if(t!==null){var r=Mt();Er(t,e,134217728,r)}Bg(e,134217728)}};jw=function(e){if(e.tag===13){var t=qn(e),r=fn(e,t);if(r!==null){var n=Mt();Er(r,e,t,n)}Bg(e,t)}};Nw=function(){return Ae};Cw=function(e,t){var r=Ae;try{return Ae=e,t()}finally{Ae=r}};lh=function(e,t,r){switch(t){case"input":if(th(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Lu(n);if(!s)throw Error(ee(90));sw(n),th(n,s)}}}break;case"textarea":iw(e,r);break;case"select":t=r.value,t!=null&&Do(e,!!r.multiple,t,!1)}};hw=Ig;mw=Fs;var V3={usingClientEntryPoint:!1,Events:[sl,_o,Lu,dw,fw,Ig]},Mi={findFiberByHostInstance:_s,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},G3={bundleType:Mi.bundleType,version:Mi.version,rendererPackageName:Mi.rendererPackageName,rendererConfig:Mi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=yw(e),e===null?null:e.stateNode},findFiberByHostInstance:Mi.findFiberByHostInstance||z3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Il.isDisabled&&Il.supportsFiber)try{Au=Il.inject(G3),Vr=Il}catch{}}er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V3;er.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gg(t))throw Error(ee(200));return U3(e,t,null,r)};er.createRoot=function(e,t){if(!Gg(e))throw Error(ee(299));var r=!1,n="",s=Y1;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=zg(e,1,!1,null,null,r,!1,n,s),e[dn]=t.current,ja(e.nodeType===8?e.parentNode:e),new Vg(t)};er.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ee(188)):(e=Object.keys(e).join(","),Error(ee(268,e)));return e=yw(t),e=e===null?null:e.stateNode,e};er.flushSync=function(e){return Fs(e)};er.hydrate=function(e,t,r){if(!Gu(t))throw Error(ee(200));return qu(null,e,t,!0,r)};er.hydrateRoot=function(e,t,r){if(!Gg(e))throw Error(ee(405));var n=r!=null&&r.hydratedSources||null,s=!1,o="",a=Y1;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=K1(t,null,e,1,r??null,s,!1,o,a),e[dn]=t.current,ja(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Vu(t)};er.render=function(e,t,r){if(!Gu(t))throw Error(ee(200));return qu(null,e,t,!1,r)};er.unmountComponentAtNode=function(e){if(!Gu(e))throw Error(ee(40));return e._reactRootContainer?(Fs(function(){qu(null,null,e,!1,function(){e._reactRootContainer=null,e[dn]=null})}),!0):!1};er.unstable_batchedUpdates=Ig;er.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Gu(r))throw Error(ee(200));if(e==null||e._reactInternals===void 0)throw Error(ee(38));return qu(e,t,r,!1,n)};er.version="18.3.1-next-f1338f8080-20240426";function J1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(J1)}catch(e){console.error(e)}}J1(),Jb.exports=er;var ui=Jb.exports;const q3=Ib(ui);var X1,Ry=ui;X1=Ry.createRoot,Ry.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Da(){return Da=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Da.apply(this,arguments)}var In;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(In||(In={}));const My="popstate";function W3(e){e===void 0&&(e={});function t(n,s){let{pathname:o,search:a,hash:l}=n.location;return zh("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Xc(s)}return K3(t,r,null,e)}function tt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Q1(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function H3(){return Math.random().toString(36).substr(2,8)}function Dy(e,t){return{usr:e.state,key:e.key,idx:t}}function zh(e,t,r,n){return r===void 0&&(r=null),Da({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?di(t):t,{state:r,key:t&&t.key||n||H3()})}function Xc(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function di(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function K3(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:o=!1}=n,a=s.history,l=In.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(Da({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function f(){l=In.Pop;let w=d(),p=w==null?null:w-u;u=w,c&&c({action:l,location:v.location,delta:p})}function m(w,p){l=In.Push;let y=zh(v.location,w,p);u=d()+1;let b=Dy(y,u),k=v.createHref(y);try{a.pushState(b,"",k)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(k)}o&&c&&c({action:l,location:v.location,delta:1})}function g(w,p){l=In.Replace;let y=zh(v.location,w,p);u=d();let b=Dy(y,u),k=v.createHref(y);a.replaceState(b,"",k),o&&c&&c({action:l,location:v.location,delta:0})}function x(w){let p=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof w=="string"?w:Xc(w);return y=y.replace(/ $/,"%20"),tt(p,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,p)}let v={get action(){return l},get location(){return e(s,a)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(My,f),c=w,()=>{s.removeEventListener(My,f),c=null}},createHref(w){return t(s,w)},createURL:x,encodeLocation(w){let p=x(w);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:m,replace:g,go(w){return a.go(w)}};return v}var Ly;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ly||(Ly={}));function Y3(e,t,r){return r===void 0&&(r="/"),J3(e,t,r)}function J3(e,t,r,n){let s=typeof t=="string"?di(t):t,o=qg(s.pathname||"/",r);if(o==null)return null;let a=Z1(e);X3(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=cE(o);l=iE(a[c],u)}return l}function Z1(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(o,a,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};c.relativePath.startsWith("/")&&(tt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Hn([n,c.relativePath]),d=r.concat(c);o.children&&o.children.length>0&&(tt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Z1(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:sE(u,o.index),routesMeta:d})};return e.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,a);else for(let c of e2(o.path))s(o,a,c)}),t}function e2(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let a=e2(n.join("/")),l=[];return l.push(...a.map(c=>c===""?o:[o,c].join("/"))),s&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function X3(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:oE(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Q3=/^:[\w-]+$/,Z3=3,eE=2,tE=1,rE=10,nE=-2,Oy=e=>e==="*";function sE(e,t){let r=e.split("/"),n=r.length;return r.some(Oy)&&(n+=nE),t&&(n+=eE),r.filter(s=>!Oy(s)).reduce((s,o)=>s+(Q3.test(o)?Z3:o===""?tE:rE),n)}function oE(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function iE(e,t,r){let{routesMeta:n}=e,s={},o="/",a=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=aE({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f)return null;Object.assign(s,f.params),a.push({params:s,pathname:Hn([o,f.pathname]),pathnameBase:hE(Hn([o,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(o=Hn([o,f.pathnameBase]))}return a}function aE(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=lE(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let o=s[0],a=o.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:m,isOptional:g}=d;if(m==="*"){let v=l[f]||"";a=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const x=l[f];return g&&!x?u[m]=void 0:u[m]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:e}}function lE(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Q1(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function cE(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Q1(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function qg(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function uE(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?di(e):e;return{pathname:r?r.startsWith("/")?r:dE(r,t):t,search:mE(n),hash:gE(s)}}function dE(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function rf(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function fE(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Wg(e,t){let r=fE(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Hg(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=di(e):(s=Da({},e),tt(!s.pathname||!s.pathname.includes("?"),rf("?","pathname","search",s)),tt(!s.pathname||!s.pathname.includes("#"),rf("#","pathname","hash",s)),tt(!s.search||!s.search.includes("#"),rf("#","search","hash",s)));let o=e===""||s.pathname==="",a=o?"/":s.pathname,l;if(a==null)l=r;else{let f=t.length-1;if(!n&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=uE(s,l),u=a&&a!=="/"&&a.endsWith("/"),d=(o||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Hn=e=>e.join("/").replace(/\/\/+/g,"/"),hE=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),mE=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,gE=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function pE(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const t2=["post","put","patch","delete"];new Set(t2);const yE=["get",...t2];new Set(yE);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function La(){return La=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},La.apply(this,arguments)}const Kg=h.createContext(null),xE=h.createContext(null),os=h.createContext(null),Wu=h.createContext(null),Xr=h.createContext({outlet:null,matches:[],isDataRoute:!1}),r2=h.createContext(null);function vE(e,t){let{relative:r}=t===void 0?{}:t;fi()||tt(!1);let{basename:n,navigator:s}=h.useContext(os),{hash:o,pathname:a,search:l}=s2(e,{relative:r}),c=a;return n!=="/"&&(c=a==="/"?n:Hn([n,a])),s.createHref({pathname:c,search:l,hash:o})}function fi(){return h.useContext(Wu)!=null}function rr(){return fi()||tt(!1),h.useContext(Wu).location}function n2(e){h.useContext(os).static||h.useLayoutEffect(e)}function st(){let{isDataRoute:e}=h.useContext(Xr);return e?DE():bE()}function bE(){fi()||tt(!1);let e=h.useContext(Kg),{basename:t,future:r,navigator:n}=h.useContext(os),{matches:s}=h.useContext(Xr),{pathname:o}=rr(),a=JSON.stringify(Wg(s,r.v7_relativeSplatPath)),l=h.useRef(!1);return n2(()=>{l.current=!0}),h.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=Hg(u,JSON.parse(a),o,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Hn([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,a,o,e])}const wE=h.createContext(null);function _E(e){let t=h.useContext(Xr).outlet;return t&&h.createElement(wE.Provider,{value:e},t)}function Hu(){let{matches:e}=h.useContext(Xr),t=e[e.length-1];return t?t.params:{}}function s2(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=h.useContext(os),{matches:s}=h.useContext(Xr),{pathname:o}=rr(),a=JSON.stringify(Wg(s,n.v7_relativeSplatPath));return h.useMemo(()=>Hg(e,JSON.parse(a),o,r==="path"),[e,a,o,r])}function kE(e,t){return SE(e,t)}function SE(e,t,r,n){fi()||tt(!1);let{navigator:s,static:o}=h.useContext(os),{matches:a}=h.useContext(Xr),l=a[a.length-1],c=l?l.params:{};l&&l.pathname;let u=l?l.pathnameBase:"/";l&&l.route;let d=rr(),f;if(t){var m;let p=typeof t=="string"?di(t):t;u==="/"||(m=p.pathname)!=null&&m.startsWith(u)||tt(!1),f=p}else f=d;let g=f.pathname||"/",x=g;if(u!=="/"){let p=u.replace(/^\//,"").split("/");x="/"+g.replace(/^\//,"").split("/").slice(p.length).join("/")}let v=Y3(e,{pathname:x}),w=PE(v&&v.map(p=>Object.assign({},p,{params:Object.assign({},c,p.params),pathname:Hn([u,s.encodeLocation?s.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?u:Hn([u,s.encodeLocation?s.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),a,r,n);return t&&w?h.createElement(Wu.Provider,{value:{location:La({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:In.Pop}},w):w}function jE(){let e=ME(),t=pE(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),r?h.createElement("pre",{style:s},r):null,null)}const NE=h.createElement(jE,null);class CE extends h.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?h.createElement(Xr.Provider,{value:this.props.routeContext},h.createElement(r2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function EE(e){let{routeContext:t,match:r,children:n}=e,s=h.useContext(Kg);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),h.createElement(Xr.Provider,{value:t},n)}function PE(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var o;if(!r)return null;if(r.errors)e=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=a.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||tt(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:g}=r,x=f.route.loader&&m[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||x){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,f,m)=>{let g,x=!1,v=null,w=null;r&&(g=l&&f.route.id?l[f.route.id]:void 0,v=f.route.errorElement||NE,c&&(u<0&&m===0?(LE("route-fallback"),x=!0,w=null):u===m&&(x=!0,w=f.route.hydrateFallbackElement||null)));let p=t.concat(a.slice(0,m+1)),y=()=>{let b;return g?b=v:x?b=w:f.route.Component?b=h.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,h.createElement(EE,{match:f,routeContext:{outlet:d,matches:p,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?h.createElement(CE,{location:r.location,revalidation:r.revalidation,component:v,error:g,children:y(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):y()},null)}var o2=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(o2||{}),i2=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(i2||{});function TE(e){let t=h.useContext(Kg);return t||tt(!1),t}function AE(e){let t=h.useContext(xE);return t||tt(!1),t}function RE(e){let t=h.useContext(Xr);return t||tt(!1),t}function a2(e){let t=RE(),r=t.matches[t.matches.length-1];return r.route.id||tt(!1),r.route.id}function ME(){var e;let t=h.useContext(r2),r=AE(),n=a2();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function DE(){let{router:e}=TE(o2.UseNavigateStable),t=a2(i2.UseNavigateStable),r=h.useRef(!1);return n2(()=>{r.current=!0}),h.useCallback(function(s,o){o===void 0&&(o={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,La({fromRouteId:t},o)))},[e,t])}const Iy={};function LE(e,t,r){Iy[e]||(Iy[e]=!0)}function OE(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function aa(e){let{to:t,replace:r,state:n,relative:s}=e;fi()||tt(!1);let{future:o,static:a}=h.useContext(os),{matches:l}=h.useContext(Xr),{pathname:c}=rr(),u=st(),d=Hg(t,Wg(l,o.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return h.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:s}),[u,f,s,r,n]),null}function IE(e){return _E(e.context)}function Me(e){tt(!1)}function FE(e){let{basename:t="/",children:r=null,location:n,navigationType:s=In.Pop,navigator:o,static:a=!1,future:l}=e;fi()&&tt(!1);let c=t.replace(/^\/*/,"/"),u=h.useMemo(()=>({basename:c,navigator:o,static:a,future:La({v7_relativeSplatPath:!1},l)}),[c,l,o,a]);typeof n=="string"&&(n=di(n));let{pathname:d="/",search:f="",hash:m="",state:g=null,key:x="default"}=n,v=h.useMemo(()=>{let w=qg(d,c);return w==null?null:{location:{pathname:w,search:f,hash:m,state:g,key:x},navigationType:s}},[c,d,f,m,g,x,s]);return v==null?null:h.createElement(os.Provider,{value:u},h.createElement(Wu.Provider,{children:r,value:v}))}function $E(e){let{children:t,location:r}=e;return kE(Bh(t),r)}new Promise(()=>{});function Bh(e,t){t===void 0&&(t=[]);let r=[];return h.Children.forEach(e,(n,s)=>{if(!h.isValidElement(n))return;let o=[...t,s];if(n.type===h.Fragment){r.push.apply(r,Bh(n.props.children,o));return}n.type!==Me&&tt(!1),!n.props.index||!n.props.children||tt(!1);let a={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Bh(n.props.children,o)),r.push(a)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vh(){return Vh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vh.apply(this,arguments)}function UE(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,o;for(o=0;o<n.length;o++)s=n[o],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function zE(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function BE(e,t){return e.button===0&&(!t||t==="_self")&&!zE(e)}const VE=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],GE="6";try{window.__reactRouterVersion=GE}catch{}const qE="startTransition",Fy=Kb[qE];function WE(e){let{basename:t,children:r,future:n,window:s}=e,o=h.useRef();o.current==null&&(o.current=W3({window:s,v5Compat:!0}));let a=o.current,[l,c]=h.useState({action:a.action,location:a.location}),{v7_startTransition:u}=n||{},d=h.useCallback(f=>{u&&Fy?Fy(()=>c(f)):c(f)},[c,u]);return h.useLayoutEffect(()=>a.listen(d),[a,d]),h.useEffect(()=>OE(n),[n]),h.createElement(FE,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:a,future:n})}const HE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",KE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,be=h.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:o,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,m=UE(t,VE),{basename:g}=h.useContext(os),x,v=!1;if(typeof u=="string"&&KE.test(u)&&(x=u,HE))try{let b=new URL(window.location.href),k=u.startsWith("//")?new URL(b.protocol+u):new URL(u),_=qg(k.pathname,g);k.origin===b.origin&&_!=null?u=_+k.search+k.hash:v=!0}catch{}let w=vE(u,{relative:s}),p=YE(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function y(b){n&&n(b),b.defaultPrevented||p(b)}return h.createElement("a",Vh({},m,{href:x||w,onClick:v||o?n:y,ref:r,target:c}))});var $y;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})($y||($y={}));var Uy;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Uy||(Uy={}));function YE(e,t){let{target:r,replace:n,state:s,preventScrollReset:o,relative:a,viewTransition:l}=t===void 0?{}:t,c=st(),u=rr(),d=s2(e,{relative:a});return h.useCallback(f=>{if(BE(f,r)){f.preventDefault();let m=n!==void 0?n:Xc(u)===Xc(d);c(e,{replace:m,state:s,preventScrollReset:o,relative:a,viewTransition:l})}},[u,c,d,n,s,r,e,o,a,l])}function JE(){if(console&&console.warn){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];typeof t[0]=="string"&&(t[0]=`react-i18next:: ${t[0]}`),console.warn(...t)}}const zy={};function Gh(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];typeof t[0]=="string"&&zy[t[0]]||(typeof t[0]=="string"&&(zy[t[0]]=new Date),JE(...t))}const l2=(e,t)=>()=>{if(e.isInitialized)t();else{const r=()=>{setTimeout(()=>{e.off("initialized",r)},0),t()};e.on("initialized",r)}};function By(e,t,r){e.loadNamespaces(t,l2(e,r))}function Vy(e,t,r,n){typeof r=="string"&&(r=[r]),r.forEach(s=>{e.options.ns.indexOf(s)<0&&e.options.ns.push(s)}),e.loadLanguages(t,l2(e,n))}function XE(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n=t.languages[0],s=t.options?t.options.fallbackLng:!1,o=t.languages[t.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const a=(l,c)=>{const u=t.services.backendConnector.state[`${l}|${c}`];return u===-1||u===2};return r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!a(t.isLanguageChangingTo,e)?!1:!!(t.hasResourceBundle(n,e)||!t.services.backendConnector.backend||t.options.resources&&!t.options.partialBundledLanguages||a(n,e)&&(!s||a(o,e)))}function QE(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!t.languages||!t.languages.length?(Gh("i18n.languages were undefined or empty",t.languages),!0):t.options.ignoreJSONStructure!==void 0?t.hasLoadedNamespace(e,{lng:r.lng,precheck:(s,o)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!o(s.isLanguageChangingTo,e))return!1}}):XE(e,t,r)}const ZE=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,e5={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},t5=e=>e5[e],r5=e=>e.replace(ZE,t5);let qh={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:r5};function n5(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};qh={...qh,...e}}function s5(){return qh}let c2;function o5(e){c2=e}function i5(){return c2}const a5={type:"3rdParty",init(e){n5(e.options.react),o5(e)}},l5=h.createContext();class c5{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const u5=(e,t)=>{const r=h.useRef();return h.useEffect(()=>{r.current=e},[e,t]),r.current};function Rr(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:r}=t,{i18n:n,defaultNS:s}=h.useContext(l5)||{},o=r||n||i5();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new c5),!o){Gh("You will need to pass in an i18next instance by using initReactI18next");const b=(_,j)=>typeof j=="string"?j:j&&typeof j=="object"&&typeof j.defaultValue=="string"?j.defaultValue:Array.isArray(_)?_[_.length-1]:_,k=[b,{},!1];return k.t=b,k.i18n={},k.ready=!1,k}o.options.react&&o.options.react.wait!==void 0&&Gh("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const a={...s5(),...o.options.react,...t},{useSuspense:l,keyPrefix:c}=a;let u=s||o.options&&o.options.defaultNS;u=typeof u=="string"?[u]:u||["translation"],o.reportNamespaces.addUsedNamespaces&&o.reportNamespaces.addUsedNamespaces(u);const d=(o.isInitialized||o.initializedStoreOnce)&&u.every(b=>QE(b,o,a));function f(){return o.getFixedT(t.lng||null,a.nsMode==="fallback"?u:u[0],c)}const[m,g]=h.useState(f);let x=u.join();t.lng&&(x=`${t.lng}${x}`);const v=u5(x),w=h.useRef(!0);h.useEffect(()=>{const{bindI18n:b,bindI18nStore:k}=a;w.current=!0,!d&&!l&&(t.lng?Vy(o,t.lng,u,()=>{w.current&&g(f)}):By(o,u,()=>{w.current&&g(f)})),d&&v&&v!==x&&w.current&&g(f);function _(){w.current&&g(f)}return b&&o&&o.on(b,_),k&&o&&o.store.on(k,_),()=>{w.current=!1,b&&o&&b.split(" ").forEach(j=>o.off(j,_)),k&&o&&k.split(" ").forEach(j=>o.store.off(j,_))}},[o,x]);const p=h.useRef(!0);h.useEffect(()=>{w.current&&!p.current&&g(f),p.current=!1},[o,c]);const y=[m,o,d];if(y.t=m,y.i18n=o,y.ready=d,d||!d&&!l)return y;throw new Promise(b=>{t.lng?Vy(o,t.lng,u,()=>b()):By(o,u,()=>b())})}const u2="http://localhost:3005",d5="/health",f5="/google-translate",h5=`${u2}${d5}`,m5=`${u2}${f5}`;let ir=!0,Qc=0;const Yg=6e4;let fs=0;const nf=3;async function d2(e,t={},r=2e3){const n=new AbortController,s=setTimeout(()=>n.abort(),r);try{const o=await fetch(e,{...t,signal:n.signal});return clearTimeout(s),o}catch(o){throw clearTimeout(s),o}}async function Oa(e=1,t=1e3){if(fs>=nf)return ir=!0,!1;if(ir&&Date.now()-Qc<Yg)return!1;let r=0;for(Qc=Date.now();r<e;)try{const n=await d2(h5,{headers:{"Cache-Control":"no-cache"}},1e3);if(n.ok)return ir&&(console.log("Translation service reconnected and re-enabled"),ir=!1,fs=0),!0;console.warn(`Translation server health check failed (attempt ${r+1}/${e}): ${n.status}`),r++,fs++,r<e&&fs<nf?await new Promise(s=>setTimeout(s,t)):ir=!0}catch(n){const s=n instanceof Error?n.message:"Unknown error";console.error(`Translation server connection error (attempt ${r+1}/${e}): ${s}`),r++,fs++,r<e&&fs<nf?await new Promise(o=>setTimeout(o,t)):ir=!0}return ir=!0,console.log(`Translation service disabled due to connection issues (total attempts: ${fs})`),!1}const Gy={EN:"en",RU:"ru",KK:"kk",TR:"tr"};async function qy(e,t,r="EN"){if(t==="EN"||!e||e.trim()===""||ir)return e;try{if(Date.now()-Qc>Yg&&!await Oa(1,500))return e;try{const s=await d2(m5,{method:"POST",headers:{"Content-Type":"application/json","Cache-Control":"no-cache",Accept:"application/json"},mode:"cors",credentials:"omit",body:JSON.stringify({text:e,target:Gy[t]||t.toLowerCase(),source:Gy[r]||r.toLowerCase()})},5e3);if(!s.ok)return console.error("Translation API error:",s.status,s.statusText),e;const o=await s.json();return o.translatedText?o.translatedText:o.translations&&o.translations.length>0?o.translations[0].translatedText:(console.warn("Translation returned unexpected format:",o),e)}catch(s){const o=s instanceof Error?s.message:"Unknown error";return console.error(`Translation request error: ${o}`),e}}catch(n){const s=n instanceof Error?n.message:"Unknown error";return console.error(`Translation health check error: ${s}`),ir=!0,e}}async function Wh(e,t,r="EN"){if(!e||e.length===0)return[];if(t==="EN"||ir)return e;try{if(e.length===1)return[await qy(e[0],t,r)];if(Date.now()-Qc>Yg&&!await Oa(1,500))return e;try{const o=[...e];for(let a=0;a<e.length;a+=10){const c=e.slice(a,a+10).map(d=>qy(d,t,r).catch(f=>(console.error(`Error translating batch item: ${f}`),d))),u=await Promise.all(c);for(let d=0;d<u.length;d++)o[a+d]=u[d]}return o}catch(s){return console.error("Batch translation error:",s),e}}catch(n){return console.error("Translation batch processing error:",n),e}}let g5={data:""},p5=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||g5,y5=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,x5=/\/\*[^]*?\*\/|  +/g,Wy=/\n+/g,Mn=(e,t)=>{let r="",n="",s="";for(let o in e){let a=e[o];o[0]=="@"?o[1]=="i"?r=o+" "+a+";":n+=o[1]=="f"?Mn(a,o):o+"{"+Mn(a,o[1]=="k"?"":t)+"}":typeof a=="object"?n+=Mn(a,t?t.replace(/([^,])+/g,l=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):o):a!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Mn.p?Mn.p(o,a):o+":"+a+";")}return r+(t&&s?t+"{"+s+"}":s)+n},Zr={},f2=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+f2(e[r]);return t}return e},v5=(e,t,r,n,s)=>{let o=f2(e),a=Zr[o]||(Zr[o]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(o));if(!Zr[a]){let c=o!==e?e:(u=>{let d,f,m=[{}];for(;d=y5.exec(u.replace(x5,""));)d[4]?m.shift():d[3]?(f=d[3].replace(Wy," ").trim(),m.unshift(m[0][f]=m[0][f]||{})):m[0][d[1]]=d[2].replace(Wy," ").trim();return m[0]})(e);Zr[a]=Mn(s?{["@keyframes "+a]:c}:c,r?"":"."+a)}let l=r&&Zr.g?Zr.g:null;return r&&(Zr.g=Zr[a]),((c,u,d,f)=>{f?u.data=u.data.replace(f,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(Zr[a],t,n,l),a},b5=(e,t,r)=>e.reduce((n,s,o)=>{let a=t[o];if(a&&a.call){let l=a(r),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;a=c?"."+c:l&&typeof l=="object"?l.props?"":Mn(l,""):l===!1?"":l}return n+s+(a??"")},"");function Ku(e){let t=this||{},r=e.call?e(t.p):e;return v5(r.unshift?r.raw?b5(r,[].slice.call(arguments,1),t.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(t.p):s),{}):r,p5(t.target),t.g,t.o,t.k)}let h2,Hh,Kh;Ku.bind({g:1});let mn=Ku.bind({k:1});function w5(e,t,r,n){Mn.p=t,h2=e,Hh=r,Kh=n}function is(e,t){let r=this||{};return function(){let n=arguments;function s(o,a){let l=Object.assign({},o),c=l.className||s.className;r.p=Object.assign({theme:Hh&&Hh()},l),r.o=/ *go\d+/.test(c),l.className=Ku.apply(r,n)+(c?" "+c:"");let u=e;return e[0]&&(u=l.as||e,delete l.as),Kh&&u[0]&&Kh(l),h2(u,l)}return s}}var _5=e=>typeof e=="function",Zc=(e,t)=>_5(e)?e(t):e,k5=(()=>{let e=0;return()=>(++e).toString()})(),m2=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),S5=20,g2=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,S5)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:r}=t;return g2(e,{type:e.toasts.find(o=>o.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map(o=>o.id===n||n===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let s=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+s}))}}},yc=[],js={toasts:[],pausedAt:void 0},Ws=e=>{js=g2(js,e),yc.forEach(t=>{t(js)})},j5={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},N5=(e={})=>{let[t,r]=h.useState(js),n=h.useRef(js);h.useEffect(()=>(n.current!==js&&r(js),yc.push(r),()=>{let o=yc.indexOf(r);o>-1&&yc.splice(o,1)}),[]);let s=t.toasts.map(o=>{var a,l,c;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((a=e[o.type])==null?void 0:a.removeDelay)||(e==null?void 0:e.removeDelay),duration:o.duration||((l=e[o.type])==null?void 0:l.duration)||(e==null?void 0:e.duration)||j5[o.type],style:{...e.style,...(c=e[o.type])==null?void 0:c.style,...o.style}}});return{...t,toasts:s}},C5=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||k5()}),il=e=>(t,r)=>{let n=C5(t,e,r);return Ws({type:2,toast:n}),n.id},q=(e,t)=>il("blank")(e,t);q.error=il("error");q.success=il("success");q.loading=il("loading");q.custom=il("custom");q.dismiss=e=>{Ws({type:3,toastId:e})};q.remove=e=>Ws({type:4,toastId:e});q.promise=(e,t,r)=>{let n=q.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let o=t.success?Zc(t.success,s):void 0;return o?q.success(o,{id:n,...r,...r==null?void 0:r.success}):q.dismiss(n),s}).catch(s=>{let o=t.error?Zc(t.error,s):void 0;o?q.error(o,{id:n,...r,...r==null?void 0:r.error}):q.dismiss(n)}),e};var E5=(e,t)=>{Ws({type:1,toast:{id:e,height:t}})},P5=()=>{Ws({type:5,time:Date.now()})},la=new Map,T5=1e3,A5=(e,t=T5)=>{if(la.has(e))return;let r=setTimeout(()=>{la.delete(e),Ws({type:4,toastId:e})},t);la.set(e,r)},R5=e=>{let{toasts:t,pausedAt:r}=N5(e);h.useEffect(()=>{if(r)return;let o=Date.now(),a=t.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(o-l.createdAt);if(c<0){l.visible&&q.dismiss(l.id);return}return setTimeout(()=>q.dismiss(l.id),c)});return()=>{a.forEach(l=>l&&clearTimeout(l))}},[t,r]);let n=h.useCallback(()=>{r&&Ws({type:6,time:Date.now()})},[r]),s=h.useCallback((o,a)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:u}=a||{},d=t.filter(g=>(g.position||u)===(o.position||u)&&g.height),f=d.findIndex(g=>g.id===o.id),m=d.filter((g,x)=>x<f&&g.visible).length;return d.filter(g=>g.visible).slice(...l?[m+1]:[0,m]).reduce((g,x)=>g+(x.height||0)+c,0)},[t]);return h.useEffect(()=>{t.forEach(o=>{if(o.dismissed)A5(o.id,o.removeDelay);else{let a=la.get(o.id);a&&(clearTimeout(a),la.delete(o.id))}})},[t]),{toasts:t,handlers:{updateHeight:E5,startPause:P5,endPause:n,calculateOffset:s}}},M5=mn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,D5=mn`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,L5=mn`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,O5=is("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${M5} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${D5} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${L5} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,I5=mn`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,F5=is("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${I5} 1s linear infinite;
`,$5=mn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,U5=mn`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,z5=is("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${$5} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${U5} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,B5=is("div")`
  position: absolute;
`,V5=is("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,G5=mn`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,q5=is("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${G5} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,W5=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?h.createElement(q5,null,t):t:r==="blank"?null:h.createElement(V5,null,h.createElement(F5,{...n}),r!=="loading"&&h.createElement(B5,null,r==="error"?h.createElement(O5,{...n}):h.createElement(z5,{...n})))},H5=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,K5=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,Y5="0%{opacity:0;} 100%{opacity:1;}",J5="0%{opacity:1;} 100%{opacity:0;}",X5=is("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Q5=is("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Z5=(e,t)=>{let r=e.includes("top")?1:-1,[n,s]=m2()?[Y5,J5]:[H5(r),K5(r)];return{animation:t?`${mn(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${mn(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},eP=h.memo(({toast:e,position:t,style:r,children:n})=>{let s=e.height?Z5(e.position||t||"top-center",e.visible):{opacity:0},o=h.createElement(W5,{toast:e}),a=h.createElement(Q5,{...e.ariaProps},Zc(e.message,e));return h.createElement(X5,{className:e.className,style:{...s,...r,...e.style}},typeof n=="function"?n({icon:o,message:a}):h.createElement(h.Fragment,null,o,a))});w5(h.createElement);var tP=({id:e,className:t,style:r,onHeightUpdate:n,children:s})=>{let o=h.useCallback(a=>{if(a){let l=()=>{let c=a.getBoundingClientRect().height;n(e,c)};l(),new MutationObserver(l).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return h.createElement("div",{ref:o,className:t,style:r},s)},rP=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:m2()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...s}},nP=Ku`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Fl=16,sP=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:s,containerStyle:o,containerClassName:a})=>{let{toasts:l,handlers:c}=R5(r);return h.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Fl,left:Fl,right:Fl,bottom:Fl,pointerEvents:"none",...o},className:a,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(u=>{let d=u.position||t,f=c.calculateOffset(u,{reverseOrder:e,gutter:n,defaultPosition:t}),m=rP(d,f);return h.createElement(tP,{id:u.id,key:u.id,onHeightUpdate:c.updateHeight,className:u.visible?nP:"",style:m},u.type==="custom"?Zc(u.message,u):s?s(u):h.createElement(eP,{toast:u,position:d}))}))},Z=q;const p2="app_language",Hy=()=>{if(typeof window>"u")return"EN";const e=localStorage.getItem(p2);return e&&["EN","RU","KK","TR"].includes(e)?e:"EN"},y2=h.createContext(void 0),x2=({children:e})=>{const{t,i18n:r}=Rr(),[n,s]=h.useState(Hy()),[o,a]=h.useState(!1),[l,c]=h.useState("en"),u=h.useCallback(()=>{const p=new Map;return{get:y=>p.get(y),set:(y,b)=>p.set(y,b),has:y=>p.has(y),clear:()=>p.clear()}},[])(),d=h.useCallback(async(p,y)=>{if(!p)return"";const b=y||n;if(b==="EN"||ir)return p;const k=`${p}:${b}`;if(u.has(k))return u.get(k)||p;try{const _=await Wh([p],b,"EN");if(_&&_.length>0){const j=_[0];return u.set(k,j),j}return p}catch(_){return console.error("Error translating text:",_),p}},[n,u]),f=h.useCallback(async()=>{if(!(n==="EN"||ir))try{const p=document.querySelectorAll("[data-i18n]");if(p.length===0)return;const y=[],b=new Map;if(p.forEach(_=>{var E;const j=(E=_.textContent)==null?void 0:E.trim();j&&j.length>0&&(y.push(j),b.set(y.length-1,_))}),y.length===0)return;const k=await Wh(y,n,"EN");k&&k.length>0&&k.forEach((_,j)=>{const E=b.get(j);E&&(E.getAttribute("data-i18n-original")||E.setAttribute("data-i18n-original",y[j]),E.textContent=_)})}catch(p){console.error("Error translating dynamic content:",p)}},[n]),m=h.useCallback(async()=>{u.clear(),await r.reloadResources(),await f(),window.dispatchEvent(new CustomEvent("languageChanged"))},[r,f,u]),g=h.useCallback(async p=>{if(p!==n){a(!0);try{s(p),localStorage.setItem(p2,p);const y=p.toLowerCase();await r.changeLanguage(y),u.clear(),p!=="EN"&&await f(),window.dispatchEvent(new CustomEvent("languageChanged"))}catch(y){console.error("Error changing language:",y),q.error("Error changing language. Some translations may be missing.")}finally{a(!1)}}},[n,r,f,u]);h.useEffect(()=>{typeof document<"u"&&(document.documentElement.lang=n.toLowerCase(),document.documentElement.dir=["AR","FA","HE","UR"].includes(n)?"rtl":"ltr",["AR","FA","HE","UR"].includes(n)?document.documentElement.classList.add("rtl"):document.documentElement.classList.remove("rtl"))},[n]),h.useEffect(()=>{(async()=>{const b=Hy();r.language!==b.toLowerCase()&&await r.changeLanguage(b.toLowerCase()),b!=="EN"&&setTimeout(()=>f(),500)})();const y=new MutationObserver(b=>{let k=!1;b.forEach(_=>{_.type==="childList"&&_.addedNodes.length>0&&_.addedNodes.forEach(j=>{if(j.nodeType===Node.ELEMENT_NODE){const E=j;(E.querySelector("[data-i18n]")||E.hasAttribute("data-i18n"))&&(k=!0)}})}),k&&n!=="EN"&&f()});return y.observe(document.body,{childList:!0,subtree:!0}),()=>{y.disconnect()}},[r,n,f]);const x=h.useCallback((p,y)=>{try{if(!p)return"";const b=t(p,y);return b===p||b.startsWith(p.charAt(0))&&b.endsWith(p.charAt(p.length-1))?p:b}catch(b){return console.error(`Error translating key: ${p}`,b),p}},[t]),w={language:n,setLanguage:g,isTranslating:o,forceRefreshTranslations:m,translateText:d,tWithTemplate:x,currentLanguage:l,setCurrentLanguage:p=>{c(p)},t};return i.jsx(y2.Provider,{value:w,children:e})},ot=()=>{const e=h.useContext(y2);if(!e)throw new Error("useLanguage must be used within a LanguageProvider");return e},v2=h.createContext({isDarkMode:!1,toggleDarkMode:()=>{}}),Jg=()=>h.useContext(v2),oP=({children:e})=>{const[t,r]=h.useState(()=>{const s=localStorage.getItem("theme");return s==="dark"||!s&&window.matchMedia("(prefers-color-scheme: dark)").matches});h.useEffect(()=>{t?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[t]);const n=()=>{r(!t)};return i.jsx(v2.Provider,{value:{isDarkMode:t,toggleDarkMode:n},children:e})},iP="modulepreload",aP=function(e){return"/"+e},Ky={},Xo=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=aP(c),c in Ky)return;Ky[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":iP,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((m,g)=>{f.addEventListener("load",m),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})},lP=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Xo(async()=>{const{default:n}=await Promise.resolve().then(()=>hi);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Xg extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class cP extends Xg{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class uP extends Xg{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class dP extends Xg{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Yh;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Yh||(Yh={}));var fP=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class hP{constructor(t,{headers:r={},customFetch:n,region:s=Yh.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=lP(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return fP(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:a}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=a):typeof a=="string"?(l["Content-Type"]="text/plain",u=a):typeof FormData<"u"&&a instanceof FormData?u=a:(l["Content-Type"]="application/json",u=JSON.stringify(a)));const d=yield this.fetch(`${this.url}/${t}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(x=>{throw new cP(x)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new uP(d);if(!d.ok)throw new dP(d);let m=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return m==="application/json"?g=yield d.json():m==="application/octet-stream"?g=yield d.blob():m==="text/event-stream"?g=d:m==="multipart/form-data"?g=yield d.formData():g=yield d.text(),{data:g,error:null}}catch(s){return{data:null,error:s}}})}}var Ut={},Qg={},Yu={},al={},Ju={},Xu={},mP=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Qo=mP();const gP=Qo.fetch,b2=Qo.fetch.bind(Qo),w2=Qo.Headers,pP=Qo.Request,yP=Qo.Response,hi=Object.freeze(Object.defineProperty({__proto__:null,Headers:w2,Request:pP,Response:yP,default:b2,fetch:gP},Symbol.toStringTag,{value:"Module"})),xP=vN(hi);var Qu={};Object.defineProperty(Qu,"__esModule",{value:!0});let vP=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Qu.default=vP;var _2=mr&&mr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xu,"__esModule",{value:!0});const bP=_2(xP),wP=_2(Qu);let _P=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=bP.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var a,l,c;let u=null,d=null,f=null,m=o.status,g=o.statusText;if(o.ok){if(this.method!=="HEAD"){const p=await o.text();p===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=p:d=JSON.parse(p))}const v=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),w=(l=o.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");v&&w&&w.length>1&&(f=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,m=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const v=await o.text();try{u=JSON.parse(v),Array.isArray(u)&&o.status===404&&(d=[],u=null,m=200,g="OK")}catch{o.status===404&&v===""?(m=204,g="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,m=200,g="OK"),u&&this.shouldThrowOnError)throw new wP.default(u)}return{error:u,data:d,count:f,status:m,statusText:g}});return this.shouldThrowOnError||(s=s.catch(o=>{var a,l,c;return{error:{message:`${(a=o==null?void 0:o.name)!==null&&a!==void 0?a:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(l=o==null?void 0:o.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=o==null?void 0:o.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};Xu.default=_P;var kP=mr&&mr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ju,"__esModule",{value:!0});const SP=kP(Xu);let jP=class extends SP.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:o=s}={}){const a=o?`${o}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const o=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(a,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:o=!1,format:a="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${u}"; options=${c};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ju.default=jP;var NP=mr&&mr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(al,"__esModule",{value:!0});const CP=NP(Ju);let EP=class extends CP.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${o}fts${a}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};al.default=EP;var PP=mr&&mr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yu,"__esModule",{value:!0});const Di=PP(al);let TP=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let o=!1;const a=(t??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new Di.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),r&&o.push(`count=${r}`),n||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const a=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Di.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:o=!0}={}){const a="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Di.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Di.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Di.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Yu.default=TP;var Zu={},ed={};Object.defineProperty(ed,"__esModule",{value:!0});ed.version=void 0;ed.version="0.0.0-automated";Object.defineProperty(Zu,"__esModule",{value:!0});Zu.DEFAULT_HEADERS=void 0;const AP=ed;Zu.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${AP.version}`};var k2=mr&&mr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qg,"__esModule",{value:!0});const RP=k2(Yu),MP=k2(al),DP=Zu;let LP=class S2{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},DP.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new RP.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new S2(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:o}={}){let a;const l=new URL(`${this.url}/rpc/${t}`);let c;n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(a="POST",c=r);const u=Object.assign({},this.headers);return o&&(u.Prefer=`count=${o}`),new MP.default({method:a,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Qg.default=LP;var mi=mr&&mr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ut,"__esModule",{value:!0});Ut.PostgrestError=Ut.PostgrestBuilder=Ut.PostgrestTransformBuilder=Ut.PostgrestFilterBuilder=Ut.PostgrestQueryBuilder=Ut.PostgrestClient=void 0;const j2=mi(Qg);Ut.PostgrestClient=j2.default;const N2=mi(Yu);Ut.PostgrestQueryBuilder=N2.default;const C2=mi(al);Ut.PostgrestFilterBuilder=C2.default;const E2=mi(Ju);Ut.PostgrestTransformBuilder=E2.default;const P2=mi(Xu);Ut.PostgrestBuilder=P2.default;const T2=mi(Qu);Ut.PostgrestError=T2.default;var OP=Ut.default={PostgrestClient:j2.default,PostgrestQueryBuilder:N2.default,PostgrestFilterBuilder:C2.default,PostgrestTransformBuilder:E2.default,PostgrestBuilder:P2.default,PostgrestError:T2.default};const{PostgrestClient:IP,PostgrestQueryBuilder:rq,PostgrestFilterBuilder:nq,PostgrestTransformBuilder:sq,PostgrestBuilder:oq,PostgrestError:iq}=OP,FP="2.11.2",$P={"X-Client-Info":`realtime-js/${FP}`},UP="1.0.0",A2=1e4,zP=1e3;var Uo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Uo||(Uo={}));var qt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(qt||(qt={}));var Sr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Sr||(Sr={}));var Jh;(function(e){e.websocket="websocket"})(Jh||(Jh={}));var ws;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ws||(ws={}));class BP{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),o=r.getUint8(2);let a=this.HEADER_LENGTH+2;const l=n.decode(t.slice(a,a+s));a=a+s;const c=n.decode(t.slice(a,a+o));a=a+o;const u=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class R2{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Oe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Oe||(Oe={}));const Yy=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((o,a)=>(o[a]=VP(a,e,t,s),o),{})},VP=(e,t,r,n)=>{const s=t.find(l=>l.name===e),o=s==null?void 0:s.type,a=r[e];return o&&!n.includes(o)?M2(o,a):Xh(a)},M2=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return HP(t,r)}switch(e){case Oe.bool:return GP(t);case Oe.float4:case Oe.float8:case Oe.int2:case Oe.int4:case Oe.int8:case Oe.numeric:case Oe.oid:return qP(t);case Oe.json:case Oe.jsonb:return WP(t);case Oe.timestamp:return KP(t);case Oe.abstime:case Oe.date:case Oe.daterange:case Oe.int4range:case Oe.int8range:case Oe.money:case Oe.reltime:case Oe.text:case Oe.time:case Oe.timestamptz:case Oe.timetz:case Oe.tsrange:case Oe.tstzrange:return Xh(t);default:return Xh(t)}},Xh=e=>e,GP=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},qP=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},WP=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},HP=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let o;const a=e.slice(1,r);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(l=>M2(t,l))}return e},KP=e=>typeof e=="string"?e.replace(" ","T"):e,D2=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class sf{constructor(t,r,n={},s=A2){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Jy;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Jy||(Jy={}));class ca{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ca.syncState(this.state,s,o,a),this.pendingDiffs.forEach(c=>{this.state=ca.syncDiff(this.state,c,o,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ca.syncDiff(this.state,s,o,a),l())}),this.onJoin((s,o,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:a})}),this.onLeave((s,o,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const o=this.cloneDeep(t),a=this.transformState(r),l={},c={};return this.map(o,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const f=o[u];if(f){const m=d.map(w=>w.presence_ref),g=f.map(w=>w.presence_ref),x=d.filter(w=>g.indexOf(w.presence_ref)<0),v=f.filter(w=>m.indexOf(w.presence_ref)<0);x.length>0&&(l[u]=x),v.length>0&&(c[u]=v)}else l[u]=d}),this.syncDiff(o,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:o,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(g=>g.presence_ref),m=d.filter(g=>f.indexOf(g.presence_ref)<0);t[l].unshift(...m)}n(l,d,c)}),this.map(a,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Xy;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Xy||(Xy={}));var Qy;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Qy||(Qy={}));var rn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(rn||(rn={}));class Zg{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=qt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new sf(this,Sr.join,this.params,this.timeout),this.rejoinTimer=new R2(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=qt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=qt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=qt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=qt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Sr.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new ca(this),this.broadcastEndpointURL=D2(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:a,private:l}}=this.params;this._onError(d=>t==null?void 0:t(rn.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(rn.CLOSED));const c={},u={broadcast:o,presence:a,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(rn.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,g=(f=m==null?void 0:m.length)!==null&&f!==void 0?f:0,x=[];for(let v=0;v<g;v++){const w=m[v],{filter:{event:p,schema:y,table:b,filter:k}}=w,_=d&&d[v];if(_&&_.event===p&&_.schema===y&&_.table===b&&_.filter===k)x.push(Object.assign(Object.assign({},w),{id:_.id}));else{this.unsubscribe(),t==null||t(rn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(rn.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(rn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(rn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=qt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Sr.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new sf(this,Sr.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new sf(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,o;const a=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Sr;if(n&&[l,c,u,d].indexOf(a)>=0&&n!==this._joinRef())return;let m=this._onMessage(a,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var x,v,w;return((x=g.filter)===null||x===void 0?void 0:x.event)==="*"||((w=(v=g.filter)===null||v===void 0?void 0:v.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===a}).map(g=>g.callback(m,n)):(o=this.bindings[a])===null||o===void 0||o.filter(g=>{var x,v,w,p,y,b;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in g){const k=g.id,_=(x=g.filter)===null||x===void 0?void 0:x.event;return k&&((v=r.ids)===null||v===void 0?void 0:v.includes(k))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const k=(y=(p=g==null?void 0:g.filter)===null||p===void 0?void 0:p.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return k==="*"||k===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===a}).map(g=>{if(typeof m=="object"&&"ids"in m){const x=m.data,{schema:v,table:w,commit_timestamp:p,type:y,errors:b}=x;m=Object.assign(Object.assign({},{schema:v,table:w,commit_timestamp:p,eventType:y,new:{},old:{},errors:b}),this._getPayloadRecords(x))}g.callback(m,n)})}_isClosed(){return this.state===qt.closed}_isJoined(){return this.state===qt.joined}_isJoining(){return this.state===qt.joining}_isLeaving(){return this.state===qt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&Zg.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Sr.close,{},t)}_onError(t){this._on(Sr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=qt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Yy(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Yy(t.columns,t.old_record)),r}}const YP=()=>{},JP=typeof WebSocket<"u",XP=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class QP{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=$P,this.params={},this.timeout=A2,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=YP,this.conn=null,this.sendBuffer=[],this.serializer=new BP,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let a;return o?a=o:typeof fetch>"u"?a=(...l)=>Xo(async()=>{const{default:c}=await Promise.resolve().then(()=>hi);return{default:c}},void 0).then(({default:c})=>c(...l)):a=fetch,(...l)=>a(...l)},this.endPoint=`${t}/${Jh.websocket}`,this.httpEndpoint=D2(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(o,a)=>a(JSON.stringify(o)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new R2(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(JP){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new ZP(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Xo(async()=>{const{default:t}=await import("./browser-DK12oBvw.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:UP}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Uo.connecting:return ws.Connecting;case Uo.open:return ws.Open;case Uo.closing:return ws.Closing;default:return ws.Closed}}isConnected(){return this.connectionState()===ws.Open}channel(t,r={config:{}}){const n=new Zg(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:s,ref:o}=t,a=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(Sr.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(zP,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:o,ref:a}=r;a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${n} ${s} ${a&&"("+a+")"||""}`,o),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,o,a)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Sr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([XP],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class ZP{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Uo.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class ep extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function dt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class e6 extends ep{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Qh extends ep{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var t6=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const L2=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Xo(async()=>{const{default:n}=await Promise.resolve().then(()=>hi);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},r6=()=>t6(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Xo(()=>Promise.resolve().then(()=>hi),void 0)).Response:Response}),Zh=e=>{if(Array.isArray(e))return e.map(r=>Zh(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=Zh(n)}),t};var Hs=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const of=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),n6=(e,t,r)=>Hs(void 0,void 0,void 0,function*(){const n=yield r6();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new e6(of(s),e.status||500))}).catch(s=>{t(new Qh(of(s),s))}):t(new Qh(of(e),e))}),s6=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function ll(e,t,r,n,s,o){return Hs(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(r,s6(t,n,s,o)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>n6(c,l,n))})})}function eu(e,t,r,n){return Hs(this,void 0,void 0,function*(){return ll(e,"GET",t,r,n)})}function Tn(e,t,r,n,s){return Hs(this,void 0,void 0,function*(){return ll(e,"POST",t,n,s,r)})}function o6(e,t,r,n,s){return Hs(this,void 0,void 0,function*(){return ll(e,"PUT",t,n,s,r)})}function i6(e,t,r,n){return Hs(this,void 0,void 0,function*(){return ll(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function O2(e,t,r,n,s){return Hs(this,void 0,void 0,function*(){return ll(e,"DELETE",t,n,s,r)})}var Ft=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const a6={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Zy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class l6{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=L2(s)}uploadOrUpdate(t,r,n,s){return Ft(this,void 0,void 0,function*(){try{let o;const a=Object.assign(Object.assign({},Zy),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",a.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=n,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:o,headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{})),m=yield f.json();return f.ok?{data:{path:u,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(o){if(dt(o))return{data:null,error:o};throw o}})}upload(t,r,n){return Ft(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Ft(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),a=this._getFinalPath(o),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Zy.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),m=yield f.json();return f.ok?{data:{path:o,fullPath:m.Key},error:null}:{data:null,error:m}}catch(c){if(dt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Ft(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const o=yield Tn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+o.url),l=a.searchParams.get("token");if(!l)throw new ep("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:l},error:null}}catch(n){if(dt(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ft(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ft(this,void 0,void 0,function*(){try{return{data:yield Tn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(dt(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Ft(this,void 0,void 0,function*(){try{return{data:{path:(yield Tn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(dt(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Ft(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield Tn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${a}`)},{data:o,error:null}}catch(s){if(dt(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Ft(this,void 0,void 0,function*(){try{const s=yield Tn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${o}`):null})),error:null}}catch(s){if(dt(s))return{data:null,error:s};throw s}})}download(t,r){return Ft(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=o?`?${o}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield eu(this.fetch,`${this.url}/${s}/${l}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(dt(l))return{data:null,error:l};throw l}})}info(t){return Ft(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield eu(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Zh(n),error:null}}catch(n){if(dt(n))return{data:null,error:n};throw n}})}exists(t){return Ft(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield i6(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(dt(n)&&n instanceof Qh){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&s.push(o);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Ft(this,void 0,void 0,function*(){try{return{data:yield O2(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ft(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},a6),r),{prefix:t||""});return{data:yield Tn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(dt(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const c6="2.7.1",u6={"X-Client-Info":`storage-js/${c6}`};var to=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class d6{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},u6),r),this.fetch=L2(n)}listBuckets(){return to(this,void 0,void 0,function*(){try{return{data:yield eu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(dt(t))return{data:null,error:t};throw t}})}getBucket(t){return to(this,void 0,void 0,function*(){try{return{data:yield eu(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return to(this,void 0,void 0,function*(){try{return{data:yield Tn(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(dt(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return to(this,void 0,void 0,function*(){try{return{data:yield o6(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(dt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return to(this,void 0,void 0,function*(){try{return{data:yield Tn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return to(this,void 0,void 0,function*(){try{return{data:yield O2(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}})}}class f6 extends d6{constructor(t,r={},n){super(t,r,n)}from(t){return new l6(this.url,this.headers,t,this.fetch)}}const h6="2.49.4";let Wi="";typeof Deno<"u"?Wi="deno":typeof document<"u"?Wi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Wi="react-native":Wi="node";const m6={"X-Client-Info":`supabase-js-${Wi}/${h6}`},g6={headers:m6},p6={schema:"public"},y6={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},x6={};var v6=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const b6=e=>{let t;return e?t=e:typeof fetch>"u"?t=b2:t=fetch,(...r)=>t(...r)},w6=()=>typeof Headers>"u"?w2:Headers,_6=(e,t,r)=>{const n=b6(r),s=w6();return(o,a)=>v6(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(o,Object.assign(Object.assign({},a),{headers:u}))})};var k6=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function S6(e){return e.replace(/\/$/,"")}function j6(e,t){const{db:r,auth:n,realtime:s,global:o}=e,{db:a,auth:l,realtime:c,global:u}=t,d={db:Object.assign(Object.assign({},a),r),auth:Object.assign(Object.assign({},l),n),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},u),o),accessToken:()=>k6(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const I2="2.69.1",po=30*1e3,em=3,af=em*po,N6="http://localhost:9999",C6="supabase.auth.token",E6={"X-Client-Info":`gotrue-js/${I2}`},tm="X-Supabase-Api-Version",F2={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},P6=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,T6=6e5;class tp extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ye(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class A6 extends tp{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function R6(e){return ye(e)&&e.name==="AuthApiError"}class $2 extends tp{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class as extends tp{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Sn extends as{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function M6(e){return ye(e)&&e.name==="AuthSessionMissingError"}class lf extends as{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class $l extends as{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ul extends as{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function D6(e){return ye(e)&&e.name==="AuthImplicitGrantRedirectError"}class ex extends as{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class rm extends as{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function cf(e){return ye(e)&&e.name==="AuthRetryableFetchError"}class tx extends as{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class ua extends as{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const rx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),nx=` 	
\r=`.split(""),L6=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<nx.length;t+=1)e[nx[t].charCodeAt(0)]=-2;for(let t=0;t<rx.length;t+=1)e[rx[t].charCodeAt(0)]=t;return e})();function U2(e,t,r){const n=L6[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function sx(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=a=>{F6(a,n,r)};for(let a=0;a<e.length;a+=1)U2(e.charCodeAt(a),s,o);return t.join("")}function O6(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function I6(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}O6(n,t)}}function F6(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function $6(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)U2(e.charCodeAt(s),r,n);return new Uint8Array(t)}function U6(e){const t=[];return I6(e,r=>t.push(r)),new Uint8Array(t)}function z6(e){return Math.round(Date.now()/1e3)+e}function B6(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ir=()=>typeof window<"u"&&typeof document<"u",hs={tested:!1,writable:!1},da=()=>{if(!Ir())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(hs.tested)return hs.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),hs.tested=!0,hs.writable=!0}catch{hs.tested=!0,hs.writable=!1}return hs.writable};function V6(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const z2=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Xo(async()=>{const{default:n}=await Promise.resolve().then(()=>hi);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},G6=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",B2=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},zl=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Bl=async(e,t)=>{await e.removeItem(t)};class td{constructor(){this.promise=new td.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}td.promiseConstructor=Promise;function uf(e){const t=e.split(".");if(t.length!==3)throw new ua("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!P6.test(t[n]))throw new ua("JWT not in base64url format");return{header:JSON.parse(sx(t[0])),payload:JSON.parse(sx(t[1])),signature:$6(t[2]),raw:{header:t[0],payload:t[1]}}}async function q6(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function W6(e,t){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const a=await e(o);if(!t(o,null,a)){n(a);return}}catch(a){if(!t(o,a)){s(a);return}}})()})}function H6(e){return("0"+e.toString(16)).substr(-2)}function K6(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,H6).join("")}async function Y6(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function J6(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Y6(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ro(e,t,r=!1){const n=K6();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await B2(e,`${t}-code-verifier`,s);const o=await J6(n);return[o,n===o?"plain":"s256"]}const X6=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Q6(e){const t=e.headers.get(tm);if(!t||!t.match(X6))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Z6(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function eT(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var tT=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const xs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),rT=[502,503,504];async function ox(e){var t;if(!G6(e))throw new rm(xs(e),0);if(rT.includes(e.status))throw new rm(xs(e),e.status);let r;try{r=await e.json()}catch(o){throw new $2(xs(o),o)}let n;const s=Q6(e);if(s&&s.getTime()>=F2["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new tx(xs(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Sn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new tx(xs(r),e.status,r.weak_password.reasons);throw new A6(xs(r),e.status||500,n)}const nT=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function ke(e,t,r,n){var s;const o=Object.assign({},n==null?void 0:n.headers);o[tm]||(o[tm]=F2["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await sT(e,t,r+l,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function sT(e,t,r,n,s,o){const a=nT(t,n,s,o);let l;try{l=await e(r,Object.assign({},a))}catch(c){throw console.error(c),new rm(xs(c),0)}if(l.ok||await ox(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await ox(c)}}function jn(e){var t;let r=null;lT(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=z6(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function ix(e){const t=jn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Dn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function oT(e){return{data:e,error:null}}function iT(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=e,a=tT(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function aT(e){return e}function lT(e){return e.access_token&&e.refresh_token&&e.expires_in}var cT=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class uT{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=z2(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await ke(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ke(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Dn})}catch(n){if(ye(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=cT(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await ke(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:iT,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ye(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ke(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Dn})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,o,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ke(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:aT});if(d.error)throw d.error;const f=await d.json(),m=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(x=>{const v=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(x.split(";")[1].split("=")[1]);u[`${w}Page`]=v}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ye(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await ke(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Dn})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await ke(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Dn})}catch(n){if(ye(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await ke(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Dn})}catch(n){if(ye(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await ke(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(ye(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await ke(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}}}const dT={getItem:e=>da()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{da()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{da()&&globalThis.localStorage.removeItem(e)}};function ax(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function fT(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const no={debug:!!(globalThis&&da()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class V2 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class hT extends V2{}async function mT(e,t,r){no.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),no.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){no.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{no.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw no.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new hT(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(no.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}fT();const gT={url:N6,storageKey:C6,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:E6,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function lx(e,t,r){return await r()}class Ia{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ia.nextInstanceID,Ia.nextInstanceID+=1,this.instanceID>0&&Ir()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},gT),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new uT({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=z2(s.fetch),this.lock=s.lock||lx,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ir()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=mT:this.lock=lx,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:da()?this.storage=dT:(this.memoryStorage={},this.storage=ax(this.memoryStorage)):(this.memoryStorage={},this.storage=ax(this.memoryStorage)),Ir()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${I2}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=V6(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ir()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),D6(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ye(r)?{error:r}:{error:new $2("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const o=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:jn}),{data:a,error:l}=o;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(ye(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var r,n,s;try{let o;if("email"in t){const{email:d,password:f,options:m}=t;let g=null,x=null;this.flowType==="pkce"&&([g,x]=await ro(this.storage,this.storageKey)),o=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:f,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:g,code_challenge_method:x},xform:jn})}else if("phone"in t){const{phone:d,password:f,options:m}=t;o=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:jn})}else throw new $l("You must provide either an email or phone number and a password");const{data:a,error:l}=o;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(ye(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let r;if("email"in t){const{email:o,password:a,options:l}=t;r=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ix})}else if("phone"in t){const{phone:o,password:a,options:l}=t;r=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ix})}else throw new $l("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new lf}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(ye(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await zl(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:o,error:a}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:jn});if(await Bl(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new lf}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:a})}catch(o){if(ye(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:o,nonce:a}=t,l=await ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:jn}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new lf}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(ye(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,o,a;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await ro(this.storage,this.storageKey));const{error:f}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new $l("You must provide either an email or phone number.")}catch(l){if(ye(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,o;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,o=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await ke(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:jn});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(ye(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let o=null,a=null;return this.flowType==="pkce"&&([o,a]=await ro(this.storage,this.storageKey)),await ke(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:a}),headers:this.headers,xform:oT})}catch(o){if(ye(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Sn;const{error:s}=await ke(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(ye(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:o}=t,{error:a}=await ke(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:n,type:s,options:o}=t,{data:a,error:l}=await ke(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new $l("You must provide either an email or phone number and a type")}catch(r){if(ye(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await zl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<af:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Dn}):await this._useSession(async r=>{var n,s,o;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Sn}:await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Dn})})}catch(r){if(ye(r))return M6(r)&&(await this._removeSession(),await Bl(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new Sn;const a=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await ro(this.storage,this.storageKey));const{data:u,error:d}=await ke(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:Dn});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(ye(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Sn;const r=Date.now()/1e3;let n=r,s=!0,o=null;const{payload:a}=uf(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(ye(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:l}=r;if(l)throw l;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Sn;const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ye(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Ir())throw new Ul("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ul(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new ex("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ul("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new ex("No code detected.");const{data:y,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!o||!l||!a||!u)throw new Ul("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let m=d+f;c&&(m=parseInt(c));const g=m-d;g*1e3<=po&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const x=m-f;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,m,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,m,d);const{data:v,error:w}=await this._getUser(o);if(w)throw w;const p={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:f,expires_at:m,refresh_token:a,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:t.type},error:null}}catch(n){if(ye(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await zl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{error:o};const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(R6(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Bl(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=B6(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await ro(this.storage,this.storageKey,!0));try{return await ke(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(ye(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var a,l,c,u,d;const{data:f,error:m}=o;if(m)throw m;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ke(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Ir()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ye(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:a}=r;if(a)throw a;return await ke(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(ye(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await W6(async s=>(s>0&&await q6(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await ke(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:jn})),(s,o)=>{const a=200*Math.pow(2,s);return o&&cf(o)&&Date.now()+a-n<po})}catch(n){if(this._debug(r,"error",n),ye(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ir()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await zl(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<af;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${af}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),cf(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Sn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new td;const{data:o,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!o.session)throw new Sn;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={session:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(s,"error",o),ye(o)){const a={session:null,error:o};return cf(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const o=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){o.push(c)}});if(await Promise.all(a),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await B2(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Bl(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ir()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),po);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/po);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${po}ms, refresh threshold is ${em} ticks`),s<=em&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof V2)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ir()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,a]=await ro(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await ke(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ye(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:a}=r;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await ke(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(ye(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{data:null,error:o};const{data:a,error:l}=await ke(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(r){if(ye(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await ke(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ye(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),o=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=uf(s.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(a=>a.kid===t);if(n||(n=this.jwks.keys.find(a=>a.kid===t),n&&this.jwks_cached_at+T6>Date.now()))return n;const{data:s,error:o}=await ke(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!s.keys||s.keys.length===0)throw new ua("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(a=>a.kid===t),!n)throw new ua("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:g,error:x}=await this.getSession();if(x||!g.session)return{data:null,error:x};n=g.session.access_token}const{header:s,payload:o,signature:a,raw:{header:l,payload:c}}=uf(n);if(Z6(o.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:o,header:s,signature:a},error:null}}const u=eT(s.alg),d=await this.fetchJwk(s.kid,r),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,a,U6(`${l}.${c}`)))throw new ua("Invalid JWT signature");return{data:{claims:o,header:s,signature:a},error:null}}catch(n){if(ye(n))return{data:null,error:n};throw n}}}Ia.nextInstanceID=0;const pT=Ia;class yT extends pT{constructor(t){super(t)}}var xT=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class vT{constructor(t,r,n){var s,o,a;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=S6(t);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:p6,realtime:x6,auth:Object.assign(Object.assign({},y6),{storageKey:c}),global:g6},d=j6(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=d.global.headers)!==null&&o!==void 0?o:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=_6(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new IP(`${l}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new hP(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new f6(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return xT(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:o,flowType:a,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new yT({url:this.authUrl,headers:Object.assign(Object.assign({},f),u),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:a,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new QP(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const rp=(e,t,r)=>new vT(e,t,r),G2="https://ohserebigziyxlxpkaib.supabase.co",df="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9oc2VyZWJpZ3ppeXhseHBrYWliIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTI3NDk0MTAsImV4cCI6MjAyODMyNTQxMH0.2mVOdgG-4QPVjVxqKshjFmcAyVELY6KYHtqlR-KLpvw";console.log("[supabaseClient] Initializing Supabase Client...");console.log("[supabaseClient] VITE_SUPABASE_URL:","https://ohserebigziyxlxpkaib.supabase.co");console.log("[supabaseClient] Using URL:",G2,"Source:","env");console.log("[supabaseClient] VITE_SUPABASE_ANON_KEY status:","Loaded from env");console.log("[supabaseClient] Using key source:","env");const D=rp(G2,df,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storageKey:"supabase.auth.token",flowType:"implicit",debug:!0},global:{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",apikey:df},fetch:(...e)=>{try{console.log("[Supabase Fetch] Request type:",typeof e[0]);const t=e[0];if(t instanceof Request){const r=new Headers(t.headers);r.set("apikey",df);const n=new Request(t.url,{method:t.method,headers:r,body:t.body,mode:t.mode,credentials:t.credentials,cache:t.cache,redirect:t.redirect,referrer:t.referrer,integrity:t.integrity});e[0]=n}}catch(t){console.error("[Supabase Fetch] Error processing request:",t)}return fetch(...e).then(t=>(t.ok||(console.warn(`[Supabase Fetch] Non-OK response: ${t.status} ${t.statusText}`),t.status===401&&(console.warn("[Supabase Fetch] Authentication error, attempting to refresh session"),typeof localStorage<"u"&&localStorage.removeItem("supabase.auth.token"))),t)).catch(t=>{throw console.error("[Supabase Fetch] Network error:",t),t})}},db:{schema:"public"}});D.auth.onAuthStateChange((e,t)=>{var r,n;console.log("[Supabase Auth] State changed:",e),e==="SIGNED_IN"?console.log("[Supabase Auth] User signed in:",(r=t==null?void 0:t.user)==null?void 0:r.id):e==="SIGNED_OUT"?console.log("[Supabase Auth] User signed out"):e==="USER_UPDATED"?console.log("[Supabase Auth] User updated:",(n=t==null?void 0:t.user)==null?void 0:n.id):e==="TOKEN_REFRESHED"&&console.log("[Supabase Auth] Token refreshed successfully")});const bT=D.functions.invoke;D.functions.invoke=async(e,t)=>{console.log(`[Supabase Function] Invoking ${e}`,t);try{const r=await bT.call(D.functions,e,t);return console.log(`[Supabase Function] Response from ${e}:`,r),r}catch(r){throw console.error(`[Supabase Function] Error invoking ${e}:`,r),r}};try{let e=0;const t=5e3;D.auth.onAuthStateChange((n,s)=>{var o;console.log("[Supabase Auth] Event:",n),console.log("[Supabase Auth] Session User:",(o=s==null?void 0:s.user)==null?void 0:o.id),s!=null&&s.user?(localStorage.setItem("has_session","true"),localStorage.setItem("auth_user_id",s.user.id)):n==="SIGNED_OUT"&&(localStorage.removeItem("has_session"),localStorage.removeItem("auth_user_id"),localStorage.removeItem("supabase.auth.token"))}),setTimeout(()=>{const n=Date.now();if(n-e<t){console.log("[Supabase Auth] Skipping session check - checked recently");return}e=n,console.log("[Supabase Auth] Checking initial session..."),D.auth.getSession().then(({data:s,error:o})=>{if(o)console.error("[Supabase Auth] Session error:",o),D.auth.signOut().catch(a=>console.error("Error signing out:",a));else if(s!=null&&s.session){console.log("[Supabase Auth] Session exists:",s.session.user.id);const a=s.session.expires_at,l=Math.floor(Date.now()/1e3);a&&a-l<600&&(console.log("[Supabase Auth] Token expiring soon, refreshing..."),D.auth.refreshSession().then(({data:u,error:d})=>{d?console.error("[Supabase Auth] Token refresh failed:",d):console.log("[Supabase Auth] Token refreshed successfully")})),localStorage.setItem("has_session","true"),localStorage.setItem("auth_user_id",s.session.user.id)}else console.log("[Supabase Auth] No active session found"),localStorage.removeItem("has_session"),localStorage.removeItem("auth_user_id")})},1e3)}catch(e){console.error("[Supabase Auth] Error initializing auth tracking:",e)}const wT="https://ohserebigziyxlxpkaib.supabase.co";console.log("SUPABASE: Initializing client with URL:",wT);D.auth.onAuthStateChange((e,t)=>{var r;console.log("[SUPABASE SERVICE] Auth state changed:",e),console.log("[SUPABASE SERVICE] Session exists:",!!t),console.log("[SUPABASE SERVICE] User ID:",(r=t==null?void 0:t.user)==null?void 0:r.id)});const _T=async(e,t)=>{console.log(`[getProfileWithConnections] Fetching profile for userId: ${e}, currentUserId: ${t}`);try{console.log("[getProfileWithConnections] Attempting to use RPC function...");try{const{data:s,error:o}=await D.rpc("get_user_profile_with_connections",{p_user_id:e,p_current_user_id:t});if(console.log("[getProfileWithConnections] RPC response:",{data:s?"data exists":"no data",error:o}),!o&&s&&s.length>0)return console.log("[getProfileWithConnections] RPC function successful, returning data"),{data:s[0],error:null};o?console.error("[getProfileWithConnections] RPC function error:",o):(!s||s.length===0)&&console.warn("[getProfileWithConnections] RPC function returned no data")}catch(s){console.error("[getProfileWithConnections] RPC function exception:",s)}console.log("[getProfileWithConnections] Falling back to manual profile fetch"),console.log(`[getProfileWithConnections] Fetching profile for userId: ${e}`);const{data:r,error:n}=await D.from("profiles").select("*").eq("id",e).single();if(n)throw console.error("[getProfileWithConnections] Profile fetch error:",n),n;if(!r)return console.warn(`[getProfileWithConnections] No profile found for userId: ${e}`),{data:null,error:new Error("Profile not found")};console.log("[getProfileWithConnections] Profile fetch successful"),console.log(`[getProfileWithConnections] Checking connection status between ${t} and ${e}`);try{const{data:s,error:o}=await D.from("user_connections").select("*").or(`and(user_id.eq.${t},friend_id.eq.${e}),and(user_id.eq.${e},friend_id.eq.${t})`).maybeSingle();o&&console.error("[getProfileWithConnections] Connection fetch error:",o),console.log("[getProfileWithConnections] Connection data:",s);const a=s?s.status:"none",l=s?s.id:null;return console.log("[getProfileWithConnections] Returning combined profile data"),{data:{...r,friend_status:a,friend_connection_id:l},error:null}}catch(s){return console.error("[getProfileWithConnections] Connection fetch exception:",s),{data:{...r,friend_status:"error",friend_connection_id:null},error:null}}}catch(r){return console.error("[getProfileWithConnections] Top-level error:",r),{data:null,error:r}}},rd=h.createContext(void 0),kT=({children:e})=>{const[t,r]=h.useState(null),[n,s]=h.useState(!0),[o,a]=h.useState(!1),[l,c]=h.useState(null),[u,d]=h.useState(!1),f=h.useRef(!1),m=h.useRef(!1),g=h.useRef(!1),x=h.useCallback(async C=>{var I,P;if(!g.current){g.current=!0;try{if(console.log("[AuthProvider] checkProfileCompletion: Starting for user:",C==null?void 0:C.id),!C){console.log("[AuthProvider] checkProfileCompletion: No user provided to check."),a(!1),g.current=!1;return}if(((I=C.user_metadata)==null?void 0:I.profile_completed)===!0||((P=C.user_metadata)==null?void 0:P.skipped_profile_completion)===!0){console.log("[AuthProvider] checkProfileCompletion: Found profile_completed=true or skipped=true in user_metadata"),a(!0),g.current=!1;return}console.log("[AuthProvider] checkProfileCompletion: Neither profile_completed nor skipped is true in user_metadata. Checking database...");let O=0;const A=3;for(;O<A;)try{const{data:$,error:L}=await D.from("profiles").select("is_profile_completed, skipped_profile_completion").eq("id",C.id).maybeSingle();if(L){if(console.error(`[AuthProvider] checkProfileCompletion: DB Error checking profiles table (attempt ${O+1}):`,L),L.code==="PGRST116"){console.log("[AuthProvider] checkProfileCompletion: User record not found in PROFILES table (PGRST116). Assuming incomplete."),a(!1),g.current=!1;return}if(O++,O===A){console.error("[AuthProvider] checkProfileCompletion: Max retries reached checking profiles. Assuming incomplete."),a(!1),g.current=!1;return}await new Promise(z=>setTimeout(z,1e3));continue}($==null?void 0:$.is_profile_completed)===!0||($==null?void 0:$.skipped_profile_completion)===!0?(console.log("[AuthProvider] checkProfileCompletion: Found is_profile_completed=true or skipped=true in PROFILES table"),a(!0)):(console.log("[AuthProvider] checkProfileCompletion: Neither is_profile_completed nor skipped is true in PROFILES table"),a(!1)),g.current=!1;return}catch($){if(console.error(`[AuthProvider] checkProfileCompletion: Unexpected DB Error checking profiles table (attempt ${O+1}):`,$),O++,O===A){console.error("[AuthProvider] checkProfileCompletion: Loop finished without success. Assuming profile incomplete."),a(!1),g.current=!1;return}await new Promise(L=>setTimeout(L,1e3))}console.error("[AuthProvider] checkProfileCompletion: Loop finished without success. Assuming profile incomplete."),a(!1)}catch(O){console.error("[AuthProvider] checkProfileCompletion: Top-level error:",O),a(!1)}finally{console.log("[AuthProvider] checkProfileCompletion: Finished check."),g.current=!1}}},[]),v=async()=>{try{const{data:C}=await D.auth.getSession(),I=!!(C!=null&&C.session);console.log("AuthContext: Starting sign out process. Active session:",I);for(let P=0;P<localStorage.length;P++){const O=localStorage.key(P);O&&(O.includes("supabase")||O.includes("auth")||O.includes("user")||O.includes("session"))&&(console.log("Removing localStorage key:",O),localStorage.removeItem(O))}if(localStorage.removeItem("supabase.auth.token"),localStorage.removeItem("current_user"),localStorage.removeItem("has_session"),localStorage.removeItem("auth_user_id"),localStorage.removeItem("force_redirect_home"),localStorage.removeItem("sb-refresh-token"),localStorage.removeItem("sb-access-token"),document.cookie.split(";").forEach(function(P){document.cookie=P.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/")}),I){console.log("Calling supabase.auth.signOut()");const{error:P}=await D.auth.signOut({scope:"global"});if(P)throw console.error("Supabase signOut error:",P),P}else console.log("No active session, skipping Supabase signOut API call");console.log("User signed out successfully"),r(null),a(!1),console.log("Redirecting to landing page"),window.location.href="/"}catch(C){throw console.error("Error during sign out:",C),c(C instanceof Error?C:new Error(String(C))),setTimeout(()=>{console.log("Error during signOut, forcing redirect anyway"),window.location.replace("/")},500),C}},w=h.useCallback(async(C=!1)=>{try{console.log("Checking session status...");const{data:I,error:P}=await D.auth.getSession();if(P)return console.error("Error getting session:",P),{success:!1,error:new Error(P.message||"Session error")};if(!I.session)return console.log("No active session found"),{success:!1,error:new Error("No active session found")};const O=I.session.expires_at||0,A=Math.floor(Date.now()/1e3),$=O-A;if(console.log(`Session found. Expires in ${$} seconds`),C||$<300){console.log("Session expiring soon or force refresh requested. Refreshing now...");try{const{data:L,error:z}=await D.auth.refreshSession();return z?z.message&&z.message.includes("Auth session missing")?(console.log("Session completely expired or missing, clearing local state and signing out"),r(null),a(!1),s(!1),await v(),{success:!1,error:new Error("Your session has expired. Please log in again.")}):(console.error("Failed to refresh session:",z),{success:!1,error:new Error(z.message||"Failed to refresh session")}):L.session&&L.user?(console.log("Session refreshed successfully"),localStorage.setItem("last_session_refresh",new Date().toISOString()),L.session.expires_at&&localStorage.setItem("session_expires_at",new Date(L.session.expires_at*1e3).toISOString()),r(L.user),await x(L.user),{success:!0,session:L.session}):{success:!1,error:new Error("Failed to refresh session")}}catch(L){return console.error("Exception during session refresh:",L),{success:!1,error:L instanceof Error?L:new Error("Unknown error during session refresh")}}}return{success:!0,session:I.session}}catch(I){return console.error("Error in checkAndRefreshSession:",I),{success:!1,error:I instanceof Error?I:new Error("Unknown error checking session")}}},[x,v]),p=h.useCallback(async()=>{console.log("AuthProvider: Refreshing user data explicitly...");try{const{data:{user:C},error:I}=await D.auth.getUser();if(I){console.error("AuthProvider: Error during explicit user refresh:",I);return}C?(console.log("AuthProvider: User data refreshed successfully.",C.id,C.user_metadata),r(C),await x(C)):(console.log("AuthProvider: No user found during refresh."),r(null),a(!1))}catch(C){console.error("AuthProvider: Unexpected error during explicit user refresh:",C)}},[x]);h.useEffect(()=>{if(f.current||m.current){console.log("[AuthProvider useEffect] initializeAuth: Skipping initialization (already running or completed).");return}f.current=!0,console.log("[AuthProvider useEffect] initializeAuth: Starting..."),(async()=>{try{s(!0),console.log("[AuthProvider useEffect] initializeAuth: Attempting to get session...");const{data:{session:P},error:O}=await D.auth.getSession();O?(console.error("[AuthProvider useEffect] initializeAuth: Error getting session:",O),c(O)):P?(console.log("[AuthProvider useEffect] initializeAuth: Active session found:",P.user.id),r(P.user),await x(P.user)):(console.log("[AuthProvider useEffect] initializeAuth: No active session found."),r(null),a(!1))}catch(P){console.error("[AuthProvider useEffect] initializeAuth: Unexpected error:",P),c(P instanceof Error?P:new Error(String(P))),r(null),a(!1)}finally{console.log("[AuthProvider useEffect] initializeAuth: Setting loading = false (end of initialization attempt)"),s(!1),d(!0),f.current=!1,m.current=!0}})();const{data:{subscription:I}}=D.auth.onAuthStateChange(async(P,O)=>{if(console.log(`[AuthProvider onAuthStateChange] Event: ${P}`),!m.current){console.log("[AuthProvider onAuthStateChange] Skipping event, initialization not complete.");return}const A=(O==null?void 0:O.user)||null;r(A),P==="SIGNED_IN"||P==="TOKEN_REFRESHED"||P==="USER_UPDATED"?(console.log("[AuthProvider onAuthStateChange] User signed in or session refreshed. Checking profile completion..."),A?await x(A):(console.log("[AuthProvider onAuthStateChange] No user in session after SIGNED_IN/TOKEN_REFRESHED/USER_UPDATED event."),a(!1))):P==="SIGNED_OUT"?(console.log("[AuthProvider onAuthStateChange] User signed out. Resetting state."),r(null),a(!1),console.log("[AuthProvider onAuthStateChange] SIGNED_OUT: Setting loading = false."),s(!1)):P==="PASSWORD_RECOVERY"?console.log("[AuthProvider onAuthStateChange] Password recovery event."):P==="INITIAL_SESSION"?console.log("[AuthProvider onAuthStateChange] Initial session event."):console.warn("[AuthProvider onAuthStateChange] Unhandled auth event:",P),O||(console.log("[AuthProvider onAuthStateChange] No session found after event, ensuring loading is false."),P==="SIGNED_OUT"&&s(!1))});return()=>{I&&(console.log("[AuthProvider useEffect] Cleaning up auth listener."),I.unsubscribe())}},[x]);const y=async(C,I,P)=>{try{const{data:O,error:A}=await D.auth.signUp({email:C,password:I,options:{data:{full_name:P,profile_completed:!1}}});if(A)throw A;if(O.user)try{await D.from("users").insert([{id:O.user.id,email:C,full_name:P,profile_completed:!1}])}catch($){console.error("AuthProvider: Error creating user profile:",$)}}catch(O){throw c(O instanceof Error?O:new Error(String(O))),O}},b=async(C,I)=>{try{const{error:P}=await D.auth.signInWithPassword({email:C,password:I});if(P)throw P}catch(P){throw c(P instanceof Error?P:new Error(String(P))),P}},k=async C=>{try{const{error:I}=await D.auth.resetPasswordForEmail(C);if(I)throw I}catch(I){throw c(I instanceof Error?I:new Error(String(I))),I}},_=h.useCallback(async C=>{try{console.log("[AuthProvider] signInWithGoogle: Initiating Google OAuth...");const I=C||"https://connectme-uqip.onrender.com/auth/callback",{data:P,error:O}=await D.auth.signInWithOAuth({provider:"google",options:{redirectTo:I,skipBrowserRedirect:!1,queryParams:{access_type:"offline",prompt:"consent"}}});return O?(console.error("[AuthProvider] signInWithGoogle: Error",O),{data:null,error:new Error(O.message)}):(console.log("[AuthProvider] signInWithGoogle: Redirect URL:",P==null?void 0:P.url),P!=null&&P.url&&(window.location.href=P.url),{data:P,error:null})}catch(I){return console.error("[AuthProvider] signInWithGoogle: Exception",I),c(I instanceof Error?I:new Error(String(I))),{data:null,error:I instanceof Error?I:new Error(String(I))}}},[]),F={user:t,setUser:r,loading:n,error:l,hasCompletedProfile:o,setHasCompletedProfile:a,signUp:y,signIn:b,signOut:v,emergencySignOut:()=>{console.warn("Performing emergency sign out...");try{Object.keys(localStorage).forEach(C=>{(C.startsWith("sb-")||C.includes("supabase")||C.includes("auth"))&&localStorage.removeItem(C)}),Object.keys(sessionStorage).forEach(C=>{(C.startsWith("sb-")||C.includes("supabase")||C.includes("auth"))&&sessionStorage.removeItem(C)}),document.cookie.split(";").forEach(function(C){document.cookie=C.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/")})}catch(C){console.error("Error clearing storage during emergency sign out:",C)}finally{window.location.href="/"}},signInWithGoogle:_,refreshSession:w,resetPassword:k,updatePassword:async(C,I)=>{try{const{error:P}=await D.auth.updateUser({password:I});if(P)throw console.error("Error updating password:",P),P;console.log("Password updated successfully.")}catch(P){throw console.error("Error in updatePassword:",P),c(P instanceof Error?P:new Error(String(P))),P}},redirectToHome:()=>{window.location.replace("/home")},refreshUserData:p};return i.jsx(rd.Provider,{value:F,children:e})},gi=()=>{const e=h.useContext(rd);if(e===void 0)throw new Error("useAuthContext must be used within an AuthProvider");return e},it=()=>{const e=h.useContext(rd);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e};var q2={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},cx=ht.createContext&&ht.createContext(q2),Kn=function(){return Kn=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Kn.apply(this,arguments)},ST=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};function W2(e){return e&&e.map(function(t,r){return ht.createElement(t.tag,Kn({key:r},t.attr),W2(t.child))})}function Q(e){return function(t){return ht.createElement(jT,Kn({attr:Kn({},e.attr)},t),W2(e.child))}}function jT(e){var t=function(r){var n=e.attr,s=e.size,o=e.title,a=ST(e,["attr","size","title"]),l=s||r.size||"1em",c;return r.className&&(c=r.className),e.className&&(c=(c?c+" ":"")+e.className),ht.createElement("svg",Kn({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,a,{className:c,style:Kn(Kn({color:e.color||r.color},r.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&ht.createElement("title",null,o),e.children)};return cx!==void 0?ht.createElement(cx.Consumer,null,function(r){return t(r)}):t(q2)}function xc(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"}}]})(e)}function NT(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"}},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"}}]})(e)}function H2(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"}},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"}}]})(e)}function tu(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"}},{tag:"polyline",attr:{points:"12 19 5 12 12 5"}}]})(e)}function Fa(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"}}]})(e)}function CT(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}},{tag:"path",attr:{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"}}]})(e)}function ET(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"}}]})(e)}function At(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"}},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"}},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"}}]})(e)}function K2(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"}}]})(e)}function Y2(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"}}]})(e)}function PT(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"}}]})(e)}function TT(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"}}]})(e)}function ru(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"polyline",attr:{points:"12 6 12 12 16 14"}}]})(e)}function AT(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"ellipse",attr:{cx:"12",cy:"5",rx:"9",ry:"3"}},{tag:"path",attr:{d:"M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"}},{tag:"path",attr:{d:"M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"}}]})(e)}function RT(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"}}]})(e)}function MT(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"}}]})(e)}function DT(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}}]})(e)}function LT(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"}}]})(e)}function OT(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"}},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"}}]})(e)}function IT(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"}},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"}},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"}},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"}}]})(e)}function nm(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"4",y1:"9",x2:"20",y2:"9"}},{tag:"line",attr:{x1:"4",y1:"15",x2:"20",y2:"15"}},{tag:"line",attr:{x1:"10",y1:"3",x2:"8",y2:"21"}},{tag:"line",attr:{x1:"16",y1:"3",x2:"14",y2:"21"}}]})(e)}function $a(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"}}]})(e)}function FT(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"path",attr:{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"}}]})(e)}function np(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}},{tag:"circle",attr:{cx:"8.5",cy:"8.5",r:"1.5"}},{tag:"polyline",attr:{points:"21 15 16 10 5 21"}}]})(e)}function $T(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"}},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"}}]})(e)}function ux(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}},{tag:"path",attr:{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"}}]})(e)}function UT(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"}}]})(e)}function dx(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}},{tag:"polyline",attr:{points:"16 17 21 12 16 7"}},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"}}]})(e)}function Ts(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"}}]})(e)}function zT(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 3 21 3 21 9"}},{tag:"polyline",attr:{points:"9 21 3 21 3 15"}},{tag:"line",attr:{x1:"21",y1:"3",x2:"14",y2:"10"}},{tag:"line",attr:{x1:"3",y1:"21",x2:"10",y2:"14"}}]})(e)}function BT(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"}},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"}},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"}}]})(e)}function Zo(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"}}]})(e)}function nd(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}}]})(e)}function VT(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"4 14 10 14 10 20"}},{tag:"polyline",attr:{points:"20 10 14 10 14 4"}},{tag:"line",attr:{x1:"14",y1:"10",x2:"21",y2:"3"}},{tag:"line",attr:{x1:"3",y1:"21",x2:"10",y2:"14"}}]})(e)}function GT(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"1"}},{tag:"circle",attr:{cx:"19",cy:"12",r:"1"}},{tag:"circle",attr:{cx:"5",cy:"12",r:"1"}}]})(e)}function sd(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"1"}},{tag:"circle",attr:{cx:"12",cy:"5",r:"1"}},{tag:"circle",attr:{cx:"12",cy:"19",r:"1"}}]})(e)}function ln(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"}},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"}}]})(e)}function J2(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"}},{tag:"polyline",attr:{points:"1 20 1 14 7 14"}},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"}}]})(e)}function qT(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"}},{tag:"polyline",attr:{points:"7 3 7 8 15 8"}}]})(e)}function sp(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"}},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}}]})(e)}function op(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"2",x2:"11",y2:"13"}},{tag:"polygon",attr:{points:"22 2 15 22 11 13 2 9 22 2"}}]})(e)}function X2(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"}},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}}]})(e)}function Q2(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"18",cy:"5",r:"3"}},{tag:"circle",attr:{cx:"6",cy:"12",r:"3"}},{tag:"circle",attr:{cx:"18",cy:"19",r:"3"}},{tag:"line",attr:{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"}},{tag:"line",attr:{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"}}]})(e)}function Z2(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"}}]})(e)}function WT(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"path",attr:{d:"M8 14s1.5 2 4 2 4-2 4-2"}},{tag:"line",attr:{x1:"9",y1:"9",x2:"9.01",y2:"9"}},{tag:"line",attr:{x1:"15",y1:"9",x2:"15.01",y2:"9"}}]})(e)}function HT(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"}}]})(e)}function $s(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"}},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"}},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"}}]})(e)}function KT(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"}},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}}]})(e)}function ff(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"}},{tag:"polyline",attr:{points:"17 11 19 13 23 9"}}]})(e)}function Fn(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"}},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"}},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"}}]})(e)}function e_(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"}},{tag:"line",attr:{x1:"18",y1:"8",x2:"23",y2:"13"}},{tag:"line",attr:{x1:"23",y1:"8",x2:"18",y2:"13"}}]})(e)}function Nr(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"}}]})(e)}function We(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"}},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"}},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"}}]})(e)}function fx(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}},{tag:"line",attr:{x1:"23",y1:"9",x2:"17",y2:"15"}},{tag:"line",attr:{x1:"17",y1:"9",x2:"23",y2:"15"}}]})(e)}function cn(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"}},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"}}]})(e)}function YT(e){return Q({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z"}}]})(e)}function JT(e){return Q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"}}]})(e)}function XT(e){return Q({attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"}}]})(e)}function QT(e){return Q({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"}}]})(e)}function ZT(e){return Q({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"}}]})(e)}function e8(e){return Q({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 32v448h448V32H0zm372.2 106.1l-24 23c-2.1 1.6-3.1 4.2-2.7 6.7v169.3c-.4 2.6.6 5.2 2.7 6.7l23.5 23v5.1h-118V367l24.3-23.6c2.4-2.4 2.4-3.1 2.4-6.7V199.8l-67.6 171.6h-9.1L125 199.8v115c-.7 4.8 1 9.7 4.4 13.2l31.6 38.3v5.1H71.2v-5.1l31.6-38.3c3.4-3.5 4.9-8.4 4.1-13.2v-133c.4-3.7-1-7.3-3.8-9.8L75 138.1V133h87.3l67.4 148L289 133.1h83.2v5z"}}]})(e)}function t8(e){return Q({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M496 256c0 137-111 248-248 248-25.6 0-50.2-3.9-73.4-11.1 10.1-16.5 25.2-43.5 30.8-65 3-11.6 15.4-59 15.4-59 8.1 15.4 31.7 28.5 56.8 28.5 74.8 0 128.7-68.8 128.7-154.3 0-81.9-66.9-143.2-152.9-143.2-107 0-163.9 71.8-163.9 150.1 0 36.4 19.4 81.7 50.3 96.1 4.7 2.2 7.2 1.2 8.3-3.3.8-3.4 5-20.3 6.9-28.1.6-2.5.3-4.7-1.7-7.1-10.1-12.5-18.3-35.3-18.3-56.6 0-54.7 41.4-107.6 112-107.6 60.9 0 103.6 41.5 103.6 100.9 0 67.1-33.9 113.6-78 113.6-24.3 0-42.6-20.1-36.7-44.8 7-29.5 20.5-61.3 20.5-82.6 0-19-10.2-34.9-31.4-34.9-24.9 0-44.9 25.7-44.9 60.2 0 22 7.4 36.8 7.4 36.8s-24.5 103.8-29 123.2c-5 21.4-3 51.6-.9 71.2C65.4 450.9 0 361.1 0 256 0 119 111 8 248 8s248 111 248 248z"}}]})(e)}function r8(e){return Q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M201.5 305.5c-13.8 0-24.9-11.1-24.9-24.6 0-13.8 11.1-24.9 24.9-24.9 13.6 0 24.6 11.1 24.6 24.9 0 13.6-11.1 24.6-24.6 24.6zM504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zm-132.3-41.2c-9.4 0-17.7 3.9-23.8 10-22.4-15.5-52.6-25.5-86.1-26.6l17.4-78.3 55.4 12.5c0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.3 24.9-24.9s-11.1-24.9-24.9-24.9c-9.7 0-18 5.8-22.1 13.8l-61.2-13.6c-3-.8-6.1 1.4-6.9 4.4l-19.1 86.4c-33.2 1.4-63.1 11.3-85.5 26.8-6.1-6.4-14.7-10.2-24.1-10.2-34.9 0-46.3 46.9-14.4 62.8-1.1 5-1.7 10.2-1.7 15.5 0 52.6 59.2 95.2 132 95.2 73.1 0 132.3-42.6 132.3-95.2 0-5.3-.6-10.8-1.9-15.8 31.3-16 19.8-62.5-14.9-62.5zM302.8 331c-18.2 18.2-76.1 17.9-93.6 0-2.2-2.2-6.1-2.2-8.3 0-2.5 2.5-2.5 6.4 0 8.6 22.8 22.8 87.3 22.8 110.2 0 2.5-2.2 2.5-6.1 0-8.6-2.2-2.2-6.1-2.2-8.3 0zm7.7-75c-13.6 0-24.6 11.1-24.6 24.9 0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.1 24.9-24.6 0-13.8-11-24.9-24.9-24.9z"}}]})(e)}function n8(e){return Q({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm169.5 338.9c-3.5 8.1-18.1 14-44.8 18.2-1.4 1.9-2.5 9.8-4.3 15.9-1.1 3.7-3.7 5.9-8.1 5.9h-.2c-6.2 0-12.8-2.9-25.8-2.9-17.6 0-23.7 4-37.4 13.7-14.5 10.3-28.4 19.1-49.2 18.2-21 1.6-38.6-11.2-48.5-18.2-13.8-9.7-19.8-13.7-37.4-13.7-12.5 0-20.4 3.1-25.8 3.1-5.4 0-7.5-3.3-8.3-6-1.8-6.1-2.9-14.1-4.3-16-13.8-2.1-44.8-7.5-45.5-21.4-.2-3.6 2.3-6.8 5.9-7.4 46.3-7.6 67.1-55.1 68-57.1 0-.1.1-.2.2-.3 2.5-5 3-9.2 1.6-12.5-3.4-7.9-17.9-10.7-24-13.2-15.8-6.2-18-13.4-17-18.3 1.6-8.5 14.4-13.8 21.9-10.3 5.9 2.8 11.2 4.2 15.7 4.2 3.3 0 5.5-.8 6.6-1.4-1.4-23.9-4.7-58 3.8-77.1C183.1 100 230.7 96 244.7 96c.6 0 6.1-.1 6.7-.1 34.7 0 68 17.8 84.3 54.3 8.5 19.1 5.2 53.1 3.8 77.1 1.1.6 2.9 1.3 5.7 1.4 4.3-.2 9.2-1.6 14.7-4.2 4-1.9 9.6-1.6 13.6 0 6.3 2.3 10.3 6.8 10.4 11.9.1 6.5-5.7 12.1-17.2 16.6-1.4.6-3.1 1.1-4.9 1.7-6.5 2.1-16.4 5.2-19 11.5-1.4 3.3-.8 7.5 1.6 12.5.1.1.1.2.2.3.9 2 21.7 49.5 68 57.1 4 1 7.1 5.5 4.9 10.8z"}}]})(e)}function s8(e){return Q({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111.1 8 0 119.1 0 256s111.1 248 248 248 248-111.1 248-248S384.9 8 248 8zm100.7 364.9c-4.2 0-6.8-1.3-10.7-3.6-62.4-37.6-135-39.2-206.7-24.5-3.9 1-9 2.6-11.9 2.6-9.7 0-15.8-7.7-15.8-15.8 0-10.3 6.1-15.2 13.6-16.8 81.9-18.1 165.6-16.5 237 26.2 6.1 3.9 9.7 7.4 9.7 16.5s-7.1 15.4-15.2 15.4zm26.9-65.6c-5.2 0-8.7-2.3-12.3-4.2-62.5-37-155.7-51.9-238.6-29.4-4.8 1.3-7.4 2.6-11.9 2.6-10.7 0-19.4-8.7-19.4-19.4s5.2-17.8 15.5-20.7c27.8-7.8 56.2-13.6 97.8-13.6 64.9 0 127.6 16.1 177 45.5 8.1 4.8 11.3 11 11.3 19.7-.1 10.8-8.5 19.5-19.4 19.5zm31-76.2c-5.2 0-8.4-1.3-12.9-3.9-71.2-42.5-198.5-52.7-280.9-29.7-3.6 1-8.1 2.6-12.9 2.6-13.2 0-23.3-10.3-23.3-23.6 0-13.6 8.4-21.3 17.4-23.9 35.2-10.3 74.6-15.2 117.5-15.2 73 0 149.5 15.2 205.4 47.8 7.8 4.5 12.9 10.7 12.9 22.6 0 13.6-11 23.3-23.2 23.3z"}}]})(e)}function t_(e){return Q({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm121.8 169.9l-40.7 191.8c-3 13.6-11.1 16.9-22.4 10.5l-62-45.7-29.9 28.8c-3.3 3.3-6.1 6.1-12.5 6.1l4.4-63.1 114.9-103.8c5-4.4-1.1-6.9-7.7-2.5l-142 89.4-61.2-19.1c-13.3-4.2-13.6-13.3 2.8-19.7l239.1-92.2c11.1-4 20.8 2.7 17.2 19.5z"}}]})(e)}function o8(e){return Q({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448,209.91a210.06,210.06,0,0,1-122.77-39.25V349.38A162.55,162.55,0,1,1,185,188.31V278.2a74.62,74.62,0,1,0,52.23,71.18V0l88,0a121.18,121.18,0,0,0,1.86,22.17h0A122.18,122.18,0,0,0,381,102.39a121.43,121.43,0,0,0,67,20.14Z"}}]})(e)}function i8(e){return Q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M391.17,103.47H352.54v109.7h38.63ZM285,103H246.37V212.75H285ZM120.83,0,24.31,91.42V420.58H140.14V512l96.53-91.42h77.25L487.69,256V0ZM449.07,237.75l-77.22,73.12H294.61l-67.6,64v-64H140.14V36.58H449.07Z"}}]})(e)}function a8(e){return Q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"}}]})(e)}function l8(e){return Q({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"}}]})(e)}function c8(e){return Q({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"}}]})(e)}function u8(e){return Q({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"}}]})(e)}function r_(e){return Q({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"}}]})(e)}function nu(e){return Q({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M0 512V48C0 21.49 21.49 0 48 0h288c26.51 0 48 21.49 48 48v464L192 400 0 512z"}}]})(e)}function ei(e){return Q({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"}}]})(e)}function d8(e){return Q({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"}}]})(e)}function n_(e){return Q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"}}]})(e)}function f8(e){return Q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32zM128 272c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"}}]})(e)}function Ua(e){return Q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32z"}}]})(e)}function s_(e){return Q({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"}}]})(e)}function h8(e){return Q({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M225.38 233.37c-12.5 12.5-12.5 32.76 0 45.25 12.49 12.5 32.76 12.5 45.25 0 12.5-12.5 12.5-32.76 0-45.25-12.5-12.49-32.76-12.49-45.25 0zM248 8C111.03 8 0 119.03 0 256s111.03 248 248 248 248-111.03 248-248S384.97 8 248 8zm126.14 148.05L308.17 300.4a31.938 31.938 0 0 1-15.77 15.77l-144.34 65.97c-16.65 7.61-33.81-9.55-26.2-26.2l65.98-144.35a31.938 31.938 0 0 1 15.77-15.77l144.34-65.97c16.65-7.6 33.8 9.55 26.19 26.2z"}}]})(e)}function ip(e){return Q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"}}]})(e)}function hf(e){return Q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"}}]})(e)}function sm(e){return Q({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"}}]})(e)}function om(e){return Q({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"}}]})(e)}function m8(e){return Q({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"}}]})(e)}function hx(e){return Q({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z"}}]})(e)}function g8(e){return Q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M192 208c0-17.67-14.33-32-32-32h-16c-35.35 0-64 28.65-64 64v48c0 35.35 28.65 64 64 64h16c17.67 0 32-14.33 32-32V208zm176 144c35.35 0 64-28.65 64-64v-48c0-35.35-28.65-64-64-64h-16c-17.67 0-32 14.33-32 32v112c0 17.67 14.33 32 32 32h16zM256 0C113.18 0 4.58 118.83 0 256v16c0 8.84 7.16 16 16 16h16c8.84 0 16-7.16 16-16v-16c0-114.69 93.31-208 208-208s208 93.31 208 208h-.12c.08 2.43.12 165.72.12 165.72 0 23.35-18.93 42.28-42.28 42.28H320c0-26.51-21.49-48-48-48h-32c-26.51 0-48 21.49-48 48s21.49 48 48 48h181.72c49.86 0 90.28-40.42 90.28-90.28V256C507.42 118.83 398.82 0 256 0z"}}]})(e)}function o_(e){return Q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"}}]})(e)}function i_(e){return Q({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"}}]})(e)}function im(e){return Q({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"}}]})(e)}function p8(e){return Q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"}}]})(e)}function a_(e){return Q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"}}]})(e)}function y8(e){return Q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"}}]})(e)}function x8(e){return Q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"}}]})(e)}function v8(e){return Q({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"}}]})(e)}function b8(e){return Q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"}}]})(e)}function l_(e){return Q({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z"}}]})(e)}function su(e){return Q({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(e)}function ap(e){return Q({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(e)}function ti(e){return Q({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"}}]})(e)}function w8(e){return Q({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M336.2 64H47.8C21.4 64 0 85.4 0 111.8v288.4C0 426.6 21.4 448 47.8 448h288.4c26.4 0 47.8-21.4 47.8-47.8V111.8c0-26.4-21.4-47.8-47.8-47.8zm189.4 37.7L416 177.3v157.4l109.6 75.5c21.2 14.6 50.4-.3 50.4-25.8V127.5c0-25.4-29.1-40.4-50.4-25.8z"}}]})(e)}const _8=()=>{const{user:e}=it(),[t,r]=h.useState([]),[n,s]=h.useState(0),[o,a]=h.useState(!1),l=h.useRef(null),[c,u]=h.useState(!0);h.useEffect(()=>{const v=w=>{l.current&&!l.current.contains(w.target)&&a(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[]),h.useEffect(()=>{if(!e)return;(async()=>{try{u(!0);const{data:p,error:y}=await D.from("notifications").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(10);if(y)throw console.error("Error fetching notifications:",y),y;console.log("Raw notifications:",p);const b=[];if(!p||p.length===0){b.push({id:"mock1",user_id:e.id,type:"friend_request",content:"Alex Johnson sent you a friend request",read:!1,created_at:new Date(Date.now()-36e5).toISOString(),related_id:"mock-user-1",related_url:"/profile/mock-user-1",sender:{id:"mock-user-1",full_name:"Alex Johnson",avatar_url:"https://randomuser.me/api/portraits/men/32.jpg"}},{id:"mock2",user_id:e.id,type:"like",content:"Maria Garcia liked your post",read:!1,created_at:new Date(Date.now()-72e5).toISOString(),related_id:"mock-post-1",related_url:"/post/mock-post-1",sender:{id:"mock-user-2",full_name:"Maria Garcia",avatar_url:"https://randomuser.me/api/portraits/women/44.jpg"}},{id:"mock3",user_id:e.id,type:"comment",content:"James Smith commented on your post",read:!0,created_at:new Date(Date.now()-864e5).toISOString(),related_id:"mock-post-2",related_url:"/post/mock-post-2",sender:{id:"mock-user-3",full_name:"James Smith",avatar_url:"https://randomuser.me/api/portraits/men/45.jpg"}},{id:"mock4",user_id:e.id,type:"group",content:"You were added to Photography Enthusiasts group",read:!0,created_at:new Date(Date.now()-1728e5).toISOString(),related_id:"mock-group-1",related_url:"/groups/mock-group-1",sender:{id:"mock-user-4",full_name:"Photography Enthusiasts",avatar_url:null}},{id:"mock5",user_id:e.id,type:"event",content:"New event: Tech Conference 2023",read:!1,created_at:new Date(Date.now()-2592e5).toISOString(),related_id:"mock-event-1",related_url:"/events/mock-event-1",sender:{id:"mock-user-5",full_name:"Tech Events",avatar_url:null}}),r(b),s(b.filter(_=>!_.read).length),u(!1);return}const k=await Promise.all((p||[]).map(async _=>{if(_.related_id)try{const{data:j,error:E}=await D.from("profiles").select("id, full_name, avatar_url").eq("id",_.related_id).single();if(!E&&j)return{..._,sender:j}}catch(j){console.error("Error fetching profile for notification:",j)}return _}));console.log("Notifications with profiles:",k),r(k),s(k.filter(_=>!_.read).length||0)}catch(p){console.error("Error fetching notifications:",p),d()}finally{u(!1)}})();const w=D.channel("notifications_changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${e.id}`},async p=>{console.log("New notification received:",p);const y=p.new;if(y.related_id){const{data:b}=await D.from("profiles").select("id, full_name, avatar_url").eq("id",y.related_id).single();b&&(y.sender=b)}console.log("Processed new notification:",y),r(b=>[y,...b].slice(0,10)),s(b=>b+1);try{new Audio("/notification.mp3").play()}catch(b){console.error("Error playing notification sound:",b)}}).subscribe();return()=>{D.removeChannel(w)}},[e]);const d=()=>{if(!e)return;const v=[{id:"mock1",user_id:e.id,type:"friend_request",content:"Alex Johnson sent you a friend request",read:!1,created_at:new Date(Date.now()-36e5).toISOString(),related_id:"mock-user-1",related_url:"/profile/mock-user-1",sender:{id:"mock-user-1",full_name:"Alex Johnson",avatar_url:"https://randomuser.me/api/portraits/men/32.jpg"}},{id:"mock2",user_id:e.id,type:"like",content:"Maria Garcia liked your post",read:!1,created_at:new Date(Date.now()-72e5).toISOString(),related_id:"mock-post-1",related_url:"/post/mock-post-1",sender:{id:"mock-user-2",full_name:"Maria Garcia",avatar_url:"https://randomuser.me/api/portraits/women/44.jpg"}},{id:"mock3",user_id:e.id,type:"comment",content:"James Smith commented on your post",read:!0,created_at:new Date(Date.now()-864e5).toISOString(),related_id:"mock-post-2",related_url:"/post/mock-post-2",sender:{id:"mock-user-3",full_name:"James Smith",avatar_url:"https://randomuser.me/api/portraits/men/45.jpg"}}];r(v),s(v.filter(w=>!w.read).length)},f=async()=>{if(!(!e||t.length===0))try{const{error:v}=await D.from("notifications").update({read:!0}).eq("user_id",e.id).eq("read",!1);if(v)throw v;r(w=>w.map(p=>({...p,read:!0}))),s(0)}catch(v){console.error("Error marking notifications as read:",v)}},m=async v=>{try{if(!v.startsWith("mock")){const{error:w}=await D.from("notifications").update({read:!0}).eq("id",v);if(w)throw w}r(w=>w.map(p=>p.id===v?{...p,read:!0}:p)),s(w=>Math.max(0,w-1))}catch(w){console.error("Error marking notification as read:",w)}},g=v=>{switch(v){case"friend_request":return i.jsx(su,{className:"w-4 h-4 text-indigo-500"});case"friend_accepted":return i.jsx(su,{className:"w-4 h-4 text-green-500"});case"like":return i.jsx(o_,{className:"w-4 h-4 text-rose-500"});case"comment":return i.jsx(Ua,{className:"w-4 h-4 text-green-500"});case"group":return i.jsx(ti,{className:"w-4 h-4 text-purple-500"});case"event":return i.jsx(ei,{className:"w-4 h-4 text-yellow-500"});default:return i.jsx(Ua,{className:"w-4 h-4 text-blue-500"})}},x=v=>{const w=new Date,p=new Date(v),y=Math.floor((w.getTime()-p.getTime())/1e3);if(y<60)return"just now";const b=Math.floor(y/60);if(b<60)return`${b}m ago`;const k=Math.floor(b/60);if(k<24)return`${k}h ago`;const _=Math.floor(k/24);return _<7?`${_}d ago`:p.toLocaleDateString()};return e?i.jsxs("div",{className:"relative",ref:l,children:[i.jsxs("button",{onClick:()=>a(!o),className:"relative p-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full","aria-label":"Notifications",children:[i.jsx(Fa,{className:"w-6 h-6"}),n>0&&i.jsx("span",{className:"absolute top-0 right-0 bg-rose-500 text-white text-xs w-5 h-5 flex items-center justify-center rounded-full",children:n>9?"9+":n})]}),o&&i.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white dark:bg-gray-800 rounded-md shadow-lg z-50 overflow-hidden border border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b dark:border-gray-700",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Notifications"}),n>0&&i.jsx("button",{onClick:f,className:"text-sm text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-300",children:"Mark all as read"})]}),i.jsx("div",{className:"max-h-96 overflow-y-auto",children:c?i.jsx("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400",children:"Loading notifications..."}):t.length===0?i.jsxs("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400",children:[i.jsx("div",{className:"flex justify-center mb-3",children:i.jsx(Fa,{className:"w-12 h-12 text-gray-300 dark:text-gray-600"})}),i.jsx("p",{children:"No notifications yet"})]}):t.map(v=>{var p,y,b;const w=v.related_url||"#";return i.jsxs("div",{className:`p-4 border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-750 transition-colors relative ${v.read?"":"bg-indigo-50 dark:bg-indigo-900/10"}`,children:[i.jsxs(be,{to:w,className:"flex items-start space-x-3",onClick:()=>{v.read||m(v.id)},children:[i.jsx("div",{className:"mt-1.5 flex-shrink-0",children:(p=v.sender)!=null&&p.avatar_url?i.jsx("img",{src:v.sender.avatar_url,alt:v.sender.full_name||"",className:"w-9 h-9 rounded-full object-cover",onError:k=>{var _,j;k.target.src="https://via.placeholder.com/40?text="+(((j=(_=v.sender)==null?void 0:_.full_name)==null?void 0:j.charAt(0))||"?")}}):i.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-r from-indigo-500 to-purple-500 flex items-center justify-center text-white",children:((b=(y=v.sender)==null?void 0:y.full_name)==null?void 0:b.charAt(0))||"?"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 leading-tight",children:v.content}),i.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 flex items-center space-x-1",children:[i.jsx("span",{className:"inline-block mr-1",children:g(v.type)}),i.jsx("span",{children:x(v.created_at)})]})]})]}),!v.read&&i.jsx("span",{className:"absolute right-3 top-3 flex-shrink-0 rounded-full w-2 h-2 bg-indigo-500"})]},v.id)})}),i.jsx("div",{className:"p-2 border-t dark:border-gray-700 bg-gray-50 dark:bg-gray-800/40",children:i.jsx(be,{to:"/notifications",className:"w-full py-2 text-sm text-center text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md block transition-colors",onClick:()=>a(!1),children:"View all notifications"})})]})]}):null},k8=()=>{const[e,t]=h.useState(!1),r=rr(),{t:n}=Rr();h.useEffect(()=>{t(!1)},[r.pathname]),h.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[e]);const s=c=>r.pathname===c,o=[{path:"/",label:n("sidebar.home"),icon:i.jsx(i_,{size:20})},{path:"/profile",label:n("sidebar.profile"),icon:i.jsx(ap,{size:20})},{path:"/groups",label:n("sidebar.groups"),icon:i.jsx(ti,{size:20})},{path:"/events",label:n("sidebar.events"),icon:i.jsx(ei,{size:20})}],a=[{path:"/friends",label:n("sidebar.friends"),icon:i.jsx(l_,{size:20})},{path:"/chat",label:n("sidebar.chat"),icon:i.jsx(Ua,{size:20})},{path:"/messages",label:n("sidebar.messages"),icon:i.jsx(s_,{size:20})},{path:"/notifications",label:n("notifications.title"),icon:i.jsx(r_,{size:20})},{path:"/saved",label:n("sidebar.saved"),icon:i.jsx(nu,{size:20})},{path:"/settings",label:n("sidebar.settings"),icon:i.jsx(n_,{size:20})}],l=()=>{t(!1),window.scrollTo(0,0)};return i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>t(!e),className:"p-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors","aria-label":"Toggle mobile menu",children:e?i.jsx(cn,{size:24}):i.jsx(BT,{size:24})}),e&&i.jsx("div",{className:"fixed inset-0 z-50 bg-black/60 backdrop-blur-sm",onClick:()=>t(!1),children:i.jsxs("div",{className:"absolute left-0 top-0 h-full w-3/4 max-w-[280px] bg-white dark:bg-gray-800 shadow-xl p-4 overflow-y-auto",onClick:c=>c.stopPropagation(),children:[i.jsxs("div",{className:"flex justify-between items-center mb-6 pb-4 border-b border-gray-200 dark:border-gray-700",children:[i.jsx("h2",{className:"text-xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-violet-500 dark:from-indigo-400 dark:to-purple-300",children:"ConnectMe"}),i.jsx("button",{onClick:()=>t(!1),className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:i.jsx(cn,{size:20,className:"text-gray-600 dark:text-gray-300"})})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"px-3 text-xs uppercase text-gray-500 dark:text-gray-400 font-semibold mb-2",children:n("sidebar.main")}),i.jsx("div",{className:"space-y-1",children:o.map(c=>i.jsxs(be,{to:c.path,className:`flex items-center px-3 py-2 rounded-md transition-colors ${s(c.path)?"bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 font-medium":"text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700"}`,onClick:l,children:[i.jsx("span",{className:"mr-3",children:c.icon}),i.jsx("span",{children:c.label})]},c.path))})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"px-3 text-xs uppercase text-gray-500 dark:text-gray-400 font-semibold mb-2",children:n("sidebar.resources")}),i.jsx("div",{className:"space-y-1",children:a.map(c=>i.jsxs(be,{to:c.path,className:`flex items-center px-3 py-2 rounded-md transition-colors ${s(c.path)?"bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 font-medium":"text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700"}`,onClick:l,children:[i.jsx("span",{className:"mr-3",children:c.icon}),i.jsx("span",{children:c.label})]},c.path))})]})]})})]})},od=()=>{const e=h.useContext(rd);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},S8=()=>{const{user:e}=od(),[t,r]=h.useState([]),[n,s]=h.useState(!0),o=h.useRef(null),a=h.useRef(0),l=h.useCallback(async(d=!1)=>{const f=Date.now();if(!(!d&&f-a.current<3e4)&&e!=null&&e.id){a.current=f;try{s(!0);const{data:m,error:g}=await D.from("notifications").select("*").eq("user_id",e.id).eq("read",!1).order("created_at",{ascending:!1}).limit(20);if(g)throw g;const x=await Promise.all((m||[]).map(async v=>{if(v.related_id)try{const{data:w,error:p}=await D.from("profiles").select("id, full_name, avatar_url").eq("id",v.related_id).single();if(!p&&w)return{...v,sender:w}}catch(w){console.error("Error fetching profile for notification:",w)}return v}));r(x)}catch(m){console.error("Error fetching notifications:",m)}finally{s(!1)}}},[e==null?void 0:e.id]),c=h.useCallback(async d=>{if(e!=null&&e.id)try{const{error:f}=await D.from("notifications").update({read:!0}).eq("id",d);if(f)throw f;r(m=>m.filter(g=>g.id!==d)),setTimeout(()=>{l(!0)},100)}catch(f){console.error("Error marking notification as read:",f)}},[l,e==null?void 0:e.id]),u=h.useCallback(async()=>{if(e!=null&&e.id)try{const{error:d}=await D.from("notifications").update({read:!0}).eq("user_id",e.id).eq("read",!1);if(d)throw d;r([]),setTimeout(()=>{l(!0)},100)}catch(d){console.error("Error marking all notifications as read:",d)}},[e==null?void 0:e.id,l]);return h.useEffect(()=>{if(!e)return;l(!0);const d=D.channel("notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${e.id}`},f=>{const m=f.new;r(g=>[m,...g])}).subscribe();return o.current=d,()=>{o.current&&o.current.unsubscribe()}},[e,l]),{notifications:t,loading:n,markAsRead:c,markAllAsRead:u,fetchNotifications:()=>l(!0)}},lp=h.createContext({});function cp(e){const t=h.useRef(null);return t.current===null&&(t.current=e()),t.current}const up=typeof window<"u",c_=up?h.useLayoutEffect:h.useEffect,id=h.createContext(null),dp=h.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class j8 extends h.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,s=n instanceof HTMLElement&&n.offsetWidth||0,o=this.props.sizeRef.current;o.height=r.offsetHeight||0,o.width=r.offsetWidth||0,o.top=r.offsetTop,o.left=r.offsetLeft,o.right=s-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function N8({children:e,isPresent:t,anchorX:r}){const n=h.useId(),s=h.useRef(null),o=h.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=h.useContext(dp);return h.useInsertionEffect(()=>{const{width:l,height:c,top:u,left:d,right:f}=o.current;if(t||!s.current||!l||!c)return;const m=r==="left"?`left: ${d}`:`right: ${f}`;s.current.dataset.motionPopId=n;const g=document.createElement("style");return a&&(g.nonce=a),document.head.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            ${m}px !important;
            top: ${u}px !important;
          }
        `),()=>{document.head.removeChild(g)}},[t]),i.jsx(j8,{isPresent:t,childRef:s,sizeRef:o,children:h.cloneElement(e,{ref:s})})}const C8=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:o,mode:a,anchorX:l})=>{const c=cp(E8),u=h.useId(),d=h.useCallback(m=>{c.set(m,!0);for(const g of c.values())if(!g)return;n&&n()},[c,n]),f=h.useMemo(()=>({id:u,initial:t,isPresent:r,custom:s,onExitComplete:d,register:m=>(c.set(m,!1),()=>c.delete(m))}),o?[Math.random(),d]:[r,d]);return h.useMemo(()=>{c.forEach((m,g)=>c.set(g,!1))},[r]),h.useEffect(()=>{!r&&!c.size&&n&&n()},[r]),a==="popLayout"&&(e=i.jsx(N8,{isPresent:r,anchorX:l,children:e})),i.jsx(id.Provider,{value:f,children:e})};function E8(){return new Map}function u_(e=!0){const t=h.useContext(id);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=t,o=h.useId();h.useEffect(()=>{if(e)return s(o)},[e]);const a=h.useCallback(()=>e&&n&&n(o),[o,n,e]);return!r&&n?[!1,a]:[!0]}const Vl=e=>e.key||"";function mx(e){const t=[];return h.Children.forEach(e,r=>{h.isValidElement(r)&&t.push(r)}),t}const fp=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:s=!0,mode:o="sync",propagate:a=!1,anchorX:l="left"})=>{const[c,u]=u_(a),d=h.useMemo(()=>mx(e),[e]),f=a&&!c?[]:d.map(Vl),m=h.useRef(!0),g=h.useRef(d),x=cp(()=>new Map),[v,w]=h.useState(d),[p,y]=h.useState(d);c_(()=>{m.current=!1,g.current=d;for(let _=0;_<p.length;_++){const j=Vl(p[_]);f.includes(j)?x.delete(j):x.get(j)!==!0&&x.set(j,!1)}},[p,f.length,f.join("-")]);const b=[];if(d!==v){let _=[...d];for(let j=0;j<p.length;j++){const E=p[j],N=Vl(E);f.includes(N)||(_.splice(j,0,E),b.push(E))}return o==="wait"&&b.length&&(_=b),y(mx(_)),w(d),null}const{forceRender:k}=h.useContext(lp);return i.jsx(i.Fragment,{children:p.map(_=>{const j=Vl(_),E=a&&!c?!1:d===p||f.includes(j),N=()=>{if(x.has(j))x.set(j,!0);else return;let F=!0;x.forEach(C=>{C||(F=!1)}),F&&(k==null||k(),y(g.current),a&&(u==null||u()),n&&n())};return i.jsx(C8,{isPresent:E,initial:!m.current||r?void 0:!1,custom:t,presenceAffectsLayout:s,mode:o,onExitComplete:E?void 0:N,anchorX:l,children:_},j)})})};function hp(e,t){e.indexOf(t)===-1&&e.push(t)}function mp(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}let d_=()=>{};const P8={useManualTiming:!1};function gp(e){let t;return()=>(t===void 0&&(t=e()),t)}const dr=e=>e,za=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class pp{constructor(){this.subscriptions=[]}add(t){return hp(this.subscriptions,t),()=>mp(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let o=0;o<s;o++){const a=this.subscriptions[o];a&&a(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const qr=e=>e*1e3,Wr=e=>e/1e3;function f_(e,t){return t?e*(1e3/t):0}const T8=gp(()=>window.ScrollTimeline!==void 0);class A8{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t,r){const n=this.animations.map(s=>{if(T8()&&s.attachTimeline)return s.attachTimeline(t);if(typeof r=="function")return r(s)});return()=>{n.forEach((s,o)=>{s&&s(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class R8 extends A8{then(t,r){return this.finished.finally(t).then(()=>{})}}const gx={value:null},yp=e=>Array.isArray(e)&&typeof e[0]=="number",M8={};function D8(e,t){const r=gp(e);return()=>M8[t]??r()}const Ba=D8(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),h_=(e,t,r=10)=>{let n="";const s=Math.max(Math.round(t/r),2);for(let o=0;o<s;o++)n+=e(o/(s-1))+", ";return`linear(${n.substring(0,n.length-2)})`},Hi=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,am={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Hi([0,.65,.55,1]),circOut:Hi([.55,0,1,.45]),backIn:Hi([.31,.01,.66,-.59]),backOut:Hi([.33,1.53,.69,.99])};function m_(e,t){if(e)return typeof e=="function"&&Ba()?h_(e,t):yp(e)?Hi(e):Array.isArray(e)?e.map(r=>m_(r,t)||am.easeOut):am[e]}function L8(e,t,r,{delay:n=0,duration:s=300,repeat:o=0,repeatType:a="loop",ease:l="easeInOut",times:c}={},u=void 0){const d={[t]:r};c&&(d.offset=c);const f=m_(l,s);return Array.isArray(f)&&(d.easing=f),e.animate(d,{delay:n,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:o+1,direction:a==="reverse"?"alternate":"normal",pseudoElement:u})}function xp(e){return typeof e=="function"&&"applyToOptions"in e}function vp(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const ou=2e4;function bp(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<ou;)t+=r,n=e.next(t);return t>=ou?1/0:t}function O8(e,t=100,r){const n=r({...e,keyframes:[0,t]}),s=Math.min(bp(n),ou);return{type:"keyframes",ease:o=>n.next(s*o).value/t,duration:Wr(s)}}function g_(e){return!!(typeof e=="function"&&Ba()||!e||typeof e=="string"&&(e in am||Ba())||yp(e)||Array.isArray(e)&&e.every(g_))}function px(e,t){e.timeline=t,e.onfinish=null}const Gl=["read","resolveKeyframes","update","preRender","render","postRender"];function I8(e,t){let r=new Set,n=new Set,s=!1,o=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function u(f){a.has(f)&&(d.schedule(f),e()),c++,f(l)}const d={schedule:(f,m=!1,g=!1)=>{const v=g&&s?r:n;return m&&a.add(f),v.has(f)||v.add(f),f},cancel:f=>{n.delete(f),a.delete(f)},process:f=>{if(l=f,s){o=!0;return}s=!0,[r,n]=[n,r],r.forEach(u),t&&gx.value&&gx.value.frameloop[t].push(c),c=0,r.clear(),s=!1,o&&(o=!1,d.process(f))}};return d}const F8=40;function p_(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>r=!0,a=Gl.reduce((p,y)=>(p[y]=I8(o,t?y:void 0),p),{}),{read:l,resolveKeyframes:c,update:u,preRender:d,render:f,postRender:m}=a,g=()=>{const p=performance.now();r=!1,s.delta=n?1e3/60:Math.max(Math.min(p-s.timestamp,F8),1),s.timestamp=p,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),d.process(s),f.process(s),m.process(s),s.isProcessing=!1,r&&t&&(n=!1,e(g))},x=()=>{r=!0,n=!0,s.isProcessing||e(g)};return{schedule:Gl.reduce((p,y)=>{const b=a[y];return p[y]=(k,_=!1,j=!1)=>(r||x(),b.schedule(k,_,j)),p},{}),cancel:p=>{for(let y=0;y<Gl.length;y++)a[Gl[y]].cancel(p)},state:s,steps:a}}const{schedule:$e,cancel:Xn,state:yt,steps:mf}=p_(typeof requestAnimationFrame<"u"?requestAnimationFrame:dr,!0),{schedule:wp}=p_(queueMicrotask,!1);let vc;function $8(){vc=void 0}const Hr={now:()=>(vc===void 0&&Hr.set(yt.isProcessing||P8.useManualTiming?yt.timestamp:performance.now()),vc),set:e=>{vc=e,queueMicrotask($8)}},vr={x:!1,y:!1};function y_(){return vr.x||vr.y}function U8(e){return e==="x"||e==="y"?vr[e]?null:(vr[e]=!0,()=>{vr[e]=!1}):vr.x||vr.y?null:(vr.x=vr.y=!0,()=>{vr.x=vr.y=!1})}function z8(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const s=document.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}function x_(e,t){const r=z8(e),n=new AbortController,s={passive:!0,...t,signal:n.signal};return[r,s,()=>n.abort()]}function yx(e){return!(e.pointerType==="touch"||y_())}function B8(e,t,r={}){const[n,s,o]=x_(e,r),a=l=>{if(!yx(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const d=f=>{yx(f)&&(u(f),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,s)};return n.forEach(l=>{l.addEventListener("pointerenter",a,s)}),o}const v_=(e,t)=>t?e===t?!0:v_(e,t.parentElement):!1,_p=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,V8=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function G8(e){return V8.has(e.tagName)||e.tabIndex!==-1}const Ki=new WeakSet;function xx(e){return t=>{t.key==="Enter"&&e(t)}}function gf(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const q8=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=xx(()=>{if(Ki.has(r))return;gf(r,"down");const s=xx(()=>{gf(r,"up")}),o=()=>gf(r,"cancel");r.addEventListener("keyup",s,t),r.addEventListener("blur",o,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function vx(e){return _p(e)&&!y_()}function W8(e,t,r={}){const[n,s,o]=x_(e,r),a=l=>{const c=l.currentTarget;if(!vx(l)||Ki.has(c))return;Ki.add(c);const u=t(c,l),d=(g,x)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",m),!(!vx(g)||!Ki.has(c))&&(Ki.delete(c),typeof u=="function"&&u(g,{success:x}))},f=g=>{d(g,c===window||c===document||r.useGlobalTarget||v_(c,g.target))},m=g=>{d(g,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",m,s)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",a,s),l instanceof HTMLElement&&(l.addEventListener("focus",u=>q8(u,s)),!G8(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),o}const bx=30,H8=e=>!isNaN(parseFloat(e));class K8{constructor(t,r={}){this.version="12.6.3",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,s=!0)=>{const o=Hr.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Hr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=H8(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new pp);const n=this.events[t].add(r);return t==="change"?()=>{n(),$e.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Hr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>bx)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,bx);return f_(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Va(e,t){return new K8(e,t)}const b_=h.createContext({strict:!1}),wx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ri={};for(const e in wx)ri[e]={isEnabled:t=>wx[e].some(r=>!!t[r])};function Y8(e){for(const t in e)ri[t]={...ri[t],...e[t]}}const J8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function iu(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||J8.has(e)}let w_=e=>!iu(e);function X8(e){e&&(w_=t=>t.startsWith("on")?!iu(t):e(t))}try{X8(require("@emotion/is-prop-valid").default)}catch{}function Q8(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(w_(s)||r===!0&&iu(s)||!t&&!iu(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}function Z8(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const ad=h.createContext({});function ld(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Ga(e){return typeof e=="string"||Array.isArray(e)}const kp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Sp=["initial",...kp];function cd(e){return ld(e.animate)||Sp.some(t=>Ga(e[t]))}function __(e){return!!(cd(e)||e.variants)}function eA(e,t){if(cd(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Ga(r)?r:void 0,animate:Ga(n)?n:void 0}}return e.inherit!==!1?t:{}}function tA(e){const{initial:t,animate:r}=eA(e,h.useContext(ad));return h.useMemo(()=>({initial:t,animate:r}),[_x(t),_x(r)])}function _x(e){return Array.isArray(e)?e.join(" "):e}const rA=Symbol.for("motionComponentSymbol");function Po(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function nA(e,t,r){return h.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Po(r)&&(r.current=n))},[t])}const jp=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),sA="framerAppearId",k_="data-"+jp(sA),S_=h.createContext({});function oA(e,t,r,n,s){var v,w;const{visualElement:o}=h.useContext(ad),a=h.useContext(b_),l=h.useContext(id),c=h.useContext(dp).reducedMotion,u=h.useRef(null);n=n||a.renderer,!u.current&&n&&(u.current=n(e,{visualState:t,parent:o,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,f=h.useContext(S_);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&iA(u.current,r,s,f);const m=h.useRef(!1);h.useInsertionEffect(()=>{d&&m.current&&d.update(r,l)});const g=r[k_],x=h.useRef(!!g&&!((v=window.MotionHandoffIsComplete)!=null&&v.call(window,g))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,g)));return c_(()=>{d&&(m.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),wp.render(d.render),x.current&&d.animationState&&d.animationState.animateChanges())}),h.useEffect(()=>{d&&(!x.current&&d.animationState&&d.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var p;(p=window.MotionHandoffMarkAsComplete)==null||p.call(window,g)}),x.current=!1))}),d}function iA(e,t,r,n){const{layoutId:s,layout:o,drag:a,dragConstraints:l,layoutScroll:c,layoutRoot:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:j_(e.parent)),e.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!a||l&&Po(l),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:n,layoutScroll:c,layoutRoot:u})}function j_(e){if(e)return e.options.allowProjection!==!1?e.projection:j_(e.parent)}function aA({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:s}){e&&Y8(e);function o(l,c){let u;const d={...h.useContext(dp),...l,layoutId:lA(l)},{isStatic:f}=d,m=tA(l),g=n(l,f);if(!f&&up){cA();const x=uA(d);u=x.MeasureLayout,m.visualElement=oA(s,g,d,t,x.ProjectionNode)}return i.jsxs(ad.Provider,{value:m,children:[u&&m.visualElement?i.jsx(u,{visualElement:m.visualElement,...d}):null,r(s,l,nA(g,m.visualElement,c),g,f,m.visualElement)]})}o.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const a=h.forwardRef(o);return a[rA]=s,a}function lA({layoutId:e}){const t=h.useContext(lp).id;return t&&e!==void 0?t+"-"+e:e}function cA(e,t){h.useContext(b_).strict}function uA(e){const{drag:t,layout:r}=ri;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const N_=e=>t=>typeof t=="string"&&t.startsWith(e),Np=N_("--"),dA=N_("var(--"),Cp=e=>dA(e)?fA.test(e.split("/*")[0].trim()):!1,fA=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,qa={};function hA(e){for(const t in e)qa[t]=e[t],Np(t)&&(qa[t].isCSSVariable=!0)}const pi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ks=new Set(pi);function C_(e,{layout:t,layoutId:r}){return Ks.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!qa[e]||e==="opacity")}const jt=e=>!!(e&&e.getVelocity),E_=(e,t)=>t&&typeof e=="number"?t.transform(e):e,gn=(e,t,r)=>r>t?t:r<e?e:r,yi={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Wa={...yi,transform:e=>gn(0,1,e)},ql={...yi,default:1},cl=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Nn=cl("deg"),Kr=cl("%"),me=cl("px"),mA=cl("vh"),gA=cl("vw"),kx={...Kr,parse:e=>Kr.parse(e)/100,transform:e=>Kr.transform(e*100)},pA={borderWidth:me,borderTopWidth:me,borderRightWidth:me,borderBottomWidth:me,borderLeftWidth:me,borderRadius:me,radius:me,borderTopLeftRadius:me,borderTopRightRadius:me,borderBottomRightRadius:me,borderBottomLeftRadius:me,width:me,maxWidth:me,height:me,maxHeight:me,top:me,right:me,bottom:me,left:me,padding:me,paddingTop:me,paddingRight:me,paddingBottom:me,paddingLeft:me,margin:me,marginTop:me,marginRight:me,marginBottom:me,marginLeft:me,backgroundPositionX:me,backgroundPositionY:me},yA={rotate:Nn,rotateX:Nn,rotateY:Nn,rotateZ:Nn,scale:ql,scaleX:ql,scaleY:ql,scaleZ:ql,skew:Nn,skewX:Nn,skewY:Nn,distance:me,translateX:me,translateY:me,translateZ:me,x:me,y:me,z:me,perspective:me,transformPerspective:me,opacity:Wa,originX:kx,originY:kx,originZ:me},Sx={...yi,transform:Math.round},Ep={...pA,...yA,zIndex:Sx,size:me,fillOpacity:Wa,strokeOpacity:Wa,numOctaves:Sx},xA={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},vA=pi.length;function bA(e,t,r){let n="",s=!0;for(let o=0;o<vA;o++){const a=pi[o],l=e[a];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(a.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=E_(l,Ep[a]);if(!c){s=!1;const d=xA[a]||a;n+=`${d}(${u}) `}r&&(t[a]=u)}}return n=n.trim(),r?n=r(t,s?"":n):s&&(n="none"),n}function Pp(e,t,r){const{style:n,vars:s,transformOrigin:o}=e;let a=!1,l=!1;for(const c in t){const u=t[c];if(Ks.has(c)){a=!0;continue}else if(Np(c)){s[c]=u;continue}else{const d=E_(u,Ep[c]);c.startsWith("origin")?(l=!0,o[c]=d):n[c]=d}}if(t.transform||(a||r?n.transform=bA(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=o;n.transformOrigin=`${c} ${u} ${d}`}}const Tp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function P_(e,t,r){for(const n in t)!jt(t[n])&&!C_(n,r)&&(e[n]=t[n])}function wA({transformTemplate:e},t){return h.useMemo(()=>{const r=Tp();return Pp(r,t,e),Object.assign({},r.vars,r.style)},[t])}function _A(e,t){const r=e.style||{},n={};return P_(n,r,e),Object.assign(n,wA(e,t)),n}function kA(e,t){const r={},n=_A(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const SA=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ap(e){return typeof e!="string"||e.includes("-")?!1:!!(SA.indexOf(e)>-1||/[A-Z]/u.test(e))}const jA={offset:"stroke-dashoffset",array:"stroke-dasharray"},NA={offset:"strokeDashoffset",array:"strokeDasharray"};function CA(e,t,r=1,n=0,s=!0){e.pathLength=1;const o=s?jA:NA;e[o.offset]=me.transform(-n);const a=me.transform(t),l=me.transform(r);e[o.array]=`${a} ${l}`}function jx(e,t,r){return typeof e=="string"?e:me.transform(t+r*e)}function EA(e,t,r){const n=jx(t,e.x,e.width),s=jx(r,e.y,e.height);return`${n} ${s}`}function Rp(e,{attrX:t,attrY:r,attrScale:n,originX:s,originY:o,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...u},d,f){if(Pp(e,u,f),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:g,dimensions:x}=e;m.transform&&(x&&(g.transform=m.transform),delete m.transform),x&&(s!==void 0||o!==void 0||g.transform)&&(g.transformOrigin=EA(x,s!==void 0?s:.5,o!==void 0?o:.5)),t!==void 0&&(m.x=t),r!==void 0&&(m.y=r),n!==void 0&&(m.scale=n),a!==void 0&&CA(m,a,l,c,!1)}const T_=()=>({...Tp(),attrs:{}}),Mp=e=>typeof e=="string"&&e.toLowerCase()==="svg";function PA(e,t,r,n){const s=h.useMemo(()=>{const o=T_();return Rp(o,t,Mp(n),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};P_(o,e.style,e),s.style={...o,...s.style}}return s}function TA(e=!1){return(r,n,s,{latestValues:o},a)=>{const c=(Ap(r)?PA:kA)(n,o,a,r),u=Q8(n,typeof r=="string",e),d=r!==h.Fragment?{...u,...c,ref:s}:{},{children:f}=n,m=h.useMemo(()=>jt(f)?f.get():f,[f]);return h.createElement(r,{...d,children:m})}}function Nx(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function Dp(e,t,r,n){if(typeof t=="function"){const[s,o]=Nx(n);t=t(r!==void 0?r:e.custom,s,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,o]=Nx(n);t=t(r!==void 0?r:e.custom,s,o)}return t}const lm=e=>Array.isArray(e),AA=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),RA=e=>lm(e)?e[e.length-1]||0:e;function bc(e){const t=jt(e)?e.get():e;return AA(t)?t.toValue():t}function MA({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:r},n,s,o){const a={latestValues:DA(n,s,o,e),renderState:t()};return r&&(a.onMount=l=>r({props:n,current:l,...a}),a.onUpdate=l=>r(l)),a}const A_=e=>(t,r)=>{const n=h.useContext(ad),s=h.useContext(id),o=()=>MA(e,t,n,s);return r?o():cp(o)};function DA(e,t,r,n){const s={},o=n(e,{});for(const m in o)s[m]=bc(o[m]);let{initial:a,animate:l}=e;const c=cd(e),u=__(e);t&&u&&!c&&e.inherit!==!1&&(a===void 0&&(a=t.initial),l===void 0&&(l=t.animate));let d=r?r.initial===!1:!1;d=d||a===!1;const f=d?l:a;if(f&&typeof f!="boolean"&&!ld(f)){const m=Array.isArray(f)?f:[f];for(let g=0;g<m.length;g++){const x=Dp(e,m[g]);if(x){const{transitionEnd:v,transition:w,...p}=x;for(const y in p){let b=p[y];if(Array.isArray(b)){const k=d?b.length-1:0;b=b[k]}b!==null&&(s[y]=b)}for(const y in v)s[y]=v[y]}}}return s}function Lp(e,t,r){var o;const{style:n}=e,s={};for(const a in n)(jt(n[a])||t.style&&jt(t.style[a])||C_(a,e)||((o=r==null?void 0:r.getValue(a))==null?void 0:o.liveStyle)!==void 0)&&(s[a]=n[a]);return s}const LA={useVisualState:A_({scrapeMotionValuesFromProps:Lp,createRenderState:Tp})};function R_(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}function M_(e,{style:t,vars:r},n,s){Object.assign(e.style,t,s&&s.getProjectionStyles(n));for(const o in r)e.style.setProperty(o,r[o])}const D_=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function L_(e,t,r,n){M_(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(D_.has(s)?s:jp(s),t.attrs[s])}function O_(e,t,r){const n=Lp(e,t,r);for(const s in e)if(jt(e[s])||jt(t[s])){const o=pi.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[o]=e[s]}return n}const Cx=["x","y","width","height","cx","cy","r"],OA={useVisualState:A_({scrapeMotionValuesFromProps:O_,createRenderState:T_,onUpdate:({props:e,prevProps:t,current:r,renderState:n,latestValues:s})=>{if(!r)return;let o=!!e.drag;if(!o){for(const l in s)if(Ks.has(l)){o=!0;break}}if(!o)return;let a=!t;if(t)for(let l=0;l<Cx.length;l++){const c=Cx[l];e[c]!==t[c]&&(a=!0)}a&&$e.read(()=>{R_(r,n),$e.render(()=>{Rp(n,s,Mp(r.tagName),e.transformTemplate),L_(r,n)})})}})};function IA(e,t){return function(n,{forwardMotionProps:s}={forwardMotionProps:!1}){const a={...Ap(n)?OA:LA,preloadedFeatures:e,useRender:TA(s),createVisualElement:t,Component:n};return aA(a)}}function Ha(e,t,r){const n=e.getProps();return Dp(n,t,r!==void 0?r:n.custom,e)}const I_=new Set(["width","height","top","left","right","bottom",...pi]);function FA(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Va(r))}function $A(e,t){const r=Ha(e,t);let{transitionEnd:n={},transition:s={},...o}=r||{};o={...o,...n};for(const a in o){const l=RA(o[a]);FA(e,a,l)}}function UA(e){return!!(jt(e)&&e.add)}function cm(e,t){const r=e.getValue("willChange");if(UA(r))return r.add(t)}function F_(e){return e.props[k_]}const $_=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,zA=1e-7,BA=12;function VA(e,t,r,n,s){let o,a,l=0;do a=t+(r-t)/2,o=$_(a,n,s)-e,o>0?r=a:t=a;while(Math.abs(o)>zA&&++l<BA);return a}function ul(e,t,r,n){if(e===t&&r===n)return dr;const s=o=>VA(o,0,1,e,r);return o=>o===0||o===1?o:$_(s(o),t,n)}const U_=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,z_=e=>t=>1-e(1-t),B_=ul(.33,1.53,.69,.99),Op=z_(B_),V_=U_(Op),G_=e=>(e*=2)<1?.5*Op(e):.5*(2-Math.pow(2,-10*(e-1))),Ip=e=>1-Math.sin(Math.acos(e)),q_=z_(Ip),W_=U_(Ip),H_=e=>/^0[^.\s]+$/u.test(e);function GA(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||H_(e):!0}const fa=e=>Math.round(e*1e5)/1e5,Fp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function qA(e){return e==null}const WA=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,$p=(e,t)=>r=>!!(typeof r=="string"&&WA.test(r)&&r.startsWith(e)||t&&!qA(r)&&Object.prototype.hasOwnProperty.call(r,t)),K_=(e,t,r)=>n=>{if(typeof n!="string")return n;const[s,o,a,l]=n.match(Fp);return{[e]:parseFloat(s),[t]:parseFloat(o),[r]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},HA=e=>gn(0,255,e),pf={...yi,transform:e=>Math.round(HA(e))},Ns={test:$p("rgb","red"),parse:K_("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+pf.transform(e)+", "+pf.transform(t)+", "+pf.transform(r)+", "+fa(Wa.transform(n))+")"};function KA(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const um={test:$p("#"),parse:KA,transform:Ns.transform},To={test:$p("hsl","hue"),parse:K_("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Kr.transform(fa(t))+", "+Kr.transform(fa(r))+", "+fa(Wa.transform(n))+")"},kt={test:e=>Ns.test(e)||um.test(e)||To.test(e),parse:e=>Ns.test(e)?Ns.parse(e):To.test(e)?To.parse(e):um.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ns.transform(e):To.transform(e)},YA=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function JA(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Fp))==null?void 0:t.length)||0)+(((r=e.match(YA))==null?void 0:r.length)||0)>0}const Y_="number",J_="color",XA="var",QA="var(",Ex="${}",ZA=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ka(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},s=[];let o=0;const l=t.replace(ZA,c=>(kt.test(c)?(n.color.push(o),s.push(J_),r.push(kt.parse(c))):c.startsWith(QA)?(n.var.push(o),s.push(XA),r.push(c)):(n.number.push(o),s.push(Y_),r.push(parseFloat(c))),++o,Ex)).split(Ex);return{values:r,split:l,indexes:n,types:s}}function X_(e){return Ka(e).values}function Q_(e){const{split:t,types:r}=Ka(e),n=t.length;return s=>{let o="";for(let a=0;a<n;a++)if(o+=t[a],s[a]!==void 0){const l=r[a];l===Y_?o+=fa(s[a]):l===J_?o+=kt.transform(s[a]):o+=s[a]}return o}}const eR=e=>typeof e=="number"?0:e;function tR(e){const t=X_(e);return Q_(e)(t.map(eR))}const Qn={test:JA,parse:X_,createTransformer:Q_,getAnimatableNone:tR},rR=new Set(["brightness","contrast","saturate","opacity"]);function nR(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(Fp)||[];if(!n)return e;const s=r.replace(n,"");let o=rR.has(t)?1:0;return n!==r&&(o*=100),t+"("+o+s+")"}const sR=/\b([a-z-]*)\(.*?\)/gu,dm={...Qn,getAnimatableNone:e=>{const t=e.match(sR);return t?t.map(nR).join(" "):e}},oR={...Ep,color:kt,backgroundColor:kt,outlineColor:kt,fill:kt,stroke:kt,borderColor:kt,borderTopColor:kt,borderRightColor:kt,borderBottomColor:kt,borderLeftColor:kt,filter:dm,WebkitFilter:dm},Z_=e=>oR[e];function ek(e,t){let r=Z_(e);return r!==dm&&(r=Qn),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const iR=new Set(["auto","none","0"]);function aR(e,t,r){let n=0,s;for(;n<e.length&&!s;){const o=e[n];typeof o=="string"&&!iR.has(o)&&Ka(o).values.length&&(s=e[n]),n++}if(s&&r)for(const o of t)e[o]=ek(r,s)}const Cs=e=>e*180/Math.PI,fm=e=>{const t=Cs(Math.atan2(e[1],e[0]));return hm(t)},lR={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:fm,rotateZ:fm,skewX:e=>Cs(Math.atan(e[1])),skewY:e=>Cs(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},hm=e=>(e=e%360,e<0&&(e+=360),e),Px=fm,Tx=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Ax=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),cR={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Tx,scaleY:Ax,scale:e=>(Tx(e)+Ax(e))/2,rotateX:e=>hm(Cs(Math.atan2(e[6],e[5]))),rotateY:e=>hm(Cs(Math.atan2(-e[2],e[0]))),rotateZ:Px,rotate:Px,skewX:e=>Cs(Math.atan(e[4])),skewY:e=>Cs(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Rx(e){return e.includes("scale")?1:0}function mm(e,t){if(!e||e==="none")return Rx(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,s;if(r)n=cR,s=r;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=lR,s=l}if(!s)return Rx(t);const o=n[t],a=s[1].split(",").map(dR);return typeof o=="function"?o(a):a[o]}const uR=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return mm(r,t)};function dR(e){return parseFloat(e.trim())}const Mx=e=>e===yi||e===me,fR=new Set(["x","y","z"]),hR=pi.filter(e=>!fR.has(e));function mR(e){const t=[];return hR.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const ni={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>mm(t,"x"),y:(e,{transform:t})=>mm(t,"y")};ni.translateX=ni.x;ni.translateY=ni.y;const As=new Set;let gm=!1,pm=!1;function tk(){if(pm){const e=Array.from(As).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const s=mR(n);s.length&&(r.set(n,s),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([o,a])=>{var l;(l=n.getValue(o))==null||l.set(a)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}pm=!1,gm=!1,As.forEach(e=>e.complete()),As.clear()}function rk(){As.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(pm=!0)})}function gR(){rk(),tk()}class Up{constructor(t,r,n,s,o,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=s,this.element=o,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(As.add(this),gm||(gm=!0,$e.read(rk),$e.resolveKeyframes(tk))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:s}=this;for(let o=0;o<t.length;o++)if(t[o]===null)if(o===0){const a=s==null?void 0:s.get(),l=t[t.length-1];if(a!==void 0)t[0]=a;else if(n&&r){const c=n.readValue(r,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),s&&a===void 0&&s.set(t[0])}else t[o]=t[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),As.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,As.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const nk=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),pR=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function yR(e){const t=pR.exec(e);if(!t)return[,];const[,r,n,s]=t;return[`--${r??n}`,s]}function sk(e,t,r=1){const[n,s]=yR(e);if(!n)return;const o=window.getComputedStyle(t).getPropertyValue(n);if(o){const a=o.trim();return nk(a)?parseFloat(a):a}return Cp(s)?sk(s,t,r+1):s}const ok=e=>t=>t.test(e),xR={test:e=>e==="auto",parse:e=>e},ik=[yi,me,Kr,Nn,gA,mA,xR],Dx=e=>ik.find(ok(e));class ak extends Up{constructor(t,r,n,s,o){super(t,r,n,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),Cp(u))){const d=sk(u,r.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!I_.has(n)||t.length!==2)return;const[s,o]=t,a=Dx(s),l=Dx(o);if(a!==l)if(Mx(a)&&Mx(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let s=0;s<t.length;s++)GA(t[s])&&n.push(s);n.length&&aR(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ni[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&t.getValue(n,s).jump(s,!1)}measureEndState(){var l;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const s=t.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=n.length-1,a=n[o];n[o]=ni[r](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const Lx=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Qn.test(e)||e==="0")&&!e.startsWith("url("));function vR(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function bR(e,t,r,n){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],a=Lx(s,t),l=Lx(o,t);return!a||!l?!1:vR(e)||(r==="spring"||xp(r))&&n}const wR=e=>e!==null;function ud(e,{repeat:t,repeatType:r="loop"},n){const s=e.filter(wR),o=t&&r!=="loop"&&t%2===1?0:s.length-1;return!o||n===void 0?s[o]:n}const _R=40;class lk{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Hr.now(),this.options={autoplay:t,delay:r,type:n,repeat:s,repeatDelay:o,repeatType:a,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>_R?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&gR(),this._resolved}onKeyframesResolved(t,r){this.resolvedAt=Hr.now(),this.hasAttemptedResolve=!0;const{name:n,type:s,velocity:o,delay:a,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!bR(t,n,s,o))if(a)this.options.duration=0;else{c&&c(ud(t,this.options,r)),l&&l(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,r);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:r,...d},this.onPostResolved())}onPostResolved(){}then(t,r){return this.currentFinishedPromise.then(t,r)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Ke=(e,t,r)=>e+(t-e)*r;function yf(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function kR({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,o=0,a=0;if(!t)s=o=a=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;s=yf(c,l,e+1/3),o=yf(c,l,e),a=yf(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(a*255),alpha:n}}function au(e,t){return r=>r>0?t:e}const xf=(e,t,r)=>{const n=e*e,s=r*(t*t-n)+n;return s<0?0:Math.sqrt(s)},SR=[um,Ns,To],jR=e=>SR.find(t=>t.test(e));function Ox(e){const t=jR(e);if(!t)return!1;let r=t.parse(e);return t===To&&(r=kR(r)),r}const Ix=(e,t)=>{const r=Ox(e),n=Ox(t);if(!r||!n)return au(e,t);const s={...r};return o=>(s.red=xf(r.red,n.red,o),s.green=xf(r.green,n.green,o),s.blue=xf(r.blue,n.blue,o),s.alpha=Ke(r.alpha,n.alpha,o),Ns.transform(s))},NR=(e,t)=>r=>t(e(r)),dl=(...e)=>e.reduce(NR),ym=new Set(["none","hidden"]);function CR(e,t){return ym.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function ER(e,t){return r=>Ke(e,t,r)}function zp(e){return typeof e=="number"?ER:typeof e=="string"?Cp(e)?au:kt.test(e)?Ix:AR:Array.isArray(e)?ck:typeof e=="object"?kt.test(e)?Ix:PR:au}function ck(e,t){const r=[...e],n=r.length,s=e.map((o,a)=>zp(o)(o,t[a]));return o=>{for(let a=0;a<n;a++)r[a]=s[a](o);return r}}function PR(e,t){const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=zp(e[s])(e[s],t[s]));return s=>{for(const o in n)r[o]=n[o](s);return r}}function TR(e,t){const r=[],n={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const o=t.types[s],a=e.indexes[o][n[o]],l=e.values[a]??0;r[s]=l,n[o]++}return r}const AR=(e,t)=>{const r=Qn.createTransformer(t),n=Ka(e),s=Ka(t);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?ym.has(e)&&!s.values.length||ym.has(t)&&!n.values.length?CR(e,t):dl(ck(TR(n,s),s.values),r):au(e,t)};function uk(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Ke(e,t,r):zp(e)(e,t)}const RR=5;function dk(e,t,r){const n=Math.max(t-RR,0);return f_(r-e(n),t-n)}const Xe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Fx=.001;function MR({duration:e=Xe.duration,bounce:t=Xe.bounce,velocity:r=Xe.velocity,mass:n=Xe.mass}){let s,o,a=1-t;a=gn(Xe.minDamping,Xe.maxDamping,a),e=gn(Xe.minDuration,Xe.maxDuration,Wr(e)),a<1?(s=u=>{const d=u*a,f=d*e,m=d-r,g=xm(u,a),x=Math.exp(-f);return Fx-m/g*x},o=u=>{const f=u*a*e,m=f*r+r,g=Math.pow(a,2)*Math.pow(u,2)*e,x=Math.exp(-f),v=xm(Math.pow(u,2),a);return(-s(u)+Fx>0?-1:1)*((m-g)*x)/v}):(s=u=>{const d=Math.exp(-u*e),f=(u-r)*e+1;return-.001+d*f},o=u=>{const d=Math.exp(-u*e),f=(r-u)*(e*e);return d*f});const l=5/e,c=LR(s,o,l);if(e=qr(e),isNaN(c))return{stiffness:Xe.stiffness,damping:Xe.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:a*2*Math.sqrt(n*u),duration:e}}}const DR=12;function LR(e,t,r){let n=r;for(let s=1;s<DR;s++)n=n-e(n)/t(n);return n}function xm(e,t){return e*Math.sqrt(1-t*t)}const OR=["duration","bounce"],IR=["stiffness","damping","mass"];function $x(e,t){return t.some(r=>e[r]!==void 0)}function FR(e){let t={velocity:Xe.velocity,stiffness:Xe.stiffness,damping:Xe.damping,mass:Xe.mass,isResolvedFromDuration:!1,...e};if(!$x(e,IR)&&$x(e,OR))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,o=2*gn(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Xe.mass,stiffness:s,damping:o}}else{const r=MR(e);t={...t,...r,mass:Xe.mass},t.isResolvedFromDuration=!0}return t}function lu(e=Xe.visualDuration,t=Xe.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:s}=r;const o=r.keyframes[0],a=r.keyframes[r.keyframes.length-1],l={done:!1,value:o},{stiffness:c,damping:u,mass:d,duration:f,velocity:m,isResolvedFromDuration:g}=FR({...r,velocity:-Wr(r.velocity||0)}),x=m||0,v=u/(2*Math.sqrt(c*d)),w=a-o,p=Wr(Math.sqrt(c/d)),y=Math.abs(w)<5;n||(n=y?Xe.restSpeed.granular:Xe.restSpeed.default),s||(s=y?Xe.restDelta.granular:Xe.restDelta.default);let b;if(v<1){const _=xm(p,v);b=j=>{const E=Math.exp(-v*p*j);return a-E*((x+v*p*w)/_*Math.sin(_*j)+w*Math.cos(_*j))}}else if(v===1)b=_=>a-Math.exp(-p*_)*(w+(x+p*w)*_);else{const _=p*Math.sqrt(v*v-1);b=j=>{const E=Math.exp(-v*p*j),N=Math.min(_*j,300);return a-E*((x+v*p*w)*Math.sinh(N)+_*w*Math.cosh(N))/_}}const k={calculatedDuration:g&&f||null,next:_=>{const j=b(_);if(g)l.done=_>=f;else{let E=0;v<1&&(E=_===0?qr(x):dk(b,_,j));const N=Math.abs(E)<=n,F=Math.abs(a-j)<=s;l.done=N&&F}return l.value=l.done?a:j,l},toString:()=>{const _=Math.min(bp(k),ou),j=h_(E=>k.next(_*E).value,_,30);return _+"ms "+j},toTransition:()=>{}};return k}lu.applyToOptions=e=>{const t=O8(e,100,lu);return e.ease=Ba()?t.ease:"easeOut",e.duration=qr(t.duration),e.type="keyframes",e};function Ux({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],m={done:!1,value:f},g=N=>l!==void 0&&N<l||c!==void 0&&N>c,x=N=>l===void 0?c:c===void 0||Math.abs(l-N)<Math.abs(c-N)?l:c;let v=r*t;const w=f+v,p=a===void 0?w:a(w);p!==w&&(v=p-f);const y=N=>-v*Math.exp(-N/n),b=N=>p+y(N),k=N=>{const F=y(N),C=b(N);m.done=Math.abs(F)<=u,m.value=m.done?p:C};let _,j;const E=N=>{g(m.value)&&(_=N,j=lu({keyframes:[m.value,x(m.value)],velocity:dk(b,N,m.value),damping:s,stiffness:o,restDelta:u,restSpeed:d}))};return E(0),{calculatedDuration:null,next:N=>{let F=!1;return!j&&_===void 0&&(F=!0,k(N),E(N)),_!==void 0&&N>=_?j.next(N-_):(!F&&k(N),m)}}}const $R=ul(.42,0,1,1),UR=ul(0,0,.58,1),fk=ul(.42,0,.58,1),zR=e=>Array.isArray(e)&&typeof e[0]!="number",BR={linear:dr,easeIn:$R,easeInOut:fk,easeOut:UR,circIn:Ip,circInOut:W_,circOut:q_,backIn:Op,backInOut:V_,backOut:B_,anticipate:G_},zx=e=>{if(yp(e)){d_(e.length===4);const[t,r,n,s]=e;return ul(t,r,n,s)}else if(typeof e=="string")return BR[e];return e};function VR(e,t,r){const n=[],s=r||uk,o=e.length-1;for(let a=0;a<o;a++){let l=s(e[a],e[a+1]);if(t){const c=Array.isArray(t)?t[a]||dr:t;l=dl(c,l)}n.push(l)}return n}function GR(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const o=e.length;if(d_(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=VR(t,n,s),c=l.length,u=d=>{if(a&&d<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const m=za(e[f],e[f+1],d);return l[f](m)};return r?d=>u(gn(e[0],e[o-1],d)):u}function qR(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=za(0,t,n);e.push(Ke(r,1,s))}}function WR(e){const t=[0];return qR(t,e.length-1),t}function HR(e,t){return e.map(r=>r*t)}function KR(e,t){return e.map(()=>t||fk).splice(0,e.length-1)}function cu({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=zR(n)?n.map(zx):zx(n),o={done:!1,value:t[0]},a=HR(r&&r.length===t.length?r:WR(t),e),l=GR(a,t,{ease:Array.isArray(s)?s:KR(t,s)});return{calculatedDuration:e,next:c=>(o.value=l(c),o.done=c>=e,o)}}const YR=e=>{const t=({timestamp:r})=>e(r);return{start:()=>$e.update(t,!0),stop:()=>Xn(t),now:()=>yt.isProcessing?yt.timestamp:Hr.now()}},JR={decay:Ux,inertia:Ux,tween:cu,keyframes:cu,spring:lu},XR=e=>e/100;class Bp extends lk{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:r,motionValue:n,element:s,keyframes:o}=this.options,a=(s==null?void 0:s.KeyframeResolver)||Up,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new a(o,l,r,n,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:r="keyframes",repeat:n=0,repeatDelay:s=0,repeatType:o,velocity:a=0}=this.options,l=xp(r)?r:JR[r]||cu;let c,u;l!==cu&&typeof t[0]!="number"&&(c=dl(XR,uk(t[0],t[1])),t=[0,100]);const d=l({...this.options,keyframes:t});o==="mirror"&&(u=l({...this.options,keyframes:[...t].reverse(),velocity:-a})),d.calculatedDuration===null&&(d.calculatedDuration=bp(d));const{calculatedDuration:f}=d,m=f+s,g=m*(n+1)-s;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:f,resolvedDuration:m,totalDuration:g}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,r=!1){const{resolved:n}=this;if(!n){const{keyframes:N}=this.options;return{done:!0,value:N[N.length-1]}}const{finalKeyframe:s,generator:o,mirroredGenerator:a,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:f}=n;if(this.startTime===null)return o.next(0);const{delay:m,repeat:g,repeatType:x,repeatDelay:v,onUpdate:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),r?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const p=this.currentTime-m*(this.speed>=0?1:-1),y=this.speed>=0?p<0:p>d;this.currentTime=Math.max(p,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let b=this.currentTime,k=o;if(g){const N=Math.min(this.currentTime,d)/f;let F=Math.floor(N),C=N%1;!C&&N>=1&&(C=1),C===1&&F--,F=Math.min(F,g+1),!!(F%2)&&(x==="reverse"?(C=1-C,v&&(C-=v/f)):x==="mirror"&&(k=a)),b=gn(0,1,C)*f}const _=y?{done:!1,value:c[0]}:k.next(b);l&&(_.value=l(_.value));let{done:j}=_;!y&&u!==null&&(j=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return E&&s!==void 0&&(_.value=ud(c,this.options,s)),w&&w(_.value),E&&this.finish(),_}get duration(){const{resolved:t}=this;return t?Wr(t.calculatedDuration):0}get time(){return Wr(this.currentTime)}set time(t){t=qr(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Wr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=YR,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),r&&r();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=this.currentTime??0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}get finished(){return this.currentFinishedPromise}}const QR=new Set(["opacity","clipPath","filter","transform"]),ZR=gp(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),uu=10,eM=2e4;function tM(e){return xp(e.type)||e.type==="spring"||!g_(e.ease)}function rM(e,t){const r=new Bp({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const s=[];let o=0;for(;!n.done&&o<eM;)n=r.sample(o),s.push(n.value),o+=uu;return{times:void 0,keyframes:s,duration:o-uu,ease:"linear"}}const hk={anticipate:G_,backInOut:V_,circInOut:W_};function nM(e){return e in hk}class Bx extends lk{constructor(t){super(t);const{name:r,motionValue:n,element:s,keyframes:o}=this.options;this.resolver=new ak(o,(a,l)=>this.onKeyframesResolved(a,l),r,n,s),this.resolver.scheduleResolve()}initPlayback(t,r){let{duration:n=300,times:s,ease:o,type:a,motionValue:l,name:c,startTime:u}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof o=="string"&&Ba()&&nM(o)&&(o=hk[o]),tM(this.options)){const{onComplete:f,onUpdate:m,motionValue:g,element:x,...v}=this.options,w=rM(t,v);t=w.keyframes,t.length===1&&(t[1]=t[0]),n=w.duration,s=w.times,o=w.ease,a="keyframes"}const d=L8(l.owner.current,c,t,{...this.options,duration:n,times:s,ease:o});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(px(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:f}=this.options;l.set(ud(t,this.options,r)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:n,times:s,type:a,ease:o,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:r}=t;return Wr(r)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:r}=t;return Wr(r.currentTime||0)}set time(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=qr(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:r}=t;return r.playbackRate}get finished(){return this.resolved.animation.finished}set speed(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:r}=t;return r.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:r}=t;return r.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:r}=this;if(!r)return dr;const{animation:n}=r;px(n,t)}return dr}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:r,keyframes:n,duration:s,type:o,ease:a,times:l}=t;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:f,element:m,...g}=this.options,x=new Bp({...g,keyframes:n,duration:s,type:o,ease:a,times:l,isGenerator:!0}),v=qr(this.time);u.setWithVelocity(x.sample(v-uu).value,x.sample(v).value,uu)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:r,name:n,repeatDelay:s,repeatType:o,damping:a,type:l}=t;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=r.owner.getProps();return ZR()&&n&&QR.has(n)&&(n!=="transform"||!u)&&!c&&!s&&o!=="mirror"&&a!==0&&l!=="inertia"}}const sM={type:"spring",stiffness:500,damping:25,restSpeed:10},oM=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),iM={type:"keyframes",duration:.8},aM={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},lM=(e,{keyframes:t})=>t.length>2?iM:Ks.has(e)?e.startsWith("scale")?oM(t[1]):sM:aM;function cM({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:o,repeatType:a,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const Vp=(e,t,r,n={},s,o)=>a=>{const l=vp(n,e)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-qr(c);let d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:m=>{t.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:o?void 0:s};cM(l)||(d={...d,...lM(e,d)}),d.duration&&(d.duration=qr(d.duration)),d.repeatDelay&&(d.repeatDelay=qr(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),d.allowFlatten=!l.type&&!l.ease,f&&!o&&t.get()!==void 0){const m=ud(d.keyframes,l);if(m!==void 0)return $e.update(()=>{d.onUpdate(m),d.onComplete()}),new R8([])}return!o&&Bx.supports(d)?new Bx(d):new Bp(d)};function uM({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function mk(e,t,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:a,...l}=t;n&&(o=n);const c=[],u=s&&e.animationState&&e.animationState.getState()[s];for(const d in l){const f=e.getValue(d,e.latestValues[d]??null),m=l[d];if(m===void 0||u&&uM(u,d))continue;const g={delay:r,...vp(o||{},d)};let x=!1;if(window.MotionHandoffAnimation){const w=F_(e);if(w){const p=window.MotionHandoffAnimation(w,d,$e);p!==null&&(g.startTime=p,x=!0)}}cm(e,d),f.start(Vp(d,f,m,e.shouldReduceMotion&&I_.has(d)?{type:!1}:g,e,x));const v=f.animation;v&&c.push(v)}return a&&Promise.all(c).then(()=>{$e.update(()=>{a&&$A(e,a)})}),c}function vm(e,t,r={}){var c;const n=Ha(e,t,r.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const o=n?()=>Promise.all(mk(e,n,r)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:m}=s;return dM(e,t,d+u,f,m,r)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,d]=l==="beforeChildren"?[o,a]:[a,o];return u().then(()=>d())}else return Promise.all([o(),a(r.delay)])}function dM(e,t,r=0,n=0,s=1,o){const a=[],l=(e.variantChildren.size-1)*n,c=s===1?(u=0)=>u*n:(u=0)=>l-u*n;return Array.from(e.variantChildren).sort(fM).forEach((u,d)=>{u.notify("AnimationStart",t),a.push(vm(u,t,{...o,delay:r+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(a)}function fM(e,t){return e.sortNodePosition(t)}function hM(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(o=>vm(e,o,r));n=Promise.all(s)}else if(typeof t=="string")n=vm(e,t,r);else{const s=typeof t=="function"?Ha(e,t,r.custom):t;n=Promise.all(mk(e,s,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function gk(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const mM=Sp.length;function pk(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?pk(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<mM;r++){const n=Sp[r],s=e.props[n];(Ga(s)||s===!1)&&(t[n]=s)}return t}const gM=[...kp].reverse(),pM=kp.length;function yM(e){return t=>Promise.all(t.map(({animation:r,options:n})=>hM(e,r,n)))}function xM(e){let t=yM(e),r=Vx(),n=!0;const s=c=>(u,d)=>{var m;const f=Ha(e,d,c==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);if(f){const{transition:g,transitionEnd:x,...v}=f;u={...u,...v,...x}}return u};function o(c){t=c(e)}function a(c){const{props:u}=e,d=pk(e.parent)||{},f=[],m=new Set;let g={},x=1/0;for(let w=0;w<pM;w++){const p=gM[w],y=r[p],b=u[p]!==void 0?u[p]:d[p],k=Ga(b),_=p===c?y.isActive:null;_===!1&&(x=w);let j=b===d[p]&&b!==u[p]&&k;if(j&&n&&e.manuallyAnimateOnMount&&(j=!1),y.protectedKeys={...g},!y.isActive&&_===null||!b&&!y.prevProp||ld(b)||typeof b=="boolean")continue;const E=vM(y.prevProp,b);let N=E||p===c&&y.isActive&&!j&&k||w>x&&k,F=!1;const C=Array.isArray(b)?b:[b];let I=C.reduce(s(p),{});_===!1&&(I={});const{prevResolvedValues:P={}}=y,O={...P,...I},A=z=>{N=!0,m.has(z)&&(F=!0,m.delete(z)),y.needsAnimating[z]=!0;const S=e.getValue(z);S&&(S.liveStyle=!1)};for(const z in O){const S=I[z],M=P[z];if(g.hasOwnProperty(z))continue;let T=!1;lm(S)&&lm(M)?T=!gk(S,M):T=S!==M,T?S!=null?A(z):m.add(z):S!==void 0&&m.has(z)?A(z):y.protectedKeys[z]=!0}y.prevProp=b,y.prevResolvedValues=I,y.isActive&&(g={...g,...I}),n&&e.blockInitialAnimation&&(N=!1),N&&(!(j&&E)||F)&&f.push(...C.map(z=>({animation:z,options:{type:p}})))}if(m.size){const w={};if(typeof u.initial!="boolean"){const p=Ha(e,Array.isArray(u.initial)?u.initial[0]:u.initial);p&&p.transition&&(w.transition=p.transition)}m.forEach(p=>{const y=e.getBaseTarget(p),b=e.getValue(p);b&&(b.liveStyle=!0),w[p]=y??null}),f.push({animation:w})}let v=!!f.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(v=!1),n=!1,v?t(f):Promise.resolve()}function l(c,u){var f;if(r[c].isActive===u)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(m=>{var g;return(g=m.animationState)==null?void 0:g.setActive(c,u)}),r[c].isActive=u;const d=a(c);for(const m in r)r[m].protectedKeys={};return d}return{animateChanges:a,setActive:l,setAnimateFunction:o,getState:()=>r,reset:()=>{r=Vx(),n=!0}}}function vM(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!gk(t,e):!1}function ms(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Vx(){return{animate:ms(!0),whileInView:ms(),whileHover:ms(),whileTap:ms(),whileDrag:ms(),whileFocus:ms(),exit:ms()}}class ls{constructor(t){this.isMounted=!1,this.node=t}update(){}}class bM extends ls{constructor(t){super(t),t.animationState||(t.animationState=xM(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();ld(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let wM=0;class _M extends ls{constructor(){super(...arguments),this.id=wM++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const s=this.node.animationState.setActive("exit",!t);r&&!t&&s.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const kM={animation:{Feature:bM},exit:{Feature:_M}};function Ya(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function fl(e){return{point:{x:e.pageX,y:e.pageY}}}const SM=e=>t=>_p(t)&&e(t,fl(t));function ha(e,t,r,n){return Ya(e,t,SM(r),n)}function yk({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function jM({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function NM(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}const xk=1e-4,CM=1-xk,EM=1+xk,vk=.01,PM=0-vk,TM=0+vk;function Rt(e){return e.max-e.min}function AM(e,t,r){return Math.abs(e-t)<=r}function Gx(e,t,r,n=.5){e.origin=n,e.originPoint=Ke(t.min,t.max,e.origin),e.scale=Rt(r)/Rt(t),e.translate=Ke(r.min,r.max,e.origin)-e.originPoint,(e.scale>=CM&&e.scale<=EM||isNaN(e.scale))&&(e.scale=1),(e.translate>=PM&&e.translate<=TM||isNaN(e.translate))&&(e.translate=0)}function ma(e,t,r,n){Gx(e.x,t.x,r.x,n?n.originX:void 0),Gx(e.y,t.y,r.y,n?n.originY:void 0)}function qx(e,t,r){e.min=r.min+t.min,e.max=e.min+Rt(t)}function RM(e,t,r){qx(e.x,t.x,r.x),qx(e.y,t.y,r.y)}function Wx(e,t,r){e.min=t.min-r.min,e.max=e.min+Rt(t)}function ga(e,t,r){Wx(e.x,t.x,r.x),Wx(e.y,t.y,r.y)}const Hx=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ao=()=>({x:Hx(),y:Hx()}),Kx=()=>({min:0,max:0}),Ze=()=>({x:Kx(),y:Kx()});function or(e){return[e("x"),e("y")]}function vf(e){return e===void 0||e===1}function bm({scale:e,scaleX:t,scaleY:r}){return!vf(e)||!vf(t)||!vf(r)}function vs(e){return bm(e)||bk(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function bk(e){return Yx(e.x)||Yx(e.y)}function Yx(e){return e&&e!=="0%"}function du(e,t,r){const n=e-r,s=t*n;return r+s}function Jx(e,t,r,n,s){return s!==void 0&&(e=du(e,s,n)),du(e,r,n)+t}function wm(e,t=0,r=1,n,s){e.min=Jx(e.min,t,r,n,s),e.max=Jx(e.max,t,r,n,s)}function wk(e,{x:t,y:r}){wm(e.x,t.translate,t.scale,t.originPoint),wm(e.y,r.translate,r.scale,r.originPoint)}const Xx=.999999999999,Qx=1.0000000000001;function MM(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let o,a;for(let l=0;l<s;l++){o=r[l],a=o.projectionDelta;const{visualElement:c}=o.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Mo(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,wk(e,a)),n&&vs(o.latestValues)&&Mo(e,o.latestValues))}t.x<Qx&&t.x>Xx&&(t.x=1),t.y<Qx&&t.y>Xx&&(t.y=1)}function Ro(e,t){e.min=e.min+t,e.max=e.max+t}function Zx(e,t,r,n,s=.5){const o=Ke(e.min,e.max,s);wm(e,t,r,o,n)}function Mo(e,t){Zx(e.x,t.x,t.scaleX,t.scale,t.originX),Zx(e.y,t.y,t.scaleY,t.scale,t.originY)}function _k(e,t){return yk(NM(e.getBoundingClientRect(),t))}function DM(e,t,r){const n=_k(e,r),{scroll:s}=t;return s&&(Ro(n.x,s.offset.x),Ro(n.y,s.offset.y)),n}const kk=({current:e})=>e?e.ownerDocument.defaultView:null,ev=(e,t)=>Math.abs(e-t);function LM(e,t){const r=ev(e.x,t.x),n=ev(e.y,t.y);return Math.sqrt(r**2+n**2)}class Sk{constructor(t,r,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=wf(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,g=LM(f.offset,{x:0,y:0})>=3;if(!m&&!g)return;const{point:x}=f,{timestamp:v}=yt;this.history.push({...x,timestamp:v});const{onStart:w,onMove:p}=this.handlers;m||(w&&w(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),p&&p(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=bf(m,this.transformPagePoint),$e.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:g,onSessionEnd:x,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=wf(f.type==="pointercancel"?this.lastMoveEventInfo:bf(m,this.transformPagePoint),this.history);this.startEvent&&g&&g(f,w),x&&x(f,w)},!_p(t))return;this.dragSnapToOrigin=o,this.handlers=r,this.transformPagePoint=n,this.contextWindow=s||window;const a=fl(t),l=bf(a,this.transformPagePoint),{point:c}=l,{timestamp:u}=yt;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=r;d&&d(t,wf(l,this.history)),this.removeListeners=dl(ha(this.contextWindow,"pointermove",this.handlePointerMove),ha(this.contextWindow,"pointerup",this.handlePointerUp),ha(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Xn(this.updatePoint)}}function bf(e,t){return t?{point:t(e.point)}:e}function tv(e,t){return{x:e.x-t.x,y:e.y-t.y}}function wf({point:e},t){return{point:e,delta:tv(e,jk(t)),offset:tv(e,OM(t)),velocity:IM(t,.1)}}function OM(e){return e[0]}function jk(e){return e[e.length-1]}function IM(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=jk(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>qr(t)));)r--;if(!n)return{x:0,y:0};const o=Wr(s.timestamp-n.timestamp);if(o===0)return{x:0,y:0};const a={x:(s.x-n.x)/o,y:(s.y-n.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function FM(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Ke(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Ke(r,e,n.max):Math.min(e,r)),e}function rv(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function $M(e,{top:t,left:r,bottom:n,right:s}){return{x:rv(e.x,r,s),y:rv(e.y,t,n)}}function nv(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function UM(e,t){return{x:nv(e.x,t.x),y:nv(e.y,t.y)}}function zM(e,t){let r=.5;const n=Rt(e),s=Rt(t);return s>n?r=za(t.min,t.max-n,e.min):n>s&&(r=za(e.min,e.max-s,t.min)),gn(0,1,r)}function BM(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const _m=.35;function VM(e=_m){return e===!1?e=0:e===!0&&(e=_m),{x:sv(e,"left","right"),y:sv(e,"top","bottom")}}function sv(e,t,r){return{min:ov(e,t),max:ov(e,r)}}function ov(e,t){return typeof e=="number"?e:e[t]||0}const GM=new WeakMap;class qM{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ze(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(fl(d).point)},o=(d,f)=>{const{drag:m,dragPropagation:g,onDragStart:x}=this.getProps();if(m&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=U8(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),or(w=>{let p=this.getAxisMotionValue(w).get()||0;if(Kr.test(p)){const{projection:y}=this.visualElement;if(y&&y.layout){const b=y.layout.layoutBox[w];b&&(p=Rt(b)*(parseFloat(p)/100))}}this.originPoint[w]=p}),x&&$e.postRender(()=>x(d,f)),cm(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},a=(d,f)=>{const{dragPropagation:m,dragDirectionLock:g,onDirectionLock:x,onDrag:v}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:w}=f;if(g&&this.currentDirection===null){this.currentDirection=WM(w),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",f.point,w),this.updateAxis("y",f.point,w),this.visualElement.render(),v&&v(d,f)},l=(d,f)=>this.stop(d,f),c=()=>or(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)==null?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Sk(t,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:kk(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&$e.postRender(()=>o(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!Wl(t,s,this.currentDirection))return;const o=this.getAxisMotionValue(t);let a=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(a=FM(a,this.constraints[t],this.elastic[t])),o.set(a)}resolveConstraints(){var o;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,s=this.constraints;t&&Po(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=$M(n.layoutBox,t):this.constraints=!1,this.elastic=VM(r),s!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&or(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=BM(n.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Po(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=DM(n,s.root,this.visualElement.getTransformPagePoint());let a=UM(s.layout.layoutBox,o);if(r){const l=r(jM(a));this.hasMutatedConstraints=!!l,l&&(a=yk(l))}return a}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:o,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=or(d=>{if(!Wl(d,r,this.currentDirection))return;let f=c&&c[d]||{};a&&(f={min:0,max:0});const m=s?200:1e6,g=s?40:1e7,x={type:"inertia",velocity:n?t[d]:0,bounceStiffness:m,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...o,...f};return this.startAxisValueAnimation(d,x)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return cm(this.visualElement,t),n.start(Vp(t,n,0,r,this.visualElement,!1))}stopAnimation(){or(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){or(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){or(r=>{const{drag:n}=this.getProps();if(!Wl(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(r);if(s&&s.layout){const{min:a,max:l}=s.layout.layoutBox[r];o.set(t[r]-Ke(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Po(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};or(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const c=l.get();s[a]=zM({min:c,max:c},this.constraints[a])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),or(a=>{if(!Wl(a,t,null))return;const l=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];l.set(Ke(c,u,s[a]))})}addListeners(){if(!this.visualElement.current)return;GM.set(this.visualElement,this);const t=this.visualElement.current,r=ha(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Po(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),$e.read(n);const a=Ya(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(or(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),r(),o(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:a=_m,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:o,dragElastic:a,dragMomentum:l}}}function Wl(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function WM(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class HM extends ls{constructor(t){super(t),this.removeGroupControls=dr,this.removeListeners=dr,this.controls=new qM(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||dr}unmount(){this.removeGroupControls(),this.removeListeners()}}const iv=e=>(t,r)=>{e&&$e.postRender(()=>e(t,r))};class KM extends ls{constructor(){super(...arguments),this.removePointerDownListener=dr}onPointerDown(t){this.session=new Sk(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:kk(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:iv(t),onStart:iv(r),onMove:n,onEnd:(o,a)=>{delete this.session,s&&$e.postRender(()=>s(o,a))}}}mount(){this.removePointerDownListener=ha(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const wc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function av(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Li={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(me.test(e))e=parseFloat(e);else return e;const r=av(e,t.target.x),n=av(e,t.target.y);return`${r}% ${n}%`}},YM={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=Qn.parse(e);if(s.length>5)return n;const o=Qn.createTransformer(e),a=typeof s[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;s[0+a]/=l,s[1+a]/=c;const u=Ke(l,c,.5);return typeof s[2+a]=="number"&&(s[2+a]/=u),typeof s[3+a]=="number"&&(s[3+a]/=u),o(s)}};class JM extends h.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:o}=t;hA(XM),o&&(r.group&&r.group.add(o),n&&n.register&&s&&n.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),wc.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:o}=this.props,a=n.projection;return a&&(a.isPresent=o,s||t.layoutDependency!==r||r===void 0||t.isPresent!==o?a.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?a.promote():a.relegate()||$e.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),wp.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Nk(e){const[t,r]=u_(),n=h.useContext(lp);return i.jsx(JM,{...e,layoutGroup:n,switchLayoutGroup:h.useContext(S_),isPresent:t,safeToRemove:r})}const XM={borderRadius:{...Li,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Li,borderTopRightRadius:Li,borderBottomLeftRadius:Li,borderBottomRightRadius:Li,boxShadow:YM};function QM(e,t,r){const n=jt(e)?e:Va(e);return n.start(Vp("",n,t,r)),n.animation}function ZM(e){return e instanceof SVGElement&&e.tagName!=="svg"}const eD=(e,t)=>e.depth-t.depth;class tD{constructor(){this.children=[],this.isDirty=!1}add(t){hp(this.children,t),this.isDirty=!0}remove(t){mp(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(eD),this.isDirty=!1,this.children.forEach(t)}}function rD(e,t){const r=Hr.now(),n=({timestamp:s})=>{const o=s-r;o>=t&&(Xn(n),e(o-t))};return $e.read(n,!0),()=>Xn(n)}const Ck=["TopLeft","TopRight","BottomLeft","BottomRight"],nD=Ck.length,lv=e=>typeof e=="string"?parseFloat(e):e,cv=e=>typeof e=="number"||me.test(e);function sD(e,t,r,n,s,o){s?(e.opacity=Ke(0,r.opacity!==void 0?r.opacity:1,oD(n)),e.opacityExit=Ke(t.opacity!==void 0?t.opacity:1,0,iD(n))):o&&(e.opacity=Ke(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let a=0;a<nD;a++){const l=`border${Ck[a]}Radius`;let c=uv(t,l),u=uv(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||cv(c)===cv(u)?(e[l]=Math.max(Ke(lv(c),lv(u),n),0),(Kr.test(u)||Kr.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=Ke(t.rotate||0,r.rotate||0,n))}function uv(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const oD=Ek(0,.5,q_),iD=Ek(.5,.95,dr);function Ek(e,t,r){return n=>n<e?0:n>t?1:r(za(e,t,n))}function dv(e,t){e.min=t.min,e.max=t.max}function nr(e,t){dv(e.x,t.x),dv(e.y,t.y)}function fv(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function hv(e,t,r,n,s){return e-=t,e=du(e,1/r,n),s!==void 0&&(e=du(e,1/s,n)),e}function aD(e,t=0,r=1,n=.5,s,o=e,a=e){if(Kr.test(t)&&(t=parseFloat(t),t=Ke(a.min,a.max,t/100)-a.min),typeof t!="number")return;let l=Ke(o.min,o.max,n);e===o&&(l-=t),e.min=hv(e.min,t,r,l,s),e.max=hv(e.max,t,r,l,s)}function mv(e,t,[r,n,s],o,a){aD(e,t[r],t[n],t[s],t.scale,o,a)}const lD=["x","scaleX","originX"],cD=["y","scaleY","originY"];function gv(e,t,r,n){mv(e.x,t,lD,r?r.x:void 0,n?n.x:void 0),mv(e.y,t,cD,r?r.y:void 0,n?n.y:void 0)}function pv(e){return e.translate===0&&e.scale===1}function Pk(e){return pv(e.x)&&pv(e.y)}function yv(e,t){return e.min===t.min&&e.max===t.max}function uD(e,t){return yv(e.x,t.x)&&yv(e.y,t.y)}function xv(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Tk(e,t){return xv(e.x,t.x)&&xv(e.y,t.y)}function vv(e){return Rt(e.x)/Rt(e.y)}function bv(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class dD{constructor(){this.members=[]}add(t){hp(this.members,t),t.scheduleRender()}remove(t){if(mp(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){n=o;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function fD(e,t,r){let n="";const s=e.x.translate/t.x,o=e.y.translate/t.y,a=(r==null?void 0:r.z)||0;if((s||o||a)&&(n=`translate3d(${s}px, ${o}px, ${a}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:m,skewX:g,skewY:x}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),f&&(n+=`rotateX(${f}deg) `),m&&(n+=`rotateY(${m}deg) `),g&&(n+=`skewX(${g}deg) `),x&&(n+=`skewY(${x}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const _f=["","X","Y","Z"],hD={visibility:"hidden"},wv=1e3;let mD=0;function kf(e,t,r,n){const{latestValues:s}=t;s[e]&&(r[e]=s[e],t.setStaticValue(e,0),n&&(n[e]=0))}function Ak(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=F_(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",$e,!(s||o))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&Ak(n)}function Rk({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(a={},l=t==null?void 0:t()){this.id=mD++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(yD),this.nodes.forEach(_D),this.nodes.forEach(kD),this.nodes.forEach(xD)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new tD)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new pp),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=ZM(a),this.instance=a;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let f;const m=()=>this.root.updateBlockedByResize=!1;e(a,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=rD(m,250),wc.hasAnimatedSinceResize&&(wc.hasAnimatedSinceResize=!1,this.nodes.forEach(kv))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeLayoutChanged:g,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||ED,{onLayoutAnimationStart:w,onLayoutAnimationComplete:p}=d.getProps(),y=!this.targetLayout||!Tk(this.targetLayout,x),b=!m&&g;if(this.options.layoutRoot||this.resumeFrom||b||m&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,b);const k={...vp(v,"layout"),onPlay:w,onComplete:p};(d.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k)}else m||kv(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Xn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(SD),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Ak(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(_v);return}this.isUpdating||this.nodes.forEach(bD),this.isUpdating=!1,this.nodes.forEach(wD),this.nodes.forEach(gD),this.nodes.forEach(pD),this.clearAllSnapshots();const l=Hr.now();yt.delta=gn(0,1e3/60,l-yt.timestamp),yt.timestamp=l,yt.isProcessing=!0,mf.update.process(yt),mf.preRender.process(yt),mf.render.process(yt),yt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,wp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(vD),this.sharedNodes.forEach(jD)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,$e.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){$e.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Rt(this.snapshot.measuredBox.x)&&!Rt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ze(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Pk(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&(l||vs(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),PD(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:a}=this.options;if(!a)return Ze();const l=a.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(TD))){const{scroll:d}=this.root;d&&(Ro(l.x,d.offset.x),Ro(l.y,d.offset.y))}return l}removeElementScroll(a){var c;const l=Ze();if(nr(l,a),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:m}=d;d!==this.root&&f&&m.layoutScroll&&(f.wasRoot&&nr(l,a),Ro(l.x,f.offset.x),Ro(l.y,f.offset.y))}return l}applyTransform(a,l=!1){const c=Ze();nr(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Mo(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),vs(d.latestValues)&&Mo(c,d.latestValues)}return vs(this.latestValues)&&Mo(c,this.latestValues),c}removeTransform(a){const l=Ze();nr(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!vs(u.latestValues))continue;bm(u.latestValues)&&u.updateSnapshot();const d=Ze(),f=u.measurePageBox();nr(d,f),gv(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return vs(this.latestValues)&&gv(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==yt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var m;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=yt.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ze(),this.relativeTargetOrigin=Ze(),ga(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),nr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ze(),this.targetWithTransforms=Ze()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),RM(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):nr(this.target,this.layout.layoutBox),wk(this.target,this.targetDelta)):nr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ze(),this.relativeTargetOrigin=Ze(),ga(this.relativeTargetOrigin,this.target,g.target),nr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||bm(this.parent.latestValues)||bk(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var x;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===yt.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;nr(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;MM(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Ze());const{target:g}=a;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(fv(this.prevProjectionDelta.x,this.projectionDelta.x),fv(this.prevProjectionDelta.y,this.projectionDelta.y)),ma(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!bv(this.projectionDelta.x,this.prevProjectionDelta.x)||!bv(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ao(),this.projectionDelta=Ao(),this.projectionDeltaWithTransform=Ao()}setAnimationOrigin(a,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Ao();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=Ze(),g=c?c.source:void 0,x=this.layout?this.layout.source:void 0,v=g!==x,w=this.getStack(),p=!w||w.members.length<=1,y=!!(v&&!p&&this.options.crossfade===!0&&!this.path.some(CD));this.animationProgress=0;let b;this.mixTargetDelta=k=>{const _=k/1e3;Sv(f.x,a.x,_),Sv(f.y,a.y,_),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ga(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ND(this.relativeTarget,this.relativeTargetOrigin,m,_),b&&uD(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Ze()),nr(b,this.relativeTarget)),v&&(this.animationValues=d,sD(d,u,this.latestValues,_,y,p)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Xn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=$e.update(()=>{wc.hasAnimatedSinceResize=!0,this.currentAnimation=QM(0,wv,{...a,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(wv),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=a;if(!(!l||!c||!u)){if(this!==a&&this.layout&&u&&Mk(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Ze();const f=Rt(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+f;const m=Rt(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+m}nr(l,c),Mo(l,d),ma(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new dD),this.sharedNodes.get(a).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var l;const{layoutId:a}=this.options;return a?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:a}=this.options;return a?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&kf("z",a,u,this.animationValues);for(let d=0;d<_f.length;d++)kf(`rotate${_f[d]}`,a,u,this.animationValues),kf(`skew${_f[d]}`,a,u,this.animationValues);a.render();for(const d in u)a.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);a.scheduleRender()}getProjectionStyles(a){if(!this.instance||this.isSVG)return;if(!this.isVisible)return hD;const l={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=bc(a==null?void 0:a.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none",l;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=bc(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!vs(this.latestValues)&&(g.transform=c?c({},""):"none",this.hasProjected=!1),g}const d=u.animationValues||u.latestValues;this.applyTransformsToTarget(),l.transform=fD(this.projectionDeltaWithTransform,this.treeScale,d),c&&(l.transform=c(d,l.transform));const{x:f,y:m}=this.projectionDelta;l.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,u.animationValues?l.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:l.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const g in qa){if(d[g]===void 0)continue;const{correct:x,applyTo:v,isCSSVariable:w}=qa[g],p=l.transform==="none"?d[g]:x(d[g],u);if(v){const y=v.length;for(let b=0;b<y;b++)l[v[b]]=p}else w?this.options.visualElement.renderState.vars[g]=p:l[g]=p}return this.options.layoutId&&(l.pointerEvents=u===this?bc(a==null?void 0:a.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(_v),this.root.sharedNodes.clear()}}}function gD(e){e.updateLayout()}function pD(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:o}=e.options,a=t.source!==e.layout.source;o==="size"?or(f=>{const m=a?t.measuredBox[f]:t.layoutBox[f],g=Rt(m);m.min=n[f].min,m.max=m.min+g}):Mk(o,t.layoutBox,n)&&or(f=>{const m=a?t.measuredBox[f]:t.layoutBox[f],g=Rt(n[f]);m.max=m.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+g)});const l=Ao();ma(l,n,t.layoutBox);const c=Ao();a?ma(c,e.applyTransform(s,!0),t.measuredBox):ma(c,n,t.layoutBox);const u=!Pk(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:g}=f;if(m&&g){const x=Ze();ga(x,t.layoutBox,m.layoutBox);const v=Ze();ga(v,n,g.layoutBox),Tk(x,v)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=x,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function yD(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function xD(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function vD(e){e.clearSnapshot()}function _v(e){e.clearMeasurements()}function bD(e){e.isLayoutDirty=!1}function wD(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function kv(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function _D(e){e.resolveTargetDelta()}function kD(e){e.calcProjection()}function SD(e){e.resetSkewAndRotation()}function jD(e){e.removeLeadSnapshot()}function Sv(e,t,r){e.translate=Ke(t.translate,0,r),e.scale=Ke(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function jv(e,t,r,n){e.min=Ke(t.min,r.min,n),e.max=Ke(t.max,r.max,n)}function ND(e,t,r,n){jv(e.x,t.x,r.x,n),jv(e.y,t.y,r.y,n)}function CD(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const ED={duration:.45,ease:[.4,0,.1,1]},Nv=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Cv=Nv("applewebkit/")&&!Nv("chrome/")?Math.round:dr;function Ev(e){e.min=Cv(e.min),e.max=Cv(e.max)}function PD(e){Ev(e.x),Ev(e.y)}function Mk(e,t,r){return e==="position"||e==="preserve-aspect"&&!AM(vv(t),vv(r),.2)}function TD(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const AD=Rk({attachResizeListener:(e,t)=>Ya(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Sf={current:void 0},Dk=Rk({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Sf.current){const e=new AD({});e.mount(window),e.setOptions({layoutScroll:!0}),Sf.current=e}return Sf.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),RD={pan:{Feature:KM},drag:{Feature:HM,ProjectionNode:Dk,MeasureLayout:Nk}};function Pv(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,o=n[s];o&&$e.postRender(()=>o(t,fl(t)))}class MD extends ls{mount(){const{current:t}=this.node;t&&(this.unmount=B8(t,(r,n)=>(Pv(this.node,n,"Start"),s=>Pv(this.node,s,"End"))))}unmount(){}}class DD extends ls{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=dl(Ya(this.node.current,"focus",()=>this.onFocus()),Ya(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Tv(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),o=n[s];o&&$e.postRender(()=>o(t,fl(t)))}class LD extends ls{mount(){const{current:t}=this.node;t&&(this.unmount=W8(t,(r,n)=>(Tv(this.node,n,"Start"),(s,{success:o})=>Tv(this.node,s,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const km=new WeakMap,jf=new WeakMap,OD=e=>{const t=km.get(e.target);t&&t(e)},ID=e=>{e.forEach(OD)};function FD({root:e,...t}){const r=e||document;jf.has(r)||jf.set(r,{});const n=jf.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(ID,{root:e,...t})),n[s]}function $D(e,t,r){const n=FD(t);return km.set(e,r),n.observe(e),()=>{km.delete(e),n.unobserve(e)}}const UD={some:0,all:1};class zD extends ls{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:o}=t,a={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:UD[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),m=u?d:f;m&&m(c)};return $D(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(BD(t,r))&&this.startObserver()}unmount(){}}function BD({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const VD={inView:{Feature:zD},tap:{Feature:LD},focus:{Feature:DD},hover:{Feature:MD}},GD={layout:{ProjectionNode:Dk,MeasureLayout:Nk}},Sm={current:null},Lk={current:!1};function qD(){if(Lk.current=!0,!!up)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Sm.current=e.matches;e.addListener(t),t()}else Sm.current=!1}const WD=[...ik,kt,Qn],HD=e=>WD.find(ok(e)),KD=new WeakMap;function YD(e,t,r){for(const n in t){const s=t[n],o=r[n];if(jt(s))e.addValue(n,s);else if(jt(o))e.addValue(n,Va(s,{owner:e}));else if(o!==s)if(e.hasValue(n)){const a=e.getValue(n);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=e.getStaticValue(n);e.addValue(n,Va(a!==void 0?a:s,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const Av=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class JD{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:o,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Up,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=Hr.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,$e.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:d}=a;this.onUpdate=d,this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!o,this.isControllingVariants=cd(r),this.isVariantNode=__(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...m}=this.scrapeMotionValuesFromProps(r,{},this);for(const g in m){const x=m[g];c[g]!==void 0&&jt(x)&&x.set(c[g],!1)}}mount(t){this.current=t,KD.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),Lk.current||qD(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Sm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Xn(this.notifyUpdate),Xn(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Ks.has(t);n&&this.onBindTransform&&this.onBindTransform();const s=r.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&$e.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),o=r.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{s(),o(),a&&a(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ri){const r=ri[t];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[t]&&s&&n(this.props)&&(this.features[t]=new s(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ze()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<Av.length;n++){const s=Av[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,a=t[o];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=YD(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Va(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(nk(n)||H_(n))?n=parseFloat(n):!HD(n)&&Qn.test(r)&&(n=ek(t,r)),this.setBaseTarget(t,jt(n)?n.get():n)),jt(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var o;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const a=Dp(this.props,r,(o=this.presenceContext)==null?void 0:o.custom);a&&(n=a[t])}if(r&&n!==void 0)return n;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!jt(s)?s:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new pp),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class Ok extends JD{constructor(){super(...arguments),this.KeyframeResolver=ak}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;jt(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function XD(e){return window.getComputedStyle(e)}class QD extends Ok{constructor(){super(...arguments),this.type="html",this.renderInstance=M_}readValueFromInstance(t,r){if(Ks.has(r))return uR(t,r);{const n=XD(t),s=(Np(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return _k(t,r)}build(t,r,n){Pp(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return Lp(t,r,n)}}class ZD extends Ok{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ze,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&R_(this.current,this.renderState)}}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Ks.has(r)){const n=Z_(r);return n&&n.default||0}return r=D_.has(r)?r:jp(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return O_(t,r,n)}onBindTransform(){this.current&&!this.renderState.dimensions&&$e.postRender(this.updateDimensions)}build(t,r,n){Rp(t,r,this.isSVGTag,n.transformTemplate)}renderInstance(t,r,n,s){L_(t,r,n,s)}mount(t){this.isSVGTag=Mp(t.tagName),super.mount(t)}}const eL=(e,t)=>Ap(e)?new ZD(t):new QD(t,{allowProjection:e!==h.Fragment}),tL=IA({...kM,...VD,...RD,...GD},eL),fr=Z8(tL);function Rv(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function rL(...e){return t=>{let r=!1;const n=e.map(s=>{const o=Rv(s,t);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let s=0;s<n.length;s++){const o=n[s];typeof o=="function"?o():Rv(e[s],null)}}}}function nL(e){const t=oL(e),r=h.forwardRef((n,s)=>{const{children:o,...a}=n,l=h.Children.toArray(o),c=l.find(aL);if(c){const u=c.props.children,d=l.map(f=>f===c?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...a,ref:s,children:h.isValidElement(u)?h.cloneElement(u,void 0,d):null})}return i.jsx(t,{...a,ref:s,children:o})});return r.displayName=`${e}.Slot`,r}var sL=nL("Slot");function oL(e){const t=h.forwardRef((r,n)=>{const{children:s,...o}=r;if(h.isValidElement(s)){const a=cL(s),l=lL(o,s.props);return s.type!==h.Fragment&&(l.ref=n?rL(n,a):a),h.cloneElement(s,l)}return h.Children.count(s)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var iL=Symbol("radix.slottable");function aL(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===iL}function lL(e,t){const r={...t};for(const n in t){const s=e[n],o=t[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...l)=>{o(...l),s(...l)}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...e,...r}}function cL(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Ik(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=Ik(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Fk(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=Ik(e))&&(n&&(n+=" "),n+=t);return n}const Mv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Dv=Fk,$k=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Dv(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:o}=t,a=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=o==null?void 0:o[u];if(d===null)return null;const m=Mv(d)||Mv(f);return s[u][m]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,m]=d;return m===void 0||(u[f]=m),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:m,...g}=d;return Object.entries(g).every(x=>{let[v,w]=x;return Array.isArray(w)?w.includes({...o,...l}[v]):{...o,...l}[v]===w})?[...u,f,m]:u},[]);return Dv(e,a,c,r==null?void 0:r.class,r==null?void 0:r.className)},Gp="-",uL=e=>{const t=fL(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:a=>{const l=a.split(Gp);return l[0]===""&&l.length!==1&&l.shift(),Uk(l,t)||dL(a)},getConflictingClassGroupIds:(a,l)=>{const c=r[a]||[];return l&&n[a]?[...c,...n[a]]:c}}},Uk=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?Uk(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(Gp);return(a=t.validators.find(({validator:l})=>l(o)))==null?void 0:a.classGroupId},Lv=/^\[(.+)\]$/,dL=e=>{if(Lv.test(e)){const t=Lv.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},fL=e=>{const{theme:t,classGroups:r}=e,n={nextPart:new Map,validators:[]};for(const s in r)jm(r[s],n,s,t);return n},jm=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:Ov(t,s);o.classGroupId=r;return}if(typeof s=="function"){if(hL(s)){jm(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([o,a])=>{jm(a,Ov(t,o),r,n)})})},Ov=(e,t)=>{let r=e;return t.split(Gp).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},hL=e=>e.isThemeGetter,mL=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(o,a)=>{r.set(o,a),t++,t>e&&(t=0,n=r,r=new Map)};return{get(o){let a=r.get(o);if(a!==void 0)return a;if((a=n.get(o))!==void 0)return s(o,a),a},set(o,a){r.has(o)?r.set(o,a):s(o,a)}}},Nm="!",Cm=":",gL=Cm.length,pL=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=s=>{const o=[];let a=0,l=0,c=0,u;for(let x=0;x<s.length;x++){let v=s[x];if(a===0&&l===0){if(v===Cm){o.push(s.slice(c,x)),c=x+gL;continue}if(v==="/"){u=x;continue}}v==="["?a++:v==="]"?a--:v==="("?l++:v===")"&&l--}const d=o.length===0?s:s.substring(c),f=yL(d),m=f!==d,g=u&&u>c?u-c:void 0;return{modifiers:o,hasImportantModifier:m,baseClassName:f,maybePostfixModifierPosition:g}};if(t){const s=t+Cm,o=n;n=a=>a.startsWith(s)?o(a.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(r){const s=n;n=o=>r({className:o,parseClassName:s})}return n},yL=e=>e.endsWith(Nm)?e.substring(0,e.length-1):e.startsWith(Nm)?e.substring(1):e,xL=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const s=[];let o=[];return n.forEach(a=>{a[0]==="["||t[a]?(s.push(...o.sort(),a),o=[]):o.push(a)}),s.push(...o.sort()),s}},vL=e=>({cache:mL(e.cacheSize),parseClassName:pL(e),sortModifiers:xL(e),...uL(e)}),bL=/\s+/,wL=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s,sortModifiers:o}=t,a=[],l=e.trim().split(bL);let c="";for(let u=l.length-1;u>=0;u-=1){const d=l[u],{isExternal:f,modifiers:m,hasImportantModifier:g,baseClassName:x,maybePostfixModifierPosition:v}=r(d);if(f){c=d+(c.length>0?" "+c:c);continue}let w=!!v,p=n(w?x.substring(0,v):x);if(!p){if(!w){c=d+(c.length>0?" "+c:c);continue}if(p=n(x),!p){c=d+(c.length>0?" "+c:c);continue}w=!1}const y=o(m).join(":"),b=g?y+Nm:y,k=b+p;if(a.includes(k))continue;a.push(k);const _=s(p,w);for(let j=0;j<_.length;++j){const E=_[j];a.push(b+E)}c=d+(c.length>0?" "+c:c)}return c};function _L(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=zk(t))&&(n&&(n+=" "),n+=r);return n}const zk=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=zk(e[n]))&&(r&&(r+=" "),r+=t);return r};function kL(e,...t){let r,n,s,o=a;function a(c){const u=t.reduce((d,f)=>f(d),e());return r=vL(u),n=r.cache.get,s=r.cache.set,o=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=wL(c,r);return s(c,d),d}return function(){return o(_L.apply(null,arguments))}}const at=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Bk=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Vk=/^\((?:(\w[\w-]*):)?(.+)\)$/i,SL=/^\d+\/\d+$/,jL=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,NL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,CL=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,EL=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,PL=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,so=e=>SL.test(e),ve=e=>!!e&&!Number.isNaN(Number(e)),_n=e=>!!e&&Number.isInteger(Number(e)),Nf=e=>e.endsWith("%")&&ve(e.slice(0,-1)),en=e=>jL.test(e),TL=()=>!0,AL=e=>NL.test(e)&&!CL.test(e),Gk=()=>!1,RL=e=>EL.test(e),ML=e=>PL.test(e),DL=e=>!le(e)&&!ce(e),LL=e=>xi(e,Hk,Gk),le=e=>Bk.test(e),gs=e=>xi(e,Kk,AL),Cf=e=>xi(e,UL,ve),Iv=e=>xi(e,qk,Gk),OL=e=>xi(e,Wk,ML),Hl=e=>xi(e,Yk,RL),ce=e=>Vk.test(e),Oi=e=>vi(e,Kk),IL=e=>vi(e,zL),Fv=e=>vi(e,qk),FL=e=>vi(e,Hk),$L=e=>vi(e,Wk),Kl=e=>vi(e,Yk,!0),xi=(e,t,r)=>{const n=Bk.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},vi=(e,t,r=!1)=>{const n=Vk.exec(e);return n?n[1]?t(n[1]):r:!1},qk=e=>e==="position"||e==="percentage",Wk=e=>e==="image"||e==="url",Hk=e=>e==="length"||e==="size"||e==="bg-size",Kk=e=>e==="length",UL=e=>e==="number",zL=e=>e==="family-name",Yk=e=>e==="shadow",BL=()=>{const e=at("color"),t=at("font"),r=at("text"),n=at("font-weight"),s=at("tracking"),o=at("leading"),a=at("breakpoint"),l=at("container"),c=at("spacing"),u=at("radius"),d=at("shadow"),f=at("inset-shadow"),m=at("text-shadow"),g=at("drop-shadow"),x=at("blur"),v=at("perspective"),w=at("aspect"),p=at("ease"),y=at("animate"),b=()=>["auto","avoid","all","avoid-page","page","left","right","column"],k=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],_=()=>[...k(),ce,le],j=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto","contain","none"],N=()=>[ce,le,c],F=()=>[so,"full","auto",...N()],C=()=>[_n,"none","subgrid",ce,le],I=()=>["auto",{span:["full",_n,ce,le]},_n,ce,le],P=()=>[_n,"auto",ce,le],O=()=>["auto","min","max","fr",ce,le],A=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],$=()=>["start","end","center","stretch","center-safe","end-safe"],L=()=>["auto",...N()],z=()=>[so,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...N()],S=()=>[e,ce,le],M=()=>[...k(),Fv,Iv,{position:[ce,le]}],T=()=>["no-repeat",{repeat:["","x","y","space","round"]}],B=()=>["auto","cover","contain",FL,LL,{size:[ce,le]}],V=()=>[Nf,Oi,gs],re=()=>["","none","full",u,ce,le],se=()=>["",ve,Oi,gs],fe=()=>["solid","dashed","dotted","double"],oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>[ve,Nf,Fv,Iv],G=()=>["","none",x,ce,le],X=()=>["none",ve,ce,le],H=()=>["none",ve,ce,le],Y=()=>[ve,ce,le],K=()=>[so,"full",...N()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[en],breakpoint:[en],color:[TL],container:[en],"drop-shadow":[en],ease:["in","out","in-out"],font:[DL],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[en],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[en],shadow:[en],spacing:["px",ve],text:[en],"text-shadow":[en],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",so,le,ce,w]}],container:["container"],columns:[{columns:[ve,le,ce,l]}],"break-after":[{"break-after":b()}],"break-before":[{"break-before":b()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:_()}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:F()}],"inset-x":[{"inset-x":F()}],"inset-y":[{"inset-y":F()}],start:[{start:F()}],end:[{end:F()}],top:[{top:F()}],right:[{right:F()}],bottom:[{bottom:F()}],left:[{left:F()}],visibility:["visible","invisible","collapse"],z:[{z:[_n,"auto",ce,le]}],basis:[{basis:[so,"full","auto",l,...N()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ve,so,"auto","initial","none",le]}],grow:[{grow:["",ve,ce,le]}],shrink:[{shrink:["",ve,ce,le]}],order:[{order:[_n,"first","last","none",ce,le]}],"grid-cols":[{"grid-cols":C()}],"col-start-end":[{col:I()}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":C()}],"row-start-end":[{row:I()}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":O()}],"auto-rows":[{"auto-rows":O()}],gap:[{gap:N()}],"gap-x":[{"gap-x":N()}],"gap-y":[{"gap-y":N()}],"justify-content":[{justify:[...A(),"normal"]}],"justify-items":[{"justify-items":[...$(),"normal"]}],"justify-self":[{"justify-self":["auto",...$()]}],"align-content":[{content:["normal",...A()]}],"align-items":[{items:[...$(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...$(),{baseline:["","last"]}]}],"place-content":[{"place-content":A()}],"place-items":[{"place-items":[...$(),"baseline"]}],"place-self":[{"place-self":["auto",...$()]}],p:[{p:N()}],px:[{px:N()}],py:[{py:N()}],ps:[{ps:N()}],pe:[{pe:N()}],pt:[{pt:N()}],pr:[{pr:N()}],pb:[{pb:N()}],pl:[{pl:N()}],m:[{m:L()}],mx:[{mx:L()}],my:[{my:L()}],ms:[{ms:L()}],me:[{me:L()}],mt:[{mt:L()}],mr:[{mr:L()}],mb:[{mb:L()}],ml:[{ml:L()}],"space-x":[{"space-x":N()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":N()}],"space-y-reverse":["space-y-reverse"],size:[{size:z()}],w:[{w:[l,"screen",...z()]}],"min-w":[{"min-w":[l,"screen","none",...z()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[a]},...z()]}],h:[{h:["screen",...z()]}],"min-h":[{"min-h":["screen","none",...z()]}],"max-h":[{"max-h":["screen",...z()]}],"font-size":[{text:["base",r,Oi,gs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,ce,Cf]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Nf,le]}],"font-family":[{font:[IL,le,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,ce,le]}],"line-clamp":[{"line-clamp":[ve,"none",ce,Cf]}],leading:[{leading:[o,...N()]}],"list-image":[{"list-image":["none",ce,le]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ce,le]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:S()}],"text-color":[{text:S()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...fe(),"wavy"]}],"text-decoration-thickness":[{decoration:[ve,"from-font","auto",ce,gs]}],"text-decoration-color":[{decoration:S()}],"underline-offset":[{"underline-offset":[ve,"auto",ce,le]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ce,le]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ce,le]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:M()}],"bg-repeat":[{bg:T()}],"bg-size":[{bg:B()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},_n,ce,le],radial:["",ce,le],conic:[_n,ce,le]},$L,OL]}],"bg-color":[{bg:S()}],"gradient-from-pos":[{from:V()}],"gradient-via-pos":[{via:V()}],"gradient-to-pos":[{to:V()}],"gradient-from":[{from:S()}],"gradient-via":[{via:S()}],"gradient-to":[{to:S()}],rounded:[{rounded:re()}],"rounded-s":[{"rounded-s":re()}],"rounded-e":[{"rounded-e":re()}],"rounded-t":[{"rounded-t":re()}],"rounded-r":[{"rounded-r":re()}],"rounded-b":[{"rounded-b":re()}],"rounded-l":[{"rounded-l":re()}],"rounded-ss":[{"rounded-ss":re()}],"rounded-se":[{"rounded-se":re()}],"rounded-ee":[{"rounded-ee":re()}],"rounded-es":[{"rounded-es":re()}],"rounded-tl":[{"rounded-tl":re()}],"rounded-tr":[{"rounded-tr":re()}],"rounded-br":[{"rounded-br":re()}],"rounded-bl":[{"rounded-bl":re()}],"border-w":[{border:se()}],"border-w-x":[{"border-x":se()}],"border-w-y":[{"border-y":se()}],"border-w-s":[{"border-s":se()}],"border-w-e":[{"border-e":se()}],"border-w-t":[{"border-t":se()}],"border-w-r":[{"border-r":se()}],"border-w-b":[{"border-b":se()}],"border-w-l":[{"border-l":se()}],"divide-x":[{"divide-x":se()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":se()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...fe(),"hidden","none"]}],"divide-style":[{divide:[...fe(),"hidden","none"]}],"border-color":[{border:S()}],"border-color-x":[{"border-x":S()}],"border-color-y":[{"border-y":S()}],"border-color-s":[{"border-s":S()}],"border-color-e":[{"border-e":S()}],"border-color-t":[{"border-t":S()}],"border-color-r":[{"border-r":S()}],"border-color-b":[{"border-b":S()}],"border-color-l":[{"border-l":S()}],"divide-color":[{divide:S()}],"outline-style":[{outline:[...fe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ve,ce,le]}],"outline-w":[{outline:["",ve,Oi,gs]}],"outline-color":[{outline:S()}],shadow:[{shadow:["","none",d,Kl,Hl]}],"shadow-color":[{shadow:S()}],"inset-shadow":[{"inset-shadow":["none",f,Kl,Hl]}],"inset-shadow-color":[{"inset-shadow":S()}],"ring-w":[{ring:se()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:S()}],"ring-offset-w":[{"ring-offset":[ve,gs]}],"ring-offset-color":[{"ring-offset":S()}],"inset-ring-w":[{"inset-ring":se()}],"inset-ring-color":[{"inset-ring":S()}],"text-shadow":[{"text-shadow":["none",m,Kl,Hl]}],"text-shadow-color":[{"text-shadow":S()}],opacity:[{opacity:[ve,ce,le]}],"mix-blend":[{"mix-blend":[...oe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":oe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ve]}],"mask-image-linear-from-pos":[{"mask-linear-from":R()}],"mask-image-linear-to-pos":[{"mask-linear-to":R()}],"mask-image-linear-from-color":[{"mask-linear-from":S()}],"mask-image-linear-to-color":[{"mask-linear-to":S()}],"mask-image-t-from-pos":[{"mask-t-from":R()}],"mask-image-t-to-pos":[{"mask-t-to":R()}],"mask-image-t-from-color":[{"mask-t-from":S()}],"mask-image-t-to-color":[{"mask-t-to":S()}],"mask-image-r-from-pos":[{"mask-r-from":R()}],"mask-image-r-to-pos":[{"mask-r-to":R()}],"mask-image-r-from-color":[{"mask-r-from":S()}],"mask-image-r-to-color":[{"mask-r-to":S()}],"mask-image-b-from-pos":[{"mask-b-from":R()}],"mask-image-b-to-pos":[{"mask-b-to":R()}],"mask-image-b-from-color":[{"mask-b-from":S()}],"mask-image-b-to-color":[{"mask-b-to":S()}],"mask-image-l-from-pos":[{"mask-l-from":R()}],"mask-image-l-to-pos":[{"mask-l-to":R()}],"mask-image-l-from-color":[{"mask-l-from":S()}],"mask-image-l-to-color":[{"mask-l-to":S()}],"mask-image-x-from-pos":[{"mask-x-from":R()}],"mask-image-x-to-pos":[{"mask-x-to":R()}],"mask-image-x-from-color":[{"mask-x-from":S()}],"mask-image-x-to-color":[{"mask-x-to":S()}],"mask-image-y-from-pos":[{"mask-y-from":R()}],"mask-image-y-to-pos":[{"mask-y-to":R()}],"mask-image-y-from-color":[{"mask-y-from":S()}],"mask-image-y-to-color":[{"mask-y-to":S()}],"mask-image-radial":[{"mask-radial":[ce,le]}],"mask-image-radial-from-pos":[{"mask-radial-from":R()}],"mask-image-radial-to-pos":[{"mask-radial-to":R()}],"mask-image-radial-from-color":[{"mask-radial-from":S()}],"mask-image-radial-to-color":[{"mask-radial-to":S()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":k()}],"mask-image-conic-pos":[{"mask-conic":[ve]}],"mask-image-conic-from-pos":[{"mask-conic-from":R()}],"mask-image-conic-to-pos":[{"mask-conic-to":R()}],"mask-image-conic-from-color":[{"mask-conic-from":S()}],"mask-image-conic-to-color":[{"mask-conic-to":S()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:M()}],"mask-repeat":[{mask:T()}],"mask-size":[{mask:B()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ce,le]}],filter:[{filter:["","none",ce,le]}],blur:[{blur:G()}],brightness:[{brightness:[ve,ce,le]}],contrast:[{contrast:[ve,ce,le]}],"drop-shadow":[{"drop-shadow":["","none",g,Kl,Hl]}],"drop-shadow-color":[{"drop-shadow":S()}],grayscale:[{grayscale:["",ve,ce,le]}],"hue-rotate":[{"hue-rotate":[ve,ce,le]}],invert:[{invert:["",ve,ce,le]}],saturate:[{saturate:[ve,ce,le]}],sepia:[{sepia:["",ve,ce,le]}],"backdrop-filter":[{"backdrop-filter":["","none",ce,le]}],"backdrop-blur":[{"backdrop-blur":G()}],"backdrop-brightness":[{"backdrop-brightness":[ve,ce,le]}],"backdrop-contrast":[{"backdrop-contrast":[ve,ce,le]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ve,ce,le]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ve,ce,le]}],"backdrop-invert":[{"backdrop-invert":["",ve,ce,le]}],"backdrop-opacity":[{"backdrop-opacity":[ve,ce,le]}],"backdrop-saturate":[{"backdrop-saturate":[ve,ce,le]}],"backdrop-sepia":[{"backdrop-sepia":["",ve,ce,le]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":N()}],"border-spacing-x":[{"border-spacing-x":N()}],"border-spacing-y":[{"border-spacing-y":N()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ce,le]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ve,"initial",ce,le]}],ease:[{ease:["linear","initial",p,ce,le]}],delay:[{delay:[ve,ce,le]}],animate:[{animate:["none",y,ce,le]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[v,ce,le]}],"perspective-origin":[{"perspective-origin":_()}],rotate:[{rotate:X()}],"rotate-x":[{"rotate-x":X()}],"rotate-y":[{"rotate-y":X()}],"rotate-z":[{"rotate-z":X()}],scale:[{scale:H()}],"scale-x":[{"scale-x":H()}],"scale-y":[{"scale-y":H()}],"scale-z":[{"scale-z":H()}],"scale-3d":["scale-3d"],skew:[{skew:Y()}],"skew-x":[{"skew-x":Y()}],"skew-y":[{"skew-y":Y()}],transform:[{transform:[ce,le,"","none","gpu","cpu"]}],"transform-origin":[{origin:_()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:K()}],"translate-x":[{"translate-x":K()}],"translate-y":[{"translate-y":K()}],"translate-z":[{"translate-z":K()}],"translate-none":["translate-none"],accent:[{accent:S()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:S()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ce,le]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ce,le]}],fill:[{fill:["none",...S()]}],"stroke-w":[{stroke:[ve,Oi,gs,Cf]}],stroke:[{stroke:["none",...S()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},VL=kL(BL);function je(...e){return VL(Fk(e))}const GL=$k("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-gradient-to-r from-slate-400 to-rose-300 hover:from-slate-500 hover:to-rose-400 text-white",ghost:"hover:bg-gradient-to-r hover:from-slate-500 hover:to-rose-400 hover:text-white",outline:"border border-input bg-background hover:bg-gradient-to-r hover:from-slate-500 hover:to-rose-400 hover:text-white",secondary:"bg-gradient-to-r from-slate-400 to-rose-300 hover:from-slate-500 hover:to-rose-400 text-white",destructive:"bg-red-500 text-white hover:bg-red-600",primary:"bg-blue-600 text-white hover:bg-blue-700"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),xe=h.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},o)=>{const a=n?sL:"button";return i.jsx(a,{className:je(GL({variant:t,size:r,className:e})),ref:o,...s})});xe.displayName="Button";const qL=["EN","RU","KK","TR"],WL=()=>{const{language:e,setLanguage:t,isTranslating:r}=ot(),[n,s]=h.useState(!1),[o,a]=h.useState(null),[l,c]=h.useState("unavailable"),[u,d]=h.useState("Translation disabled - working in fallback mode"),f=h.useRef(null),[m,g]=h.useState(0);h.useEffect(()=>{x()},[]);const x=async()=>{if(!(m>=3)){g(w=>w+1),c("checking");try{const w=await Oa();c(w?"available":"unavailable"),d(w?null:"Translation server is offline - using fallback mode")}catch(w){console.error("Error checking translation server:",w),c("unavailable"),d("Error connecting to translation service")}}};h.useEffect(()=>{const w=p=>{f.current&&!f.current.contains(p.target)&&s(!1)};return document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}},[]),h.useEffect(()=>{n&&a({EN:{hello:"Hello",welcome:"Welcome",button_example:"Submit"},RU:{hello:"",welcome:" ",button_example:""},KK:{hello:"",welcome:" ",button_example:""},TR:{hello:"Merhaba",welcome:"Ho geldiniz",button_example:"Gnder"}}[e])},[n,e]);const v=async w=>{if(e===w){s(!1);return}if(l==="unavailable"){t(w),s(!1),q.success(`Language changed to ${w} (translations disabled)`,{icon:"",duration:2e3});return}try{const p=await Oa();c(p?"available":"unavailable"),p||q("Translation server is offline. Using original text.",{icon:"",duration:3e3})}catch(p){console.error("Error checking translation server:",p)}t(w),s(!1),q.success(`Language changed to ${w}`,{icon:"",duration:2e3})};return i.jsxs("div",{className:"relative",ref:f,children:[i.jsx("button",{onClick:()=>s(!n),className:"flex items-center justify-center text-gray-600 dark:text-white/70 hover:text-gray-800 dark:hover:text-white transition-colors duration-200","aria-label":"Change Language",title:`Change Language (${l==="available"?"Online":"Offline mode"})`,children:r?i.jsx(x8,{className:"w-5 h-5 animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx(m8,{className:"w-5 h-5"}),i.jsx("span",{className:`absolute top-0 right-0 block w-2 h-2 rounded-full ${l==="available"?"bg-green-400":l==="unavailable"?"bg-red-400":"bg-yellow-400 animate-pulse"}`})]})}),n&&i.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-[#121212] border border-gray-200 dark:border-white/10 rounded-xl shadow-lg py-1 z-50",children:[u&&i.jsx("div",{className:"px-4 py-2 text-xs text-red-500 border-b border-gray-200 dark:border-gray-700",children:u}),i.jsxs("div",{className:"px-4 py-2 border-b border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Translation server"}),i.jsxs("span",{className:`flex items-center text-xs ${l==="available"?"text-green-500 dark:text-green-400":l==="unavailable"?"text-red-500 dark:text-red-400":"text-yellow-500 dark:text-yellow-400"}`,children:[i.jsx("span",{className:`inline-block w-2 h-2 rounded-full mr-1 ${l==="available"?"bg-green-500 dark:bg-green-400":l==="unavailable"?"bg-red-500 dark:bg-red-400":"bg-yellow-500 dark:bg-yellow-400 animate-pulse"}`}),l==="available"?"Online":l==="unavailable"?"Offline":"Checking..."]})]}),m<3&&i.jsx("div",{className:"mt-1 text-xs text-gray-500",children:i.jsx("button",{onClick:x,className:"text-blue-500 hover:underline",children:"Test connection"})})]}),i.jsxs("div",{className:"px-4 py-2 border-b border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:["Current: ",e.toUpperCase()]}),o&&i.jsxs("div",{className:"text-xs",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"Hello:"})," ",o.hello]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"Welcome:"})," ",o.welcome]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"Button:"})," ",o.button_example]})]})]}),i.jsx("div",{className:"py-1",children:qL.map(w=>i.jsxs("button",{onClick:()=>v(w),className:`block w-full text-left px-4 py-2 text-sm ${e===w?"bg-blue-50 text-blue-600 dark:bg-blue-900/20 dark:text-blue-400":"text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-800/80"}`,disabled:r,children:[w==="EN"&&"English ",w==="RU"&&" ",w==="KK"&&" ",w==="TR"&&"Trke "]},w))}),i.jsx("div",{className:"px-4 py-2 border-t border-gray-200 dark:border-gray-700",children:i.jsx("button",{onClick:()=>{window.location.reload()},className:"w-full text-xs text-center text-gray-500 dark:text-gray-400 hover:text-blue-500 dark:hover:text-blue-400",children:"Reload app"})})]})]})},HL=()=>{var x,v;const{user:e,signOut:t}=it(),{isDarkMode:r,toggleDarkMode:n}=Jg();rr();const s=st(),[o,a]=h.useState(!1),[l,c]=h.useState(!1),u=h.useRef(null),d=h.useRef(null),{fetchNotifications:f}=S8();h.useEffect(()=>{e&&l&&f()},[e,l,f]);const m=()=>{n()},g=async()=>{try{await t(),Z.success("Logged out successfully"),s("/login")}catch(w){console.error("Logout Error:",w),Z.error("Logout failed. Please try again.")}};return h.useEffect(()=>{const w=p=>{u.current&&!u.current.contains(p.target)&&a(!1)};return document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}},[]),i.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-white dark:bg-neutral-800 shadow-md border-b border-gray-200 dark:border-gray-700",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex items-center justify-between h-16",children:[i.jsx("div",{className:"flex items-center",children:i.jsx(be,{to:"/",className:"flex-shrink-0 flex items-center",children:i.jsx("span",{className:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-indigo-500 to-rose-500",children:"ConnectMe"})})}),i.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[i.jsx("div",{className:"hidden md:block flex-1 max-w-xs"}),i.jsxs("div",{className:"flex items-center space-x-4 md:space-x-5",children:[i.jsx(WL,{}),i.jsx("button",{onClick:m,className:"p-2 rounded-full text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none","aria-label":"Toggle dark mode",children:r?i.jsx(b8,{className:"h-5 w-5"}):i.jsx(p8,{className:"h-5 w-5"})}),i.jsx(be,{to:"/messages",className:"p-2 rounded-full text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none","aria-label":"Messages",children:i.jsx(f8,{className:"h-5 w-5"})}),e?i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{ref:d,className:"relative",children:i.jsx(_8,{})}),i.jsxs("div",{ref:u,className:"relative",children:[i.jsxs("button",{onClick:()=>a(!o),className:"flex items-center text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500",children:[i.jsx("img",{className:"h-8 w-8 rounded-full object-cover border-2 border-gray-300 dark:border-gray-600",src:((x=e.user_metadata)==null?void 0:x.avatar_url)||"/default-avatar.png",alt:"User profile"}),i.jsx("span",{onClick:w=>{w.stopPropagation(),s("/profile")},className:"ml-2 text-gray-700 dark:text-gray-300 hidden sm:inline cursor-pointer hover:text-rose-500 dark:hover:text-rose-400 transition-colors",children:((v=e.user_metadata)==null?void 0:v.username)||e.email})]}),i.jsx(fp,{children:o&&i.jsxs(fr.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white dark:bg-gray-800 ring-1 ring-black ring-opacity-5 focus:outline-none z-[60]",children:[i.jsx("button",{onClick:()=>{s("/settings"),a(!1)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",children:"Settings"}),i.jsx("button",{onClick:()=>{g(),a(!1)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",children:"Sign Out"})]})})]})]}):i.jsx(xe,{onClick:()=>s("/login"),className:"px-5 py-2 rounded-lg text-sm",children:"Sign In"})]})]}),i.jsx("div",{className:"-mr-2 flex md:hidden",children:i.jsx(k8,{})})]})})})};/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KL=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Jk=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var YL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JL=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:a,...l},c)=>h.createElement("svg",{ref:c,...YL,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Jk("lucide",s),...l},[...a.map(([u,d])=>h.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=(e,t)=>{const r=h.forwardRef(({className:n,...s},o)=>h.createElement(JL,{ref:o,iconNode:t,className:Jk(`lucide-${KL(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XL=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Xk=Ys("Check",XL);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QL=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Qk=Ys("ChevronDown",QL);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZL=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],eO=Ys("ChevronRight",ZL);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],rO=Ys("ChevronUp",tO);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Zk=Ys("Circle",nO);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],oO=Ys("Menu",sO);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iO=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],eS=Ys("X",iO),tS=h.createContext(void 0),rS=()=>{const e=h.useContext(tS);if(!e)throw new Error("useSidebar must be used within a SidebarProvider");return e},aO=({children:e,open:t,setOpen:r,animate:n=!0})=>{const[s,o]=h.useState(!1),a=t!==void 0?t:s,l=r!==void 0?r:o;return i.jsx(tS.Provider,{value:{open:a,setOpen:l,animate:n},children:e})};function lO({children:e,open:t,setOpen:r,animate:n}){return i.jsx(aO,{open:t,setOpen:r,animate:n,children:e})}const cO=e=>i.jsxs(i.Fragment,{children:[i.jsx(uO,{...e}),i.jsx(dO,{...e})]}),uO=({className:e,children:t,...r})=>i.jsx(fr.div,{className:je("h-full px-4 py-4 hidden md:flex md:flex-col bg-neutral-100 dark:bg-neutral-800 w-[240px] flex-shrink-0",e),...r,children:t}),dO=({className:e,children:t,...r})=>{const{open:n,setOpen:s}=rS();return i.jsx(i.Fragment,{children:i.jsxs("div",{className:je("h-10 px-4 py-4 flex flex-row md:hidden items-center justify-between bg-neutral-100 dark:bg-neutral-800 w-full"),...r,children:[i.jsx("div",{className:"flex justify-end z-20 w-full",children:i.jsx(oO,{className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",onClick:()=>s(!n)})}),i.jsx(fp,{children:n&&i.jsxs(fr.div,{initial:{x:"-100%",opacity:0},animate:{x:0,opacity:1},exit:{x:"-100%",opacity:0},transition:{duration:.3,ease:"easeInOut"},className:je("fixed h-full w-full inset-0 bg-white dark:bg-neutral-800 p-10 z-[100] flex flex-col justify-between",e),children:[i.jsx("div",{className:"absolute right-10 top-10 z-50 text-neutral-800 dark:text-neutral-200 cursor-pointer",onClick:()=>s(!n),children:i.jsx(eS,{})}),t]})})]})})},Ef=({link:e,className:t,...r})=>{const{open:n,animate:s}=rS(),[o,a]=h.useState(!1),{t:l}=Rr();return h.useEffect(()=>{const c=()=>{const d=window.location.pathname;if(e.href==="/profile"&&d.startsWith("/profile/")){a(!0);return}if(["/settings","/discover","/saved","/favorites"].includes(e.href)){a(d===e.href);return}d===e.href||d.startsWith(`${e.href}/`)&&e.href!=="/"?a(!0):a(!1)};c(),window.addEventListener("popstate",c);const u=()=>c();return window.addEventListener("routeChange",u),()=>{window.removeEventListener("popstate",c),window.removeEventListener("routeChange",u)}},[e.href]),i.jsxs(be,{to:e.href,className:je("flex items-center justify-start gap-3 group/sidebar py-3 px-4 my-1 rounded-lg",o?"bg-gradient-to-r from-gray-200 to-rose-200 dark:from-gray-800 dark:to-rose-900 text-gray-800 dark:text-rose-100 font-medium":"text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-800 hover:bg-gradient-to-r hover:from-gray-100 hover:to-rose-100 dark:hover:from-black dark:hover:to-rose-900/40",t),...r,children:[i.jsx("div",{className:`text-lg ${o?"text-rose-600 dark:text-rose-300":""}`,children:e.icon}),i.jsx(fr.span,{animate:{display:s?n?"inline-block":"none":"inline-block",opacity:s?n?1:0:1},className:"text-sm font-medium group-hover/sidebar:translate-x-1 transition duration-150 whitespace-pre inline-block !p-0 !m-0",children:l(e.label)})]})},fO=()=>{const[e,t]=h.useState(!0),r=rr(),n=st(),{t:s}=Rr();h.useEffect(()=>{window.scrollTo(0,0),window.dispatchEvent(new Event("routeChange"))},[r.pathname]);const o=[{href:"/home",label:"nav.home",icon:i.jsx(i_,{size:18})},{href:"/profile",label:"nav.profile",icon:i.jsx(ap,{size:18})},{href:"/groups",label:"nav.groups",icon:i.jsx(ti,{size:18})},{href:"/events",label:"nav.events",icon:i.jsx(ei,{size:18})}],a=[{href:"/friends",label:"nav.friends",icon:i.jsx(l_,{size:18})},{href:"/notifications",label:"nav.notifications",icon:i.jsx(r_,{size:18})},{href:"/messages",label:"nav.messages",icon:i.jsx(s_,{size:18})}],l=[{href:"/discover",label:"nav.discover",icon:i.jsx(h8,{size:18})},{href:"/saved",label:"nav.saved",icon:i.jsx(nu,{size:18})},{href:"/favorites",label:"nav.favorites",icon:i.jsx(v8,{size:18})},{href:"/settings",label:"nav.settings",icon:i.jsx(n_,{size:18})}],c=u=>{r.pathname!==u&&(n(u),window.dispatchEvent(new Event("routeChange")))};return i.jsxs("div",{className:"min-h-screen bg-white dark:bg-neutral-800",children:[i.jsx("header",{className:"sticky top-0 z-50 w-full",children:i.jsx(HL,{})}),i.jsxs("div",{className:"flex min-h-[calc(100vh-4rem)]",children:[i.jsx("aside",{className:"hidden lg:block flex-shrink-0 w-[240px] sticky top-16 h-[calc(100vh-4rem)] overflow-hidden",children:i.jsx(lO,{open:e,setOpen:t,children:i.jsxs(cO,{className:"flex flex-col h-full py-4 overflow-y-auto border-r border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"px-4 text-xs uppercase text-gray-500 dark:text-gray-400 font-semibold mb-2",children:s("nav.main")}),i.jsx("div",{className:"space-y-1",children:o.map(u=>i.jsx(Ef,{link:u,onClick:()=>c(u.href)},u.href))})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"px-4 text-xs uppercase text-gray-500 dark:text-gray-400 font-semibold mb-2",children:s("nav.shortcuts")}),i.jsx("div",{className:"space-y-1",children:a.map(u=>i.jsx(Ef,{link:u,onClick:()=>c(u.href)},u.href))})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"px-4 text-xs uppercase text-gray-500 dark:text-gray-400 font-semibold mb-2",children:s("nav.resources")}),i.jsx("div",{className:"space-y-1",children:l.map(u=>i.jsx(Ef,{link:u,onClick:()=>c(u.href)},u.href))})]})]})})}),i.jsx("main",{className:"flex-1 p-6",children:i.jsx(IE,{})})]})]})},hO={user:null,loading:!0,hasCompletedProfile:!1},_c=({children:e})=>{var u,d;const{user:t,loading:r,hasCompletedProfile:n=!1}=it()||hO,s=rr(),[o,a]=h.useState(0);h.useEffect(()=>{const f=parseInt(sessionStorage.getItem("last_redirect_time")||"0",10),m=Date.now();m-f<1e3?a(g=>g+1):a(0),o===0&&sessionStorage.setItem("last_redirect_time",m.toString()),o>5&&console.error("RequireAuth: Muhtemelen bir ynlendirme dngsne girildi!")},[s.pathname]),console.log("RequireAuth State:",{path:s.pathname,user:!!t,loading:r,hasCompletedProfile:n,redirectCount:o});const l=["/","/login","/register","/callback","/reset-password"].includes(s.pathname)||s.pathname.startsWith("/callback"),c=s.pathname==="/complete-profile";if(o>5)return console.log("RequireAuth: Too many redirects detected."),sessionStorage.removeItem("last_redirect_time"),i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-black",children:i.jsxs("div",{className:"text-center p-8 bg-white dark:bg-gray-800 rounded-lg shadow-lg max-w-md",children:[i.jsx("h2",{className:"text-xl font-bold text-red-600 dark:text-red-400 mb-4",children:"Authentication Error"}),i.jsx("p",{className:"mb-4 text-gray-700 dark:text-gray-300",children:"An authentication loop was detected. Please try clearing your browser cache and cookies, then sign in again."}),i.jsx("a",{href:"/login",className:"inline-block px-4 py-2 bg-gradient-to-r from-indigo-500 to-rose-500 text-white rounded hover:from-indigo-600 hover:to-rose-600 transition-all",onClick:()=>{localStorage.clear(),sessionStorage.clear(),window.location.href="/login"},children:"Go to Login"})]})});if(r)return console.log("RequireAuth: AuthContext is loading..."),i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-black",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-rose-500"}),i.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-lg",children:"Loading..."})]})});if(!t)return l?(console.log("RequireAuth: Not authenticated, on public path."),o>0&&a(0),sessionStorage.removeItem("last_redirect_time"),i.jsx(i.Fragment,{children:e})):(console.log("RequireAuth: Not authenticated (after load), redirecting to login."),i.jsx(aa,{to:"/login",state:{from:s},replace:!0}));if(n&&(s.pathname==="/login"||s.pathname==="/register")){console.log("RequireAuth: Authenticated and profile complete, redirecting from login/register.");const f=((d=(u=s.state)==null?void 0:u.from)==null?void 0:d.pathname)||"/home";return i.jsx(aa,{to:f,replace:!0})}return!n&&!c&&!l?(console.log("RequireAuth: Authenticated but profile incomplete, redirecting to /complete-profile."),i.jsx(aa,{to:"/complete-profile",state:{from:s},replace:!0})):(console.log("RequireAuth: All checks passed, allowing access."),o>0&&a(0),sessionStorage.removeItem("last_redirect_time"),i.jsx(i.Fragment,{children:e}))},Em=({children:e})=>{const{user:t,loading:r,hasCompletedProfile:n}=it(),s=rr();return console.log("RequireProfileCompletion: Current path:",s.pathname),console.log("RequireProfileCompletion: Profile completed:",n),s.pathname==="/complete-profile"?i.jsx(i.Fragment,{children:e}):r&&!t?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-black",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-rose-500"}),i.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-lg",children:"Loading profile..."})]})}):t&&n===!1&&s.pathname!=="/complete-profile"?(console.log("RequireProfileCompletion: Redirecting to complete profile"),i.jsx(aa,{to:"/complete-profile",state:{from:s},replace:!0})):i.jsx(i.Fragment,{children:e})},mO=({onEmergencySignOut:e})=>{const{search:t}=rr(),r=new URLSearchParams(t);return r.has("emergency_logout")||r.has("session_expired")||r.has("auth_error")?i.jsxs("div",{className:"mt-6 p-4 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:[i.jsx("h3",{className:"text-sm font-semibold text-red-800 dark:text-red-200 mb-2",children:"Authentication Issues?"}),i.jsx("p",{className:"text-xs text-red-700 dark:text-red-300 mb-3",children:"If you're stuck in a login loop or experiencing authentication problems, use the emergency sign-out button to clear all session data."}),i.jsx("button",{onClick:e,className:"w-full py-2 px-3 bg-red-600 hover:bg-red-700 text-white text-sm font-medium rounded-md transition-colors",children:"Emergency Sign Out"})]}):null},gO=()=>{const{signIn:e,signInWithGoogle:t,emergencySignOut:r}=gi(),{language:n,translateText:s}=ot();st(),rr();const o="/connect-me-logo.png",[a,l]=h.useState({email:"",password:""}),[c,u]=h.useState(!1),[d,f]=h.useState(""),[m,g]=h.useState(!1),[x,v]=h.useState({welcomeBack:"Welcome Back",dontHaveAccount:"Don't have an account?",register:"Register",signInWithGoogle:"Sign in with Google",orContinueWithEmail:"Or continue with email",emailAddress:"Email address",emailPlaceholder:"you@example.com",password:"Password",passwordPlaceholder:"",rememberMe:"Remember me",forgotPassword:"Forgot password?",signIn:"Sign In",signingIn:"Signing in...",back:"Back to Landing Page"});h.useEffect(()=>{(async()=>{if(n!=="EN")try{const k=Object.keys(x).map(N=>x[N]),_=await Promise.all(k.map(N=>s(N))),j=Object.keys(x),E={...x};j.forEach((N,F)=>{E[N]=_[F]}),v(E)}catch(k){console.error("Error translating login texts:",k)}})()},[n,s,x]);const w=b=>{const{name:k,value:_}=b.target;l(j=>({...j,[k]:_})),f("")},p=async b=>{var k;if(b.preventDefault(),f(""),!a.email||!a.password){const _=await s("Please fill in all fields");f(_);return}try{g(!0),console.log("[LOGIN] Attempting to sign in with email..."),localStorage.removeItem("supabase.auth.token");let _=0;const j=2;let E=!1;for(;_<j&&!E;)try{_++,await e(a.email,a.password),console.log("[LOGIN] Sign in successful"),E=!0}catch(C){if(console.error(`[LOGIN] Sign in attempt ${_} failed:`,C),_>=j)throw C;await new Promise(I=>setTimeout(I,1e3)),console.log(`[LOGIN] Retrying sign in (attempt ${_+1})...`)}const N=await s("Successfully signed in!");Z.success(N);const{data:F}=await D.from("profiles").select("is_profile_complete").eq("id",(k=(await D.auth.getUser()).data.user)==null?void 0:k.id).single();F&&!F.is_profile_complete?window.location.href="/complete-profile":window.location.href="/home"}catch(_){console.error("[LOGIN] Final sign in error:",_),g(!1);let j="";_ instanceof Error?(console.error("[LOGIN] Error details:",_.message),_.message.includes("Invalid login credentials")?j=await s("Invalid email or password"):_.message.includes("rate limit")?j=await s("Too many login attempts. Please try again later"):j=await s("Failed to sign in")):j=await s("An unknown error occurred"),f(j),Z.error(j)}},y=async()=>{try{g(!0),console.log("[LoginPage] Environment vars:",{supabaseUrl:"Set",supabaseKey:"Not set",port:window.location.port,host:window.location.host});const b=`${window.location.origin}/callback`;localStorage.setItem("redirectUrl",b),console.log("[LoginPage] Stored redirect URL:",b);const{data:k,error:_}=await D.auth.signInWithOAuth({provider:"google",options:{redirectTo:b,queryParams:{access_type:"offline",prompt:"select_account"}}});if(_)throw _;console.log("[LoginPage] OAuth response received:",k?"Success":"No data"),k!=null&&k.url?(console.log("[LoginPage] Redirecting to provider URL:",k.url),window.location.href=k.url):(console.error("[LoginPage] No redirect URL provided by Supabase"),Z.error("Authentication failed. Please try again."))}catch(b){console.error("[LoginPage] Google login error:",b),Z.error(`Failed to log in: ${b.message}`)}finally{g(!1)}};return i.jsxs("div",{className:"min-h-screen flex",children:[i.jsx("div",{className:"hidden lg:flex w-1/2 flex-col items-center justify-center bg-white dark:bg-gray-900",children:i.jsxs("div",{className:"p-12 flex flex-col items-center justify-center h-full w-full",children:[i.jsx("div",{className:"flex-grow flex items-center justify-center w-full",children:i.jsx("img",{src:o,alt:"ConnectMe",className:"w-full max-w-md object-contain",onError:b=>{console.error("Logo failed to load"),b.currentTarget.onerror=null,b.currentTarget.src="https://via.placeholder.com/300x300?text=ConnectMe"}})}),i.jsx("p",{className:"mt-8 text-center text-xl max-w-md bg-clip-text text-transparent bg-gradient-to-r from-gray-400 via-indigo-500 to-rose-500 dark:from-gray-300 dark:via-indigo-400 dark:to-rose-400 font-medium",children:"Connect with friends, share moments, and build your network"})]})}),i.jsxs("div",{className:"w-full lg:w-1/2 flex flex-col bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900",children:[i.jsxs("div",{className:"p-4 flex justify-between items-center",children:[i.jsxs(be,{to:"/",className:"flex items-center text-gray-700 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-white",children:[i.jsx(u8,{className:"mr-2"}),i.jsx("span",{"data-i18n":!0,children:x.back})]}),i.jsx("div",{className:"lg:hidden flex items-center",children:i.jsx("img",{src:o,alt:"ConnectMe",className:"h-10 w-auto",onError:b=>{console.error("Small logo failed to load"),b.currentTarget.onerror=null,b.currentTarget.src="https://via.placeholder.com/40x40?text=CM"}})})]}),i.jsx("div",{className:"flex-grow flex items-center justify-center px-4 sm:px-6 lg:px-8 py-12",children:i.jsx("div",{className:"max-w-md w-full space-y-8",children:i.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-xl shadow-lg border border-gray-200 dark:border-slate-700",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-center text-3xl font-extrabold bg-clip-text text-transparent bg-gradient-to-r from-gray-700 via-indigo-500 to-rose-500 dark:from-gray-200 dark:via-indigo-400 dark:to-rose-400 mb-6","data-i18n":!0,children:x.welcomeBack}),i.jsxs("p",{className:"text-center text-gray-600 dark:text-gray-400 text-sm",children:[i.jsx("span",{"data-i18n":!0,children:x.dontHaveAccount})," ",i.jsx(be,{to:"/register",className:"font-medium text-indigo-600 hover:text-rose-500 dark:text-indigo-400 dark:hover:text-rose-400","data-i18n":!0,children:x.register})]})]}),i.jsxs("div",{className:"mt-8",children:[i.jsxs(xe,{onClick:y,disabled:m,className:"w-full flex items-center justify-center",children:[i.jsx(XT,{className:"mr-2"}),i.jsx("span",{"data-i18n":!0,children:x.signInWithGoogle})]}),i.jsx("div",{className:"mt-6",children:i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("div",{className:"w-full border-t border-gray-300 dark:border-gray-700"})}),i.jsx("div",{className:"relative flex justify-center text-sm",children:i.jsx("span",{className:"px-2 bg-white dark:bg-slate-800 text-gray-500 dark:text-gray-400","data-i18n":!0,children:x.orContinueWithEmail})})]})}),i.jsxs("form",{className:"mt-6 space-y-6",onSubmit:p,children:[d&&i.jsx("div",{className:"rounded-md bg-red-50 dark:bg-red-900/30 p-4",children:i.jsx("div",{className:"text-sm text-red-700 dark:text-red-300",children:d})}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300","data-i18n":!0,children:x.emailAddress}),i.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(ip,{className:"h-5 w-5 text-gray-400"})}),i.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:a.email,onChange:w,placeholder:x.emailPlaceholder,className:"block w-full pl-10 pr-3 py-2 placeholder-gray-400 border border-gray-300 dark:border-gray-700 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 bg-white dark:bg-slate-900 text-gray-900 dark:text-white sm:text-sm"})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300","data-i18n":!0,children:x.password}),i.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(im,{className:"h-5 w-5 text-gray-400"})}),i.jsx("input",{id:"password",name:"password",type:c?"text":"password",autoComplete:"current-password",required:!0,value:a.password,onChange:w,placeholder:x.passwordPlaceholder,className:"block w-full pl-10 pr-10 py-2 placeholder-gray-400 border border-gray-300 dark:border-gray-700 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 bg-white dark:bg-slate-900 text-gray-900 dark:text-white sm:text-sm"}),i.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:i.jsx("button",{type:"button",onClick:()=>u(!c),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 focus:outline-none",children:c?i.jsx(sm,{className:"h-5 w-5"}):i.jsx(om,{className:"h-5 w-5"})})})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),i.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300","data-i18n":!0,children:x.rememberMe})]}),i.jsx("div",{className:"text-sm",children:i.jsx(be,{to:"/forgot-password",className:"font-medium text-indigo-600 hover:text-rose-500 dark:text-indigo-400 dark:hover:text-rose-400","data-i18n":!0,children:x.forgotPassword})})]}),i.jsx("div",{children:i.jsx(xe,{type:"submit",disabled:m,className:"w-full",children:m?i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),i.jsx("span",{"data-i18n":!0,children:x.signingIn})]}):i.jsx("span",{"data-i18n":!0,children:x.signIn})})})]})]})]})})})]}),i.jsx(mO,{onEmergencySignOut:r})]})},pO=()=>{const{tWithTemplate:e}=ot(),{signUp:t}=it(),r=st(),[n,s]=h.useState({fullName:"",email:"",password:"",confirmPassword:""}),[o,a]=h.useState(!1),[l,c]=h.useState(!1),[u,d]=h.useState(""),[f,m]=h.useState(!1),g=w=>{const{name:p,value:y}=w.target;s(b=>({...b,[p]:y})),d("")},x=()=>{if(!n.fullName.trim())return d("Full name is required"),!1;if(!n.email.trim())return d("Email is required"),!1;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email))return d("Invalid email format"),!1;const p=["gmail.com","yahoo.com","hotmail.com","outlook.com"],y=n.email.split("@")[1];return p.includes(y)?n.password.length<6?(d("Password must be at least 6 characters"),!1):n.password!==n.confirmPassword?(d("Passwords do not match"),!1):!0:(d("Please use a valid email from Gmail, Yahoo, Hotmail, or Outlook"),!1)},v=async w=>{if(w.preventDefault(),!!x())try{m(!0),await t(n.email,n.password,n.fullName),Z.success("Registration successful! Please check your email to verify your account."),r("/login")}catch(p){console.error("Registration error:",p),p instanceof Error?p.message.includes("is invalid")?d("Please use a valid email address from Gmail, Yahoo, Hotmail, or Outlook"):d(p.message):d("Failed to create account")}finally{m(!1)}};return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"max-w-md w-full space-y-8",children:[i.jsxs("div",{children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs(be,{to:"/",className:"inline-flex items-center text-sm font-medium text-indigo-600 hover:text-indigo-500 dark:text-indigo-400 dark:hover:text-indigo-300",children:[i.jsx(d8,{className:"mr-2 h-4 w-4"}),"Back to Home"]})}),i.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-white",children:"Create your account"}),i.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600 dark:text-gray-400",children:["Already have an account?"," ",i.jsx(be,{to:"/login",className:"font-medium text-indigo-600 hover:text-indigo-500 dark:text-indigo-400 dark:hover:text-indigo-300",children:"Sign in"})]})]}),i.jsxs("form",{className:"mt-8 space-y-6",onSubmit:v,children:[u&&i.jsx("div",{className:"rounded-md bg-red-50 dark:bg-red-900/50 p-4",children:i.jsx("div",{className:"text-sm text-red-700 dark:text-red-200",children:u})}),i.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[i.jsxs("div",{className:"relative",children:[i.jsx("label",{htmlFor:"full-name",className:"sr-only",children:"Full Name"}),i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(ap,{className:"h-5 w-5 text-gray-400"})}),i.jsx("input",{id:"full-name",name:"fullName",type:"text",required:!0,value:n.fullName,onChange:g,className:"appearance-none rounded-none relative block w-full px-3 py-2 pl-10 border border-gray-300 dark:border-gray-700 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm bg-white dark:bg-gray-800",placeholder:"Full Name"})]}),i.jsxs("div",{className:"relative",children:[i.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(ip,{className:"h-5 w-5 text-gray-400"})}),i.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,value:n.email,onChange:g,className:"appearance-none rounded-none relative block w-full px-3 py-2 pl-10 border border-gray-300 dark:border-gray-700 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm bg-white dark:bg-gray-800",placeholder:"Email address (use Gmail, Yahoo, Hotmail, or Outlook)"})]}),i.jsxs("div",{className:"relative",children:[i.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(im,{className:"h-5 w-5 text-gray-400"})}),i.jsx("input",{id:"password",name:"password",type:o?"text":"password",autoComplete:"new-password",required:!0,value:n.password,onChange:g,className:"appearance-none rounded-none relative block w-full px-3 py-2 pl-10 border border-gray-300 dark:border-gray-700 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm bg-white dark:bg-gray-800",placeholder:"Password (min. 6 characters)"}),i.jsx("button",{type:"button",onClick:()=>a(!o),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:o?i.jsx(sm,{className:"h-5 w-5 text-gray-400"}):i.jsx(om,{className:"h-5 w-5 text-gray-400"})})]}),i.jsxs("div",{className:"relative",children:[i.jsx("label",{htmlFor:"confirm-password",className:"sr-only",children:"Confirm Password"}),i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(im,{className:"h-5 w-5 text-gray-400"})}),i.jsx("input",{id:"confirm-password",name:"confirmPassword",type:l?"text":"password",autoComplete:"new-password",required:!0,value:n.confirmPassword,onChange:g,className:"appearance-none rounded-none relative block w-full px-3 py-2 pl-10 border border-gray-300 dark:border-gray-700 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm bg-white dark:bg-gray-800",placeholder:"Confirm Password"}),i.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:l?i.jsx(sm,{className:"h-5 w-5 text-gray-400"}):i.jsx(om,{className:"h-5 w-5 text-gray-400"})})]})]}),i.jsx("div",{children:i.jsx("button",{type:"submit",disabled:f,className:`group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white ${f?"bg-indigo-400 dark:bg-indigo-600 cursor-not-allowed":"bg-gradient-to-r from-indigo-500 to-rose-500 hover:opacity-90 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}`,children:f?i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating account..."]}):"Create Account"})})]})]})})},nS=()=>{const{user:e}=od(),[t,r]=h.useState(!1),[n,s]=h.useState(!0);h.useEffect(()=>{o()},[e]);const o=async()=>{var a,l;try{if(!e){r(!1);return}s(!0);const{data:c,error:u}=await D.from("profiles").select("full_name, bio, interests").eq("id",e.id).single();if(u)throw u;const d=c&&((a=c.full_name)==null?void 0:a.trim())&&((l=c.bio)==null?void 0:l.trim())&&Array.isArray(c.interests)&&c.interests.length>0;r(!!d)}catch(c){console.error("Error checking profile completion:",c),r(!1)}finally{s(!1)}};return{isProfileComplete:t,loading:n,checkProfileCompletion:o}},gt=[];for(let e=0;e<256;++e)gt.push((e+256).toString(16).slice(1));function yO(e,t=0){return(gt[e[t+0]]+gt[e[t+1]]+gt[e[t+2]]+gt[e[t+3]]+"-"+gt[e[t+4]]+gt[e[t+5]]+"-"+gt[e[t+6]]+gt[e[t+7]]+"-"+gt[e[t+8]]+gt[e[t+9]]+"-"+gt[e[t+10]]+gt[e[t+11]]+gt[e[t+12]]+gt[e[t+13]]+gt[e[t+14]]+gt[e[t+15]]).toLowerCase()}let Pf;const xO=new Uint8Array(16);function vO(){if(!Pf){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Pf=crypto.getRandomValues.bind(crypto)}return Pf(xO)}const bO=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),$v={randomUUID:bO};function wO(e,t,r){var s;if($v.randomUUID&&!e)return $v.randomUUID();e=e||{};const n=e.random??((s=e.rng)==null?void 0:s.call(e))??vO();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,yO(n)}function de(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Uv(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Js(...e){return t=>{let r=!1;const n=e.map(s=>{const o=Uv(s,t);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let s=0;s<n.length;s++){const o=n[s];typeof o=="function"?o():Uv(e[s],null)}}}}function De(...e){return h.useCallback(Js(...e),e)}function _O(e,t){const r=h.createContext(t),n=o=>{const{children:a,...l}=o,c=h.useMemo(()=>l,Object.values(l));return i.jsx(r.Provider,{value:c,children:a})};n.displayName=e+"Provider";function s(o){const a=h.useContext(r);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[n,s]}function Xs(e,t=[]){let r=[];function n(o,a){const l=h.createContext(a),c=r.length;r=[...r,a];const u=f=>{var p;const{scope:m,children:g,...x}=f,v=((p=m==null?void 0:m[e])==null?void 0:p[c])||l,w=h.useMemo(()=>x,Object.values(x));return i.jsx(v.Provider,{value:w,children:g})};u.displayName=o+"Provider";function d(f,m){var v;const g=((v=m==null?void 0:m[e])==null?void 0:v[c])||l,x=h.useContext(g);if(x)return x;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=r.map(a=>h.createContext(a));return function(l){const c=(l==null?void 0:l[e])||o;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,kO(s,...t)]}function kO(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const a=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...l,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}var Dt=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},SO=Kb.useId||(()=>{}),jO=0;function Rs(e){const[t,r]=h.useState(SO());return Dt(()=>{r(n=>n??String(jO++))},[e]),t?`radix-${t}`:""}function Zt(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function fu({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=NO({defaultProp:t,onChange:r}),o=e!==void 0,a=o?e:n,l=Zt(r),c=h.useCallback(u=>{if(o){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else s(u)},[o,e,s,l]);return[a,c]}function NO({defaultProp:e,onChange:t}){const r=h.useState(e),[n]=r,s=h.useRef(n),o=Zt(t);return h.useEffect(()=>{s.current!==n&&(o(n),s.current=n)},[n,s,o]),r}var sS=h.forwardRef((e,t)=>{const{children:r,...n}=e,s=h.Children.toArray(r),o=s.find(EO);if(o){const a=o.props.children,l=s.map(c=>c===o?h.Children.count(a)>1?h.Children.only(null):h.isValidElement(a)?a.props.children:null:c);return i.jsx(Pm,{...n,ref:t,children:h.isValidElement(a)?h.cloneElement(a,void 0,l):null})}return i.jsx(Pm,{...n,ref:t,children:r})});sS.displayName="Slot";var Pm=h.forwardRef((e,t)=>{const{children:r,...n}=e;if(h.isValidElement(r)){const s=TO(r),o=PO(n,r.props);return r.type!==h.Fragment&&(o.ref=t?Js(t,s):s),h.cloneElement(r,o)}return h.Children.count(r)>1?h.Children.only(null):null});Pm.displayName="SlotClone";var CO=({children:e})=>i.jsx(i.Fragment,{children:e});function EO(e){return h.isValidElement(e)&&e.type===CO}function PO(e,t){const r={...t};for(const n in t){const s=e[n],o=t[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...l)=>{o(...l),s(...l)}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...e,...r}}function TO(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var AO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ne=AO.reduce((e,t)=>{const r=h.forwardRef((n,s)=>{const{asChild:o,...a}=n,l=o?sS:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function oS(e,t){e&&ui.flushSync(()=>e.dispatchEvent(t))}function RO(e,t=globalThis==null?void 0:globalThis.document){const r=Zt(e);h.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var MO="DismissableLayer",Tm="dismissableLayer.update",DO="dismissableLayer.pointerDownOutside",LO="dismissableLayer.focusOutside",zv,iS=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),dd=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:a,onDismiss:l,...c}=e,u=h.useContext(iS),[d,f]=h.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=h.useState({}),x=De(t,E=>f(E)),v=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),p=v.indexOf(w),y=d?v.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,k=y>=p,_=FO(E=>{const N=E.target,F=[...u.branches].some(C=>C.contains(N));!k||F||(s==null||s(E),a==null||a(E),E.defaultPrevented||l==null||l())},m),j=$O(E=>{const N=E.target;[...u.branches].some(C=>C.contains(N))||(o==null||o(E),a==null||a(E),E.defaultPrevented||l==null||l())},m);return RO(E=>{y===u.layers.size-1&&(n==null||n(E),!E.defaultPrevented&&l&&(E.preventDefault(),l()))},m),h.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(zv=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Bv(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=zv)}},[d,m,r,u]),h.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Bv())},[d,u]),h.useEffect(()=>{const E=()=>g({});return document.addEventListener(Tm,E),()=>document.removeEventListener(Tm,E)},[]),i.jsx(Ne.div,{...c,ref:x,style:{pointerEvents:b?k?"auto":"none":void 0,...e.style},onFocusCapture:de(e.onFocusCapture,j.onFocusCapture),onBlurCapture:de(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:de(e.onPointerDownCapture,_.onPointerDownCapture)})});dd.displayName=MO;var OO="DismissableLayerBranch",IO=h.forwardRef((e,t)=>{const r=h.useContext(iS),n=h.useRef(null),s=De(t,n);return h.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),i.jsx(Ne.div,{...e,ref:s})});IO.displayName=OO;function FO(e,t=globalThis==null?void 0:globalThis.document){const r=Zt(e),n=h.useRef(!1),s=h.useRef(()=>{});return h.useEffect(()=>{const o=l=>{if(l.target&&!n.current){let c=function(){aS(DO,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function $O(e,t=globalThis==null?void 0:globalThis.document){const r=Zt(e),n=h.useRef(!1);return h.useEffect(()=>{const s=o=>{o.target&&!n.current&&aS(LO,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Bv(){const e=new CustomEvent(Tm);document.dispatchEvent(e)}function aS(e,t,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?oS(s,o):s.dispatchEvent(o)}var Tf="focusScope.autoFocusOnMount",Af="focusScope.autoFocusOnUnmount",Vv={bubbles:!1,cancelable:!0},UO="FocusScope",fd=h.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...a}=e,[l,c]=h.useState(null),u=Zt(s),d=Zt(o),f=h.useRef(null),m=De(t,v=>c(v)),g=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(n){let v=function(b){if(g.paused||!l)return;const k=b.target;l.contains(k)?f.current=k:Cn(f.current,{select:!0})},w=function(b){if(g.paused||!l)return;const k=b.relatedTarget;k!==null&&(l.contains(k)||Cn(f.current,{select:!0}))},p=function(b){if(document.activeElement===document.body)for(const _ of b)_.removedNodes.length>0&&Cn(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",w);const y=new MutationObserver(p);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",w),y.disconnect()}}},[n,l,g.paused]),h.useEffect(()=>{if(l){qv.add(g);const v=document.activeElement;if(!l.contains(v)){const p=new CustomEvent(Tf,Vv);l.addEventListener(Tf,u),l.dispatchEvent(p),p.defaultPrevented||(zO(WO(lS(l)),{select:!0}),document.activeElement===v&&Cn(l))}return()=>{l.removeEventListener(Tf,u),setTimeout(()=>{const p=new CustomEvent(Af,Vv);l.addEventListener(Af,d),l.dispatchEvent(p),p.defaultPrevented||Cn(v??document.body,{select:!0}),l.removeEventListener(Af,d),qv.remove(g)},0)}}},[l,u,d,g]);const x=h.useCallback(v=>{if(!r&&!n||g.paused)return;const w=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,p=document.activeElement;if(w&&p){const y=v.currentTarget,[b,k]=BO(y);b&&k?!v.shiftKey&&p===k?(v.preventDefault(),r&&Cn(b,{select:!0})):v.shiftKey&&p===b&&(v.preventDefault(),r&&Cn(k,{select:!0})):p===y&&v.preventDefault()}},[r,n,g.paused]);return i.jsx(Ne.div,{tabIndex:-1,...a,ref:m,onKeyDown:x})});fd.displayName=UO;function zO(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Cn(n,{select:t}),document.activeElement!==r)return}function BO(e){const t=lS(e),r=Gv(t,e),n=Gv(t.reverse(),e);return[r,n]}function lS(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Gv(e,t){for(const r of e)if(!VO(r,{upTo:t}))return r}function VO(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function GO(e){return e instanceof HTMLInputElement&&"select"in e}function Cn(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&GO(e)&&t&&e.select()}}var qv=qO();function qO(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Wv(e,t),e.unshift(t)},remove(t){var r;e=Wv(e,t),(r=e[0])==null||r.resume()}}}function Wv(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function WO(e){return e.filter(t=>t.tagName!=="A")}var HO="Portal",hd=h.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,o]=h.useState(!1);Dt(()=>o(!0),[]);const a=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?q3.createPortal(i.jsx(Ne.div,{...n,ref:t}),a):null});hd.displayName=HO;function KO(e,t){return h.useReducer((r,n)=>t[r][n]??r,e)}var cs=e=>{const{present:t,children:r}=e,n=YO(t),s=typeof r=="function"?r({present:n.isPresent}):h.Children.only(r),o=De(n.ref,JO(s));return typeof r=="function"||n.isPresent?h.cloneElement(s,{ref:o}):null};cs.displayName="Presence";function YO(e){const[t,r]=h.useState(),n=h.useRef({}),s=h.useRef(e),o=h.useRef("none"),a=e?"mounted":"unmounted",[l,c]=KO(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const u=Yl(n.current);o.current=l==="mounted"?u:"none"},[l]),Dt(()=>{const u=n.current,d=s.current;if(d!==e){const m=o.current,g=Yl(u);e?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Dt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=g=>{const v=Yl(n.current).includes(g.animationName);if(g.target===t&&v&&(c("ANIMATION_END"),!s.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},m=g=>{g.target===t&&(o.current=Yl(n.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function Yl(e){return(e==null?void 0:e.animationName)||"none"}function JO(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Rf=0;function qp(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Hv()),document.body.insertAdjacentElement("beforeend",e[1]??Hv()),Rf++,()=>{Rf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Rf--}},[])}function Hv(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var zr=function(){return zr=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},zr.apply(this,arguments)};function cS(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function XO(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,o;n<s;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var kc="right-scroll-bar-position",Sc="width-before-scroll-bar",QO="with-scroll-bars-hidden",ZO="--removed-body-scroll-bar-size";function Mf(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function e7(e,t){var r=h.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var t7=typeof window<"u"?h.useLayoutEffect:h.useEffect,Kv=new WeakMap;function r7(e,t){var r=e7(null,function(n){return e.forEach(function(s){return Mf(s,n)})});return t7(function(){var n=Kv.get(r);if(n){var s=new Set(n),o=new Set(e),a=r.current;s.forEach(function(l){o.has(l)||Mf(l,null)}),o.forEach(function(l){s.has(l)||Mf(l,a)})}Kv.set(r,e)},[e]),r}function n7(e){return e}function s7(e,t){t===void 0&&(t=n7);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(o){var a=t(o,n);return r.push(a),function(){r=r.filter(function(l){return l!==a})}},assignSyncMedium:function(o){for(n=!0;r.length;){var a=r;r=[],a.forEach(o)}r={push:function(l){return o(l)},filter:function(){return r}}},assignMedium:function(o){n=!0;var a=[];if(r.length){var l=r;r=[],l.forEach(o),a=r}var c=function(){var d=a;a=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),r}}}};return s}function o7(e){e===void 0&&(e={});var t=s7(null);return t.options=zr({async:!0,ssr:!1},e),t}var uS=function(e){var t=e.sideCar,r=cS(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return h.createElement(n,zr({},r))};uS.isSideCarExport=!0;function i7(e,t){return e.useMedium(t),uS}var dS=o7(),Df=function(){},md=h.forwardRef(function(e,t){var r=h.useRef(null),n=h.useState({onScrollCapture:Df,onWheelCapture:Df,onTouchMoveCapture:Df}),s=n[0],o=n[1],a=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,m=e.sideCar,g=e.noIsolation,x=e.inert,v=e.allowPinchZoom,w=e.as,p=w===void 0?"div":w,y=e.gapMode,b=cS(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=m,_=r7([r,t]),j=zr(zr({},b),s);return h.createElement(h.Fragment,null,d&&h.createElement(k,{sideCar:dS,removeScrollBar:u,shards:f,noIsolation:g,inert:x,setCallbacks:o,allowPinchZoom:!!v,lockRef:r,gapMode:y}),a?h.cloneElement(h.Children.only(l),zr(zr({},j),{ref:_})):h.createElement(p,zr({},j,{className:c,ref:_}),l))});md.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};md.classNames={fullWidth:Sc,zeroRight:kc};var a7=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function l7(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=a7();return t&&e.setAttribute("nonce",t),e}function c7(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function u7(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var d7=function(){var e=0,t=null;return{add:function(r){e==0&&(t=l7())&&(c7(t,r),u7(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},f7=function(){var e=d7();return function(t,r){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},fS=function(){var e=f7(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},h7={left:0,top:0,right:0,gap:0},Lf=function(e){return parseInt(e||"",10)||0},m7=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Lf(r),Lf(n),Lf(s)]},g7=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return h7;var t=m7(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},p7=fS(),zo="data-scroll-locked",y7=function(e,t,r,n){var s=e.left,o=e.top,a=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(QO,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(zo,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(kc,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Sc,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(kc," .").concat(kc,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Sc," .").concat(Sc,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(zo,`] {
    `).concat(ZO,": ").concat(l,`px;
  }
`)},Yv=function(){var e=parseInt(document.body.getAttribute(zo)||"0",10);return isFinite(e)?e:0},x7=function(){h.useEffect(function(){return document.body.setAttribute(zo,(Yv()+1).toString()),function(){var e=Yv()-1;e<=0?document.body.removeAttribute(zo):document.body.setAttribute(zo,e.toString())}},[])},v7=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;x7();var o=h.useMemo(function(){return g7(s)},[s]);return h.createElement(p7,{styles:y7(o,!t,s,r?"":"!important")})},Am=!1;if(typeof window<"u")try{var Jl=Object.defineProperty({},"passive",{get:function(){return Am=!0,!0}});window.addEventListener("test",Jl,Jl),window.removeEventListener("test",Jl,Jl)}catch{Am=!1}var oo=Am?{passive:!1}:!1,b7=function(e){return e.tagName==="TEXTAREA"},hS=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!b7(e)&&r[t]==="visible")},w7=function(e){return hS(e,"overflowY")},_7=function(e){return hS(e,"overflowX")},Jv=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=mS(e,n);if(s){var o=gS(e,n),a=o[1],l=o[2];if(a>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},k7=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},S7=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},mS=function(e,t){return e==="v"?w7(t):_7(t)},gS=function(e,t){return e==="v"?k7(t):S7(t)},j7=function(e,t){return e==="h"&&t==="rtl"?-1:1},N7=function(e,t,r,n,s){var o=j7(e,window.getComputedStyle(t).direction),a=o*n,l=r.target,c=t.contains(l),u=!1,d=a>0,f=0,m=0;do{var g=gS(e,l),x=g[0],v=g[1],w=g[2],p=v-w-o*x;(x||p)&&mS(e,l)&&(f+=p,m+=x),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(m)<1)&&(u=!0),u},Xl=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Xv=function(e){return[e.deltaX,e.deltaY]},Qv=function(e){return e&&"current"in e?e.current:e},C7=function(e,t){return e[0]===t[0]&&e[1]===t[1]},E7=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},P7=0,io=[];function T7(e){var t=h.useRef([]),r=h.useRef([0,0]),n=h.useRef(),s=h.useState(P7++)[0],o=h.useState(fS)[0],a=h.useRef(e);h.useEffect(function(){a.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var v=XO([e.lockRef.current],(e.shards||[]).map(Qv),!0).filter(Boolean);return v.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=h.useCallback(function(v,w){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!a.current.allowPinchZoom;var p=Xl(v),y=r.current,b="deltaX"in v?v.deltaX:y[0]-p[0],k="deltaY"in v?v.deltaY:y[1]-p[1],_,j=v.target,E=Math.abs(b)>Math.abs(k)?"h":"v";if("touches"in v&&E==="h"&&j.type==="range")return!1;var N=Jv(E,j);if(!N)return!0;if(N?_=E:(_=E==="v"?"h":"v",N=Jv(E,j)),!N)return!1;if(!n.current&&"changedTouches"in v&&(b||k)&&(n.current=_),!_)return!0;var F=n.current||_;return N7(F,w,v,F==="h"?b:k)},[]),c=h.useCallback(function(v){var w=v;if(!(!io.length||io[io.length-1]!==o)){var p="deltaY"in w?Xv(w):Xl(w),y=t.current.filter(function(_){return _.name===w.type&&(_.target===w.target||w.target===_.shadowParent)&&C7(_.delta,p)})[0];if(y&&y.should){w.cancelable&&w.preventDefault();return}if(!y){var b=(a.current.shards||[]).map(Qv).filter(Boolean).filter(function(_){return _.contains(w.target)}),k=b.length>0?l(w,b[0]):!a.current.noIsolation;k&&w.cancelable&&w.preventDefault()}}},[]),u=h.useCallback(function(v,w,p,y){var b={name:v,delta:w,target:p,should:y,shadowParent:A7(p)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(k){return k!==b})},1)},[]),d=h.useCallback(function(v){r.current=Xl(v),n.current=void 0},[]),f=h.useCallback(function(v){u(v.type,Xv(v),v.target,l(v,e.lockRef.current))},[]),m=h.useCallback(function(v){u(v.type,Xl(v),v.target,l(v,e.lockRef.current))},[]);h.useEffect(function(){return io.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,oo),document.addEventListener("touchmove",c,oo),document.addEventListener("touchstart",d,oo),function(){io=io.filter(function(v){return v!==o}),document.removeEventListener("wheel",c,oo),document.removeEventListener("touchmove",c,oo),document.removeEventListener("touchstart",d,oo)}},[]);var g=e.removeScrollBar,x=e.inert;return h.createElement(h.Fragment,null,x?h.createElement(o,{styles:E7(s)}):null,g?h.createElement(v7,{gapMode:e.gapMode}):null)}function A7(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const R7=i7(dS,T7);var gd=h.forwardRef(function(e,t){return h.createElement(md,zr({},e,{ref:t,sideCar:R7}))});gd.classNames=md.classNames;var M7=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ao=new WeakMap,Ql=new WeakMap,Zl={},Of=0,pS=function(e){return e&&(e.host||pS(e.parentNode))},D7=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=pS(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},L7=function(e,t,r,n){var s=D7(t,Array.isArray(e)?e:[e]);Zl[r]||(Zl[r]=new WeakMap);var o=Zl[r],a=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))d(m);else try{var g=m.getAttribute(n),x=g!==null&&g!=="false",v=(ao.get(m)||0)+1,w=(o.get(m)||0)+1;ao.set(m,v),o.set(m,w),a.push(m),v===1&&x&&Ql.set(m,!0),w===1&&m.setAttribute(r,"true"),x||m.setAttribute(n,"true")}catch(p){console.error("aria-hidden: cannot operate on ",m,p)}})};return d(t),l.clear(),Of++,function(){a.forEach(function(f){var m=ao.get(f)-1,g=o.get(f)-1;ao.set(f,m),o.set(f,g),m||(Ql.has(f)||f.removeAttribute(n),Ql.delete(f)),g||f.removeAttribute(r)}),Of--,Of||(ao=new WeakMap,ao=new WeakMap,Ql=new WeakMap,Zl={})}},Wp=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=M7(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),L7(n,s,r,"aria-hidden")):function(){return null}},yS=h.forwardRef((e,t)=>{const{children:r,...n}=e,s=h.Children.toArray(r),o=s.find(I7);if(o){const a=o.props.children,l=s.map(c=>c===o?h.Children.count(a)>1?h.Children.only(null):h.isValidElement(a)?a.props.children:null:c);return i.jsx(Rm,{...n,ref:t,children:h.isValidElement(a)?h.cloneElement(a,void 0,l):null})}return i.jsx(Rm,{...n,ref:t,children:r})});yS.displayName="Slot";var Rm=h.forwardRef((e,t)=>{const{children:r,...n}=e;if(h.isValidElement(r)){const s=$7(r),o=F7(n,r.props);return r.type!==h.Fragment&&(o.ref=t?Js(t,s):s),h.cloneElement(r,o)}return h.Children.count(r)>1?h.Children.only(null):null});Rm.displayName="SlotClone";var O7=({children:e})=>i.jsx(i.Fragment,{children:e});function I7(e){return h.isValidElement(e)&&e.type===O7}function F7(e,t){const r={...t};for(const n in t){const s=e[n],o=t[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...l)=>{o(...l),s(...l)}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...e,...r}}function $7(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Hp="Dialog",[xS,lq]=Xs(Hp),[U7,Mr]=xS(Hp),vS=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:a=!0}=e,l=h.useRef(null),c=h.useRef(null),[u=!1,d]=fu({prop:n,defaultProp:s,onChange:o});return i.jsx(U7,{scope:t,triggerRef:l,contentRef:c,contentId:Rs(),titleId:Rs(),descriptionId:Rs(),open:u,onOpenChange:d,onOpenToggle:h.useCallback(()=>d(f=>!f),[d]),modal:a,children:r})};vS.displayName=Hp;var bS="DialogTrigger",z7=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Mr(bS,r),o=De(t,s.triggerRef);return i.jsx(Ne.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Jp(s.open),...n,ref:o,onClick:de(e.onClick,s.onOpenToggle)})});z7.displayName=bS;var Kp="DialogPortal",[B7,wS]=xS(Kp,{forceMount:void 0}),_S=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,o=Mr(Kp,t);return i.jsx(B7,{scope:t,forceMount:r,children:h.Children.map(n,a=>i.jsx(cs,{present:r||o.open,children:i.jsx(hd,{asChild:!0,container:s,children:a})}))})};_S.displayName=Kp;var hu="DialogOverlay",kS=h.forwardRef((e,t)=>{const r=wS(hu,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=Mr(hu,e.__scopeDialog);return o.modal?i.jsx(cs,{present:n||o.open,children:i.jsx(V7,{...s,ref:t})}):null});kS.displayName=hu;var V7=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Mr(hu,r);return i.jsx(gd,{as:yS,allowPinchZoom:!0,shards:[s.contentRef],children:i.jsx(Ne.div,{"data-state":Jp(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Us="DialogContent",SS=h.forwardRef((e,t)=>{const r=wS(Us,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=Mr(Us,e.__scopeDialog);return i.jsx(cs,{present:n||o.open,children:o.modal?i.jsx(G7,{...s,ref:t}):i.jsx(q7,{...s,ref:t})})});SS.displayName=Us;var G7=h.forwardRef((e,t)=>{const r=Mr(Us,e.__scopeDialog),n=h.useRef(null),s=De(t,r.contentRef,n);return h.useEffect(()=>{const o=n.current;if(o)return Wp(o)},[]),i.jsx(jS,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:de(e.onCloseAutoFocus,o=>{var a;o.preventDefault(),(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:de(e.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&o.preventDefault()}),onFocusOutside:de(e.onFocusOutside,o=>o.preventDefault())})}),q7=h.forwardRef((e,t)=>{const r=Mr(Us,e.__scopeDialog),n=h.useRef(!1),s=h.useRef(!1);return i.jsx(jS,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var a,l;(a=e.onCloseAutoFocus)==null||a.call(e,o),o.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=o.target;((u=r.triggerRef.current)==null?void 0:u.contains(a))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),jS=h.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,...a}=e,l=Mr(Us,r),c=h.useRef(null),u=De(t,c);return qp(),i.jsxs(i.Fragment,{children:[i.jsx(fd,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:i.jsx(dd,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Jp(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(W7,{titleId:l.titleId}),i.jsx(K7,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Yp="DialogTitle",NS=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Mr(Yp,r);return i.jsx(Ne.h2,{id:s.titleId,...n,ref:t})});NS.displayName=Yp;var CS="DialogDescription",ES=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Mr(CS,r);return i.jsx(Ne.p,{id:s.descriptionId,...n,ref:t})});ES.displayName=CS;var PS="DialogClose",TS=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Mr(PS,r);return i.jsx(Ne.button,{type:"button",...n,ref:t,onClick:de(e.onClick,()=>s.onOpenChange(!1))})});TS.displayName=PS;function Jp(e){return e?"open":"closed"}var AS="DialogTitleWarning",[cq,RS]=_O(AS,{contentName:Us,titleName:Yp,docsSlug:"dialog"}),W7=({titleId:e})=>{const t=RS(AS),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},H7="DialogDescriptionWarning",K7=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${RS(H7).contentName}}.`;return h.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Y7=vS,J7=_S,MS=kS,DS=SS,LS=NS,OS=ES,IS=TS;const Xp=Y7,X7=J7,Q7=IS,FS=h.forwardRef(({className:e,...t},r)=>i.jsx(MS,{ref:r,className:je("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));FS.displayName=MS.displayName;const pd=h.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(X7,{children:[i.jsx(FS,{}),i.jsxs(DS,{ref:n,className:je("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,i.jsxs(IS,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(eS,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));pd.displayName=DS.displayName;const yd=({className:e,...t})=>i.jsx("div",{className:je("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});yd.displayName="DialogHeader";const Qp=({className:e,...t})=>i.jsx("div",{className:je("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Qp.displayName="DialogFooter";const xd=h.forwardRef(({className:e,...t},r)=>i.jsx(LS,{ref:r,className:je("text-lg font-semibold leading-none tracking-tight",e),...t}));xd.displayName=LS.displayName;const $S=h.forwardRef(({className:e,...t},r)=>i.jsx(OS,{ref:r,className:je("text-sm text-muted-foreground",e),...t}));$S.displayName=OS.displayName;const Zv=({emoji:e,size:t="md",className:r="",fallbackInitials:n="",onClick:s})=>{const o={sm:"w-8 h-8 text-base",md:"w-12 h-12 text-xl",lg:"w-16 h-16 text-2xl",xl:"w-24 h-24 text-3xl"},a=o[t]||o.md,l=n.split(" ").map(c=>c[0]).join("").toUpperCase().substring(0,2);return i.jsx("div",{className:`${a} rounded-full overflow-hidden flex-shrink-0 flex items-center justify-center ${e?"bg-gradient-to-br from-pink-100 to-rose-200 dark:from-rose-900 dark:to-pink-800":"bg-blue-500"} ${r}`,onClick:s,children:e?i.jsx("span",{className:"select-none",children:e}):i.jsx("span",{className:"text-white font-semibold",children:l||"?"})})},eb={faces:["","","","","","","","","","","","","","","","","","","","","","","",""],animals:["","","","","","","","","","","","","","","","","","","","","","","",""],food:["","","","","","","","","","","","","","","","","","","","","","","",""],activities:["","","","","","","","","","","","","","","","","","","","","","","",""],travel:["","","","","","","","","","","","","","","","","","","","","","","",""],objects:["","","","","","","","","","","","","","","","","","","","","","","",""],symbols:["","","","","","","","","","","","","","","","","","","","","","","",""]},Z7=({onSelect:e,selectedEmoji:t})=>{const[r,n]=h.useState("faces"),[s,o]=h.useState([]);h.useEffect(()=>{const l=localStorage.getItem("recentEmojis");l&&o(JSON.parse(l).slice(0,24))},[]);const a=l=>{e(l);const c=[l,...s.filter(u=>u!==l)].slice(0,24);o(c),localStorage.setItem("recentEmojis",JSON.stringify(c))};return i.jsxs("div",{className:"border dark:border-gray-700 rounded-lg overflow-hidden bg-white dark:bg-gray-800 shadow-lg",children:[i.jsxs("div",{className:"flex border-b dark:border-gray-700 overflow-x-auto",children:[i.jsx("button",{className:`px-3 py-2 text-sm flex-shrink-0 ${s.length>0&&r==="faces"?"text-rose-600 border-b-2 border-rose-600":"text-gray-500 dark:text-gray-400"}`,onClick:()=>n("faces"),children:"Recent"}),Object.keys(eb).map(l=>i.jsx("button",{className:`px-3 py-2 text-sm flex-shrink-0 ${r===l?"text-rose-600 border-b-2 border-rose-600":"text-gray-500 dark:text-gray-400"}`,onClick:()=>n(l),children:l.charAt(0).toUpperCase()+l.slice(1)},l))]}),i.jsx("div",{className:"p-2 max-h-60 overflow-y-auto",children:i.jsx("div",{className:"grid grid-cols-8 gap-1",children:(s.length>0&&r==="faces"?s:eb[r]).map((l,c)=>i.jsx("button",{className:`w-8 h-8 flex items-center justify-center text-xl hover:bg-gray-100 dark:hover:bg-gray-700 rounded ${t===l?"bg-rose-100 dark:bg-rose-900":""}`,onClick:()=>a(l),children:l},`${l}-${c}`))})}),i.jsx("div",{className:"p-2 border-t dark:border-gray-700 text-xs text-center text-gray-500 dark:text-gray-400",children:"Select an emoji as your avatar"})]})},hl=({userId:e,avatarUrl:t=null,avatarEmoji:r=null,fullName:n="",size:s="md",editable:o=!1,onAvatarChange:a,suggestedEmojis:l})=>{const{user:c}=it(),{t:u}=Rr(),[d,f]=h.useState(!1),[m,g]=h.useState(!1),x=!e||c&&c.id===e,v=o&&x,w=async y=>{if(a)a("emoji",y);else if(c&&v){g(!0);try{await D.auth.updateUser({data:{avatar_emoji:y,avatar_url:null}}),await D.from("users").update({avatar_emoji:y,avatar_url:null}).eq("id",c.id),q.success("Avatar updated successfully")}catch(b){console.error("Error updating avatar emoji:",b),q.error("Failed to update avatar")}finally{g(!1),f(!1)}}},p=async y=>{if(!(!c||!v||!y.target.files||!y.target.files[0]))try{g(!0);const b=y.target.files[0],k=b.name.split(".").pop(),_=`${c.id}-${Date.now()}.${k}`,j=`${c.id}/${_}`,{error:E}=await D.storage.from("avatars").upload(j,b);if(E)throw E;const{data:{publicUrl:N}}=D.storage.from("avatars").getPublicUrl(j);a?a("url",N):(await D.auth.updateUser({data:{avatar_url:N,avatar_emoji:null}}),await D.from("users").update({avatar_url:N,avatar_emoji:null}).eq("id",c.id)),q.success("Avatar uploaded successfully")}catch(b){console.error("Error uploading avatar:",b),q.error("Failed to upload avatar")}finally{g(!1),f(!1)}};return i.jsxs("div",{className:"relative",children:[r?i.jsx(Zv,{emoji:r,size:s,fallbackInitials:n,className:v?"cursor-pointer":"",onClick:v?()=>f(!0):void 0}):t?i.jsx("div",{className:`overflow-hidden rounded-full ${s==="sm"?"w-8 h-8":s==="md"?"w-12 h-12":s==="lg"?"w-16 h-16":"w-24 h-24"} ${v?"cursor-pointer":""}`,onClick:v?()=>f(!0):void 0,children:i.jsx("img",{src:t,alt:n,className:"w-full h-full object-cover"})}):i.jsx(Zv,{fallbackInitials:n,size:s,className:v?"cursor-pointer":"",onClick:v?()=>f(!0):void 0}),v&&i.jsx("button",{type:"button",onClick:()=>f(!0),disabled:m,className:"absolute bottom-0 right-0 bg-rose-500 text-white p-1 rounded-full shadow-md hover:bg-rose-600 disabled:opacity-50",children:m?i.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:i.jsx("path",{d:"M12 5v14M5 12h14"})})}),d&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-4 max-w-md w-full",children:[i.jsxs("div",{className:"flex justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Choose your avatar"}),i.jsx("button",{type:"button",onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-500",children:i.jsx("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Use an emoji"}),i.jsx(Z7,{onSelect:w,selectedEmoji:r||void 0})]}),i.jsxs("div",{className:"border-t dark:border-gray-700 pt-4",children:[i.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Or upload an image"}),i.jsxs("label",{className:"flex items-center justify-center w-full h-12 px-4 transition bg-white dark:bg-gray-700 border-2 border-gray-300 dark:border-gray-600 border-dashed rounded-md appearance-none cursor-pointer hover:border-gray-400 focus:outline-none",children:[i.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Choose a file"}),i.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:p,disabled:m})]})]})]})]})})]})},tb=["tech","gaming","travel","food","music","art","fashion","fitness","health","books","movies","nature","photography","sports","science"],US=({onPostCreated:e})=>{var K,U,J,ne,ae,ue,Ve,Se,Et,bt;const{t}=ot(),r=st(),{user:n}=gi(),{isProfileComplete:s}=nS(),[o,a]=h.useState(""),[l,c]=h.useState([]),[u,d]=h.useState([]),[f,m]=h.useState([]),[g,x]=h.useState([]),[v,w]=h.useState(!1),[p,y]=h.useState([]),[b,k]=h.useState([]),[_,j]=h.useState([]),[E,N]=h.useState(null),[F,C]=h.useState(null),[I,P]=h.useState(null),[O,A]=h.useState(!1),[$,L]=h.useState(!1),[z,S]=h.useState(!1),[M,T]=h.useState(!1),[B,V]=h.useState(!1);h.useEffect(()=>{n&&(re(),se(),fe())},[n]);const re=async()=>{try{const{data:te,error:pe}=await D.from("group_members").select(`
          group_id,
          groups:group_id (
            id, 
            name
          )
        `).eq("user_id",n==null?void 0:n.id);if(pe){console.error("Error fetching user groups:",pe),y([]);return}if(!te||te.length===0){y([]);return}const he=te.filter(we=>we.groups).map(we=>({id:we.groups.id,name:we.groups.name}));y(he)}catch(te){console.error("Error fetching user groups:",te),y([])}},se=async()=>{try{const{data:te,error:pe}=await D.from("event_attendees").select("events(id, title)").eq("user_id",n==null?void 0:n.id);if(pe)throw pe;if(!te||te.length===0){k([]);return}const he=te.map(we=>we.events?{id:we.events.id,title:we.events.title}:null).filter(we=>we!==null);k(he)}catch(te){console.error("Error fetching user events:",te)}},fe=async()=>{if(n)try{const{data:te,error:pe}=await D.from("relationships").select(`
          requester_id,
          addressee_id,
          profiles!relationships_addressee_id_fkey (
            id,
            full_name,
            avatar_url
          )
        `).eq("status","accepted").or(`requester_id.eq.${n.id},addressee_id.eq.${n.id}`);if(pe){console.error("Error fetching user friends:",pe);return}if(!te||te.length===0){j([]);return}const W=te.map(he=>{const Le=he.profiles;return Le?{id:Le.id,full_name:Le.full_name,avatar_url:Le.avatar_url||void 0}:null}).filter(he=>he!==null);j(W)}catch(te){console.error("Error fetching user friends:",te)}},oe=te=>{if(te.target.files&&te.target.files.length>0){const pe=Array.from(te.target.files);if(l.length+pe.length>4){q.error(t("errors.tooManyImagesMax4"));return}const W=pe.map(he=>URL.createObjectURL(he));c([...l,...pe]),d([...u,...W])}},R=te=>{c(l.filter((pe,W)=>W!==te)),URL.revokeObjectURL(u[te]),d(u.filter((pe,W)=>W!==te))},G=te=>{const pe=/#\w+/g;return[...new Set(te.match(pe)||[])].map(W=>W.substring(1))},X=te=>{const pe=te.target.value;a(pe);const W=G(pe);m(W);const he=te.target.selectionStart,Le=pe.substring(0,he).match(/#(\w*)$/);if(Le){const rt=Le[1].toLowerCase(),Pt=tb.filter(yr=>yr.toLowerCase().startsWith(rt)&&!W.includes(yr));x(Pt),T(Pt.length>0)}else T(!1)},H=te=>{const pe=document.activeElement&&"selectionStart"in document.activeElement?document.activeElement.selectionStart:o.length;if(pe!==null){const he=o.substring(0,pe).match(/#(\w*)$/);if(he){const we=he.index||0,Le=we+he[0].length,rt=o.substring(0,we)+"#"+te+" "+o.substring(Le);a(rt),f.includes(te)||m([...f,te])}else a(o+" #"+te+" "),f.includes(te)||m([...f,te])}T(!1)},Y=async te=>{if(te.preventDefault(),!n){q.error(t("errors.loginRequired"));return}if(!s){V(!0);return}if(!o.trim()&&l.length===0){q.error(t("errors.postEmpty"));return}try{w(!0);let pe=[];if(l.length>0)try{pe=await Promise.all(l.map(async rt=>{const Pt=`${n.id}/${wO()}-${rt.name.replace(/\s+/g,"_")}`,{data:yr,error:vn}=await D.storage.from("post-images").upload(Pt,rt);if(vn)throw console.error("Error uploading image:",vn),new Error(`Failed to upload image: ${vn.message}`);if(!yr||!yr.path)throw new Error("Failed to get upload path");const{data:ki}=D.storage.from("post-images").getPublicUrl(yr.path);if(!ki||!ki.publicUrl)throw new Error("Failed to get public URL for uploaded image");return ki.publicUrl}))}catch(rt){console.error("Image upload error:",rt),q.error(`Image upload failed: ${rt.message||"Unknown error"}`),w(!1);return}const W=f.length>0?f:G(o),he={user_id:n.id,content:o.trim(),image_url:pe.length>0?pe[0]:null,hashtags:W.length>0?W:null,group_id:E||null,event_id:F||null,created_at:new Date().toISOString(),tagged_user_id:I||null},{data:we,error:Le}=await D.from("posts").insert(he).select().single();if(Le)throw console.error("Error creating post:",Le),new Error(`Failed to create post: ${Le.message}`);if(W.length>0)try{const rt=W.map(Pt=>({tag:Pt.toLowerCase(),post_count:1}));await D.rpc("upsert_hashtags",{hashtag_entries:rt})}catch(rt){console.error("Error processing hashtags:",rt)}a(""),c([]),d([]),m([]),N(null),C(null),P(null),q.success(t("success.postCreated")),e&&e(we)}catch(pe){console.error("Error creating post:",pe),q.error(pe.message||t("errors.postCreationFailed"))}finally{w(!1)}};return i.jsxs("div",{className:"bg-gradient-to-r from-indigo-100 to-pink-100 dark:from-gray-800 dark:to-gray-900 border border-gray-200 dark:border-gray-700 rounded-xl shadow-lg p-4",children:[i.jsxs("form",{onSubmit:Y,className:"space-y-4",children:[i.jsx("div",{className:"flex items-center justify-between mb-2",children:i.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:t("post.createTitle")||"Create Post"})}),n&&i.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[i.jsx(hl,{userId:n==null?void 0:n.id,avatarUrl:(K=n==null?void 0:n.user_metadata)==null?void 0:K.avatar_url,avatarEmoji:(U=n==null?void 0:n.user_metadata)==null?void 0:U.avatar_emoji,fullName:((J=n==null?void 0:n.user_metadata)==null?void 0:J.full_name)||"User",size:"sm"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:((ne=n==null?void 0:n.user_metadata)==null?void 0:ne.full_name)||"User"}),(E||F||I)&&i.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 flex items-center mt-1",children:[E&&i.jsxs("span",{className:"flex items-center text-indigo-600 dark:text-indigo-400",children:[i.jsx(We,{className:"mr-1",size:14}),(ae=p.find(te=>te.id===E))==null?void 0:ae.name]}),F&&i.jsxs("span",{className:"flex items-center text-pink-600 dark:text-pink-400",children:[i.jsx(At,{className:"mr-1",size:14}),(ue=b.find(te=>te.id===F))==null?void 0:ue.title]}),I&&i.jsxs("span",{className:"flex items-center text-green-600 dark:text-green-400",children:[i.jsx(Fn,{className:"mr-1",size:14}),(Ve=_.find(te=>te.id===I))==null?void 0:Ve.full_name]})]})]})]}),i.jsx("textarea",{value:o,onChange:X,placeholder:t("placeholder.shareThoughts")||"What's on your mind?",className:"w-full p-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-gray-900 dark:text-white resize-none h-24 placeholder-gray-500 dark:placeholder-gray-400",disabled:v}),M&&i.jsxs("div",{className:"mt-1 p-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg",children:[i.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:[t("post.popularHashtags")||"Popular hashtags",":"]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:g.slice(0,5).map(te=>i.jsxs("button",{type:"button",onClick:()=>H(te),className:"px-2 py-1 bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300 rounded-lg text-sm hover:bg-gray-200 dark:hover:bg-gray-600 flex items-center",children:[i.jsx(nm,{size:12,className:"mr-1"})," ",te]},te))})]}),u.length>0&&i.jsx("div",{className:"mt-3 grid grid-cols-2 gap-2",children:u.map((te,pe)=>i.jsxs("div",{className:"relative rounded-lg overflow-hidden h-40 border border-gray-200 dark:border-gray-600",children:[i.jsx("img",{src:te,alt:`Preview ${pe}`,className:"w-full h-full object-cover"}),i.jsx("button",{type:"button",onClick:()=>R(pe),className:"absolute top-1 right-1 bg-gray-900/70 text-white rounded-full p-1 hover:bg-gray-900/90",children:i.jsx($s,{size:18})})]},pe))}),(E||F||I)&&i.jsxs("div",{className:"mt-3 p-2 bg-indigo-50 dark:bg-indigo-900/30 border border-indigo-200 dark:border-indigo-700 text-indigo-700 dark:text-indigo-300 rounded-lg",children:[E&&i.jsxs("div",{className:"flex items-center",children:[i.jsx(We,{className:"mr-1"}),i.jsxs("span",{className:"text-sm font-medium",children:[t("post.postingToGroup")||"Posting to group",": ",(Se=p.find(te=>te.id===E))==null?void 0:Se.name]}),i.jsx("button",{type:"button",onClick:()=>N(null),className:"ml-2 text-indigo-500 hover:text-indigo-700 dark:text-indigo-300 dark:hover:text-indigo-200",children:i.jsx(cn,{size:16})})]}),F&&i.jsxs("div",{className:"flex items-center",children:[i.jsx(At,{className:"mr-1"}),i.jsxs("span",{className:"text-sm font-medium",children:[t("post.postingToEvent")||"Posting to event",": ",(Et=b.find(te=>te.id===F))==null?void 0:Et.title]}),i.jsx("button",{type:"button",onClick:()=>C(null),className:"ml-2 text-indigo-500 hover:text-indigo-700 dark:text-indigo-300 dark:hover:text-indigo-200",children:i.jsx(cn,{size:16})})]}),I&&i.jsxs("div",{className:"flex items-center",children:[i.jsx(Fn,{className:"mr-1"}),i.jsxs("span",{className:"text-sm font-medium",children:[t("post.sharingWithFriend")||"Sharing with",": ",(bt=_.find(te=>te.id===I))==null?void 0:bt.full_name]}),i.jsx("button",{type:"button",onClick:()=>P(null),className:"ml-2 text-indigo-500 hover:text-indigo-700 dark:text-indigo-300 dark:hover:text-indigo-200",children:i.jsx(cn,{size:16})})]})]}),i.jsxs("div",{className:"mt-3 flex flex-col sm:flex-row justify-between items-center",children:[i.jsxs("div",{className:"flex space-x-2 mb-3 sm:mb-0",children:[i.jsxs("label",{className:"flex items-center p-2 rounded-full bg-white dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 cursor-pointer shadow-sm transition-colors",children:[i.jsx("input",{type:"file",accept:"image/*",onChange:oe,className:"hidden",multiple:!0,disabled:v||u.length>=4}),i.jsx(np,{className:`h-5 w-5 ${u.length>=4?"text-gray-400 dark:text-gray-500":"text-indigo-500 dark:text-indigo-400"}`})]}),i.jsx("button",{type:"button",onClick:()=>{A(!O),L(!1),S(!1)},className:`flex items-center p-2 rounded-full ${E?"bg-indigo-100 text-indigo-600 dark:bg-indigo-900 dark:text-indigo-300":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300"} hover:bg-indigo-100 dark:hover:bg-indigo-900 shadow-sm transition-colors`,title:t("post.selectGroup")||"Select group",children:i.jsx(We,{className:"h-5 w-5"})}),i.jsx("button",{type:"button",onClick:()=>{L(!$),A(!1),S(!1)},className:`flex items-center p-2 rounded-full ${F?"bg-pink-100 text-pink-600 dark:bg-pink-900 dark:text-pink-300":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300"} hover:bg-pink-100 dark:hover:bg-pink-900 shadow-sm transition-colors`,title:t("post.selectEvent")||"Select event",children:i.jsx(At,{className:"h-5 w-5"})}),i.jsx("button",{type:"button",onClick:()=>{S(!z),A(!1),L(!1)},className:`flex items-center p-2 rounded-full ${I?"bg-green-100 text-green-600 dark:bg-green-900 dark:text-green-300":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300"} hover:bg-green-100 dark:hover:bg-green-900 shadow-sm transition-colors`,title:t("post.selectFriend")||"Share with friend",children:i.jsx(Fn,{className:"h-5 w-5"})}),i.jsx("button",{type:"button",className:"flex items-center p-2 rounded-full bg-white dark:bg-gray-700 hover:bg-amber-100 dark:hover:bg-amber-900 text-gray-600 dark:text-gray-300 shadow-sm transition-colors",title:t("post.addEmoji")||"Add emoji",children:i.jsx(WT,{className:"h-5 w-5"})})]}),i.jsx("button",{type:"submit",disabled:!o.trim()&&l.length===0||v,className:"w-full sm:w-auto px-6 py-2.5 bg-gradient-to-r from-indigo-500 to-rose-500 text-white rounded-lg font-semibold hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center shadow-md",children:v?i.jsxs(i.Fragment,{children:[i.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),t("common.posting")]}):t("post.publish")})]}),O&&p.length>0&&i.jsxs("div",{className:"mt-2 p-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg max-h-48 overflow-y-auto z-10",children:[i.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:[t("post.selectGroup")||"Select a group to post to",":"]}),i.jsx("div",{className:"space-y-1",children:p.map(te=>i.jsxs("button",{type:"button",onClick:()=>{N(te.id),C(null),A(!1)},className:"w-full text-left px-3 py-2 hover:bg-indigo-50 dark:hover:bg-indigo-900/30 rounded-lg flex items-center text-gray-800 dark:text-gray-200",children:[i.jsx(We,{className:"mr-2 text-indigo-600 dark:text-indigo-400"}),i.jsx("span",{children:te.name})]},te.id))})]}),O&&p.length===0&&i.jsxs("div",{className:"mt-2 p-4 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg text-center",children:[i.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:t("groups.no_my_groups_message")||"You haven't joined any groups yet."}),i.jsx("button",{type:"button",onClick:()=>r("/groups"),className:"mt-2 px-4 py-2 bg-indigo-500 text-white rounded-lg text-sm hover:bg-indigo-600",children:t("groups.buttons.create")||"Create Group"})]}),$&&b.length>0&&i.jsxs("div",{className:"mt-2 p-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg max-h-48 overflow-y-auto z-10",children:[i.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:[t("post.selectEvent")||"Select an event to post to",":"]}),i.jsx("div",{className:"space-y-1",children:b.map(te=>i.jsxs("button",{type:"button",onClick:()=>{C(te.id),N(null),L(!1)},className:"w-full text-left px-3 py-2 hover:bg-pink-50 dark:hover:bg-pink-900/30 rounded-lg flex items-center text-gray-800 dark:text-gray-200",children:[i.jsx(At,{className:"mr-2 text-pink-600 dark:text-pink-400"}),i.jsx("span",{children:te.title})]},te.id))})]}),$&&b.length===0&&i.jsxs("div",{className:"mt-2 p-4 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg text-center",children:[i.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:t("events.no_my_events_message")||"You haven't joined any events yet."}),i.jsx("button",{type:"button",onClick:()=>r("/events"),className:"mt-2 px-4 py-2 bg-pink-500 text-white rounded-lg text-sm hover:bg-pink-600",children:t("events.buttons.create")||"Create Event"})]}),z&&_.length>0&&i.jsxs("div",{className:"mt-2 p-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg max-h-48 overflow-y-auto z-10",children:[i.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:[t("post.selectFriend")||"Share with friend",":"]}),i.jsx("div",{className:"space-y-1",children:_.map(te=>i.jsxs("button",{type:"button",onClick:()=>{P(te.id),S(!1)},className:"w-full text-left px-3 py-2 hover:bg-green-50 dark:hover:bg-green-900/30 rounded-lg flex items-center text-gray-800 dark:text-gray-200",children:[i.jsx(Fn,{className:"mr-2 text-green-600 dark:text-green-400"}),i.jsx("span",{children:te.full_name})]},te.id))})]}),z&&_.length===0&&i.jsxs("div",{className:"mt-2 p-4 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg text-center",children:[i.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:t("friends.no_friends_message")||"You haven't added any friends yet."}),i.jsx("button",{type:"button",onClick:()=>r("/friends"),className:"mt-2 px-4 py-2 bg-green-500 text-white rounded-lg text-sm hover:bg-green-600",children:t("friends.buttons.findPeople")||"Find People"})]}),M&&i.jsxs("div",{className:"mt-2 p-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg max-h-48 overflow-y-auto z-10",children:[i.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:[t("post.popularHashtags")||"Popular hashtags",":"]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:tb.map(te=>i.jsxs("button",{type:"button",onClick:()=>H(te),className:"px-2 py-1 bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300 rounded-lg text-sm hover:bg-gray-200 dark:hover:bg-gray-600 flex items-center",children:[i.jsx(nm,{size:12,className:"mr-1"})," ",te]},te))})]})]}),i.jsx(Xp,{open:B,onOpenChange:V,children:i.jsxs(pd,{children:[i.jsxs(yd,{children:[i.jsx(xd,{children:t("profile.completeTitle")}),i.jsx($S,{children:t("profile.completeMessage")})]}),i.jsxs(Qp,{className:"mt-4",children:[i.jsx(Q7,{asChild:!0,children:i.jsx(xe,{variant:"outline",children:t("common.cancel")})}),i.jsx(xe,{onClick:()=>{r("/profile"),V(!1)},children:t("profile.goToProfile")})]})]})})]})},si=({message:e,className:t=""})=>e?i.jsxs("div",{className:`bg-red-50 border border-red-200 text-red-800 rounded-lg p-4 flex items-start ${t}`,children:[i.jsx(H2,{className:"h-5 w-5 text-red-600 mr-3 mt-0.5 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium",children:"Error"}),i.jsx("p",{className:"text-sm",children:e})]})]}):null;function mu(e){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mu(e)}function zs(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Be(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Fe(e){Be(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||mu(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function eI(e,t){Be(2,arguments);var r=Fe(e).getTime(),n=zs(t);return new Date(r+n)}var tI={};function ml(){return tI}function Mm(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function jc(e,t){Be(2,arguments);var r=Fe(e),n=Fe(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function rI(e){return Be(1,arguments),e instanceof Date||mu(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function nI(e){if(Be(1,arguments),!rI(e)&&typeof e!="number")return!1;var t=Fe(e);return!isNaN(Number(t))}function sI(e,t){Be(2,arguments);var r=Fe(e),n=Fe(t),s=r.getFullYear()-n.getFullYear(),o=r.getMonth()-n.getMonth();return s*12+o}function oI(e,t){return Be(2,arguments),Fe(e).getTime()-Fe(t).getTime()}var iI={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},aI="trunc";function lI(e){return iI[aI]}function cI(e){Be(1,arguments);var t=Fe(e);return t.setHours(23,59,59,999),t}function uI(e){Be(1,arguments);var t=Fe(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function dI(e){Be(1,arguments);var t=Fe(e);return cI(t).getTime()===uI(t).getTime()}function fI(e,t){Be(2,arguments);var r=Fe(e),n=Fe(t),s=jc(r,n),o=Math.abs(sI(r,n)),a;if(o<1)a=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*o);var l=jc(r,n)===-s;dI(Fe(e))&&o===1&&jc(e,n)===1&&(l=!1),a=s*(o-Number(l))}return a===0?0:a}function hI(e,t,r){Be(2,arguments);var n=oI(e,t)/1e3;return lI()(n)}function mI(e,t){Be(2,arguments);var r=zs(t);return eI(e,-r)}var gI=864e5;function pI(e){Be(1,arguments);var t=Fe(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),s=r-n;return Math.floor(s/gI)+1}function gu(e){Be(1,arguments);var t=1,r=Fe(e),n=r.getUTCDay(),s=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-s),r.setUTCHours(0,0,0,0),r}function zS(e){Be(1,arguments);var t=Fe(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var s=gu(n),o=new Date(0);o.setUTCFullYear(r,0,4),o.setUTCHours(0,0,0,0);var a=gu(o);return t.getTime()>=s.getTime()?r+1:t.getTime()>=a.getTime()?r:r-1}function yI(e){Be(1,arguments);var t=zS(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=gu(r);return n}var xI=6048e5;function vI(e){Be(1,arguments);var t=Fe(e),r=gu(t).getTime()-yI(t).getTime();return Math.round(r/xI)+1}function pu(e,t){var r,n,s,o,a,l,c,u;Be(1,arguments);var d=ml(),f=zs((r=(n=(s=(o=t==null?void 0:t.weekStartsOn)!==null&&o!==void 0?o:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&n!==void 0?n:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=Fe(e),g=m.getUTCDay(),x=(g<f?7:0)+g-f;return m.setUTCDate(m.getUTCDate()-x),m.setUTCHours(0,0,0,0),m}function BS(e,t){var r,n,s,o,a,l,c,u;Be(1,arguments);var d=Fe(e),f=d.getUTCFullYear(),m=ml(),g=zs((r=(n=(s=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:m.firstWeekContainsDate)!==null&&n!==void 0?n:(c=m.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(g>=1&&g<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var x=new Date(0);x.setUTCFullYear(f+1,0,g),x.setUTCHours(0,0,0,0);var v=pu(x,t),w=new Date(0);w.setUTCFullYear(f,0,g),w.setUTCHours(0,0,0,0);var p=pu(w,t);return d.getTime()>=v.getTime()?f+1:d.getTime()>=p.getTime()?f:f-1}function bI(e,t){var r,n,s,o,a,l,c,u;Be(1,arguments);var d=ml(),f=zs((r=(n=(s=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(a=t.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:d.firstWeekContainsDate)!==null&&n!==void 0?n:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1),m=BS(e,t),g=new Date(0);g.setUTCFullYear(m,0,f),g.setUTCHours(0,0,0,0);var x=pu(g,t);return x}var wI=6048e5;function _I(e,t){Be(1,arguments);var r=Fe(e),n=pu(r,t).getTime()-bI(r,t).getTime();return Math.round(n/wI)+1}function Te(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var kn={y:function(t,r){var n=t.getUTCFullYear(),s=n>0?n:1-n;return Te(r==="yy"?s%100:s,r.length)},M:function(t,r){var n=t.getUTCMonth();return r==="M"?String(n+1):Te(n+1,2)},d:function(t,r){return Te(t.getUTCDate(),r.length)},a:function(t,r){var n=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,r){return Te(t.getUTCHours()%12||12,r.length)},H:function(t,r){return Te(t.getUTCHours(),r.length)},m:function(t,r){return Te(t.getUTCMinutes(),r.length)},s:function(t,r){return Te(t.getUTCSeconds(),r.length)},S:function(t,r){var n=r.length,s=t.getUTCMilliseconds(),o=Math.floor(s*Math.pow(10,n-3));return Te(o,r.length)}},lo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},kI={G:function(t,r,n){var s=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){var s=t.getUTCFullYear(),o=s>0?s:1-s;return n.ordinalNumber(o,{unit:"year"})}return kn.y(t,r)},Y:function(t,r,n,s){var o=BS(t,s),a=o>0?o:1-o;if(r==="YY"){var l=a%100;return Te(l,2)}return r==="Yo"?n.ordinalNumber(a,{unit:"year"}):Te(a,r.length)},R:function(t,r){var n=zS(t);return Te(n,r.length)},u:function(t,r){var n=t.getUTCFullYear();return Te(n,r.length)},Q:function(t,r,n){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(s);case"QQ":return Te(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,r,n){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(s);case"qq":return Te(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,r,n){var s=t.getUTCMonth();switch(r){case"M":case"MM":return kn.M(t,r);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(t,r,n){var s=t.getUTCMonth();switch(r){case"L":return String(s+1);case"LL":return Te(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(t,r,n,s){var o=_I(t,s);return r==="wo"?n.ordinalNumber(o,{unit:"week"}):Te(o,r.length)},I:function(t,r,n){var s=vI(t);return r==="Io"?n.ordinalNumber(s,{unit:"week"}):Te(s,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):kn.d(t,r)},D:function(t,r,n){var s=pI(t);return r==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):Te(s,r.length)},E:function(t,r,n){var s=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(t,r,n,s){var o=t.getUTCDay(),a=(o-s.weekStartsOn+8)%7||7;switch(r){case"e":return String(a);case"ee":return Te(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(t,r,n,s){var o=t.getUTCDay(),a=(o-s.weekStartsOn+8)%7||7;switch(r){case"c":return String(a);case"cc":return Te(a,r.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(t,r,n){var s=t.getUTCDay(),o=s===0?7:s;switch(r){case"i":return String(o);case"ii":return Te(o,r.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(t,r,n){var s=t.getUTCHours(),o=s/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,r,n){var s=t.getUTCHours(),o;switch(s===12?o=lo.noon:s===0?o=lo.midnight:o=s/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,r,n){var s=t.getUTCHours(),o;switch(s>=17?o=lo.evening:s>=12?o=lo.afternoon:s>=4?o=lo.morning:o=lo.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){var s=t.getUTCHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return kn.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):kn.H(t,r)},K:function(t,r,n){var s=t.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(s,{unit:"hour"}):Te(s,r.length)},k:function(t,r,n){var s=t.getUTCHours();return s===0&&(s=24),r==="ko"?n.ordinalNumber(s,{unit:"hour"}):Te(s,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):kn.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):kn.s(t,r)},S:function(t,r){return kn.S(t,r)},X:function(t,r,n,s){var o=s._originalDate||t,a=o.getTimezoneOffset();if(a===0)return"Z";switch(r){case"X":return nb(a);case"XXXX":case"XX":return bs(a);case"XXXXX":case"XXX":default:return bs(a,":")}},x:function(t,r,n,s){var o=s._originalDate||t,a=o.getTimezoneOffset();switch(r){case"x":return nb(a);case"xxxx":case"xx":return bs(a);case"xxxxx":case"xxx":default:return bs(a,":")}},O:function(t,r,n,s){var o=s._originalDate||t,a=o.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+rb(a,":");case"OOOO":default:return"GMT"+bs(a,":")}},z:function(t,r,n,s){var o=s._originalDate||t,a=o.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+rb(a,":");case"zzzz":default:return"GMT"+bs(a,":")}},t:function(t,r,n,s){var o=s._originalDate||t,a=Math.floor(o.getTime()/1e3);return Te(a,r.length)},T:function(t,r,n,s){var o=s._originalDate||t,a=o.getTime();return Te(a,r.length)}};function rb(e,t){var r=e>0?"-":"+",n=Math.abs(e),s=Math.floor(n/60),o=n%60;if(o===0)return r+String(s);var a=t;return r+String(s)+a+Te(o,2)}function nb(e,t){if(e%60===0){var r=e>0?"-":"+";return r+Te(Math.abs(e)/60,2)}return bs(e,t)}function bs(e,t){var r=t||"",n=e>0?"-":"+",s=Math.abs(e),o=Te(Math.floor(s/60),2),a=Te(s%60,2);return n+o+r+a}var sb=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},VS=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},SI=function(t,r){var n=t.match(/(P+)(p+)?/)||[],s=n[1],o=n[2];if(!o)return sb(t,r);var a;switch(s){case"P":a=r.dateTime({width:"short"});break;case"PP":a=r.dateTime({width:"medium"});break;case"PPP":a=r.dateTime({width:"long"});break;case"PPPP":default:a=r.dateTime({width:"full"});break}return a.replace("{{date}}",sb(s,r)).replace("{{time}}",VS(o,r))},jI={p:VS,P:SI},NI=["D","DD"],CI=["YY","YYYY"];function EI(e){return NI.indexOf(e)!==-1}function PI(e){return CI.indexOf(e)!==-1}function ob(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var TI={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},AI=function(t,r,n){var s,o=TI[t];return typeof o=="string"?s=o:r===1?s=o.one:s=o.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function If(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var RI={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},MI={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},DI={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},LI={date:If({formats:RI,defaultWidth:"full"}),time:If({formats:MI,defaultWidth:"full"}),dateTime:If({formats:DI,defaultWidth:"full"})},OI={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},II=function(t,r,n,s){return OI[t]};function Ii(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",s;if(n==="formatting"&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,a=r!=null&&r.width?String(r.width):o;s=e.formattingValues[a]||e.formattingValues[o]}else{var l=e.defaultWidth,c=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[c]||e.values[l]}var u=e.argumentCallback?e.argumentCallback(t):t;return s[u]}}var FI={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},$I={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},UI={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},zI={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},BI={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},VI={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},GI=function(t,r){var n=Number(t),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},qI={ordinalNumber:GI,era:Ii({values:FI,defaultWidth:"wide"}),quarter:Ii({values:$I,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Ii({values:UI,defaultWidth:"wide"}),day:Ii({values:zI,defaultWidth:"wide"}),dayPeriod:Ii({values:BI,defaultWidth:"wide",formattingValues:VI,defaultFormattingWidth:"wide"})};function Fi(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(s);if(!o)return null;var a=o[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?HI(l,function(f){return f.test(a)}):WI(l,function(f){return f.test(a)}),u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;var d=t.slice(a.length);return{value:u,rest:d}}}function WI(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function HI(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function KI(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var s=n[0],o=t.match(e.parsePattern);if(!o)return null;var a=e.valueCallback?e.valueCallback(o[0]):o[0];a=r.valueCallback?r.valueCallback(a):a;var l=t.slice(s.length);return{value:a,rest:l}}}var YI=/^(\d+)(th|st|nd|rd)?/i,JI=/\d+/i,XI={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},QI={any:[/^b/i,/^(a|c)/i]},ZI={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},e9={any:[/1/i,/2/i,/3/i,/4/i]},t9={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},r9={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},n9={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},s9={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},o9={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},i9={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},a9={ordinalNumber:KI({matchPattern:YI,parsePattern:JI,valueCallback:function(t){return parseInt(t,10)}}),era:Fi({matchPatterns:XI,defaultMatchWidth:"wide",parsePatterns:QI,defaultParseWidth:"any"}),quarter:Fi({matchPatterns:ZI,defaultMatchWidth:"wide",parsePatterns:e9,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Fi({matchPatterns:t9,defaultMatchWidth:"wide",parsePatterns:r9,defaultParseWidth:"any"}),day:Fi({matchPatterns:n9,defaultMatchWidth:"wide",parsePatterns:s9,defaultParseWidth:"any"}),dayPeriod:Fi({matchPatterns:o9,defaultMatchWidth:"any",parsePatterns:i9,defaultParseWidth:"any"})},GS={code:"en-US",formatDistance:AI,formatLong:LI,formatRelative:II,localize:qI,match:a9,options:{weekStartsOn:0,firstWeekContainsDate:1}},l9=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,c9=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,u9=/^'([^]*?)'?$/,d9=/''/g,f9=/[a-zA-Z]/;function gl(e,t,r){var n,s,o,a,l,c,u,d,f,m,g,x,v,w;Be(2,arguments);var p=String(t),y=ml(),b=(n=(s=void 0)!==null&&s!==void 0?s:y.locale)!==null&&n!==void 0?n:GS,k=zs((o=(a=(l=(c=void 0)!==null&&c!==void 0?c:void 0)!==null&&l!==void 0?l:y.firstWeekContainsDate)!==null&&a!==void 0?a:(u=y.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(k>=1&&k<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var _=zs((f=(m=(g=(x=void 0)!==null&&x!==void 0?x:void 0)!==null&&g!==void 0?g:y.weekStartsOn)!==null&&m!==void 0?m:(v=y.locale)===null||v===void 0||(w=v.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&f!==void 0?f:0);if(!(_>=0&&_<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!b.localize)throw new RangeError("locale must contain localize property");if(!b.formatLong)throw new RangeError("locale must contain formatLong property");var j=Fe(e);if(!nI(j))throw new RangeError("Invalid time value");var E=Mm(j),N=mI(j,E),F={firstWeekContainsDate:k,weekStartsOn:_,locale:b,_originalDate:j},C=p.match(c9).map(function(I){var P=I[0];if(P==="p"||P==="P"){var O=jI[P];return O(I,b.formatLong)}return I}).join("").match(l9).map(function(I){if(I==="''")return"'";var P=I[0];if(P==="'")return h9(I);var O=kI[P];if(O)return PI(I)&&ob(I,t,String(e)),EI(I)&&ob(I,t,String(e)),O(N,I,b.localize,F);if(P.match(f9))throw new RangeError("Format string contains an unescaped latin alphabet character `"+P+"`");return I}).join("");return C}function h9(e){var t=e.match(u9);return t?t[1].replace(d9,"'"):e}function qS(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function m9(e){return qS({},e)}var ib=1440,g9=2520,Ff=43200,p9=86400;function y9(e,t,r){var n,s;Be(2,arguments);var o=ml(),a=(n=(s=r==null?void 0:r.locale)!==null&&s!==void 0?s:o.locale)!==null&&n!==void 0?n:GS;if(!a.formatDistance)throw new RangeError("locale must contain formatDistance property");var l=jc(e,t);if(isNaN(l))throw new RangeError("Invalid time value");var c=qS(m9(r),{addSuffix:!!(r!=null&&r.addSuffix),comparison:l}),u,d;l>0?(u=Fe(t),d=Fe(e)):(u=Fe(e),d=Fe(t));var f=hI(d,u),m=(Mm(d)-Mm(u))/1e3,g=Math.round((f-m)/60),x;if(g<2)return r!=null&&r.includeSeconds?f<5?a.formatDistance("lessThanXSeconds",5,c):f<10?a.formatDistance("lessThanXSeconds",10,c):f<20?a.formatDistance("lessThanXSeconds",20,c):f<40?a.formatDistance("halfAMinute",0,c):f<60?a.formatDistance("lessThanXMinutes",1,c):a.formatDistance("xMinutes",1,c):g===0?a.formatDistance("lessThanXMinutes",1,c):a.formatDistance("xMinutes",g,c);if(g<45)return a.formatDistance("xMinutes",g,c);if(g<90)return a.formatDistance("aboutXHours",1,c);if(g<ib){var v=Math.round(g/60);return a.formatDistance("aboutXHours",v,c)}else{if(g<g9)return a.formatDistance("xDays",1,c);if(g<Ff){var w=Math.round(g/ib);return a.formatDistance("xDays",w,c)}else if(g<p9)return x=Math.round(g/Ff),a.formatDistance("aboutXMonths",x,c)}if(x=fI(d,u),x<12){var p=Math.round(g/Ff);return a.formatDistance("xMonths",p,c)}else{var y=x%12,b=Math.floor(x/12);return y<3?a.formatDistance("aboutXYears",b,c):y<9?a.formatDistance("overXYears",b,c):a.formatDistance("almostXYears",b+1,c)}}function Zp(e,t){return Be(1,arguments),y9(e,Date.now(),t)}const x9=({post:e,onLike:t,onSave:r,onCommentClick:n,onShare:s,onDelete:o,currentUserId:a})=>{const{t:l}=ot(),[c,u]=h.useState(!1),[d,f]=h.useState(!1),m=150,g=()=>{u(!c)},x=c||e.content.length<=m?e.content:`${e.content.substring(0,m)}...`;return i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow mb-4 overflow-hidden border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow duration-300",children:[i.jsxs("div",{className:"p-3 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("img",{src:e.profile.avatar_url||"/default-avatar.png",alt:e.profile.full_name,className:"w-8 h-8 rounded-full border border-gray-300 dark:border-gray-600 object-cover"}),i.jsxs("div",{children:[i.jsx(be,{to:`/profile/${e.user_id}`,className:"font-semibold text-sm text-gray-900 dark:text-white hover:underline",children:e.profile.full_name}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:Zp(new Date(e.created_at),{addSuffix:!0})})]})]}),i.jsxs("div",{className:"relative",children:[i.jsx("button",{onClick:()=>f(!d),className:"text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full p-1 focus:outline-none","aria-label":l("common.more_options")||"More options",children:i.jsx(GT,{size:16})}),d&&i.jsxs("div",{className:"absolute right-0 mt-2 w-32 bg-white dark:bg-gray-700 rounded-md shadow-lg py-1 z-10 border border-gray-200 dark:border-gray-600",onMouseLeave:()=>f(!1),children:[a&&a===e.user_id&&i.jsxs("button",{onClick:()=>{o(e.id),f(!1)},className:"flex items-center w-full px-3 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-gray-100 dark:hover:bg-gray-600",children:[i.jsx($s,{className:"mr-2",size:14}),l("buttons.delete")||"Delete"]}),i.jsx("button",{onClick:()=>f(!1),className:"flex items-center w-full px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600",children:l("actions.report")||"Report"})]})]})]}),i.jsxs("div",{className:"px-3 pb-2",children:[i.jsx("p",{className:"text-sm text-gray-800 dark:text-gray-200 whitespace-pre-wrap",children:x}),e.content.length>m&&i.jsx("button",{onClick:g,className:"text-xs text-rose-600 dark:text-rose-400 hover:underline mt-1",children:c?l("actions.showLess")||"Show Less":l("actions.showMore")||"Show More"})]}),e.images&&e.images.length>0&&i.jsx("div",{className:"bg-gray-100 dark:bg-gray-700",children:i.jsx("img",{src:e.images[0],alt:"Post media",className:"w-full h-auto max-h-[40vh] object-contain"})}),(e.likes_count>0||e.comments_count>0||e.shares>0)&&i.jsx("div",{className:"px-3 py-1 border-t border-gray-200 dark:border-gray-700",children:i.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400",children:[e.likes_count>0&&i.jsxs("span",{children:[e.likes_count," Likes"]}),i.jsxs("div",{className:"flex space-x-2",children:[e.comments_count>0&&i.jsxs("span",{children:[e.comments_count," Comments"]}),e.shares>0&&i.jsxs("span",{children:[e.shares," Shares"]})]})]})}),i.jsxs("div",{className:"flex justify-around items-center px-2 py-1 border-t border-gray-200 dark:border-gray-700 gap-1",children:[i.jsxs(xe,{onClick:()=>t(e.id),className:`h-8 w-1/3 ${e.is_liked?"ring-1 ring-rose-500":""}`,variant:"ghost",children:[i.jsx($a,{className:`w-4 h-4 ${e.is_liked?"fill-rose-500 text-rose-500":""}`}),i.jsx("span",{className:"text-xs",children:l("buttons.like")||"Like"})]}),i.jsxs(xe,{onClick:()=>n(e),className:"h-8 w-1/3",variant:"ghost",children:[i.jsx(nd,{className:"w-4 h-4"}),i.jsx("span",{className:"text-xs",children:l("buttons.comment")||"Comment"})]}),i.jsxs(xe,{onClick:()=>s(e.id),className:"h-8 w-1/3",variant:"ghost",children:[i.jsx(Q2,{className:"w-4 h-4"}),i.jsx("span",{className:"text-xs",children:l("buttons.share")||"Share"})]}),i.jsxs(xe,{onClick:()=>r(e.id),title:e.is_saved?l("buttons.unsave")||"Unsave":l("buttons.save")||"Save",className:`h-8 w-1/3 ${e.is_saved?"ring-1 ring-amber-500":""}`,variant:"ghost",children:[i.jsx(ET,{className:`w-4 h-4 ${e.is_saved?"fill-amber-500 text-amber-500":""}`}),i.jsx("span",{className:"text-xs",children:e.is_saved?l("buttons.saved")||"Saved":l("buttons.save")||"Save"})]})]})]})},v9=()=>{const{user:e}=gi(),{t}=ot(),[r,n]=h.useState([]),[s,o]=h.useState(!0),[a,l]=h.useState(null),[c,u]=h.useState(null),[d,f]=h.useState([]),[m,g]=h.useState(""),[x,v]=h.useState(!1),[w,p]=h.useState("all"),[y,b]=h.useState(""),[k,_]=h.useState(!1),j=h.useCallback(async()=>{var A,$,L;if(!(e!=null&&e.id)){console.log("HomePage: User not available yet, skipping post fetch."),o(!1);return}console.log("HomePage: Fetching posts for user",e.id),o(!0),l(null);try{let z=D.from("posts").select(`
          *,
          profile:profiles!user_id(full_name, avatar_url)
        `).order("created_at",{ascending:!1}).limit(30);w==="my"&&(z=z.eq("user_id",e.id));let{data:S,error:M}=await z;if(M)throw M;const T=(S==null?void 0:S.map(Y=>Y.id))||[],[B,V,re]=await Promise.all([D.from("post_likes").select("post_id").eq("user_id",e.id).in("post_id",T),D.from("post_comments").select("post_id, id",{count:"exact"}).in("post_id",T),D.from("saved_posts").select("post_id").eq("user_id",e.id).in("post_id",T)]);B.error&&console.error("Error fetching likes:",B.error),V.error&&console.error("Error fetching comments count:",V.error),re.error&&console.error("Error fetching saves:",re.error);const se=new Set((A=B.data)==null?void 0:A.map(Y=>Y.post_id)),fe=new Set(($=re.data)==null?void 0:$.map(Y=>Y.post_id)),oe=new Map;(L=V.data)==null||L.forEach(Y=>{oe.set(Y.post_id,(oe.get(Y.post_id)||0)+1)});const{data:R,error:G}=await D.from("post_likes").select("post_id").in("post_id",T);G&&console.error("Error fetching all likes:",G);const X=new Map;R==null||R.forEach(Y=>{X.set(Y.post_id,(X.get(Y.post_id)||0)+1)});const H=(S==null?void 0:S.map(Y=>({...Y,likes_count:X.get(Y.id)||0,comments_count:oe.get(Y.id)||0,shares:Y.shares||0,is_liked:se.has(Y.id),is_saved:fe.has(Y.id),profile:Y.profile||{full_name:"Unknown User",avatar_url:null}})))||[];n(H)}catch(z){console.error("Error fetching posts:",z),l("Error fetching posts. Please try again later.")}finally{o(!1)}},[e,w]);h.useEffect(()=>{j()},[j]);const E=h.useCallback(async A=>{if(A){v(!0),f([]);try{const{data:$,error:L}=await D.from("post_comments").select(`
          *,
          profiles:user_id (
            full_name,
            avatar_url
          )
        `).eq("post_id",A).order("created_at",{ascending:!0});if(L)throw L;f($||[])}catch($){console.error("Error fetching comments:",$),q.error("Error fetching comments. Please try again later.")}finally{v(!1)}}},[]);h.useEffect(()=>{c&&E(c.id)},[c,E]);const N=async A=>{if(!e)return q.error("Login required");const $=[...r];n(L=>L.map(z=>{if(z.id===A){const S=!z.is_liked,M=z.is_liked?z.likes_count-1:z.likes_count+1;return{...z,is_liked:S,likes_count:Math.max(0,M)}}return z}));try{const L=$.find(z=>z.id===A);if(!L)return;if(L.is_liked){const{error:z}=await D.from("post_likes").delete().eq("post_id",A).eq("user_id",e.id);if(z)throw z}else{const{error:z}=await D.from("post_likes").insert({post_id:A,user_id:e.id});if(z)throw z}}catch(L){console.error("Error toggling like:",L),q.error("Action failed. Please try again later."),n($)}},F=async A=>{if(!e)return q.error("Login required");const $=[...r];n(L=>L.map(z=>z.id===A?{...z,is_saved:!z.is_saved}:z));try{const L=$.find(z=>z.id===A);if(!L)return;if(L.is_saved){const{error:z}=await D.from("saved_posts").delete().eq("post_id",A).eq("user_id",e.id);if(z)throw z;q.success("Post unsaved")}else{const{error:z}=await D.from("saved_posts").insert([{post_id:A,user_id:e.id}]);if(z)throw z;q.success("Post saved")}}catch(L){console.error("Error toggling save:",L),q.error("Action failed. Please try again later."),n($)}},C=async()=>{var S,M;if(!m.trim()||!c||!e){q.error("Comment error");return}const A=`temp-${Date.now()}`,$={id:A,content:m,created_at:new Date().toISOString(),user_id:e.id,profiles:{full_name:((S=e.user_metadata)==null?void 0:S.full_name)||"You",avatar_url:((M=e.user_metadata)==null?void 0:M.avatar_url)||null}};f(T=>[...T,$]);const L=[...r];n(T=>T.map(B=>B.id===c.id?{...B,comments_count:B.comments_count+1}:B));const z=m;g("");try{const{data:T,error:B}=await D.from("post_comments").insert({content:z,post_id:c.id,user_id:e.id}).select(`
          *,
            profiles:user_id (full_name, avatar_url)
        `).single();if(B)throw B;f(V=>V.map(re=>re.id===A?{...T,profiles:T.profiles}:re)),q.success("Comment added")}catch(T){console.error("Error adding comment:",T),q.error("Action failed. Please try again later."),f(B=>B.filter(V=>V.id!==A)),n(L),g(z)}},I=A=>{const $=`${window.location.origin}/posts/${A}`;navigator.share?navigator.share({title:"Share Post",text:"Check out this post!",url:$}).catch(L=>console.log("Error sharing:",L)):navigator.clipboard.writeText($).then(()=>{q.success("Link copied")}).catch(L=>{console.error("Failed to copy link:",L),q.error("Link copy failed")})},P=async A=>{if(!e)return q.error("Login required");if(!confirm(t("confirm.deletePost")||"Are you sure you want to delete this post?"))return;const $=[...r];n(L=>L.filter(z=>z.id!==A));try{const{error:L}=await D.from("posts").delete().eq("id",A).eq("user_id",e.id);if(L)throw L;q.success(t("success.postDeleted")||"Post deleted successfully")}catch(L){console.error("Error deleting post:",L),q.error(t("errors.postDeleteFailed")||"Failed to delete post"),n($)}},O=()=>{_(!1),j(),q.success(t("success.postCreated")||"Post created successfully")};return s&&r.length===0?i.jsxs("div",{className:"flex flex-col",children:[i.jsxs("div",{className:"flex justify-between items-center mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Feed"}),i.jsxs(xe,{onClick:()=>_(!0),className:"flex items-center shadow-sm",children:[i.jsx(ln,{className:"mr-2"}),"Create Post"]})]}),i.jsx("div",{className:"max-w-xl mx-auto w-full",children:[1,2,3].map(A=>i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 mb-6 animate-pulse border border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[i.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-300 dark:bg-gray-700"}),i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx("div",{className:"h-4 bg-gray-300 dark:bg-gray-700 rounded w-1/4"}),i.jsx("div",{className:"h-3 bg-gray-300 dark:bg-gray-700 rounded w-1/6"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("div",{className:"h-4 bg-gray-300 dark:bg-gray-700 rounded w-full"}),i.jsx("div",{className:"h-4 bg-gray-300 dark:bg-gray-700 rounded w-5/6"})]})]},A))})]}):a?i.jsx(si,{message:a}):e?i.jsxs("div",{className:"pt-20 pb-10 px-4 md:px-8 max-w-5xl mx-auto",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex space-x-2",style:{display:"none"},children:[i.jsx("button",{onClick:()=>p("all"),className:`px-4 py-2 rounded-lg ${w==="all"?"bg-rose-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200"}`,children:"All Posts"}),i.jsx("button",{onClick:()=>p("my"),className:`px-4 py-2 rounded-lg ${w==="my"?"bg-rose-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200"}`,children:"My Posts"})]}),i.jsx("div",{className:"flex items-center space-x-2",children:i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",placeholder:t("home.search_placeholder")||"Search posts...",value:y,onChange:A=>b(A.target.value),className:"pl-9 pr-4 py-2 w-48 md:w-64 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-1 focus:ring-rose-500 focus:border-rose-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100"}),i.jsx(sp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]})})]}),i.jsxs(xe,{onClick:()=>_(!0),className:"mb-6 w-full flex items-center justify-center shadow",children:[i.jsx(ln,{className:"mr-2"}),t("buttons.createPost")||"Create Post"]}),k&&i.jsxs("div",{className:"mb-6",children:[i.jsx(US,{onPostCreated:()=>{O(),_(!1)}}),i.jsx("button",{onClick:()=>_(!1),className:"w-full mt-3 py-2 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:t("buttons.cancel")||"Cancel"})]}),a&&i.jsx(si,{message:a}),s&&i.jsx("div",{className:"flex justify-center py-10",children:i.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-rose-500"})}),!s&&r.length===0?i.jsxs("div",{className:"text-center py-10 bg-white dark:bg-gray-800 rounded-lg shadow border border-gray-200 dark:border-gray-700",children:[i.jsx(nd,{className:"mx-auto h-10 w-10 text-gray-400 mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t("home.no_posts_title")||"No posts found"}),i.jsx("p",{className:"mt-1 text-gray-500 dark:text-gray-400",children:w==="my"?t("home.no_my_posts_message")||"You haven't created any posts yet.":t("home.no_all_posts_message")||"There are no posts to display."}),i.jsx("button",{onClick:()=>_(!0),className:"mt-4 px-4 py-2 bg-rose-500 text-white rounded-lg hover:bg-rose-600 transition-colors",children:t("home.create_first_post")||"Create your first post"})]}):i.jsx("div",{children:r.filter(A=>A.content.toLowerCase().includes(y.toLowerCase())).map(A=>i.jsx(x9,{post:A,onLike:N,onSave:F,onCommentClick:$=>{u($),E($.id)},onShare:I,onDelete:P,currentUserId:e==null?void 0:e.id},A.id))}),c&&i.jsx("div",{className:"fixed inset-0 z-50 overflow-auto bg-black bg-opacity-50 flex",children:i.jsxs("div",{className:"relative p-4 w-full max-w-2xl m-auto bg-white dark:bg-gray-800 rounded-lg shadow-xl",children:[i.jsx("button",{onClick:()=>u(null),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700 dark:text-gray-300 dark:hover:text-gray-100",children:""}),i.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900 dark:text-white",children:t("comments.title")||"Comments"}),i.jsx("div",{className:"mb-4 max-h-96 overflow-y-auto",children:x?i.jsx("div",{className:"flex justify-center py-4",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-rose-500"})}):d.length===0?i.jsx("p",{className:"text-center py-4 text-gray-500 dark:text-gray-400",children:"No comments yet"}):d.map(A=>i.jsx("div",{className:"mb-3 p-3 bg-gray-50 dark:bg-gray-700 rounded",children:i.jsxs("div",{className:"flex items-start",children:[i.jsx("img",{src:A.profiles.avatar_url||"/default-avatar.png",alt:A.profiles.full_name,className:"w-8 h-8 rounded-full mr-3 border border-gray-300 dark:border-gray-600"}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-baseline space-x-2",children:[i.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:A.profiles.full_name}),i.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:Zp(new Date(A.created_at),{addSuffix:!0})})]}),i.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mt-1",children:A.content})]})]})},A.id))}),i.jsxs("div",{className:"flex",children:[i.jsx("input",{type:"text",placeholder:t("comments.writeCommentPlaceholder")||"Write a comment...",value:m,onChange:A=>g(A.target.value),className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-l-lg focus:ring-1 focus:ring-rose-500 focus:border-rose-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"}),i.jsx("button",{onClick:C,disabled:!m.trim(),className:"px-4 py-2 bg-rose-500 text-white rounded-r-lg hover:bg-rose-600 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:t("buttons.send")||"Send"})]})]})})]}):i.jsxs("div",{className:"max-w-xl mx-auto py-6 px-4 text-center",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Welcome"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Please log in to see your feed"}),i.jsx(be,{to:"/login",children:i.jsx(xe,{children:"Log In"})})]})},Ee=({size:e="md",className:t=""})=>{const r={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"};return i.jsx("div",{className:`flex items-center justify-center ${t}`,children:i.jsxs("svg",{className:`animate-spin ${r[e]} text-blue-600`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})},b9=({post:e,isOwner:t,onDelete:r})=>{var u,d,f,m,g;const{t:n}=Rr(),[s,o]=h.useState(!1),[a,l]=h.useState(!1),c=async()=>{try{l(!0),await r()}catch(x){console.error("Error deleting post:",x)}finally{l(!1),o(!1)}};return i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:[i.jsxs("div",{className:"p-4 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(hl,{userId:(u=e.user)==null?void 0:u.id,avatarUrl:(d=e.user)==null?void 0:d.avatar_url,avatarEmoji:(f=e.user)==null?void 0:f.avatar_emoji,fullName:(m=e.user)==null?void 0:m.full_name,size:"sm"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:(g=e.user)==null?void 0:g.full_name}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:gl(new Date(e.created_at||""),"MMM d, yyyy")})]})]}),t&&i.jsxs("div",{className:"relative",children:[i.jsx("button",{onClick:()=>o(!s),className:"p-2 text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",children:i.jsx(sd,{className:"w-5 h-5"})}),s&&i.jsx("div",{className:"absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-white dark:bg-gray-700 ring-1 ring-black ring-opacity-5",children:i.jsx("div",{className:"py-1",children:i.jsxs("button",{onClick:c,disabled:a,className:"w-full text-left px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-gray-100 dark:hover:bg-gray-600 flex items-center",children:[i.jsx($s,{className:"w-4 h-4 mr-2"}),n(a?"post.deleting":"post.delete")]})})})]})]}),i.jsx("div",{className:"px-4 pb-4",children:i.jsx("p",{className:"text-gray-900 dark:text-white whitespace-pre-wrap",children:e.content})}),e.image_url&&i.jsx("div",{className:"relative",children:i.jsx("img",{src:e.image_url,alt:"Post",className:"w-full object-cover max-h-96"})}),i.jsx("div",{className:"px-4 py-3 border-t border-gray-200 dark:border-gray-700",children:i.jsxs("div",{className:"flex space-x-6",children:[i.jsxs("button",{className:"flex items-center text-gray-600 hover:text-primary-600 dark:text-gray-300 dark:hover:text-primary-400",children:[i.jsx($a,{className:"w-5 h-5 mr-1.5"}),i.jsx("span",{className:"text-sm",children:"0"})]}),i.jsxs("button",{className:"flex items-center text-gray-600 hover:text-primary-600 dark:text-gray-300 dark:hover:text-primary-400",children:[i.jsx(nd,{className:"w-5 h-5 mr-1.5"}),i.jsx("span",{className:"text-sm",children:"0"})]}),i.jsx("button",{className:"flex items-center text-gray-600 hover:text-primary-600 dark:text-gray-300 dark:hover:text-primary-400",children:i.jsx(Q2,{className:"w-5 h-5 mr-1.5"})})]})})]})},oi=({src:e,name:t="",size:r="md",className:n=""})=>{const s={sm:"w-8 h-8 text-xs",md:"w-12 h-12 text-sm",lg:"w-16 h-16 text-base"},o=s[r]||s.md,a=t.split(" ").map(l=>l[0]).join("").toUpperCase().substring(0,2);return i.jsx("div",{className:`${o} rounded-full overflow-hidden bg-gray-200 flex-shrink-0 ${n}`,children:e?i.jsx("img",{src:e,alt:t||"Avatar",className:"w-full h-full object-cover"}):i.jsx("div",{className:"w-full h-full bg-blue-500 flex items-center justify-center",children:i.jsx("span",{className:"text-white font-semibold",children:a||"?"})})})},w9={technology:["Programming","Artificial Intelligence","Web Development","Mobile Apps","Cybersecurity","Data Science","Cloud Computing","Blockchain","IoT","Gaming"],arts:["Visual Arts","Music","Photography","Design","Writing","Film","Theater","Dance","Fashion","Crafts"],lifestyle:["Travel","Fitness","Food","Health","Sports","Meditation","Yoga","Reading","Cooking","Outdoor Activities"],business:["Entrepreneurship","Marketing","Finance","Leadership","Innovation","Strategy","Management","Sales","Consulting","E-commerce"],education:["Teaching","Learning","Research","Academic Writing","STEM","Languages","History","Philosophy","Psychology","Literature"]},WS=Object.values(w9).flat(),_9=({profile:e,onProfileUpdated:t})=>{const{tWithTemplate:r}=ot(),[n,s]=h.useState(!1),[o,a]=h.useState({full_name:"",headline:"",bio:"",location:"",website:"",interests:[]}),[l,c]=h.useState(null),[u,d]=h.useState(null),[f,m]=h.useState(null),[g,x]=h.useState(""),[v,w]=h.useState(!0);h.useEffect(()=>{e&&(a({full_name:e.full_name||"",headline:e.headline||"",bio:e.bio||"",location:e.location||"",website:e.website||"",interests:e.interests||[]}),c(e.avatar_url||null),d(e.avatar_emoji||null),x(e.cover_url||""))},[e]);const p=N=>{const{name:F,value:C}=N.target;a(I=>({...I,[F]:C}))},y=N=>{a(F=>{const C=[...F.interests];return C.includes(N)?{...F,interests:C.filter(I=>I!==N)}:C.length<10?{...F,interests:[...C,N]}:(q.error(r("profile.error.maxTags")),F)})},b=(N,F)=>{N==="url"&&typeof F=="string"?c(F):N==="emoji"&&typeof F=="string"&&d(F)},k=N=>{if(N.target.files&&N.target.files[0]){const F=N.target.files[0];m(F),x(URL.createObjectURL(F))}},_=async(N,F,C)=>{const I=N.name.split(".").pop(),P=`${C}.${I}`,{error:O}=await D.storage.from(F).upload(P,N,{upsert:!0});if(O)throw O;const{data:A}=D.storage.from(F).getPublicUrl(P);return A.publicUrl},j=async N=>{if(N.preventDefault(),!o.full_name.trim()){q.error(r("profile.error.fullNameRequired"));return}try{s(!0);let F={full_name:o.full_name,headline:o.headline,bio:o.bio,location:o.location,website:o.website,interests:o.interests,updated_at:new Date().toISOString(),avatar_url:l||e.avatar_url};if(console.log("Updating profile with:",F),f)try{const A=await _(f,"covers",e.id);F.cover_url=A}catch(A){throw console.error("Cover upload error:",A),new Error("Failed to upload cover image")}const{data:C,error:I}=await D.from("profiles").update(F).eq("id",e.id).select();if(I)throw console.error("Profile update error:",I),I;console.log("Profile updated successfully:",C);const{data:P,error:O}=await D.auth.updateUser({data:{avatar_url:l||e.avatar_url,avatar_emoji:u}});if(O)throw console.error("Auth metadata update error:",O),O;if(console.log("Auth metadata updated successfully:",P),o.interests&&o.interests.length>0)try{const{error:A}=await D.from("user_interests").delete().eq("user_id",e.id);if(A)throw console.error("Error deleting existing interests:",A),A;const $=o.interests.map(z=>({user_id:e.id,interest:z})),{error:L}=await D.from("user_interests").insert($);if(L)throw console.error("Error inserting new interests:",L),L}catch(A){throw console.error("Interests update error:",A),new Error("Failed to update interests")}q.success(r("profile.success.updated")),t()}catch(F){console.error("Error updating profile:",F);const C=F.message||F.error_description||"Failed to update profile";q.error(C)}finally{s(!1)}},E=()=>{w(!1),setTimeout(()=>{t()},300)};return i.jsx(Xp,{open:v,onOpenChange:N=>{N||E()},children:i.jsxs(pd,{className:"sm:max-w-[500px]",children:[i.jsx(yd,{children:i.jsx(xd,{children:"Edit Profile"})}),i.jsxs("form",{onSubmit:j,className:"space-y-4 py-4 max-h-[70vh] overflow-y-auto pr-2",children:[i.jsxs("div",{className:"relative h-40 rounded-lg overflow-hidden bg-gray-200 dark:bg-gray-700 mb-4",children:[g?i.jsx("img",{src:g,alt:"Cover preview",className:"w-full h-full object-cover"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 dark:text-gray-500",children:"No cover image"}),i.jsxs("label",{className:"absolute bottom-2 right-2 bg-black/50 text-white p-1.5 rounded-full cursor-pointer hover:bg-black/70",children:[i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),i.jsx("circle",{cx:"12",cy:"13",r:"4"})]}),i.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:k})]})]}),i.jsx("div",{className:"flex justify-center -mt-16 mb-4 z-10 relative",children:i.jsx(hl,{userId:e.id,avatarUrl:l,avatarEmoji:u,fullName:o.full_name,size:"xl",editable:!0,onAvatarChange:b})}),i.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Full Name *"}),i.jsx("input",{type:"text",name:"full_name",value:o.full_name,onChange:p,className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Headline"}),i.jsx("input",{type:"text",name:"headline",value:o.headline,onChange:p,className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Bio"}),i.jsx("textarea",{name:"bio",value:o.bio,onChange:p,rows:4,className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"})]}),i.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Location"}),i.jsx("input",{type:"text",name:"location",value:o.location,onChange:p,className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Website"}),i.jsx("input",{type:"text",name:"website",value:o.website,onChange:p,className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"https://example.com"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Interests (Maximum 10)"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:WS.map(N=>i.jsx("button",{type:"button",onClick:()=>y(N),className:`px-3 py-1 rounded-full text-xs transition-colors ${o.interests.includes(N)?"bg-indigo-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:N},N))})]})]}),i.jsxs(Qp,{children:[i.jsx(xe,{type:"button",variant:"secondary",disabled:n,onClick:E,children:"Cancel"}),i.jsx(xe,{type:"submit",onClick:j,disabled:n,children:"Save Changes"})]})]})})},k9=async e=>{if(!e)return null;try{const{data:t,error:r}=await D.from("profiles").select("*").eq("id",e).single();if(r)throw r;return t}catch(t){return console.error("Error fetching user profile:",t),null}},S9=e=>e?e.full_name||"Unnamed User":"Unknown User",j9=async(e,t,r)=>{try{const n=await k9(t),s=S9(n);switch(e){case"friend_request":return`${s} sent you a friend request`;case"friend_accepted":return`${s} accepted your friend request`;case"like":return`${s} liked your post`;case"comment":return`${s} commented on your post`;case"group_invite":return`${s} invited you to join ${r||"a group"}`;case"group_joined":return`${s} joined ${r||"your group"}`;case"event_invite":return`${s} invited you to ${r||"an event"}`;case"event_reminder":return`Reminder: ${r||"Your event"} is coming up soon`;case"mention":return`${s} mentioned you in a ${r||"post"}`;default:return`${s} interacted with you`}}catch(n){return console.error("Error generating notification content:",n),"You have a new notification"}},yu=async(e,t,r,n)=>{try{const s=await j9(t,r,n),{error:o}=await D.from("notifications").insert({user_id:e,type:t,content:s,related_id:r,read:!1});if(o)throw o;return!0}catch(s){return console.error("Error creating notification:",s),!1}},co="bg-rose-600 text-white hover:bg-rose-700 dark:bg-rose-500 dark:hover:bg-rose-600 px-4 py-2 rounded-md shadow-sm transition duration-150 ease-in-out",ab="text-indigo-600 hover:text-indigo-800 dark:text-indigo-400 dark:hover:text-indigo-300 font-medium text-sm",lb="border border-rose-500 text-rose-600 hover:bg-rose-50 dark:border-rose-400 dark:text-rose-400 dark:hover:bg-rose-900/20 px-4 py-2 rounded-md shadow-sm transition duration-150 ease-in-out",$f=e=>e?new Date(e).toLocaleDateString():"",N9=()=>{const{user:e}=gi(),{t}=ot(),{profileId:r}=Hu(),{checkProfileCompletion:n}=nS(),[s,o]=h.useState(null),[a,l]=h.useState([]),[c,u]=h.useState([]),[d,f]=h.useState([]),[m,g]=h.useState([]),[x,v]=h.useState([]),[w,p]=h.useState("posts"),[y,b]=h.useState(!0),[k,_]=h.useState(!1),[j,E]=h.useState(!1),[N,F]=h.useState(!1),[C,I]=h.useState(!1),[P,O]=h.useState(!1),[A,$]=h.useState("loading"),[L,z]=h.useState(!1),[S,M]=h.useState(!1),[T,B]=h.useState([]),[V,re]=h.useState(!1),[se,fe]=h.useState(null),oe=r||(e==null?void 0:e.id),R=[{id:"posts",label:t("profile.tabs.posts")||"Posts",icon:IT},{id:"groups",label:t("profile.tabs.groups")||"Groups",icon:We},{id:"events",label:t("profile.tabs.events")||"Events",icon:At},{id:"friends",label:t("profile.tabs.friends")||"Friends",icon:Nr}].filter(W=>V||W.id!=="saved"),G=h.useCallback(async()=>{if(console.log(`Fetching profile data for user ID: ${oe}`),!oe){console.error("No user ID available to fetch profile"),q.error(t("profile.errors.userNotFound"));return}console.log(`Current user ID: ${e==null?void 0:e.id}`);const W=oe===(e==null?void 0:e.id);re(W);try{b(!0);const{data:he,error:we}=await _T(oe,(e==null?void 0:e.id)||"");if(we){console.error("Error fetching profile:",we),q.error(t("profile.errors.fetchFailed"));return}if(!he){console.error("No profile data returned"),q.error(t("profile.errors.userNotFound"));return}console.log("Profile data fetched successfully:",he),o(he),!W&&he.friend_status&&($(he.friend_status),he.friend_connection_id&&fe(he.friend_connection_id))}catch(he){console.error("Unexpected error in fetchProfileData:",he),q.error(t("profile.errors.fetchFailed"))}finally{b(!1)}},[oe,e==null?void 0:e.id,t]),X=h.useCallback(async()=>{if(oe){_(!0);try{const{data:W,error:he}=await D.from("posts").select("*, profile:profiles!user_id(full_name, avatar_url)").eq("user_id",oe).order("created_at",{ascending:!1});if(he)throw he;l(W||[])}catch(W){console.error("Error fetching posts:",W),q.error("Failed to load posts.")}finally{_(!1)}}},[oe]),H=h.useCallback(async()=>{if(oe){E(!0);try{const{data:W,error:he}=await D.rpc("get_user_groups",{p_user_id:oe});if(he)throw he;u(W||[])}catch(W){console.error("Error fetching groups:",W),q.error("Failed to load groups.")}finally{E(!1)}}},[oe]),Y=h.useCallback(async()=>{if(oe){F(!0);try{const{data:W,error:he}=await D.from("events").select("*").eq("user_id",oe).order("start_date",{ascending:!0});if(he)throw he;const we=(W||[]).map(Le=>({...Le,is_creator:!0}));f(we)}catch(W){console.error("Error fetching events:",W),q.error(`Failed to load events: ${W.message}`),f([])}finally{F(!1)}}},[oe]),K=h.useCallback(async()=>{if(oe){I(!0),g([]);try{const{data:W,error:he}=await D.from("user_connections").select("user_id, friend_id").or(`user_id.eq.${oe},friend_id.eq.${oe}`).eq("status","accepted");if(he)throw he;if(!W||W.length===0){console.log("[fetchFriends] No accepted connections found."),I(!1);return}const we=W.map(Pt=>Pt.user_id===oe?Pt.friend_id:Pt.user_id);if(we.length===0){console.log("[fetchFriends] No valid friend IDs extracted."),I(!1);return}console.log("[fetchFriends] Friend IDs to fetch profiles for:",we);const{data:Le,error:rt}=await D.from("profiles").select("id, full_name, avatar_url, headline").in("id",we);if(rt)throw rt;console.log("[fetchFriends] Fetched friend profiles:",Le),g(Le||[])}catch(W){console.error("[fetchFriends] Error occurred:",W),q.error("Failed to load friends.")}finally{I(!1)}}},[oe]),U=h.useCallback(async()=>{if(!(!V||!e)){O(!0);try{const{data:W,error:he}=await D.from("saved_items").select("id, user_id, created_at, post_id, event_id, group_id").eq("user_id",e.id).order("created_at",{ascending:!1});if(he)throw he;if(!W||W.length===0){console.log("[fetchSavedItems] No saved items found."),v([]),O(!1);return}const we=W.map(Ge=>Ge.post_id).filter(Ge=>Ge!=null),Le=W.map(Ge=>Ge.event_id).filter(Ge=>Ge!=null),rt=W.map(Ge=>Ge.group_id).filter(Ge=>Ge!=null),[Pt,yr,vn]=await Promise.all([we.length?D.from("posts").select("id, content, user_id, profile:profiles(full_name, avatar_url)").in("id",we):Promise.resolve({data:[],error:null}),Le.length?D.from("events").select("id, title, description, user_id, profile:profiles(full_name, avatar_url)").in("id",Le):Promise.resolve({data:[],error:null}),rt.length?D.from("groups").select("id, name, description, user_id, profile:profiles(full_name, avatar_url)").in("id",rt):Promise.resolve({data:[],error:null})]);if(Pt.error)throw Pt.error;if(yr.error)throw yr.error;if(vn.error)throw vn.error;const ki=W.map(Ge=>{let Re=null,Si=null,bl={},Dr=null,bn=null;return Ge.post_id&&Pt.data?(Si="post",bn=Ge.post_id,Re=Pt.data.find(ji=>ji.id===bn),Dr=Re==null?void 0:Re.profile,bl={content:Re==null?void 0:Re.content}):Ge.event_id&&yr.data?(Si="event",bn=Ge.event_id,Re=yr.data.find(ji=>ji.id===bn),Dr=Re==null?void 0:Re.profile,bl={title:Re==null?void 0:Re.title,description:Re==null?void 0:Re.description}):Ge.group_id&&vn.data&&(Si="group",bn=Ge.group_id,Re=vn.data.find(ji=>ji.id===bn),Dr=Re==null?void 0:Re.profile,bl={title:Re==null?void 0:Re.name,description:Re==null?void 0:Re.description}),!Si||!bn?(console.warn(`[fetchSavedItems] Could not determine type, item ID, or find details for saved item ID: ${Ge.id}`),null):{id:Ge.id,user_id:Ge.user_id,created_at:Ge.created_at,type:Si,item_id:bn,...bl,author:Dr!=null&&Dr.full_name||Dr!=null&&Dr.avatar_url?Dr:void 0}}).filter(Ge=>Ge!==null);v(ki)}catch(W){console.error("[fetchSavedItems] Error occurred:",W),q.error("Failed to load saved items."),v([])}finally{O(!1)}}},[V,e]),J=h.useCallback(async()=>{if(V||!e||!r){$("none");return}if(s&&s.friend_status){$(s.friend_status);return}s&&!s.friend_status&&(console.error("Profile data does not contain friend_status information"),$("error"))},[V,e,r,s]);h.useEffect(()=>{G(),!V&&(!s||!("friend_status"in s))&&J()},[oe,e==null?void 0:e.id]),h.useEffect(()=>{w==="posts"?X():w==="groups"?H():w==="events"?Y():w==="friends"?K():w==="saved"&&V&&U()},[w,X,H,Y,K,U,V]);const ne=async W=>{if(window.confirm(t("profile.confirmDeletePost")||"Are you sure you want to delete this post?"))try{const{error:he}=await D.from("posts").delete().eq("id",W).eq("user_id",e==null?void 0:e.id);if(he)throw he;l(we=>we.filter(Le=>Le.id!==W)),q.success(t("profile.postDeletedSuccess")||"Post deleted successfully.")}catch(he){console.error("Error deleting post:",he),q.error(t("profile.postDeleteFailed")||"Failed to delete post.")}},ae=async W=>{await ne(W)},ue=async()=>{if(!(!r||!e)){z(!0);try{const{error:W}=await D.from("user_connections").insert({user_id:e.id,friend_id:r,status:"pending"});if(W)throw W;console.log("Creating friend request notification for user:",r),await yu(r,"friend_request",e.id),$("pending"),q.success(t("profile.friendRequestSent")||"Friend request sent!")}catch(W){console.error("Error sending friend request:",W),q.error(t("profile.friendRequestFailed")||"Failed to send friend request.")}finally{z(!1)}}},Ve=async()=>{if(window.confirm(t("profile.confirmRemoveFriend")||"Are you sure you want to remove this friend?")&&!(!r||!e))try{await D.from("user_connections").delete().match({user_id:e.id,friend_id:r}),await D.from("user_connections").delete().match({user_id:r,friend_id:e.id}),$("none"),K(),q.success(t("profile.friendRemovedSuccess")||"Friend removed.")}catch(W){console.error("Error removing friend:",W),q.error(t("profile.friendRemoveFailed")||"Failed to remove friend.")}},Se=async()=>{if(!(!r||!e||A!=="pending"))try{const{error:W}=await D.from("user_connections").update({status:"accepted"}).match({user_id:r,friend_id:e.id,status:"pending"});if(W)throw W;$("accepted"),K(),q.success(t("profile.friendRequestAccepted")||"Friend request accepted!")}catch(W){console.error("Error accepting friend request:",W),q.error(t("profile.friendRequestAcceptFailed")||"Failed to accept friend request.")}},Et=()=>{M(!0)},bt=()=>{M(!1),G(),n()},te=()=>{if(V||!e||A==="error")return null;switch(A){case"none":return i.jsxs(xe,{onClick:ue,disabled:L,className:co,children:[L?i.jsx(Ee,{size:"sm"}):i.jsx(Fn,{className:"mr-2"}),t("profile.buttons.addFriend")]});case"pending":return V?i.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 italic",children:t("profile.status.requestSent")}):i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs(xe,{onClick:Se,className:co,children:[i.jsx(K2,{className:"mr-2"})," ",t("profile.buttons.accept")]}),i.jsxs(xe,{variant:"outline",onClick:Ve,className:lb,children:[i.jsx(cn,{className:"mr-2"})," ",t("profile.buttons.decline")]})]});case"accepted":return i.jsxs(xe,{onClick:Ve,variant:"outline",className:lb,children:[i.jsx(e_,{className:"mr-2"})," ",t("profile.buttons.removeFriend")]});default:return null}},pe=()=>{switch(w){case"posts":return i.jsxs("div",{className:"space-y-6",children:[V&&i.jsx(US,{onPostCreated:X}),k?i.jsx("div",{className:"flex justify-center py-10",children:i.jsx(Ee,{})}):a.length===0?i.jsx("div",{className:"text-center py-10 text-gray-500 dark:text-gray-400",children:V?t("profile.noPostsYet"):`${(s==null?void 0:s.full_name)||"User"} ${t("profile.userHasNoPostsSuffix")||"has no posts."}`}):i.jsx("div",{className:"space-y-4",children:a.map(W=>i.jsx(b9,{post:W,onDelete:()=>ae(W.id),isOwner:W.user_id===(e==null?void 0:e.id)},W.id))})]});case"groups":return i.jsxs("div",{children:[j?i.jsx("div",{className:"flex justify-center py-10",children:i.jsx(Ee,{})}):c.length===0?i.jsx("div",{className:"text-center py-10 text-gray-500 dark:text-gray-400",children:V?t("profile.noGroupsJoined"):`${(s==null?void 0:s.full_name)||"User"} ${t("profile.userNotInGroupsSuffix")||"isn't part of any groups."}`}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(W=>i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:[i.jsx("div",{className:"h-32 bg-gradient-to-r from-blue-400 to-indigo-500 relative",children:W.banner_url&&i.jsx("img",{src:W.banner_url,alt:W.name,className:"w-full h-full object-cover"})}),i.jsxs("div",{className:"p-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1 truncate",children:W.name||"Unnamed Group"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-3 line-clamp-2",children:W.description||"No description available."}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[W.member_count||0," ",t("groups.members")]}),i.jsx(be,{to:`/groups/${W.id}`,className:ab,children:t("profile.buttons.viewGroup")})]})]})]},W.id))}),V&&i.jsx("div",{className:"mt-6 text-center",children:i.jsxs(be,{to:"/groups/create",className:co,children:[i.jsx(ln,{className:"mr-2 inline"})," ",t("profile.buttons.createGroup")]})})]});case"events":return i.jsxs("div",{children:[N?i.jsx("div",{className:"flex justify-center py-10",children:i.jsx(Ee,{})}):d.length===0?i.jsx("div",{className:"text-center py-10 text-gray-500 dark:text-gray-400",children:V?t("profile.noEventsJoined"):`${(s==null?void 0:s.full_name)||"User"} ${t("profile.userNotInEventsSuffix")||"isn't associated with any events."}`}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:d.map(W=>i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden flex flex-col",children:[i.jsxs("div",{className:"h-32 bg-gradient-to-r from-purple-400 to-pink-500 relative flex-shrink-0",children:[W.banner_url&&i.jsx("img",{src:W.banner_url,alt:W.title,className:"w-full h-full object-cover"}),i.jsxs("div",{className:"absolute top-2 right-2 space-x-1",children:[W.is_creator&&i.jsx("span",{className:"px-2 py-0.5 text-xs bg-yellow-500 text-white rounded-full font-medium shadow",children:"Creator"}),W.is_attending&&!W.is_creator&&i.jsx("span",{className:"px-2 py-0.5 text-xs bg-green-500 text-white rounded-full font-medium shadow",children:"Attending"})]})]}),i.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[i.jsxs("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400 mb-2",children:[i.jsx(At,{className:"mr-1.5 flex-shrink-0",size:12}),i.jsx("span",{children:$f(W.start_date)}),W.end_date&&i.jsxs("span",{className:"ml-1",children:[" - ",$f(W.end_date)]})]}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1 truncate",children:W.title}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-3 line-clamp-2 flex-grow",children:W.description||"No description available."}),W.location&&i.jsxs("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400 mb-3",children:[i.jsx(Ts,{className:"mr-1.5 flex-shrink-0",size:12}),i.jsx("span",{className:"truncate",children:W.location})]}),i.jsx("div",{className:"flex justify-end mt-auto",children:i.jsx(be,{to:`/events/${W.id}`,className:`${ab} text-xs px-3 py-1`,children:t("profile.buttons.viewDetails")})})]})]},W.id))}),V&&i.jsx("div",{className:"mt-6 text-center",children:i.jsxs(be,{to:"/events/create",className:co,children:[i.jsx(ln,{className:"mr-2 inline"})," ",t("profile.buttons.createEvent")]})})]});case"friends":return i.jsxs("div",{children:[C?i.jsx("div",{className:"flex justify-center py-10",children:i.jsx(Ee,{})}):m.length===0?i.jsx("div",{className:"text-center py-10 text-gray-500 dark:text-gray-400",children:V?t("profile.noFriendsYet"):`${(s==null?void 0:s.full_name)||"User"} ${t("profile.userHasNoFriendsSuffix")||"has no friends to display."}`}):i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:m.map(W=>i.jsxs(be,{to:`/profile/${W.id}`,className:"flex flex-col items-center p-4 bg-white dark:bg-gray-800 rounded-lg shadow hover:shadow-md transition-shadow",children:[i.jsx(oi,{src:W.avatar_url??void 0,name:W.full_name??"",size:"lg"}),i.jsx("span",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white truncate w-full text-center",children:W.full_name}),W.headline&&i.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 truncate w-full text-center",children:W.headline})]},W.id))}),V&&i.jsx("div",{className:"mt-6 text-center",children:i.jsxs(be,{to:"/friends",className:co,children:[i.jsx(ln,{className:"mr-2 inline"})," ",t("profile.buttons.findFriends")]})})]});case"saved":return V?i.jsx("div",{children:P?i.jsx("div",{className:"flex justify-center py-10",children:i.jsx(Ee,{})}):x.length===0?i.jsx("div",{className:"text-center py-10 text-gray-500 dark:text-gray-400",children:t("profile.noSavedItems")}):i.jsx("div",{className:"space-y-4",children:x.map(W=>{var he,we,Le;return i.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg shadow",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[i.jsx(oi,{src:((he=W.author)==null?void 0:he.avatar_url)??void 0,name:((we=W.author)==null?void 0:we.full_name)??"",size:"sm"}),i.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:((Le=W.author)==null?void 0:Le.full_name)||"Unknown Author"})]}),W.type==="post"&&W.content&&i.jsx("p",{children:W.content}),(W.type==="event"||W.type==="group")&&W.title&&i.jsx("p",{className:"font-semibold",children:W.title}),(W.type==="event"||W.type==="group")&&W.description&&i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:W.description})]},W.id)})})}):null;case"about":return i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[i.jsxs("h3",{className:"text-xl font-semibold mb-4 text-gray-900 dark:text-white",children:["About ",(s==null?void 0:s.full_name)||"User"]}),y?i.jsx(Ee,{}):s?i.jsxs("div",{className:"space-y-4 text-gray-700 dark:text-gray-300",children:[s.bio&&i.jsx("p",{className:"text-lg italic",children:s.bio}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4 pt-4 border-t border-gray-200 dark:border-gray-700 mt-4",children:[s.location&&i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ts,{className:"text-gray-500"}),i.jsx("span",{children:s.location})]}),s.website&&i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(ux,{className:"text-gray-500"}),i.jsx("a",{href:s.website.startsWith("http")?s.website:`//${s.website}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline truncate",children:s.website})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(At,{className:"text-gray-500"}),i.jsxs("span",{children:["Joined on ",$f(s==null?void 0:s.created_at)]})]})]})]}):i.jsx("p",{className:"text-center py-10 text-gray-500 dark:text-gray-400",children:"Could not load profile information."})]});default:return null}};return y&&!s?i.jsx("div",{className:"flex justify-center items-center h-screen",children:i.jsx(Ee,{size:"lg"})}):s?i.jsxs("div",{className:"min-h-screen",children:[y?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx(Ee,{size:"lg"})}):s?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"bg-white dark:bg-gray-800 shadow",children:i.jsxs("div",{className:"max-w-4xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(hl,{avatarUrl:s.avatar_url,fullName:s.full_name||"",size:"lg"}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:s.full_name}),s.headline&&i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:s.headline}),i.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[s.location&&i.jsxs("span",{className:"inline-flex items-center text-sm text-gray-500 dark:text-gray-400",children:[i.jsx(Ts,{className:"mr-1"})," ",s.location]}),s.website&&i.jsxs("a",{href:s.website.startsWith("http")?s.website:`https://${s.website}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-sm text-blue-500 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300",children:[i.jsx(ux,{className:"mr-1"})," ",s.website]})]})]})]}),i.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2",children:V?i.jsxs(xe,{onClick:Et,className:"inline-flex items-center",children:[i.jsx(MT,{className:"mr-2"})," ",t("profile.buttons.editProfile")]}):te()})]}),s.bio&&i.jsx("div",{className:"mt-6",children:i.jsx("p",{className:"text-gray-700 dark:text-gray-300 whitespace-pre-line",children:s.bio})}),i.jsx("div",{className:"mt-6 border-b border-gray-200 dark:border-gray-700",children:i.jsx("nav",{className:"-mb-px flex space-x-8",children:R.map(W=>i.jsxs("button",{onClick:()=>p(W.id),className:`${w===W.id?"border-rose-500 text-rose-600 dark:text-rose-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"} whitespace-nowrap flex pb-4 pt-2 px-1 border-b-2 font-medium text-sm`,children:[i.jsx(W.icon,{className:"mr-2 h-5 w-5"}),W.label]},W.id))})})]})}),i.jsx("div",{className:"max-w-4xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:pe()})]}):i.jsx("div",{className:"max-w-4xl mx-auto mt-8 py-6 px-4 bg-white dark:bg-gray-800 rounded-lg shadow",children:i.jsxs("div",{className:"text-center py-10",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100 mb-2",children:t("profile.notFound")||"Profile not found"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"This profile doesn't exist or you don't have permission to view it."}),i.jsxs(be,{to:"/",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-rose-600 hover:bg-rose-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500 dark:bg-rose-500 dark:hover:bg-rose-600",children:[i.jsx(tu,{className:"mr-2"}),"Return Home"]})]})}),S&&i.jsx(_9,{profile:s,onProfileUpdated:bt})]}):i.jsxs("div",{className:"text-center py-20",children:[i.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Profile not found"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"The profile you are looking for does not exist or could not be loaded."}),i.jsx(be,{to:"/",className:co,children:"Go to Homepage"})]})},C9=()=>{const{user:e}=it();return h.useEffect(()=>{e&&(console.log("NotFoundPage: User is authenticated, redirecting to /home"),window.location.replace("/home"))},[e]),i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900 flex items-center justify-center px-4",children:i.jsxs("div",{className:"max-w-md w-full text-center",children:[i.jsx("h1",{className:"text-6xl font-bold text-gray-900 dark:text-white mb-4",children:"404"}),i.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 mb-8",children:"Oops! The page you're looking for doesn't exist."}),i.jsx(be,{to:e?"/home":"/",className:"inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-gradient-to-r from-indigo-500 to-rose-500 hover:opacity-90 transition-opacity",children:"Go back home"})]})})};function $i({className:e,delay:t=0,width:r=400,height:n=100,rotate:s=0,gradient:o="from-white/[0.08]"}){return i.jsx(fr.div,{initial:{opacity:0,y:-150,rotate:s-15},animate:{opacity:1,y:0,rotate:s},transition:{duration:2.4,delay:t,ease:[.23,.86,.39,.96],opacity:{duration:1.2}},className:je("absolute",e),children:i.jsx(fr.div,{animate:{y:[0,15,0]},transition:{duration:12,repeat:Number.POSITIVE_INFINITY,ease:"easeInOut"},style:{width:r,height:n},className:"relative",children:i.jsx("div",{className:je("absolute inset-0 rounded-full","bg-gradient-to-r to-transparent",o,"backdrop-blur-[2px] border-2 border-white/[0.15]","shadow-[0_8px_32px_0_rgba(255,255,255,0.1)]","after:absolute after:inset-0 after:rounded-full","after:bg-[radial-gradient(circle_at_50%_50%,rgba(255,255,255,0.2),transparent_70%)]")})})})}function E9({badge:e="Design Collective",title1:t="Elevate Your Digital Vision",title2:r="Crafting Exceptional Websites"}){const n={hidden:{opacity:0,y:30},visible:s=>({opacity:1,y:0,transition:{duration:1,delay:.5+s*.2,ease:[.25,.4,.25,1]}})};return i.jsxs("div",{className:"relative min-h-screen w-full flex items-center justify-center overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500/[0.05] via-transparent to-rose-500/[0.05] blur-3xl"}),i.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[i.jsx($i,{delay:.3,width:600,height:140,rotate:12,gradient:"from-indigo-500/[0.15]",className:"left-[-10%] md:left-[-5%] top-[15%] md:top-[20%]"}),i.jsx($i,{delay:.5,width:500,height:120,rotate:-15,gradient:"from-rose-500/[0.15]",className:"right-[-5%] md:right-[0%] top-[70%] md:top-[75%]"}),i.jsx($i,{delay:.4,width:300,height:80,rotate:-8,gradient:"from-violet-500/[0.15]",className:"left-[5%] md:left-[10%] bottom-[5%] md:bottom-[10%]"}),i.jsx($i,{delay:.6,width:200,height:60,rotate:20,gradient:"from-amber-500/[0.15]",className:"right-[15%] md:right-[20%] top-[10%] md:top-[15%]"}),i.jsx($i,{delay:.7,width:150,height:40,rotate:-25,gradient:"from-cyan-500/[0.15]",className:"left-[20%] md:left-[25%] top-[5%] md:top-[10%]"})]}),i.jsx("div",{className:"relative z-10 container mx-auto px-4 md:px-6",children:i.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[i.jsxs(fr.div,{custom:0,variants:n,initial:"hidden",animate:"visible",className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/[0.03] border border-white/[0.08] mb-8 md:mb-12",children:[i.jsx(Zk,{className:"h-2 w-2 fill-rose-500/80"}),i.jsx("span",{className:"text-sm text-white/60 tracking-wide",children:e})]}),i.jsx(fr.div,{custom:1,variants:n,initial:"hidden",animate:"visible",children:i.jsxs("h1",{className:"text-4xl sm:text-6xl md:text-8xl font-bold mb-6 md:mb-8 tracking-tight",children:[i.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-b from-white to-white/80",children:t}),i.jsx("br",{}),i.jsx("span",{className:je("bg-clip-text text-transparent bg-gradient-to-r from-indigo-300 via-white/90 to-rose-300 "),children:r})]})}),i.jsx(fr.div,{custom:2,variants:n,initial:"hidden",animate:"visible",children:i.jsx("p",{className:"text-base sm:text-lg md:text-xl text-white/40 mb-8 leading-relaxed font-light tracking-wide max-w-xl mx-auto px-4",children:"Crafting exceptional digital experiences through innovative design and cutting-edge technology."})})]})})]})}const Yi=ht.forwardRef(({children:e,className:t,variant:r="default",...n},s)=>i.jsxs("button",{ref:s,className:je("relative inline-flex items-center justify-center px-6 py-3 text-lg font-medium rounded-full transition-all duration-300 overflow-hidden focus:outline-none",r==="default"&&"text-white hover:text-white bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 shadow-md hover:shadow-lg transform hover:-translate-y-1",r==="outline"&&"border-2 border-blue-500 text-blue-500 hover:text-white hover:bg-blue-500 bg-transparent",r==="transparent"&&"bg-transparent text-blue-500 hover:text-blue-700",t),...n,children:[i.jsx("span",{className:"relative z-10",children:e}),i.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-indigo-500 opacity-0 hover:opacity-100 transition-opacity duration-300"})]}));Yi.displayName="ShinyButton";const P9=()=>{const e=[{icon:i.jsx(JT,{}),color:"#1877F2"},{icon:i.jsx(a8,{}),color:"#1DA1F2"},{icon:i.jsx(QT,{}),color:"#E4405F"},{icon:i.jsx(ZT,{}),color:"#0A66C2"},{icon:i.jsx(o8,{}),color:"#000000"},{icon:i.jsx(c8,{}),color:"#FF0000"},{icon:i.jsx(t_,{}),color:"#0088cc"},{icon:i.jsx(YT,{}),color:"#5865F2"},{icon:i.jsx(r8,{}),color:"#FF4500"},{icon:i.jsx(n8,{}),color:"#FFFC00"},{icon:i.jsx(l8,{}),color:"#25D366"},{icon:i.jsx(t8,{}),color:"#E60023"},{icon:i.jsx(s8,{}),color:"#1DB954"},{icon:i.jsx(i8,{}),color:"#9146FF"},{icon:i.jsx(e8,{}),color:"#000000"}],[t,r]=h.useState([]);return h.useEffect(()=>{const n=setInterval(()=>{const s=e[Math.floor(Math.random()*e.length)],o=24+Math.floor(Math.random()*24),a=i.jsx("div",{className:"absolute animate-float-emoji",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDuration:`${6+Math.random()*7}s`,opacity:.8,transform:`rotate(${Math.random()*30-15}deg)`,fontSize:`${o}px`,color:s.color},children:s.icon},Date.now());r(l=>[...l,a]),t.length>25&&r(l=>l.slice(l.length-25))},1500);return()=>clearInterval(n)},[t.length]),i.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-10",children:t})},T9=()=>{const e=st();return h.useEffect(()=>(console.log("Landing page: Loaded"),()=>{}),[]),i.jsxs("div",{className:"min-h-screen flex flex-col bg-[#030303] text-white",children:[i.jsx("nav",{className:"relative z-20 px-4 sm:px-6 lg:px-8 py-6",children:i.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("img",{src:"/logo.svg",alt:"ConnectMe",className:"h-10 w-auto",onError:t=>{t.currentTarget.onerror=null,t.currentTarget.src="https://via.placeholder.com/40x40?text=CM"}}),i.jsx("span",{className:"ml-3 text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-indigo-300 via-white/90 to-rose-300",children:"ConnectMe"})]}),i.jsxs("div",{className:"flex space-x-4",children:[i.jsx(Yi,{onClick:()=>e("/login"),className:"px-5 py-2 text-sm",children:"Sign In"}),i.jsx(be,{to:"/register",children:i.jsx(Yi,{className:"px-5 py-2 text-sm",children:"Join Now"})})]})]})}),i.jsxs("div",{className:"relative",children:[i.jsx(P9,{}),i.jsx(E9,{badge:"Social Network Platform",title1:"Connect, Share",title2:"Discover Together"})]}),i.jsx("div",{className:"relative z-10 py-24 bg-[#050505]",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"text-center mb-16",children:[i.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Everything You Need to Connect"}),i.jsx("p",{className:"text-xl text-white/40 max-w-2xl mx-auto",children:"A modern platform designed to bring people together through shared interests and experiences."})]}),i.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[i.jsx(Ui,{icon:i.jsx(We,{className:"h-6 w-6"}),title:"Dynamic Communities",description:"Join interest-based groups that connect you with like-minded people who share your passions."}),i.jsx(Ui,{icon:i.jsx(Zo,{className:"h-6 w-6"}),title:"Real-time Conversations",description:"Stay connected with instant messaging in groups, events, and one-on-one chats."}),i.jsx(Ui,{icon:i.jsx(At,{className:"h-6 w-6"}),title:"Engaging Events",description:"Discover and participate in online and in-person events with people who share your interests."}),i.jsx(Ui,{icon:i.jsx(qT,{className:"h-6 w-6"}),title:"Content Sharing",description:"Share posts, images, and videos with your network or within specific communities."}),i.jsx(Ui,{icon:i.jsx(nm,{className:"h-6 w-6"}),title:"Smart Discovery",description:"Find relevant content and connections through our intelligent recommendation system."}),i.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-indigo-500/10 to-rose-500/10 border border-white/10 p-8 h-full flex flex-col justify-center",children:[i.jsx("div",{className:"absolute -right-10 -top-10 h-40 w-40 rounded-full bg-gradient-to-br from-indigo-500/20 to-rose-500/20 blur-2xl"}),i.jsxs("div",{className:"relative z-10",children:[i.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Ready to Join?"}),i.jsx("p",{className:"text-white/60 mb-6",children:"Create your account today and start connecting with a growing community."}),i.jsx(be,{to:"/register",children:i.jsx(Yi,{className:"bg-white text-indigo-900 hover:bg-white/90",children:"Get Started"})})]})]})]})]})}),i.jsx("div",{className:"py-24 bg-[#030303]",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"text-center mb-16",children:[i.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"What Our Users Say"}),i.jsx("p",{className:"text-xl text-white/40 max-w-2xl mx-auto",children:"Join thousands of satisfied users already connecting on our platform."})]}),i.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{quote:"ConnectMe has transformed how I connect with people who share my interests. The groups and events feature is incredible!",author:"Sophia L.",role:"Photography Enthusiast"},{quote:"I've made meaningful connections and discovered new opportunities through this platform. The user experience is smooth and intuitive.",author:"Marcus T.",role:"Tech Community Leader"},{quote:"The real-time chat and content sharing capabilities make this the perfect platform for our book club to stay connected between meetings.",author:"Elena R.",role:"Book Club Organizer"}].map((t,r)=>i.jsxs("div",{className:"bg-white/5 backdrop-blur rounded-2xl p-6 border border-white/10",children:[i.jsxs("p",{className:"text-white/70 mb-6",children:['"',t.quote,'"']}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-indigo-500 to-rose-500 flex items-center justify-center text-white font-bold",children:t.author.charAt(0)}),i.jsxs("div",{className:"ml-3",children:[i.jsx("h4",{className:"text-white font-medium",children:t.author}),i.jsx("p",{className:"text-white/50 text-sm",children:t.role})]})]})]},r))})]})}),i.jsx("div",{className:"py-24 bg-gradient-to-br from-indigo-900/20 via-[#040404] to-rose-900/20",children:i.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[i.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"Join Our Community Today"}),i.jsx("p",{className:"text-xl text-white/50 mb-10 max-w-3xl mx-auto",children:"Connect with friends, discover new interests, and build meaningful relationships in a space designed for genuine connections."}),i.jsx(be,{to:"/register",children:i.jsx(Yi,{className:"px-8 py-4 text-lg",children:"Create Your Account"})}),i.jsx("p",{className:"mt-4 text-white/30",children:"No commitment. Create your account in minutes."})]})}),i.jsx("footer",{className:"py-12 bg-[#020202] border-t border-white/5",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 mb-8",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium text-white/40 uppercase tracking-wider mb-4",children:"Company"}),i.jsxs("ul",{className:"space-y-3",children:[i.jsx(sr,{text:"About Us"}),i.jsx(sr,{text:"Careers"}),i.jsx(sr,{text:"Blog"})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium text-white/40 uppercase tracking-wider mb-4",children:"Resources"}),i.jsxs("ul",{className:"space-y-3",children:[i.jsx(sr,{text:"Help Center"}),i.jsx(sr,{text:"Tutorials"}),i.jsx(sr,{text:"Developers"})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium text-white/40 uppercase tracking-wider mb-4",children:"Legal"}),i.jsxs("ul",{className:"space-y-3",children:[i.jsx(sr,{text:"Privacy Policy"}),i.jsx(sr,{text:"Terms of Service"}),i.jsx(sr,{text:"Cookies Policy"})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium text-white/40 uppercase tracking-wider mb-4",children:"Connect"}),i.jsxs("ul",{className:"space-y-3",children:[i.jsx(sr,{text:"Twitter"}),i.jsx(sr,{text:"Instagram"}),i.jsx(sr,{text:"Facebook"})]})]})]}),i.jsxs("div",{className:"pt-8 border-t border-white/5 flex flex-col md:flex-row justify-between items-center",children:[i.jsxs("div",{className:"flex items-center mb-4 md:mb-0",children:[i.jsx("img",{src:"/logo.svg",alt:"ConnectMe",className:"h-8 w-auto",onError:t=>{t.currentTarget.onerror=null,t.currentTarget.src="https://via.placeholder.com/32x32?text=CM"}}),i.jsx("span",{className:"ml-2 text-xl font-bold text-white/80",children:"ConnectMe"})]}),i.jsxs("p",{className:"text-white/30 text-sm",children:[" ",new Date().getFullYear()," ConnectMe. All rights reserved"]})]})]})})]})},Ui=({icon:e,title:t,description:r})=>i.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-white/5 backdrop-blur p-8 border border-white/10 h-full",children:[i.jsx("div",{className:"absolute -right-10 -top-10 h-40 w-40 rounded-full bg-gradient-to-br from-indigo-500/10 to-rose-500/10 blur-2xl"}),i.jsxs("div",{className:"relative z-10",children:[i.jsx("div",{className:"h-12 w-12 rounded-xl bg-gradient-to-br from-indigo-500/20 to-rose-500/20 flex items-center justify-center text-indigo-300 mb-6",children:e}),i.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:t}),i.jsx("p",{className:"text-white/60",children:r})]})]}),sr=({text:e})=>i.jsx("li",{children:i.jsx("a",{href:"#",className:"text-white/60 hover:text-white transition-colors",children:e})}),A9="w-full py-2 border border-gray-400 text-gray-600 dark:text-gray-400 rounded-full hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors font-medium flex items-center justify-center",ut={discover:"Discover",searchPlaceholder:"Search people, groups, or events...",trending:"Trending",groups:"Groups",events:"Events",people:"People",posts:"posts",members:"members",joinGroup:"Join Group",joinEvent:"Join Event",attendees:"attendees",mutualFriends:"mutual friends",addFriend:"Add Friend",requestPending:"Request Pending",alreadyFriend:"Already Friends",exploreMore:"Explore More",seeAll:"See All",about:"About",location:"Location",description:"Description",eventDate:"Event Date",loading:"Loading...",noResults:"No results found",viewProfile:"View Profile",joinedGroups:"Joined Groups",joinedEvents:"Joined Events",noDescription:"No description available"},R9={technology:"",photography:"",travel:"",music:"",art:"",food:"",fashion:"",sports:"",education:"",business:"",health:"",gaming:"",movies:"",books:"",science:"",nature:""},M9=[{id:1,name:"Technology",posts:1234,emoji:""},{id:2,name:"Photography",posts:856,emoji:""},{id:3,name:"Travel",posts:743,emoji:""},{id:4,name:"Music",posts:621,emoji:""},{id:5,name:"Art",posts:589,emoji:""},{id:6,name:"Food",posts:432,emoji:""}],D9=()=>{const{currentLanguage:e}=ot(),{user:t}=it(),[r,n]=h.useState("trending"),[s,o]=h.useState(""),[a,l]=h.useState({}),[c,u]=h.useState(!1),[d,f]=h.useState({}),[m,g]=h.useState([]),[x,v]=h.useState([]);h.useEffect(()=>{e!=="en"?(async()=>{try{const M=Object.values(ut),T=await Wh(M,e.toUpperCase()),B={};Object.keys(ut).forEach((V,re)=>{B[V]=T[re]}),l(B)}catch(M){console.error("Translation error:",M),l(ut)}})():l(ut)},[e]),h.useEffect(()=>{t&&(w(),I())},[t,r]);const w=async()=>{if(t){u(!0);try{if(r==="trending")u(!1);else if(r==="groups"){const{data:S}=await D.from("group_members").select("group_id").eq("user_id",t.id),M=(S==null?void 0:S.map(B=>B.group_id))||[],{data:T}=await D.from("groups").select("*").not("id","in",`(${M.length>0?M.join(","):"0"})`).order("member_count",{ascending:!1}).limit(6);T&&T.length>0&&j(T),u(!1)}else if(r==="event"){const{data:S}=await D.from("event_attendees").select("event_id").eq("user_id",t.id),M=(S==null?void 0:S.map(B=>B.event_id))||[],{data:T}=await D.from("events").select("*").not("id","in",`(${M.length>0?M.join(","):"0"})`).gte("start_date",new Date().toISOString()).order("start_date",{ascending:!0}).limit(6);T&&T.length>0&&N(T),u(!1)}else if(r==="people"){const{data:S}=await D.from("user_connections").select("friend_id").eq("user_id",t.id).eq("status","accepted"),M=(S==null?void 0:S.map(T=>T.friend_id))||[];if(M.length>0){const{data:T}=await D.from("profiles").select("*").not("id","in",`(${M.join(",")},${t.id})`).limit(6);if(T&&T.length>0){C(T);const B=T.map(async se=>{const fe=await p(se.id);return{id:se.id,status:fe}}),re=(await Promise.all(B)).reduce((se,fe)=>(se[fe.id]=fe.status,se),{});f(re)}}u(!1)}}catch(S){console.error("Error fetching suggestions:",S),u(!1)}}},p=async S=>{if(!t)return"none";try{const{data:M,error:T}=await D.from("user_connections").select("status").or(`and(user_id.eq.${t.id},friend_id.eq.${S}),and(user_id.eq.${S},friend_id.eq.${t.id})`).maybeSingle();if(T)throw T;return M?M.status:"none"}catch(M){return console.error("Error checking friendship status:",M),"none"}},y=async S=>{if(t)try{const{data:M}=await D.from("user_connections").select("id, status").or(`and(user_id.eq.${t.id},friend_id.eq.${S}),and(user_id.eq.${S},friend_id.eq.${t.id})`).maybeSingle();if(M){q.error("A connection already exists with this user");return}const{error:T}=await D.from("user_connections").insert({user_id:t.id,friend_id:S,status:"pending"});if(T)throw T;console.log("Creating friend request notification for user:",S),await yu(S,"friend_request",t.id),f(B=>({...B,[S]:"pending"})),q.success("Friend request sent!")}catch(M){console.error("Error sending friend request:",M),q.error("Failed to send friend request")}},b=async S=>{if(t)try{const{data:M}=await D.from("group_members").select("id").eq("user_id",t.id).eq("group_id",S).maybeSingle();if(M){q.error("You are already a member of this group");return}const{error:T}=await D.from("group_members").insert({user_id:t.id,group_id:S});if(T)throw T;q.success("Successfully joined the group!"),w()}catch(M){console.error("Error joining group:",M),q.error("Failed to join group")}},k=async S=>{if(t)try{const{data:M}=await D.from("event_attendees").select("id").eq("user_id",t.id).eq("event_id",S).maybeSingle();if(M){q.error("You are already attending this event");return}const{error:T}=await D.from("event_attendees").insert({user_id:t.id,event_id:S});if(T)throw T;q.success("Successfully RSVP'd to the event!"),w()}catch(M){console.error("Error joining event:",M),q.error("Failed to join event")}},[_,j]=h.useState([{id:"1",name:"Tech Enthusiasts",member_count:1200,banner_url:"https://source.unsplash.com/800x600/?technology",description:"A community for tech lovers and innovators"},{id:"2",name:"Photography Club",member_count:850,banner_url:"https://source.unsplash.com/800x600/?photography",description:"Share your best shots and photography tips"},{id:"3",name:"World Travelers",member_count:3200,banner_url:"https://source.unsplash.com/800x600/?travel",description:"Explore the world together"}]),[E,N]=h.useState([{id:"1",title:"Tech Conference 2025",start_date:"2025-03-15",banner_url:"https://source.unsplash.com/800x600/?conference",attendee_count:450,location:"San Francisco, CA",description:"The biggest tech conference of the year"},{id:"2",name:"Photography Workshop",start_date:"2025-03-20",banner_url:"https://source.unsplash.com/800x600/?workshop",attendee_count:120,location:"New York, NY",description:"Learn portrait photography from experts"},{id:"3",title:"Music Festival",start_date:"2025-04-01",banner_url:"https://source.unsplash.com/800x600/?festival",attendee_count:2e3,location:"Austin, TX",description:"Three days of amazing live music"}]),[F,C]=h.useState([{id:"1",full_name:"John Smith",headline:"Software Engineer",avatar_url:"https://i.pravatar.cc/150?img=1",location:"San Francisco, CA"},{id:"2",full_name:"Emma Wilson",headline:"Photographer",avatar_url:"https://i.pravatar.cc/150?img=5",location:"New York, NY"},{id:"3",full_name:"Michael Chen",headline:"UX Designer",avatar_url:"https://i.pravatar.cc/150?img=3",location:"Seattle, WA"}]),I=async()=>{if(t){u(!0);try{const{data:S}=await D.from("group_members").select("group_id, groups(*)").eq("user_id",t.id);g((S==null?void 0:S.map(T=>({group_id:T.group_id,groups:T.groups})))||[]);const{data:M}=await D.from("event_attendees").select("event_id, events(*)").eq("user_id",t.id);v((M==null?void 0:M.map(T=>({event_id:T.event_id,events:T.events})))||[])}catch(S){console.error("Error fetching joined data:",S)}finally{u(!1)}}},P=()=>{if(c)return i.jsx("div",{className:"flex justify-center items-center py-20",children:i.jsx(Ee,{size:"lg"})});switch(r){case"trending":return O();case"groups":return A();case"event":return $();case"people":return L();default:return z()}},O=()=>i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:M9.map(S=>i.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-shadow border border-gray-200 dark:border-gray-600",children:[i.jsxs("div",{className:"relative h-48 bg-gradient-to-br from-rose-400 to-red-500 flex justify-center items-center",children:[i.jsx("span",{className:"text-8xl",role:"img","aria-label":S.name,children:S.emoji}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex items-end",children:i.jsxs("div",{className:"p-4 text-white",children:[i.jsxs("h3",{className:"text-lg font-semibold",children:["#",S.name]}),i.jsxs("p",{className:"text-sm text-white/80",children:[S.posts," ",a.posts||ut.posts]})]})})]}),i.jsx("div",{className:"p-4",children:i.jsxs(be,{to:`/search?tag=${encodeURIComponent(S.name)}`,className:A9,children:[i.jsx(hx,{className:"mr-2"}),a.exploreMore||ut.exploreMore]})})]},S.id))}),A=()=>i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:_.map(S=>i.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-lg shadow-md overflow-hidden border border-gray-200 dark:border-gray-600 flex flex-col",children:[i.jsx("div",{className:"h-32 bg-gradient-to-br from-rose-400 to-red-500 flex justify-center items-center",children:i.jsx("span",{className:"text-6xl",role:"img","aria-label":S.name,children:R9[S.name.toLowerCase()]||""})}),i.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1 truncate",children:S.name}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-300 mb-3 line-clamp-2 flex-grow",children:S.description||a.noDescription}),i.jsxs("div",{className:"flex justify-between items-center mt-auto pt-3 border-t border-gray-100 dark:border-gray-600",children:[i.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[S.member_count||0," ",a.members]}),i.jsx("button",{onClick:()=>b(S.id),className:"px-4 py-1.5 text-xs font-medium text-white bg-gradient-to-r from-rose-500 to-red-500 rounded-full hover:from-rose-600 hover:to-red-600 transition-colors",children:a.joinGroup})]})]})]},S.id))}),$=()=>i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:E.map(S=>{const M=()=>{if(!S.title)return"";const T=S.title.toLowerCase();return T.includes("music")?"":T.includes("tech")?"":T.includes("photo")?"":""};return i.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-lg shadow-md overflow-hidden border border-gray-200 dark:border-gray-600 flex flex-col",children:[i.jsx("div",{className:"h-32 bg-gradient-to-br from-rose-400 to-red-500 flex justify-center items-center",children:i.jsx("span",{className:"text-6xl",role:"img","aria-label":S.title||"Event",children:M()})}),i.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1 truncate",children:S.title||"Event"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-300 mb-3 line-clamp-2 flex-grow",children:S.description||a.noDescription}),i.jsxs("div",{className:"flex justify-between items-center mt-auto pt-3 border-t border-gray-100 dark:border-gray-600",children:[i.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[new Date(S.start_date).toLocaleDateString()," ",a.eventDate]}),i.jsx("button",{onClick:()=>k(S.id),className:"px-4 py-1.5 text-xs font-medium text-white bg-gradient-to-r from-rose-500 to-red-500 rounded-full hover:from-rose-600 hover:to-red-600 transition-colors",children:a.joinEvent})]})]})]},S.id)})}),L=()=>i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:F.map(S=>i.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-shadow p-4 border border-gray-200 dark:border-gray-600 flex flex-col",children:[i.jsxs("div",{className:"flex flex-col items-center text-center mb-4 flex-grow",children:[i.jsx("div",{className:"mb-3",children:i.jsx(oi,{src:S.avatar_url,name:S.full_name,size:"lg"})}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:S.full_name}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-300",children:S.headline}),S.location&&i.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-400 mt-1 flex items-center",children:[i.jsx(Ts,{className:"mr-1",size:12}),S.location]})]}),i.jsxs("div",{className:"flex flex-col gap-2 mt-auto pt-3 border-t border-gray-100 dark:border-gray-600",children:[(!d[S.id]||d[S.id]==="none")&&i.jsxs("button",{onClick:()=>y(S.id),className:"w-full py-1.5 text-sm font-medium text-white bg-gradient-to-r from-rose-500 to-red-500 rounded-full hover:from-rose-600 hover:to-red-600 transition-colors flex items-center justify-center",children:[i.jsx(ln,{className:"mr-1"}),a.addFriend||ut.addFriend]}),d[S.id]==="pending"&&i.jsx("button",{disabled:!0,className:"w-full py-1.5 text-sm font-medium text-gray-500 dark:text-gray-400 rounded-full font-medium flex items-center justify-center",children:a.requestPending||ut.requestPending}),d[S.id]==="accepted"&&i.jsx("button",{disabled:!0,className:"w-full py-1.5 text-sm font-medium text-green-700 dark:text-green-400 rounded-full font-medium flex items-center justify-center",children:a.alreadyFriend||ut.alreadyFriend}),i.jsxs(be,{to:`/profile/${S.id}`,className:"w-full py-1.5 text-sm font-medium border border-gray-300 dark:border-gray-500 text-gray-600 dark:text-gray-300 rounded-full hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors flex items-center justify-center",children:[i.jsx(Nr,{className:"mr-1"}),a.viewProfile||ut.viewProfile]})]})]},S.id))}),z=()=>i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[m.map(S=>i.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-shadow border border-gray-200 dark:border-gray-600",children:[i.jsxs("div",{className:"relative h-48 bg-gradient-to-br from-rose-400 to-red-500",children:[i.jsx("img",{src:S.groups.banner_url||`https://source.unsplash.com/800x600/?${encodeURIComponent(S.groups.name)}`,alt:S.groups.name,className:"w-full h-full object-cover"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent",children:i.jsxs("div",{className:"absolute top-3 right-3 bg-blue-600/90 text-white text-xs px-2 py-1 rounded-full",children:[i.jsx(ti,{className:"inline mr-1"}),S.groups.member_count]})})]}),i.jsxs("div",{className:"p-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:S.groups.name}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-300 mb-4 line-clamp-2",children:S.groups.description}),i.jsx(be,{to:`/groups/${S.group_id}`,className:"text-rose-600 dark:text-rose-400 text-sm font-medium hover:underline",children:a.about||ut.about})]})]},S.group_id)),x.map(S=>i.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-shadow border border-gray-200 dark:border-gray-600",children:[i.jsxs("div",{className:"relative h-48 bg-gradient-to-br from-rose-400 to-red-500",children:[i.jsx("img",{src:S.events.banner_url||`https://source.unsplash.com/800x600/?${encodeURIComponent(S.events.title||"event")}`,alt:S.events.title,className:"w-full h-full object-cover"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent",children:i.jsxs("div",{className:"absolute bottom-3 left-3 text-white",children:[i.jsxs("div",{className:"text-xs bg-white/20 backdrop-blur-sm px-2 py-1 rounded-full mb-1",children:[i.jsx(ei,{className:"inline mr-1"}),new Date(S.events.start_date).toLocaleDateString()]}),S.events.location&&i.jsxs("div",{className:"text-xs bg-white/20 backdrop-blur-sm px-2 py-1 rounded-full",children:[i.jsx(Ts,{className:"inline mr-1"}),S.events.location]})]})})]}),i.jsxs("div",{className:"p-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:S.events.title}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-300 mb-4 line-clamp-2",children:S.events.description}),i.jsx(be,{to:`/events/${S.event_id}`,className:"text-rose-600 dark:text-rose-400 text-sm font-medium hover:underline",children:a.about||ut.about})]})]},S.event_id))]});return i.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8 dark:bg-neutral-800 min-h-full",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:a.discover||ut.discover}),i.jsxs("div",{className:"relative mb-6",children:[i.jsx("input",{type:"text",placeholder:a.searchPlaceholder||ut.searchPlaceholder,value:s,onChange:S=>o(S.target.value),className:"w-full pl-12 pr-4 py-3 rounded-lg bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-rose-500 focus:border-transparent dark:text-white"}),i.jsx(a_,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500"})]}),i.jsxs("div",{className:"flex space-x-4 overflow-x-auto pb-4",children:[i.jsxs("button",{onClick:()=>n("trending"),className:`flex items-center px-6 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors ${r==="trending"?"bg-gradient-to-r from-rose-600 to-red-600 text-white shadow-md":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600 shadow-sm"}`,children:[i.jsx(hx,{className:"w-4 h-4 mr-2"}),a.trending||ut.trending]}),i.jsxs("button",{onClick:()=>n("groups"),className:`flex items-center px-6 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors ${r==="groups"?"bg-gradient-to-r from-rose-600 to-red-600 text-white shadow-md":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600 shadow-sm"}`,children:[i.jsx(ti,{className:"w-4 h-4 mr-2"}),a.groups||ut.groups]}),i.jsxs("button",{onClick:()=>n("event"),className:`flex items-center px-6 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors ${r==="event"?"bg-gradient-to-r from-rose-600 to-red-600 text-white shadow-md":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600 shadow-sm"}`,children:[i.jsx(ei,{className:"w-4 h-4 mr-2"}),a.events||ut.events]}),i.jsxs("button",{onClick:()=>n("people"),className:`flex items-center px-6 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors ${r==="people"?"bg-gradient-to-r from-rose-600 to-red-600 text-white shadow-md":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600 shadow-sm"}`,children:[i.jsx(Nr,{className:"w-4 h-4 mr-2"}),a.people||ut.people]})]})]}),i.jsx("div",{className:"pb-8",children:P()})]})},ec=[{id:"mock-user-1",username:"johndoe",full_name:"John Doe",avatar_url:"https://i.pravatar.cc/150?img=1",connection_status:"accepted"},{id:"mock-user-2",username:"janedoe",full_name:"Jane Doe",avatar_url:"https://i.pravatar.cc/150?img=5",connection_status:"accepted"},{id:"mock-user-3",username:"bobsmith",full_name:"Bob Smith",avatar_url:"https://i.pravatar.cc/150?img=3",connection_status:"pending",is_requester:!1},{id:"mock-user-4",username:"alicejones",full_name:"Alice Jones",avatar_url:"https://i.pravatar.cc/150?img=9",connection_status:"none",mutual_friends_count:2},{id:"mock-user-5",username:"sarahwilliams",full_name:"Sarah Williams",avatar_url:"https://i.pravatar.cc/150?img=10",connection_status:"none",mutual_friends_count:1},{id:"mock-user-6",username:"mikedavis",full_name:"Mike Davis",avatar_url:"https://i.pravatar.cc/150?img=7",connection_status:"pending",is_requester:!0}],L9=()=>{const{user:e}=it(),t=st(),{t:r}=Rr(),[n,s]=h.useState([]),[o,a]=h.useState([]),[l,c]=h.useState([]),[u,d]=h.useState([]),[f,m]=h.useState("friends"),[g,x]=h.useState(!0),[v,w]=h.useState(null),[p,y]=h.useState(!1),b=h.useCallback(async()=>{if(e){if(console.log("loadConnections: Starting connection fetch..."),x(!0),w(null),p){console.log("loadConnections: Using MOCK data."),s(ec.filter(T=>T.connection_status==="accepted")),c(ec.filter(T=>T.connection_status==="pending"&&!T.is_requester)),a(ec.filter(T=>T.connection_status==="pending"&&T.is_requester)),d(ec.filter(T=>T.connection_status==="none")),x(!1);return}console.log("loadConnections: Fetching REAL data for user:",e.id);try{const{data:T,error:B}=await D.from("user_connections").select("id, user_id, friend_id, status, created_at, updated_at").or(`user_id.eq.${e.id},friend_id.eq.${e.id}`);if(B)throw console.error("loadConnections: Error fetching connections",B),B;if(console.log("loadConnections: Fetched raw connections",T),!T||T.length===0)console.log("loadConnections: No connections found."),s([]),c([]),a([]);else{const R=new Set,G=[],X=new Map,H=new Map;if(T.forEach(Y=>{const K=Y.user_id===e.id?Y.friend_id:Y.user_id;R.add(K),Y.status==="accepted"?G.push(Y):Y.status==="pending"&&(Y.user_id===e.id?H.set(K,Y):X.set(K,Y))}),console.log("Friend IDs to fetch profiles for:",Array.from(R)),R.size>0){const{data:Y,error:K}=await D.from("profiles").select("id, full_name, avatar_url, headline").in("id",Array.from(R));if(K)throw console.error("loadConnections: Error fetching profiles",K),K;console.log("Fetched profiles:",Y);const U=new Map;(Y||[]).forEach(ue=>U.set(ue.id,ue));const J=G.map(ue=>{const Ve=ue.user_id===e.id?ue.friend_id:ue.user_id,Se=U.get(Ve);return Se?{...Se,connection_id:ue.id,connection_status:"accepted"}:null}).filter(ue=>ue!==null),ne=Array.from(X.entries()).map(([ue,Ve])=>{const Se=U.get(ue);return Se?{...Se,connection_id:Ve.id,connection_status:"pending",is_requester:!1}:null}).filter(ue=>ue!==null),ae=Array.from(H.entries()).map(([ue,Ve])=>{const Se=U.get(ue);return Se?{...Se,connection_id:Ve.id,connection_status:"pending",is_requester:!0}:null}).filter(ue=>ue!==null);s(J),c(ne),a(ae),console.log("Processed Friends:",J),console.log("Processed Incoming:",ne),console.log("Processed Outgoing:",ae)}else s([]),c([]),a([])}const V=new Set([e.id]);T==null||T.forEach(R=>{V.add(R.user_id===e.id?R.friend_id:R.user_id)});const re=Array.from(V);console.log("loadConnections: Fetching suggestions, excluding IDs:",re);let se=D.from("profiles").select("id, full_name, avatar_url, headline");re.length>0&&(se=se.not("id","in",`(${re.join(",")})`));const{data:fe,error:oe}=await se.limit(10);if(oe)console.error("loadConnections: Error fetching suggestions",oe),q.error("Could not load friend suggestions."),d([]);else{const R=(fe||[]).map(G=>({...G,connection_status:void 0,mutual_friends_count:Math.floor(Math.random()*5)}));console.log("loadConnections: Processed suggestions",R),d(R)}}catch(T){w(T.message||"Failed to load connections"),console.error("loadConnections: CATCH BLOCK - Error loading connections:",T)}finally{console.log("loadConnections: Fetch finished."),x(!1)}}},[e,p]);h.useEffect(()=>{console.log("FriendsPage useEffect triggered. User:",e==null?void 0:e.id,"UseMockData:",p),b()},[b]);const k=async T=>{if(!(!e||!T.connection_id)){console.log("handleAcceptRequest: Attempting for connection ID:",T.connection_id);try{if(p){console.log("handleAcceptRequest: Using MOCK accept."),c(V=>V.filter(re=>re.connection_id!==T.connection_id)),s(V=>[...V,{...T,connection_status:"accepted"}]),q.success("Friend request accepted! (Mock)");return}const{error:B}=await D.from("user_connections").update({status:"accepted"}).eq("id",T.connection_id).eq("friend_id",e.id);if(B)throw console.error("handleAcceptRequest: Error updating connection:",B),B;console.log(`handleAcceptRequest: Connection ${T.connection_id} updated.`),await yu(T.id,"friend_accepted",e.id),q.success("Friend request accepted!"),b()}catch(B){console.error("handleAcceptRequest: CATCH BLOCK - Error:",B),q.error("Failed to accept request")}}},_=async T=>{if(!(!e||!T.connection_id)){console.log("handleRejectRequest: Attempting for connection ID:",T.connection_id);try{if(p){console.log("handleRejectRequest: Using MOCK reject."),c(V=>V.filter(re=>re.connection_id!==T.connection_id)),d(V=>[...V,{...T,connection_status:"none"}]),q.success("Friend request rejected (Mock)");return}const{error:B}=await D.from("user_connections").delete().eq("id",T.connection_id).eq("friend_id",e.id);if(B)throw console.error("handleRejectRequest: Error deleting connection:",B),B;console.log(`handleRejectRequest: Connection ${T.connection_id} deleted.`),q.success("Friend request rejected"),b()}catch(B){console.error("handleRejectRequest: CATCH BLOCK - Error:",B),q.error("Failed to reject request")}}},j=async T=>{if(!e||e.id===T){q.error("Cannot send request to yourself.");return}if(console.log("handleSendRequest: Attempting to send to profile ID:",T),p){console.log("handleSendRequest: Using MOCK send.");const B=u.find(V=>V.id===T);B&&(d(V=>V.filter(re=>re.id!==T)),a(V=>[...V,{...B,connection_status:"pending",is_requester:!0}]),q.success("Friend request sent! (Mock)"));return}try{const{data:B,error:V}=await D.from("user_connections").select("id, status").or(`and(user_id.eq.${e.id},friend_id.eq.${T}),and(user_id.eq.${T},friend_id.eq.${e.id})`).in("status",["pending","accepted"]).maybeSingle();if(V&&console.error("handleSendRequest: Error checking existing connection:",V),B){B.status==="accepted"?q("You are already friends."):q("A friend request is already pending.");return}const{data:re,error:se}=await D.from("user_connections").insert({user_id:e.id,friend_id:T,status:"pending"}).select("id").single();if(se||!re)throw console.error("handleSendRequest: Error inserting connection:",se),se||new Error("Failed to create connection.");console.log("handleSendRequest: Connection inserted with ID:",re.id),await yu(T,"friend_request",e.id),q.success("Friend request sent!"),b()}catch(B){console.error("handleSendRequest: CATCH BLOCK - Error:",B),q.error(`Failed to send request: ${B.message||"Please try again."}`)}},E=async T=>{if(!(!e||!T.connection_id)){console.log("handleCancelRequest: Attempting for connection ID:",T.connection_id);try{if(p){console.log("handleCancelRequest: Using MOCK cancel."),a(V=>V.filter(re=>re.connection_id!==T.connection_id)),d(V=>[...V,{...T,connection_status:"none"}]),q.success("Friend request cancelled (Mock)");return}const{error:B}=await D.from("user_connections").delete().eq("id",T.connection_id).eq("user_id",e.id).eq("status","pending");if(B){console.error("handleCancelRequest: Error deleting connection:",B),q.error("Failed to cancel friend request");return}console.log(`handleCancelRequest: Connection ${T.connection_id} deleted.`),q.success("Friend request cancelled"),b()}catch(B){console.error("handleCancelRequest: CATCH BLOCK - Error:",B),q.error("Failed to cancel friend request")}}},N=async T=>{if(!(!e||!T.connection_id)&&(console.log("handleUnjoinFriend: Attempting for connection ID:",T.connection_id),!!window.confirm(`Are you sure you want to remove ${T.full_name} as a friend?`)))try{if(p){console.log("handleUnjoinFriend: Using MOCK unfriend."),s(V=>V.filter(re=>re.connection_id!==T.connection_id)),d(V=>[...V,{...T,connection_status:"none"}]),q.success("Friend removed (Mock)");return}const{error:B}=await D.from("user_connections").delete().eq("id",T.connection_id).or(`user_id.eq.${e.id},friend_id.eq.${e.id}`).eq("status","accepted");if(B){console.error("handleUnjoinFriend: Error deleting connection:",B),q.error("Failed to remove friend");return}console.log(`handleUnjoinFriend: Connection ${T.connection_id} deleted.`),q.success("Friend removed successfully"),b()}catch(B){console.error("handleUnjoinFriend: CATCH BLOCK - Error:",B),q.error("Failed to remove friend")}},F=T=>{T&&(console.log("Navigating to chat with user:",T),t(`/messages/${T}`))},C=T=>{T&&(console.log("Navigating to profile:",T),t(`/profile/${T}`))},I=(T,B)=>{const V=Math.random()>.6,re=Math.random()>.3;return i.jsxs(fr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"flex flex-col sm:flex-row items-center justify-between bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm hover:shadow-md transition-shadow duration-200 border border-gray-200 dark:border-gray-700 mb-3 group",children:[i.jsxs("div",{className:"flex items-center mb-3 sm:mb-0 w-full sm:w-auto text-center sm:text-left cursor-pointer",onClick:()=>C(T.id),children:[i.jsxs("div",{className:"relative mr-4",children:[i.jsx("div",{className:"h-16 w-16 rounded-full overflow-hidden bg-gray-100 dark:bg-gray-700",children:T.avatar_url?i.jsx("img",{src:T.avatar_url,alt:T.full_name,className:"h-full w-full object-cover"}):i.jsx("div",{className:"h-full w-full flex items-center justify-center bg-gradient-to-br from-indigo-400 to-purple-500 text-white text-xl font-semibold",children:T.full_name.charAt(0).toUpperCase()})}),i.jsx("div",{className:`absolute bottom-0 right-0 h-4 w-4 rounded-full border-2 border-white dark:border-gray-800 ${V?"bg-green-500":re?"bg-yellow-400":"bg-gray-400"}`})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors",children:T.full_name}),T.headline&&i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:T.headline}),!T.headline&&i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:V?"Online now":re?"Recently active":"Offline"}),B==="suggestion"&&T.mutual_friends_count&&T.mutual_friends_count>0&&i.jsxs("span",{className:"text-xs mt-1 text-indigo-600 dark:text-indigo-400 flex items-center",children:[i.jsx(ff,{className:"mr-1",size:12}),T.mutual_friends_count," mutual ",T.mutual_friends_count===1?"friend":"friends"]})]})]}),i.jsxs("div",{className:"flex gap-2 w-full sm:w-auto justify-center sm:justify-end mt-3 sm:mt-0",children:[B==="friend"&&i.jsxs(i.Fragment,{children:[i.jsxs("button",{onClick:()=>F(T.id),className:"px-3 py-2 bg-indigo-50 hover:bg-indigo-100 dark:bg-indigo-900/30 dark:hover:bg-indigo-800/50 text-indigo-600 dark:text-indigo-400 rounded-lg text-sm font-medium transition duration-150 flex items-center",children:[i.jsx(Zo,{className:"mr-1.5",size:16}),r("buttons.message")||"Message"]}),i.jsxs("div",{className:"relative group",children:[i.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-white rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",children:i.jsx(sd,{size:18})}),i.jsx("div",{className:"absolute right-0 mt-1 w-40 bg-white dark:bg-gray-800 rounded-md shadow-lg py-1 hidden group-hover:block z-10 border border-gray-200 dark:border-gray-700",children:i.jsxs("button",{onClick:()=>N(T),className:"block w-full text-left px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20",children:[i.jsx(e_,{className:"inline mr-2"})," ",r("buttons.remove")||"Remove Friend"]})})]})]}),B==="incoming"&&i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{onClick:()=>k(T),className:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg transition-colors",children:r("friends.buttons.accept")||"Accept"}),i.jsx("button",{onClick:()=>_(T),className:"px-4 py-2 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-lg transition-colors",children:r("friends.buttons.decline")||"Decline"})]}),B==="outgoing"&&i.jsx("div",{className:"flex space-x-2",children:i.jsx("button",{onClick:()=>E(T),className:"px-4 py-2 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-lg transition-colors",children:r("friends.buttons.cancel")||"Cancel Request"})}),B==="suggestion"&&i.jsx("div",{className:"flex space-x-2",children:i.jsxs("button",{onClick:()=>j(T.id),className:"px-4 py-2 bg-indigo-500 hover:bg-indigo-600 text-white rounded-lg transition-colors",children:[i.jsx(Fn,{className:"inline mr-1"})," Connect"]})})]})]},T.id)},[P,O]=h.useState(!1),[A,$]=h.useState([]),[L,z]=h.useState(""),S=async()=>{if(A.length<1){q.error("Please select at least 1 friend to create a group");return}if(!L.trim()){q.error("Please enter a group name");return}e&&(console.log("Creating group:",L,"with members:",[e.id,...A]),q.success(`Group "${L}" creation initiated (DB logic needed)`),$([]),z(""),O(!1))},M=T=>{$(B=>B.includes(T)?B.filter(V=>V!==T):[...B,T])};return g?i.jsx("div",{className:"flex justify-center items-center h-screen bg-gray-50 dark:bg-gray-900",children:i.jsx(Ee,{size:"lg"})}):v&&!p?i.jsx(si,{message:v}):i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 md:py-12",children:[i.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8",children:[i.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center mb-4 md:mb-0",children:[i.jsx(We,{className:"mr-3 h-8 w-8 text-indigo-500"})," ",r("friends.title")||"Connections"]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[n.length>0&&i.jsxs("button",{onClick:()=>O(!0),className:"flex items-center px-4 py-2 rounded-full bg-gradient-to-r from-indigo-500 to-purple-500 hover:from-indigo-600 hover:to-purple-600 text-white shadow-sm hover:shadow-md transition-all text-sm font-medium",children:[i.jsx(We,{className:"mr-2"})," ",r("friends.buttons.createGroup")||"Create Group"]}),i.jsx("button",{onClick:()=>y(T=>!T),className:`px-3 py-1 rounded-full text-xs font-medium ${p?"bg-yellow-100 text-yellow-800 hover:bg-yellow-200":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:p?"Using Mock Data":"Using Real Data"})]})]}),i.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 mb-6",children:[i.jsx("button",{onClick:()=>m("friends"),className:`py-4 px-6 font-medium text-base focus:outline-none transition-colors duration-150 ${f==="friends"?"text-indigo-600 border-b-2 border-indigo-600 font-semibold":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300 border-b-2 border-transparent hover:border-gray-300 dark:hover:border-gray-600"}`,children:i.jsxs("span",{className:"flex items-center",children:[i.jsx(ff,{className:"mr-2"}),r("friends.tabs.friends")||"Friends",i.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs rounded-full bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200",children:n.length})]})}),i.jsx("button",{onClick:()=>m("requests"),className:`py-4 px-6 font-medium text-base focus:outline-none transition-colors duration-150 ${f==="requests"?"text-indigo-600 border-b-2 border-indigo-600 font-semibold":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300 border-b-2 border-transparent hover:border-gray-300 dark:hover:border-gray-600"}`,children:i.jsxs("span",{className:"flex items-center",children:[i.jsx(ru,{className:"mr-2"}),r("friends.tabs.requests")||"Requests",l.length+o.length>0&&i.jsx("span",{className:`ml-2 px-2 py-0.5 text-xs rounded-full ${l.length>0?"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200":"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200"}`,children:l.length+o.length})]})}),i.jsx("button",{onClick:()=>m("suggestions"),className:`py-4 px-6 font-medium text-base focus:outline-none transition-colors duration-150 ${f==="suggestions"?"text-indigo-600 border-b-2 border-indigo-600 font-semibold":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300 border-b-2 border-transparent hover:border-gray-300 dark:hover:border-gray-600"}`,children:i.jsxs("span",{className:"flex items-center",children:[i.jsx(Fn,{className:"mr-2"}),r("friends.tabs.people")||"Suggestions",u.length>0&&i.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs rounded-full bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200",children:u.length})]})})]}),i.jsxs("div",{children:[f==="friends"&&i.jsx("div",{children:n.length===0?i.jsxs("div",{className:"text-center py-12 bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[i.jsx($a,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:r("friends.no_friends_message")||"You haven't connected with anyone yet."}),i.jsx("button",{onClick:()=>m("suggestions"),className:"mt-4 px-5 py-2 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600 transition-colors text-sm font-medium",children:r("friends.buttons.findPeople")||"Find People"})]}):i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[" ",n.map(T=>I(T,"friend"))]})}),f==="requests"&&i.jsxs("div",{children:[l.length>0&&i.jsxs("div",{className:"mb-8",children:[i.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-4 border-b pb-2 border-gray-200 dark:border-gray-700",children:[r("friends.incoming_requests")||"Incoming Requests"," (",l.length,")"]}),i.jsx("div",{className:"space-y-3",children:l.map(T=>I(T,"incoming"))})]}),o.length>0&&i.jsxs("div",{className:"mb-8",children:[i.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-4 border-b pb-2 border-gray-200 dark:border-gray-700",children:[r("friends.sent_requests")||"Sent Requests"," (",o.length,")"]}),i.jsx("div",{className:"space-y-3",children:o.map(T=>I(T,"outgoing"))})]}),l.length===0&&o.length===0&&i.jsxs("div",{className:"text-center py-12 bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[i.jsx(ff,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:r("friends.no_pending_requests")||"No pending friend requests"})]})]}),f==="suggestions"&&i.jsx("div",{children:u.length===0?i.jsxs("div",{className:"text-center py-12 bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[i.jsx(OT,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No suggestions available right now. Check back later!"})]}):i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[" ",u.map(T=>I(T,"suggestion"))]})})]}),P&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:i.jsxs(fr.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-lg w-full max-h-[90vh] overflow-hidden flex flex-col",children:[i.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Create New Group"}),i.jsx("button",{onClick:()=>O(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:i.jsx(cn,{size:20})})]}),i.jsxs("div",{className:"p-6 flex-1 overflow-y-auto",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Group Name"}),i.jsx("input",{type:"text",value:L,onChange:T=>z(T.target.value),placeholder:"Enter group name...",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Select Friends (",A.length," selected)"]}),i.jsx("div",{className:"max-h-64 overflow-y-auto rounded-lg border border-gray-200 dark:border-gray-700 divide-y divide-gray-200 dark:divide-gray-700",children:n.map(T=>i.jsxs("div",{className:`flex items-center p-3 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50 ${A.includes(T.id)?"bg-indigo-50 dark:bg-indigo-900/30":""}`,onClick:()=>M(T.id),children:[i.jsx("input",{type:"checkbox",checked:A.includes(T.id),readOnly:!0,className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 rounded border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"}),i.jsxs("div",{className:"ml-3 flex items-center",children:[i.jsx("div",{className:"h-10 w-10 rounded-full overflow-hidden bg-gray-100 dark:bg-gray-700 mr-3",children:T.avatar_url?i.jsx("img",{src:T.avatar_url,alt:T.full_name,className:"h-full w-full object-cover"}):i.jsx("div",{className:"h-full w-full flex items-center justify-center bg-gradient-to-br from-indigo-400 to-purple-500 text-white text-lg",children:T.full_name.charAt(0).toUpperCase()})}),i.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:T.full_name})]})]},T.id))})]})]}),i.jsxs("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700 flex justify-end space-x-3 bg-gray-50 dark:bg-gray-800/50",children:[i.jsx("button",{onClick:()=>O(!1),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 text-sm font-medium",children:"Cancel"}),i.jsx("button",{onClick:S,className:"px-4 py-2 bg-gradient-to-r from-indigo-500 to-purple-500 hover:from-indigo-600 hover:to-purple-600 text-white rounded-lg text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed",disabled:A.length<1||!L.trim(),children:"Create Group"})]})]})})]})})},O9=()=>{const{t:e}=ot(),{user:t}=it(),[r,n]=h.useState("groups"),[s,o]=h.useState(!0),[a,l]=h.useState([]),[c,u]=h.useState([]);h.useEffect(()=>{t&&d()},[t,r]);const d=async()=>{if(t){o(!0);try{if(r==="groups"){const{data:y,error:b}=await D.from("group_members").select("group_id, groups(*)").eq("user_id",t.id).eq("is_favorite",!0);if(b)throw b;const k=(y==null?void 0:y.map(_=>({id:_.groups.id,name:_.groups.name,members:_.groups.member_count||0,lastActive:_.groups.last_activity||new Date().toISOString(),image:_.groups.banner_url||`https://source.unsplash.com/800x600/?${_.groups.name.toLowerCase().replace(/ /g,"-")}`,description:_.groups.description||""})))||[];l(k)}else{const{data:y,error:b}=await D.from("user_connections").select("friend_id, profiles:friend_id(*)").eq("user_id",t.id).eq("status","accepted").eq("is_favorite",!0);if(b)throw b;const k=(y==null?void 0:y.map(_=>({id:_.friend_id,name:_.profiles.full_name,role:_.profiles.headline||e("favorites.noHeadline")||"No headline",avatar:_.profiles.avatar_url||""})))||[];u(k)}}catch(y){console.error("Error fetching favorites:",y)}finally{o(!1)}}},f=async(y,b)=>{if(t)try{if(b==="group"){const{error:k}=await D.from("group_members").update({is_favorite:!1}).eq("user_id",t.id).eq("group_id",y);if(k)throw k;l(_=>_.filter(j=>j.id!==y))}else{const{error:k}=await D.from("user_connections").update({is_favorite:!1}).eq("user_id",t.id).eq("friend_id",y);if(k)throw k;u(_=>_.filter(j=>j.id!==y))}}catch(k){console.error("Error updating favorite status:",k)}},m=e("favorites.noHeadline")||"No headline",g=[{id:"1",name:e("favorites.tabs.groups")||"Groups",members:1250,lastActive:new Date(Date.now()-2*60*60*1e3).toISOString(),image:"https://source.unsplash.com/800x600/?photography",description:e("favorites.tabs.groups")||"Groups"},{id:"2",name:e("favorites.tabs.groups")||"Groups",members:3420,lastActive:new Date(Date.now()-1*60*60*1e3).toISOString(),image:"https://source.unsplash.com/800x600/?technology",description:e("favorites.tabs.groups")||"Groups"},{id:"3",name:e("favorites.tabs.groups")||"Groups",members:2150,lastActive:new Date(Date.now()-30*60*1e3).toISOString(),image:"https://source.unsplash.com/800x600/?travel",description:e("favorites.tabs.groups")||"Groups"}],x=[{id:"1",name:e("favorites.tabs.connections")||"Connections",role:m,avatar:"https://i.pravatar.cc/150?img=4"},{id:"2",name:e("favorites.tabs.connections")||"Connections",role:m,avatar:"https://i.pravatar.cc/150?img=5"},{id:"3",name:e("favorites.tabs.connections")||"Connections",role:m,avatar:"https://i.pravatar.cc/150?img=6"}],v=a.length>0?a:g,w=c.length>0?c:x,p=y=>{const b=new Date(y),_=new Date().getTime()-b.getTime(),j=Math.floor(_/6e4);if(j<60)return`${j}m ago`;const E=Math.floor(j/60);return E<24?`${E}h ago`:`${Math.floor(E/24)}d ago`};return i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 md:py-12",children:[i.jsxs("h1",{className:"text-3xl font-bold mb-8 text-gray-900 dark:text-white flex items-center",children:[i.jsx(HT,{className:"mr-3 h-6 w-6"})," ",e("favorites.title")||"Favorites"]}),i.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 mb-8",children:[i.jsx("button",{onClick:()=>n("groups"),className:`py-4 px-6 font-medium text-base focus:outline-none ${r==="groups"?"text-indigo-600 border-b-2 border-indigo-600 font-semibold":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,children:i.jsxs("span",{className:"flex items-center",children:[i.jsx(We,{className:"mr-2"}),e("favorites.tabs.groups")||"Groups"]})}),i.jsx("button",{onClick:()=>n("connections"),className:`py-4 px-6 font-medium text-base focus:outline-none ${r==="connections"?"text-indigo-600 border-b-2 border-indigo-600 font-semibold":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,children:i.jsxs("span",{className:"flex items-center",children:[i.jsx(Nr,{className:"mr-2"}),e("favorites.tabs.connections")||"Connections"]})})]}),s?i.jsx("div",{className:"flex justify-center items-center py-12",children:i.jsx(Ee,{size:"lg"})}):r==="groups"?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:v.map(y=>i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm hover:shadow-md transition-shadow duration-200 overflow-hidden group border border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:y.image,alt:y.name,className:"w-full h-48 object-cover"}),i.jsx("button",{onClick:()=>f(y.id,"group"),className:"absolute top-3 right-3 bg-white dark:bg-gray-800 p-2 rounded-full shadow-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":e("favorites.buttons.remove")||"Remove from Favorites",children:i.jsx($a,{className:"h-5 w-5 text-red-500"})})]}),i.jsxs("div",{className:"p-5",children:[i.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-900 dark:text-white",children:y.name}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4",children:y.description}),i.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-500 dark:text-gray-400",children:[i.jsxs("span",{className:"flex items-center",children:[i.jsx(We,{className:"mr-1"})," ",y.members," ",e("groups.members")||"members"]}),i.jsxs("span",{className:"flex items-center",children:[i.jsx(ru,{className:"mr-1"})," ",p(y.lastActive)]})]})]}),i.jsx("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-4 border-t border-gray-200 dark:border-gray-700",children:i.jsx(be,{to:`/groups/${y.id}`,className:"w-full block text-center py-2 px-4 bg-gradient-to-r from-indigo-500 to-purple-500 hover:from-indigo-600 hover:to-purple-600 text-white font-medium rounded-full hover:shadow transition-all",children:e("favorites.buttons.viewGroup")||"View Group"})})]},y.id))}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:w.map(y=>i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm hover:shadow-md transition-shadow duration-200 overflow-hidden flex flex-col group border border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{className:"p-6 flex flex-col items-center text-center flex-grow",children:[i.jsxs("div",{className:"relative mb-4",children:[i.jsx(oi,{src:y.avatar,name:y.name,size:"lg"}),i.jsx("button",{onClick:()=>f(y.id,"connection"),className:"absolute -top-2 -right-2 bg-white dark:bg-gray-800 p-2 rounded-full shadow-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":e("favorites.buttons.remove")||"Remove from Favorites",children:i.jsx($a,{className:"h-4 w-4 text-red-500"})})]}),i.jsx("h3",{className:"text-lg font-semibold mb-1 text-gray-900 dark:text-white",children:y.name}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4",children:y.role||m})]}),i.jsx("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-4 border-t border-gray-200 dark:border-gray-700",children:i.jsxs("div",{className:"flex gap-2",children:[i.jsx(be,{to:`/profile/${y.id}`,className:"flex-1 block text-center py-2 px-4 bg-gradient-to-r from-indigo-500 to-purple-500 hover:from-indigo-600 hover:to-purple-600 text-white font-medium rounded-full hover:shadow transition-all",children:e("buttons.viewProfile")||"View Profile"}),i.jsx(be,{to:`/messages/${y.id}`,className:"w-auto block text-center py-2 px-4 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-200 font-medium rounded-full hover:shadow transition-all","aria-label":e("buttons.message")||"Message",children:i.jsx(Zo,{className:"h-5 w-5"})})]})})]},y.id))}),!s&&r==="groups"&&v.length===0&&i.jsx("div",{className:"text-center py-16",children:i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:e("favorites.no_groups")||"You haven't favorited any groups yet."})}),!s&&r==="connections"&&w.length===0&&i.jsx("div",{className:"text-center py-16",children:i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:e("favorites.no_connections")||"You haven't favorited any connections yet."})})]})})},HS="https://ohserebigziyxlxpkaib.supabase.co",KS="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9oc2VyZWJpZ3ppeXhseHBrYWliIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTI3NDk0MTAsImV4cCI6MjAyODMyNTQxMH0.2mVOdgG-4QPVjVxqKshjFmcAyVELY6KYHtqlR-KLpvw";let Ms="https://ohserebigziyxlxpkaib.supabase.co",Bo="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9oc2VyZWJpZ3ppeXhseHBrYWliIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTI3NDk0MTAsImV4cCI6MjAyODMyNTQxMH0.2mVOdgG-4QPVjVxqKshjFmcAyVELY6KYHtqlR-KLpvw";(!Ms||!Bo)&&(console.error("Missing Supabase environment variables"),console.warn("Using fallback Supabase credentials for development"),Ms=HS,Bo=KS);let I9=!1;try{new URL(Ms),I9=!0,console.log("Initializing Supabase client with valid URL")}catch{console.error(`Invalid Supabase URL: "${Ms}"`),console.error("Using fallback Supabase URL for development"),Ms=HS,Bo=KS}console.log("Using Supabase URL:",Ms);const Pe=rp(Ms,Bo,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit",debug:!0},global:{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",apikey:Bo},fetch:(...e)=>{try{console.log("[Supabase Fetch] Request type:",typeof e[0]);const t=e[0];if(t instanceof Request){const r=new Headers(t.headers);r.set("apikey",Bo);const n=new Request(t.url,{method:t.method,headers:r,body:t.body,mode:t.mode,credentials:t.credentials,cache:t.cache,redirect:t.redirect,referrer:t.referrer,integrity:t.integrity});e[0]=n}}catch(t){console.error("[Supabase Fetch] Error processing request:",t)}return fetch(...e).then(t=>(t.ok||(console.warn(`[Supabase Fetch] Non-OK response: ${t.status} ${t.statusText}`),t.status===401&&(console.warn("[Supabase Fetch] Authentication error, attempting to refresh session"),typeof localStorage<"u"&&localStorage.removeItem("supabase.auth.token"))),t)).catch(t=>{throw console.error("[Supabase Fetch] Network error:",t),t})}}});typeof window<"u"&&(Pe.auth.onAuthStateChange((e,t)=>{console.log("[SUPABASE AUTH EVENT]:",e),e==="SIGNED_IN"&&(t!=null&&t.user)?(console.log("[SUPABASE AUTH]: User signed in"),localStorage.setItem("has_session","true"),localStorage.setItem("auth_user_id",t.user.id)):e==="SIGNED_OUT"?(console.log("[SUPABASE AUTH]: User signed out"),localStorage.removeItem("has_session"),localStorage.removeItem("auth_user_id"),localStorage.removeItem("supabase.auth.token")):e==="TOKEN_REFRESHED"&&console.log("[SUPABASE AUTH]: Token refreshed successfully")}),setTimeout(()=>{console.log("[SUPABASE AUTH]: Verifying initial session..."),Pe.auth.getSession().then(({data:e,error:t})=>{if(t)console.error("[SUPABASE AUTH]: Session error:",t),Pe.auth.signOut().catch(r=>console.error("Error signing out:",r));else if(e!=null&&e.session){console.log("[SUPABASE AUTH]: Session exists:",e.session.user.id);const r=e.session.expires_at,n=Math.floor(Date.now()/1e3);r&&r-n<600&&(console.log("[SUPABASE AUTH]: Token expiring soon, refreshing..."),Pe.auth.refreshSession().then(({data:o,error:a})=>{a?console.error("[SUPABASE AUTH]: Token refresh failed:",a):console.log("[SUPABASE AUTH]: Token refreshed successfully")}))}else console.log("[SUPABASE AUTH]: No active session found")})},1e3));const Uf=e=>{const t=Array.isArray(e.profiles)&&e.profiles.length>0?{id:e.profiles[0].id,full_name:e.profiles[0].full_name,avatar_url:e.profiles[0].avatar_url}:e.profiles&&!Array.isArray(e.profiles)?e.profiles:void 0;return{id:e.id,content:e.content,created_at:e.created_at,sender_id:e.sender_id,receiver_id:e.receiver_id,is_read:e.is_read||!1,profiles:t}},F9=({conversationId:e,otherUserId:t,otherUserName:r,otherUserAvatar:n})=>{const{tWithTemplate:s}=ot(),{user:o}=od(),[a,l]=h.useState([]),[c,u]=h.useState(""),[d,f]=h.useState(!0),[m,g]=h.useState(!1),x=h.useRef(null);h.useEffect(()=>{if(!e||!o||!t)return;(async()=>{try{f(!0),console.log(`Fetching messages between user ${o.id} and ${t}`);const{data:k,error:_}=await Pe.from("direct_messages").select(`
            id,
            content,
            created_at,
            sender_id,
            receiver_id,
            is_read,
            profiles:sender_id(id, full_name, avatar_url)
          `).or(`and(sender_id.eq.${o.id},receiver_id.eq.${t}),and(sender_id.eq.${t},receiver_id.eq.${o.id})`).order("created_at",{ascending:!0});if(_)throw _;if(k){const j=k.map(N=>Uf(N));l(j);const E=k.filter(N=>N.receiver_id===o.id&&!N.is_read).map(N=>N.id);E.length>0&&await Pe.from("direct_messages").update({is_read:!0}).in("id",E)}}catch(k){console.error("Error fetching messages:",k)}finally{f(!1)}})();const b=Pe.channel(`direct_messages:${o.id}_${t}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"direct_messages",filter:`or(and(sender_id=eq.${o.id},receiver_id=eq.${t}),and(sender_id=eq.${t},receiver_id=eq.${o.id}))`},async k=>{if(k.new){console.log("New message received:",k.new);const{data:_}=await Pe.from("profiles").select("id, full_name, avatar_url").eq("id",k.new.sender_id).single(),j=Uf({...k.new,profiles:_});l(E=>[...E,j]),k.new.sender_id===t&&await Pe.from("direct_messages").update({is_read:!0}).eq("id",k.new.id),v()}}).subscribe();return()=>{Pe.removeChannel(b)}},[e,o,t]),h.useEffect(()=>{v()},[a]);const v=()=>{var y;(y=x.current)==null||y.scrollIntoView({behavior:"smooth"})},w=async y=>{var k,_;if(y.preventDefault(),!c.trim()||!o||m)return;const b=c.trim();try{g(!0),u("");const j={id:`temp-${Date.now()}`,content:b,created_at:new Date().toISOString(),sender_id:o.id,receiver_id:t,is_read:!1,profiles:{id:o.id,full_name:((k=o.user_metadata)==null?void 0:k.full_name)||"You",avatar_url:(_=o.user_metadata)==null?void 0:_.avatar_url}};l(F=>[...F,j]);const{data:E,error:N}=await Pe.from("direct_messages").insert({content:b,sender_id:o.id,receiver_id:t,is_read:!1}).select();if(N)throw N;if(E&&E.length>0){const F=Uf(E[0]);l(C=>C.map(I=>I.id===j.id?F:I))}}catch(j){console.error("Error sending message:",j),q.error(s("failed_to_send_message")),u(b)}finally{g(!1),v()}},p=y=>{try{return new Date(y).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch{return""}};return d&&a.length===0?i.jsx("div",{className:"flex justify-center items-center h-full",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsx("div",{className:"flex-1 overflow-y-auto px-4",children:a.length===0?i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center",children:s("no_messages_start_conversation")})}):i.jsxs("div",{className:"space-y-4 py-4",children:[a.map(y=>{var k,_;const b=y.sender_id===(o==null?void 0:o.id);return y.profiles||(b&&(o==null||o.id),b&&((k=o==null?void 0:o.user_metadata)==null||k.full_name),b&&((_=o==null?void 0:o.user_metadata)==null||_.avatar_url)),i.jsx("div",{className:`flex ${b?"justify-end":"justify-start"}`,children:i.jsxs("div",{className:`max-w-xs md:max-w-md lg:max-w-lg rounded-lg px-4 py-2 ${b?"bg-blue-500 text-white rounded-br-none":"bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white rounded-bl-none"}`,children:[i.jsx("div",{className:"text-sm",children:y.content}),i.jsxs("div",{className:`text-xs mt-1 flex justify-between items-center ${b?"text-blue-100":"text-gray-500 dark:text-gray-400"}`,children:[i.jsx("span",{children:p(y.created_at)}),b&&i.jsx("span",{className:"ml-2",children:y.is_read?s("read"):""})]})]})},y.id)}),i.jsx("div",{ref:x})]})}),i.jsx("form",{onSubmit:w,className:"border-t dark:border-gray-700 p-4",children:i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("input",{type:"text",value:c,onChange:y=>u(y.target.value),placeholder:s("type_a_message"),className:"flex-1 px-4 py-2 bg-gray-100 dark:bg-gray-700 border-none rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500"}),i.jsx("button",{type:"submit",disabled:!c.trim()||m,className:"p-2 bg-blue-500 text-white rounded-full disabled:opacity-50 transition-opacity",children:i.jsx(op,{size:20})})]})})]})};var Dm=h.forwardRef((e,t)=>{const{children:r,...n}=e,s=h.Children.toArray(r),o=s.find(U9);if(o){const a=o.props.children,l=s.map(c=>c===o?h.Children.count(a)>1?h.Children.only(null):h.isValidElement(a)?a.props.children:null:c);return i.jsx(Lm,{...n,ref:t,children:h.isValidElement(a)?h.cloneElement(a,void 0,l):null})}return i.jsx(Lm,{...n,ref:t,children:r})});Dm.displayName="Slot";var Lm=h.forwardRef((e,t)=>{const{children:r,...n}=e;if(h.isValidElement(r)){const s=B9(r),o=z9(n,r.props);return r.type!==h.Fragment&&(o.ref=t?Js(t,s):s),h.cloneElement(r,o)}return h.Children.count(r)>1?h.Children.only(null):null});Lm.displayName="SlotClone";var $9=({children:e})=>i.jsx(i.Fragment,{children:e});function U9(e){return h.isValidElement(e)&&e.type===$9}function z9(e,t){const r={...t};for(const n in t){const s=e[n],o=t[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...l)=>{o(...l),s(...l)}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...e,...r}}function B9(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function e0(e){const t=e+"CollectionProvider",[r,n]=Xs(t),[s,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),a=g=>{const{scope:x,children:v}=g,w=ht.useRef(null),p=ht.useRef(new Map).current;return i.jsx(s,{scope:x,itemMap:p,collectionRef:w,children:v})};a.displayName=t;const l=e+"CollectionSlot",c=ht.forwardRef((g,x)=>{const{scope:v,children:w}=g,p=o(l,v),y=De(x,p.collectionRef);return i.jsx(Dm,{ref:y,children:w})});c.displayName=l;const u=e+"CollectionItemSlot",d="data-radix-collection-item",f=ht.forwardRef((g,x)=>{const{scope:v,children:w,...p}=g,y=ht.useRef(null),b=De(x,y),k=o(u,v);return ht.useEffect(()=>(k.itemMap.set(y,{ref:y,...p}),()=>void k.itemMap.delete(y))),i.jsx(Dm,{[d]:"",ref:b,children:w})});f.displayName=u;function m(g){const x=o(e+"CollectionConsumer",g);return ht.useCallback(()=>{const w=x.collectionRef.current;if(!w)return[];const p=Array.from(w.querySelectorAll(`[${d}]`));return Array.from(x.itemMap.values()).sort((k,_)=>p.indexOf(k.ref.current)-p.indexOf(_.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:a,Slot:c,ItemSlot:f},m,n]}var V9=h.createContext(void 0);function t0(e){const t=h.useContext(V9);return e||t||"ltr"}const G9=["top","right","bottom","left"],Zn=Math.min,Kt=Math.max,xu=Math.round,tc=Math.floor,Yr=e=>({x:e,y:e}),q9={left:"right",right:"left",bottom:"top",top:"bottom"},W9={start:"end",end:"start"};function Om(e,t,r){return Kt(e,Zn(t,r))}function pn(e,t){return typeof e=="function"?e(t):e}function yn(e){return e.split("-")[0]}function bi(e){return e.split("-")[1]}function r0(e){return e==="x"?"y":"x"}function n0(e){return e==="y"?"height":"width"}function es(e){return["top","bottom"].includes(yn(e))?"y":"x"}function s0(e){return r0(es(e))}function H9(e,t,r){r===void 0&&(r=!1);const n=bi(e),s=s0(e),o=n0(s);let a=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=vu(a)),[a,vu(a)]}function K9(e){const t=vu(e);return[Im(e),t,Im(t)]}function Im(e){return e.replace(/start|end/g,t=>W9[t])}function Y9(e,t,r){const n=["left","right"],s=["right","left"],o=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?o:a;default:return[]}}function J9(e,t,r,n){const s=bi(e);let o=Y9(yn(e),r==="start",n);return s&&(o=o.map(a=>a+"-"+s),t&&(o=o.concat(o.map(Im)))),o}function vu(e){return e.replace(/left|right|bottom|top/g,t=>q9[t])}function X9(e){return{top:0,right:0,bottom:0,left:0,...e}}function YS(e){return typeof e!="number"?X9(e):{top:e,right:e,bottom:e,left:e}}function bu(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function cb(e,t,r){let{reference:n,floating:s}=e;const o=es(t),a=s0(t),l=n0(a),c=yn(t),u=o==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,m=n[l]/2-s[l]/2;let g;switch(c){case"top":g={x:d,y:n.y-s.height};break;case"bottom":g={x:d,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:f};break;case"left":g={x:n.x-s.width,y:f};break;default:g={x:n.x,y:n.y}}switch(bi(t)){case"start":g[a]-=m*(r&&u?-1:1);break;case"end":g[a]+=m*(r&&u?-1:1);break}return g}const Q9=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:a}=r,l=o.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=cb(u,n,c),m=n,g={},x=0;for(let v=0;v<l.length;v++){const{name:w,fn:p}=l[v],{x:y,y:b,data:k,reset:_}=await p({x:d,y:f,initialPlacement:n,placement:m,strategy:s,middlewareData:g,rects:u,platform:a,elements:{reference:e,floating:t}});d=y??d,f=b??f,g={...g,[w]:{...g[w],...k}},_&&x<=50&&(x++,typeof _=="object"&&(_.placement&&(m=_.placement),_.rects&&(u=_.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:s}):_.rects),{x:d,y:f}=cb(u,m,c)),v=-1)}return{x:d,y:f,placement:m,strategy:s,middlewareData:g}};async function Ja(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:o,rects:a,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:g=0}=pn(t,e),x=YS(g),w=l[m?f==="floating"?"reference":"floating":f],p=bu(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(w)))==null||r?w:w.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),y=f==="floating"?{x:n,y:s,width:a.floating.width,height:a.floating.height}:a.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),k=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},_=bu(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:b,strategy:c}):y);return{top:(p.top-_.top+x.top)/k.y,bottom:(_.bottom-p.bottom+x.bottom)/k.y,left:(p.left-_.left+x.left)/k.x,right:(_.right-p.right+x.right)/k.x}}const Z9=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:o,platform:a,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=pn(e,t)||{};if(u==null)return{};const f=YS(d),m={x:r,y:n},g=s0(s),x=n0(g),v=await a.getDimensions(u),w=g==="y",p=w?"top":"left",y=w?"bottom":"right",b=w?"clientHeight":"clientWidth",k=o.reference[x]+o.reference[g]-m[g]-o.floating[x],_=m[g]-o.reference[g],j=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let E=j?j[b]:0;(!E||!await(a.isElement==null?void 0:a.isElement(j)))&&(E=l.floating[b]||o.floating[x]);const N=k/2-_/2,F=E/2-v[x]/2-1,C=Zn(f[p],F),I=Zn(f[y],F),P=C,O=E-v[x]-I,A=E/2-v[x]/2+N,$=Om(P,A,O),L=!c.arrow&&bi(s)!=null&&A!==$&&o.reference[x]/2-(A<P?C:I)-v[x]/2<0,z=L?A<P?A-P:A-O:0;return{[g]:m[g]+z,data:{[g]:$,centerOffset:A-$-z,...L&&{alignmentOffset:z}},reset:L}}}),eF=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:o,rects:a,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:v=!0,...w}=pn(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const p=yn(s),y=es(l),b=yn(l)===l,k=await(c.isRTL==null?void 0:c.isRTL(u.floating)),_=m||(b||!v?[vu(l)]:K9(l)),j=x!=="none";!m&&j&&_.push(...J9(l,v,x,k));const E=[l,..._],N=await Ja(t,w),F=[];let C=((n=o.flip)==null?void 0:n.overflows)||[];if(d&&F.push(N[p]),f){const A=H9(s,a,k);F.push(N[A[0]],N[A[1]])}if(C=[...C,{placement:s,overflows:F}],!F.every(A=>A<=0)){var I,P;const A=(((I=o.flip)==null?void 0:I.index)||0)+1,$=E[A];if($)return{data:{index:A,overflows:C},reset:{placement:$}};let L=(P=C.filter(z=>z.overflows[0]<=0).sort((z,S)=>z.overflows[1]-S.overflows[1])[0])==null?void 0:P.placement;if(!L)switch(g){case"bestFit":{var O;const z=(O=C.filter(S=>{if(j){const M=es(S.placement);return M===y||M==="y"}return!0}).map(S=>[S.placement,S.overflows.filter(M=>M>0).reduce((M,T)=>M+T,0)]).sort((S,M)=>S[1]-M[1])[0])==null?void 0:O[0];z&&(L=z);break}case"initialPlacement":L=l;break}if(s!==L)return{reset:{placement:L}}}return{}}}};function ub(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function db(e){return G9.some(t=>e[t]>=0)}const tF=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=pn(e,t);switch(n){case"referenceHidden":{const o=await Ja(t,{...s,elementContext:"reference"}),a=ub(o,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:db(a)}}}case"escaped":{const o=await Ja(t,{...s,altBoundary:!0}),a=ub(o,r.floating);return{data:{escapedOffsets:a,escaped:db(a)}}}default:return{}}}}};async function rF(e,t){const{placement:r,platform:n,elements:s}=e,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),a=yn(r),l=bi(r),c=es(r)==="y",u=["left","top"].includes(a)?-1:1,d=o&&c?-1:1,f=pn(t,e);let{mainAxis:m,crossAxis:g,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof x=="number"&&(g=l==="end"?x*-1:x),c?{x:g*d,y:m*u}:{x:m*u,y:g*d}}const nF=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:o,placement:a,middlewareData:l}=t,c=await rF(t,e);return a===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:a}}}}},sF=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:o=!0,crossAxis:a=!1,limiter:l={fn:w=>{let{x:p,y}=w;return{x:p,y}}},...c}=pn(e,t),u={x:r,y:n},d=await Ja(t,c),f=es(yn(s)),m=r0(f);let g=u[m],x=u[f];if(o){const w=m==="y"?"top":"left",p=m==="y"?"bottom":"right",y=g+d[w],b=g-d[p];g=Om(y,g,b)}if(a){const w=f==="y"?"top":"left",p=f==="y"?"bottom":"right",y=x+d[w],b=x-d[p];x=Om(y,x,b)}const v=l.fn({...t,[m]:g,[f]:x});return{...v,data:{x:v.x-r,y:v.y-n,enabled:{[m]:o,[f]:a}}}}}},oF=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:o,middlewareData:a}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=pn(e,t),d={x:r,y:n},f=es(s),m=r0(f);let g=d[m],x=d[f];const v=pn(l,t),w=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const b=m==="y"?"height":"width",k=o.reference[m]-o.floating[b]+w.mainAxis,_=o.reference[m]+o.reference[b]-w.mainAxis;g<k?g=k:g>_&&(g=_)}if(u){var p,y;const b=m==="y"?"width":"height",k=["top","left"].includes(yn(s)),_=o.reference[f]-o.floating[b]+(k&&((p=a.offset)==null?void 0:p[f])||0)+(k?0:w.crossAxis),j=o.reference[f]+o.reference[b]+(k?0:((y=a.offset)==null?void 0:y[f])||0)-(k?w.crossAxis:0);x<_?x=_:x>j&&(x=j)}return{[m]:g,[f]:x}}}},iF=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:o,platform:a,elements:l}=t,{apply:c=()=>{},...u}=pn(e,t),d=await Ja(t,u),f=yn(s),m=bi(s),g=es(s)==="y",{width:x,height:v}=o.floating;let w,p;f==="top"||f==="bottom"?(w=f,p=m===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(p=f,w=m==="end"?"top":"bottom");const y=v-d.top-d.bottom,b=x-d.left-d.right,k=Zn(v-d[w],y),_=Zn(x-d[p],b),j=!t.middlewareData.shift;let E=k,N=_;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(N=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(E=y),j&&!m){const C=Kt(d.left,0),I=Kt(d.right,0),P=Kt(d.top,0),O=Kt(d.bottom,0);g?N=x-2*(C!==0||I!==0?C+I:Kt(d.left,d.right)):E=v-2*(P!==0||O!==0?P+O:Kt(d.top,d.bottom))}await c({...t,availableWidth:N,availableHeight:E});const F=await a.getDimensions(l.floating);return x!==F.width||v!==F.height?{reset:{rects:!0}}:{}}}};function vd(){return typeof window<"u"}function wi(e){return JS(e)?(e.nodeName||"").toLowerCase():"#document"}function Xt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Qr(e){var t;return(t=(JS(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function JS(e){return vd()?e instanceof Node||e instanceof Xt(e).Node:!1}function Tr(e){return vd()?e instanceof Element||e instanceof Xt(e).Element:!1}function Jr(e){return vd()?e instanceof HTMLElement||e instanceof Xt(e).HTMLElement:!1}function fb(e){return!vd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Xt(e).ShadowRoot}function pl(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Ar(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function aF(e){return["table","td","th"].includes(wi(e))}function bd(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function o0(e){const t=i0(),r=Tr(e)?Ar(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function lF(e){let t=ts(e);for(;Jr(t)&&!ii(t);){if(o0(t))return t;if(bd(t))return null;t=ts(t)}return null}function i0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ii(e){return["html","body","#document"].includes(wi(e))}function Ar(e){return Xt(e).getComputedStyle(e)}function wd(e){return Tr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ts(e){if(wi(e)==="html")return e;const t=e.assignedSlot||e.parentNode||fb(e)&&e.host||Qr(e);return fb(t)?t.host:t}function XS(e){const t=ts(e);return ii(t)?e.ownerDocument?e.ownerDocument.body:e.body:Jr(t)&&pl(t)?t:XS(t)}function Xa(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=XS(e),o=s===((n=e.ownerDocument)==null?void 0:n.body),a=Xt(s);if(o){const l=Fm(a);return t.concat(a,a.visualViewport||[],pl(s)?s:[],l&&r?Xa(l):[])}return t.concat(s,Xa(s,[],r))}function Fm(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function QS(e){const t=Ar(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Jr(e),o=s?e.offsetWidth:r,a=s?e.offsetHeight:n,l=xu(r)!==o||xu(n)!==a;return l&&(r=o,n=a),{width:r,height:n,$:l}}function a0(e){return Tr(e)?e:e.contextElement}function Vo(e){const t=a0(e);if(!Jr(t))return Yr(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:o}=QS(t);let a=(o?xu(r.width):r.width)/n,l=(o?xu(r.height):r.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const cF=Yr(0);function ZS(e){const t=Xt(e);return!i0()||!t.visualViewport?cF:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function uF(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Xt(e)?!1:t}function Bs(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),o=a0(e);let a=Yr(1);t&&(n?Tr(n)&&(a=Vo(n)):a=Vo(e));const l=uF(o,r,n)?ZS(o):Yr(0);let c=(s.left+l.x)/a.x,u=(s.top+l.y)/a.y,d=s.width/a.x,f=s.height/a.y;if(o){const m=Xt(o),g=n&&Tr(n)?Xt(n):n;let x=m,v=Fm(x);for(;v&&n&&g!==x;){const w=Vo(v),p=v.getBoundingClientRect(),y=Ar(v),b=p.left+(v.clientLeft+parseFloat(y.paddingLeft))*w.x,k=p.top+(v.clientTop+parseFloat(y.paddingTop))*w.y;c*=w.x,u*=w.y,d*=w.x,f*=w.y,c+=b,u+=k,x=Xt(v),v=Fm(x)}}return bu({width:d,height:f,x:c,y:u})}function l0(e,t){const r=wd(e).scrollLeft;return t?t.left+r:Bs(Qr(e)).left+r}function ej(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:l0(e,n)),o=n.top+t.scrollTop;return{x:s,y:o}}function dF(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const o=s==="fixed",a=Qr(n),l=t?bd(t.floating):!1;if(n===a||l&&o)return r;let c={scrollLeft:0,scrollTop:0},u=Yr(1);const d=Yr(0),f=Jr(n);if((f||!f&&!o)&&((wi(n)!=="body"||pl(a))&&(c=wd(n)),Jr(n))){const g=Bs(n);u=Vo(n),d.x=g.x+n.clientLeft,d.y=g.y+n.clientTop}const m=a&&!f&&!o?ej(a,c,!0):Yr(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:r.y*u.y-c.scrollTop*u.y+d.y+m.y}}function fF(e){return Array.from(e.getClientRects())}function hF(e){const t=Qr(e),r=wd(e),n=e.ownerDocument.body,s=Kt(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=Kt(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+l0(e);const l=-r.scrollTop;return Ar(n).direction==="rtl"&&(a+=Kt(t.clientWidth,n.clientWidth)-s),{width:s,height:o,x:a,y:l}}function mF(e,t){const r=Xt(e),n=Qr(e),s=r.visualViewport;let o=n.clientWidth,a=n.clientHeight,l=0,c=0;if(s){o=s.width,a=s.height;const u=i0();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:o,height:a,x:l,y:c}}function gF(e,t){const r=Bs(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,o=Jr(e)?Vo(e):Yr(1),a=e.clientWidth*o.x,l=e.clientHeight*o.y,c=s*o.x,u=n*o.y;return{width:a,height:l,x:c,y:u}}function hb(e,t,r){let n;if(t==="viewport")n=mF(e,r);else if(t==="document")n=hF(Qr(e));else if(Tr(t))n=gF(t,r);else{const s=ZS(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return bu(n)}function tj(e,t){const r=ts(e);return r===t||!Tr(r)||ii(r)?!1:Ar(r).position==="fixed"||tj(r,t)}function pF(e,t){const r=t.get(e);if(r)return r;let n=Xa(e,[],!1).filter(l=>Tr(l)&&wi(l)!=="body"),s=null;const o=Ar(e).position==="fixed";let a=o?ts(e):e;for(;Tr(a)&&!ii(a);){const l=Ar(a),c=o0(a);!c&&l.position==="fixed"&&(s=null),(o?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||pl(a)&&!c&&tj(e,a))?n=n.filter(d=>d!==a):s=l,a=ts(a)}return t.set(e,n),n}function yF(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const a=[...r==="clippingAncestors"?bd(t)?[]:pF(t,this._c):[].concat(r),n],l=a[0],c=a.reduce((u,d)=>{const f=hb(t,d,s);return u.top=Kt(f.top,u.top),u.right=Zn(f.right,u.right),u.bottom=Zn(f.bottom,u.bottom),u.left=Kt(f.left,u.left),u},hb(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function xF(e){const{width:t,height:r}=QS(e);return{width:t,height:r}}function vF(e,t,r){const n=Jr(t),s=Qr(t),o=r==="fixed",a=Bs(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=Yr(0);if(n||!n&&!o)if((wi(t)!=="body"||pl(s))&&(l=wd(t)),n){const m=Bs(t,!0,o,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else s&&(c.x=l0(s));const u=s&&!n&&!o?ej(s,l):Yr(0),d=a.left+l.scrollLeft-c.x-u.x,f=a.top+l.scrollTop-c.y-u.y;return{x:d,y:f,width:a.width,height:a.height}}function zf(e){return Ar(e).position==="static"}function mb(e,t){if(!Jr(e)||Ar(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Qr(e)===r&&(r=r.ownerDocument.body),r}function rj(e,t){const r=Xt(e);if(bd(e))return r;if(!Jr(e)){let s=ts(e);for(;s&&!ii(s);){if(Tr(s)&&!zf(s))return s;s=ts(s)}return r}let n=mb(e,t);for(;n&&aF(n)&&zf(n);)n=mb(n,t);return n&&ii(n)&&zf(n)&&!o0(n)?r:n||lF(e)||r}const bF=async function(e){const t=this.getOffsetParent||rj,r=this.getDimensions,n=await r(e.floating);return{reference:vF(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function wF(e){return Ar(e).direction==="rtl"}const _F={convertOffsetParentRelativeRectToViewportRelativeRect:dF,getDocumentElement:Qr,getClippingRect:yF,getOffsetParent:rj,getElementRects:bF,getClientRects:fF,getDimensions:xF,getScale:Vo,isElement:Tr,isRTL:wF};function nj(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function kF(e,t){let r=null,n;const s=Qr(e);function o(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const u=e.getBoundingClientRect(),{left:d,top:f,width:m,height:g}=u;if(l||t(),!m||!g)return;const x=tc(f),v=tc(s.clientWidth-(d+m)),w=tc(s.clientHeight-(f+g)),p=tc(d),b={rootMargin:-x+"px "+-v+"px "+-w+"px "+-p+"px",threshold:Kt(0,Zn(1,c))||1};let k=!0;function _(j){const E=j[0].intersectionRatio;if(E!==c){if(!k)return a();E?a(!1,E):n=setTimeout(()=>{a(!1,1e-7)},1e3)}E===1&&!nj(u,e.getBoundingClientRect())&&a(),k=!1}try{r=new IntersectionObserver(_,{...b,root:s.ownerDocument})}catch{r=new IntersectionObserver(_,b)}r.observe(e)}return a(!0),o}function SF(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=a0(e),d=s||o?[...u?Xa(u):[],...Xa(t)]:[];d.forEach(p=>{s&&p.addEventListener("scroll",r,{passive:!0}),o&&p.addEventListener("resize",r)});const f=u&&l?kF(u,r):null;let m=-1,g=null;a&&(g=new ResizeObserver(p=>{let[y]=p;y&&y.target===u&&g&&(g.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var b;(b=g)==null||b.observe(t)})),r()}),u&&!c&&g.observe(u),g.observe(t));let x,v=c?Bs(e):null;c&&w();function w(){const p=Bs(e);v&&!nj(v,p)&&r(),v=p,x=requestAnimationFrame(w)}return r(),()=>{var p;d.forEach(y=>{s&&y.removeEventListener("scroll",r),o&&y.removeEventListener("resize",r)}),f==null||f(),(p=g)==null||p.disconnect(),g=null,c&&cancelAnimationFrame(x)}}const jF=nF,NF=sF,CF=eF,EF=iF,PF=tF,gb=Z9,TF=oF,AF=(e,t,r)=>{const n=new Map,s={platform:_F,...r},o={...s.platform,_c:n};return Q9(e,t,{...s,platform:o})};var Nc=typeof document<"u"?h.useLayoutEffect:h.useEffect;function wu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!wu(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const o=s[n];if(!(o==="_owner"&&e.$$typeof)&&!wu(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function sj(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function pb(e,t){const r=sj(e);return Math.round(t*r)/r}function Bf(e){const t=h.useRef(e);return Nc(()=>{t.current=e}),t}function RF(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=h.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,g]=h.useState(n);wu(m,n)||g(n);const[x,v]=h.useState(null),[w,p]=h.useState(null),y=h.useCallback(S=>{S!==j.current&&(j.current=S,v(S))},[]),b=h.useCallback(S=>{S!==E.current&&(E.current=S,p(S))},[]),k=o||x,_=a||w,j=h.useRef(null),E=h.useRef(null),N=h.useRef(d),F=c!=null,C=Bf(c),I=Bf(s),P=Bf(u),O=h.useCallback(()=>{if(!j.current||!E.current)return;const S={placement:t,strategy:r,middleware:m};I.current&&(S.platform=I.current),AF(j.current,E.current,S).then(M=>{const T={...M,isPositioned:P.current!==!1};A.current&&!wu(N.current,T)&&(N.current=T,ui.flushSync(()=>{f(T)}))})},[m,t,r,I,P]);Nc(()=>{u===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,f(S=>({...S,isPositioned:!1})))},[u]);const A=h.useRef(!1);Nc(()=>(A.current=!0,()=>{A.current=!1}),[]),Nc(()=>{if(k&&(j.current=k),_&&(E.current=_),k&&_){if(C.current)return C.current(k,_,O);O()}},[k,_,O,C,F]);const $=h.useMemo(()=>({reference:j,floating:E,setReference:y,setFloating:b}),[y,b]),L=h.useMemo(()=>({reference:k,floating:_}),[k,_]),z=h.useMemo(()=>{const S={position:r,left:0,top:0};if(!L.floating)return S;const M=pb(L.floating,d.x),T=pb(L.floating,d.y);return l?{...S,transform:"translate("+M+"px, "+T+"px)",...sj(L.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:M,top:T}},[r,l,L.floating,d.x,d.y]);return h.useMemo(()=>({...d,update:O,refs:$,elements:L,floatingStyles:z}),[d,O,$,L,z])}const MF=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?gb({element:n.current,padding:s}).fn(r):{}:n?gb({element:n,padding:s}).fn(r):{}}}},DF=(e,t)=>({...jF(e),options:[e,t]}),LF=(e,t)=>({...NF(e),options:[e,t]}),OF=(e,t)=>({...TF(e),options:[e,t]}),IF=(e,t)=>({...CF(e),options:[e,t]}),FF=(e,t)=>({...EF(e),options:[e,t]}),$F=(e,t)=>({...PF(e),options:[e,t]}),UF=(e,t)=>({...MF(e),options:[e,t]});var zF="Arrow",oj=h.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...o}=e;return i.jsx(Ne.svg,{...o,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});oj.displayName=zF;var BF=oj;function VF(e){const[t,r]=h.useState(void 0);return Dt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let a,l;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=e.offsetWidth,l=e.offsetHeight;r({width:a,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var c0="Popper",[ij,_d]=Xs(c0),[GF,aj]=ij(c0),lj=e=>{const{__scopePopper:t,children:r}=e,[n,s]=h.useState(null);return i.jsx(GF,{scope:t,anchor:n,onAnchorChange:s,children:r})};lj.displayName=c0;var cj="PopperAnchor",uj=h.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,o=aj(cj,r),a=h.useRef(null),l=De(t,a);return h.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||a.current)}),n?null:i.jsx(Ne.div,{...s,ref:l})});uj.displayName=cj;var u0="PopperContent",[qF,WF]=ij(u0),dj=h.forwardRef((e,t)=>{var R,G,X,H,Y,K;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:o="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:g="optimized",onPlaced:x,...v}=e,w=aj(u0,r),[p,y]=h.useState(null),b=De(t,U=>y(U)),[k,_]=h.useState(null),j=VF(k),E=(j==null?void 0:j.width)??0,N=(j==null?void 0:j.height)??0,F=n+(o!=="center"?"-"+o:""),C=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},I=Array.isArray(u)?u:[u],P=I.length>0,O={padding:C,boundary:I.filter(KF),altBoundary:P},{refs:A,floatingStyles:$,placement:L,isPositioned:z,middlewareData:S}=RF({strategy:"fixed",placement:F,whileElementsMounted:(...U)=>SF(...U,{animationFrame:g==="always"}),elements:{reference:w.anchor},middleware:[DF({mainAxis:s+N,alignmentAxis:a}),c&&LF({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?OF():void 0,...O}),c&&IF({...O}),FF({...O,apply:({elements:U,rects:J,availableWidth:ne,availableHeight:ae})=>{const{width:ue,height:Ve}=J.reference,Se=U.floating.style;Se.setProperty("--radix-popper-available-width",`${ne}px`),Se.setProperty("--radix-popper-available-height",`${ae}px`),Se.setProperty("--radix-popper-anchor-width",`${ue}px`),Se.setProperty("--radix-popper-anchor-height",`${Ve}px`)}}),k&&UF({element:k,padding:l}),YF({arrowWidth:E,arrowHeight:N}),m&&$F({strategy:"referenceHidden",...O})]}),[M,T]=mj(L),B=Zt(x);Dt(()=>{z&&(B==null||B())},[z,B]);const V=(R=S.arrow)==null?void 0:R.x,re=(G=S.arrow)==null?void 0:G.y,se=((X=S.arrow)==null?void 0:X.centerOffset)!==0,[fe,oe]=h.useState();return Dt(()=>{p&&oe(window.getComputedStyle(p).zIndex)},[p]),i.jsx("div",{ref:A.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:z?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:fe,"--radix-popper-transform-origin":[(H=S.transformOrigin)==null?void 0:H.x,(Y=S.transformOrigin)==null?void 0:Y.y].join(" "),...((K=S.hide)==null?void 0:K.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(qF,{scope:r,placedSide:M,onArrowChange:_,arrowX:V,arrowY:re,shouldHideArrow:se,children:i.jsx(Ne.div,{"data-side":M,"data-align":T,...v,ref:b,style:{...v.style,animation:z?void 0:"none"}})})})});dj.displayName=u0;var fj="PopperArrow",HF={top:"bottom",right:"left",bottom:"top",left:"right"},hj=h.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,o=WF(fj,n),a=HF[o.placedSide];return i.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:i.jsx(BF,{...s,ref:r,style:{...s.style,display:"block"}})})});hj.displayName=fj;function KF(e){return e!==null}var YF=e=>({name:"transformOrigin",options:e,fn(t){var w,p,y;const{placement:r,rects:n,middlewareData:s}=t,a=((w=s.arrow)==null?void 0:w.centerOffset)!==0,l=a?0:e.arrowWidth,c=a?0:e.arrowHeight,[u,d]=mj(r),f={start:"0%",center:"50%",end:"100%"}[d],m=(((p=s.arrow)==null?void 0:p.x)??0)+l/2,g=(((y=s.arrow)==null?void 0:y.y)??0)+c/2;let x="",v="";return u==="bottom"?(x=a?f:`${m}px`,v=`${-c}px`):u==="top"?(x=a?f:`${m}px`,v=`${n.floating.height+c}px`):u==="right"?(x=`${-c}px`,v=a?f:`${g}px`):u==="left"&&(x=`${n.floating.width+c}px`,v=a?f:`${g}px`),{data:{x,y:v}}}});function mj(e){const[t,r="center"]=e.split("-");return[t,r]}var gj=lj,pj=uj,yj=dj,xj=hj,Vf="rovingFocusGroup.onEntryFocus",JF={bubbles:!1,cancelable:!0},kd="RovingFocusGroup",[$m,vj,XF]=e0(kd),[QF,bj]=Xs(kd,[XF]),[ZF,e$]=QF(kd),wj=h.forwardRef((e,t)=>i.jsx($m.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx($m.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(t$,{...e,ref:t})})}));wj.displayName=kd;var t$=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:o,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,m=h.useRef(null),g=De(t,m),x=t0(o),[v=null,w]=fu({prop:a,defaultProp:l,onChange:c}),[p,y]=h.useState(!1),b=Zt(u),k=vj(r),_=h.useRef(!1),[j,E]=h.useState(0);return h.useEffect(()=>{const N=m.current;if(N)return N.addEventListener(Vf,b),()=>N.removeEventListener(Vf,b)},[b]),i.jsx(ZF,{scope:r,orientation:n,dir:x,loop:s,currentTabStopId:v,onItemFocus:h.useCallback(N=>w(N),[w]),onItemShiftTab:h.useCallback(()=>y(!0),[]),onFocusableItemAdd:h.useCallback(()=>E(N=>N+1),[]),onFocusableItemRemove:h.useCallback(()=>E(N=>N-1),[]),children:i.jsx(Ne.div,{tabIndex:p||j===0?-1:0,"data-orientation":n,...f,ref:g,style:{outline:"none",...e.style},onMouseDown:de(e.onMouseDown,()=>{_.current=!0}),onFocus:de(e.onFocus,N=>{const F=!_.current;if(N.target===N.currentTarget&&F&&!p){const C=new CustomEvent(Vf,JF);if(N.currentTarget.dispatchEvent(C),!C.defaultPrevented){const I=k().filter(L=>L.focusable),P=I.find(L=>L.active),O=I.find(L=>L.id===v),$=[P,O,...I].filter(Boolean).map(L=>L.ref.current);Sj($,d)}}_.current=!1}),onBlur:de(e.onBlur,()=>y(!1))})})}),_j="RovingFocusGroupItem",kj=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:o,...a}=e,l=Rs(),c=o||l,u=e$(_j,r),d=u.currentTabStopId===c,f=vj(r),{onFocusableItemAdd:m,onFocusableItemRemove:g}=u;return h.useEffect(()=>{if(n)return m(),()=>g()},[n,m,g]),i.jsx($m.ItemSlot,{scope:r,id:c,focusable:n,active:s,children:i.jsx(Ne.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...a,ref:t,onMouseDown:de(e.onMouseDown,x=>{n?u.onItemFocus(c):x.preventDefault()}),onFocus:de(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:de(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){u.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const v=s$(x,u.orientation,u.dir);if(v!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let p=f().filter(y=>y.focusable).map(y=>y.ref.current);if(v==="last")p.reverse();else if(v==="prev"||v==="next"){v==="prev"&&p.reverse();const y=p.indexOf(x.currentTarget);p=u.loop?o$(p,y+1):p.slice(y+1)}setTimeout(()=>Sj(p))}})})})});kj.displayName=_j;var r$={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function n$(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function s$(e,t,r){const n=n$(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return r$[n]}function Sj(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function o$(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var i$=wj,a$=kj,jj=h.forwardRef((e,t)=>{const{children:r,...n}=e,s=h.Children.toArray(r),o=s.find(c$);if(o){const a=o.props.children,l=s.map(c=>c===o?h.Children.count(a)>1?h.Children.only(null):h.isValidElement(a)?a.props.children:null:c);return i.jsx(Um,{...n,ref:t,children:h.isValidElement(a)?h.cloneElement(a,void 0,l):null})}return i.jsx(Um,{...n,ref:t,children:r})});jj.displayName="Slot";var Um=h.forwardRef((e,t)=>{const{children:r,...n}=e;if(h.isValidElement(r)){const s=d$(r),o=u$(n,r.props);return r.type!==h.Fragment&&(o.ref=t?Js(t,s):s),h.cloneElement(r,o)}return h.Children.count(r)>1?h.Children.only(null):null});Um.displayName="SlotClone";var l$=({children:e})=>i.jsx(i.Fragment,{children:e});function c$(e){return h.isValidElement(e)&&e.type===l$}function u$(e,t){const r={...t};for(const n in t){const s=e[n],o=t[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...l)=>{o(...l),s(...l)}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...e,...r}}function d$(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var zm=["Enter"," "],f$=["ArrowDown","PageUp","Home"],Nj=["ArrowUp","PageDown","End"],h$=[...f$,...Nj],m$={ltr:[...zm,"ArrowRight"],rtl:[...zm,"ArrowLeft"]},g$={ltr:["ArrowLeft"],rtl:["ArrowRight"]},yl="Menu",[Qa,p$,y$]=e0(yl),[Qs,Cj]=Xs(yl,[y$,_d,bj]),Sd=_d(),Ej=bj(),[x$,Zs]=Qs(yl),[v$,xl]=Qs(yl),Pj=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:o,modal:a=!0}=e,l=Sd(t),[c,u]=h.useState(null),d=h.useRef(!1),f=Zt(o),m=t0(s);return h.useEffect(()=>{const g=()=>{d.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>d.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),i.jsx(gj,{...l,children:i.jsx(x$,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:i.jsx(v$,{scope:t,onClose:h.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:m,modal:a,children:n})})})};Pj.displayName=yl;var b$="MenuAnchor",d0=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=Sd(r);return i.jsx(pj,{...s,...n,ref:t})});d0.displayName=b$;var f0="MenuPortal",[w$,Tj]=Qs(f0,{forceMount:void 0}),Aj=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,o=Zs(f0,t);return i.jsx(w$,{scope:t,forceMount:r,children:i.jsx(cs,{present:r||o.open,children:i.jsx(hd,{asChild:!0,container:s,children:n})})})};Aj.displayName=f0;var hr="MenuContent",[_$,h0]=Qs(hr),Rj=h.forwardRef((e,t)=>{const r=Tj(hr,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,o=Zs(hr,e.__scopeMenu),a=xl(hr,e.__scopeMenu);return i.jsx(Qa.Provider,{scope:e.__scopeMenu,children:i.jsx(cs,{present:n||o.open,children:i.jsx(Qa.Slot,{scope:e.__scopeMenu,children:a.modal?i.jsx(k$,{...s,ref:t}):i.jsx(S$,{...s,ref:t})})})})}),k$=h.forwardRef((e,t)=>{const r=Zs(hr,e.__scopeMenu),n=h.useRef(null),s=De(t,n);return h.useEffect(()=>{const o=n.current;if(o)return Wp(o)},[]),i.jsx(m0,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:de(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),S$=h.forwardRef((e,t)=>{const r=Zs(hr,e.__scopeMenu);return i.jsx(m0,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),m0=h.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:g,disableOutsideScroll:x,...v}=e,w=Zs(hr,r),p=xl(hr,r),y=Sd(r),b=Ej(r),k=p$(r),[_,j]=h.useState(null),E=h.useRef(null),N=De(t,E,w.onContentChange),F=h.useRef(0),C=h.useRef(""),I=h.useRef(0),P=h.useRef(null),O=h.useRef("right"),A=h.useRef(0),$=x?gd:h.Fragment,L=x?{as:jj,allowPinchZoom:!0}:void 0,z=M=>{var R,G;const T=C.current+M,B=k().filter(X=>!X.disabled),V=document.activeElement,re=(R=B.find(X=>X.ref.current===V))==null?void 0:R.textValue,se=B.map(X=>X.textValue),fe=O$(se,T,re),oe=(G=B.find(X=>X.textValue===fe))==null?void 0:G.ref.current;(function X(H){C.current=H,window.clearTimeout(F.current),H!==""&&(F.current=window.setTimeout(()=>X(""),1e3))})(T),oe&&setTimeout(()=>oe.focus())};h.useEffect(()=>()=>window.clearTimeout(F.current),[]),qp();const S=h.useCallback(M=>{var B,V;return O.current===((B=P.current)==null?void 0:B.side)&&F$(M,(V=P.current)==null?void 0:V.area)},[]);return i.jsx(_$,{scope:r,searchRef:C,onItemEnter:h.useCallback(M=>{S(M)&&M.preventDefault()},[S]),onItemLeave:h.useCallback(M=>{var T;S(M)||((T=E.current)==null||T.focus(),j(null))},[S]),onTriggerLeave:h.useCallback(M=>{S(M)&&M.preventDefault()},[S]),pointerGraceTimerRef:I,onPointerGraceIntentChange:h.useCallback(M=>{P.current=M},[]),children:i.jsx($,{...L,children:i.jsx(fd,{asChild:!0,trapped:s,onMountAutoFocus:de(o,M=>{var T;M.preventDefault(),(T=E.current)==null||T.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:i.jsx(dd,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:g,children:i.jsx(i$,{asChild:!0,...b,dir:p.dir,orientation:"vertical",loop:n,currentTabStopId:_,onCurrentTabStopIdChange:j,onEntryFocus:de(c,M=>{p.isUsingKeyboardRef.current||M.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(yj,{role:"menu","aria-orientation":"vertical","data-state":Kj(w.open),"data-radix-menu-content":"",dir:p.dir,...y,...v,ref:N,style:{outline:"none",...v.style},onKeyDown:de(v.onKeyDown,M=>{const B=M.target.closest("[data-radix-menu-content]")===M.currentTarget,V=M.ctrlKey||M.altKey||M.metaKey,re=M.key.length===1;B&&(M.key==="Tab"&&M.preventDefault(),!V&&re&&z(M.key));const se=E.current;if(M.target!==se||!h$.includes(M.key))return;M.preventDefault();const oe=k().filter(R=>!R.disabled).map(R=>R.ref.current);Nj.includes(M.key)&&oe.reverse(),D$(oe)}),onBlur:de(e.onBlur,M=>{M.currentTarget.contains(M.target)||(window.clearTimeout(F.current),C.current="")}),onPointerMove:de(e.onPointerMove,Za(M=>{const T=M.target,B=A.current!==M.clientX;if(M.currentTarget.contains(T)&&B){const V=M.clientX>A.current?"right":"left";O.current=V,A.current=M.clientX}}))})})})})})})});Rj.displayName=hr;var j$="MenuGroup",g0=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(Ne.div,{role:"group",...n,ref:t})});g0.displayName=j$;var N$="MenuLabel",Mj=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(Ne.div,{...n,ref:t})});Mj.displayName=N$;var _u="MenuItem",yb="menu.itemSelect",jd=h.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,o=h.useRef(null),a=xl(_u,e.__scopeMenu),l=h0(_u,e.__scopeMenu),c=De(t,o),u=h.useRef(!1),d=()=>{const f=o.current;if(!r&&f){const m=new CustomEvent(yb,{bubbles:!0,cancelable:!0});f.addEventListener(yb,g=>n==null?void 0:n(g),{once:!0}),oS(f,m),m.defaultPrevented?u.current=!1:a.onClose()}};return i.jsx(Dj,{...s,ref:c,disabled:r,onClick:de(e.onClick,d),onPointerDown:f=>{var m;(m=e.onPointerDown)==null||m.call(e,f),u.current=!0},onPointerUp:de(e.onPointerUp,f=>{var m;u.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:de(e.onKeyDown,f=>{const m=l.searchRef.current!=="";r||m&&f.key===" "||zm.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});jd.displayName=_u;var Dj=h.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...o}=e,a=h0(_u,r),l=Ej(r),c=h.useRef(null),u=De(t,c),[d,f]=h.useState(!1),[m,g]=h.useState("");return h.useEffect(()=>{const x=c.current;x&&g((x.textContent??"").trim())},[o.children]),i.jsx(Qa.ItemSlot,{scope:r,disabled:n,textValue:s??m,children:i.jsx(a$,{asChild:!0,...l,focusable:!n,children:i.jsx(Ne.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...o,ref:u,onPointerMove:de(e.onPointerMove,Za(x=>{n?a.onItemLeave(x):(a.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:de(e.onPointerLeave,Za(x=>a.onItemLeave(x))),onFocus:de(e.onFocus,()=>f(!0)),onBlur:de(e.onBlur,()=>f(!1))})})})}),C$="MenuCheckboxItem",Lj=h.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return i.jsx(Uj,{scope:e.__scopeMenu,checked:r,children:i.jsx(jd,{role:"menuitemcheckbox","aria-checked":ku(r)?"mixed":r,...s,ref:t,"data-state":y0(r),onSelect:de(s.onSelect,()=>n==null?void 0:n(ku(r)?!0:!r),{checkForDefaultPrevented:!1})})})});Lj.displayName=C$;var Oj="MenuRadioGroup",[E$,P$]=Qs(Oj,{value:void 0,onValueChange:()=>{}}),Ij=h.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,o=Zt(n);return i.jsx(E$,{scope:e.__scopeMenu,value:r,onValueChange:o,children:i.jsx(g0,{...s,ref:t})})});Ij.displayName=Oj;var Fj="MenuRadioItem",$j=h.forwardRef((e,t)=>{const{value:r,...n}=e,s=P$(Fj,e.__scopeMenu),o=r===s.value;return i.jsx(Uj,{scope:e.__scopeMenu,checked:o,children:i.jsx(jd,{role:"menuitemradio","aria-checked":o,...n,ref:t,"data-state":y0(o),onSelect:de(n.onSelect,()=>{var a;return(a=s.onValueChange)==null?void 0:a.call(s,r)},{checkForDefaultPrevented:!1})})})});$j.displayName=Fj;var p0="MenuItemIndicator",[Uj,T$]=Qs(p0,{checked:!1}),zj=h.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,o=T$(p0,r);return i.jsx(cs,{present:n||ku(o.checked)||o.checked===!0,children:i.jsx(Ne.span,{...s,ref:t,"data-state":y0(o.checked)})})});zj.displayName=p0;var A$="MenuSeparator",Bj=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(Ne.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});Bj.displayName=A$;var R$="MenuArrow",Vj=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=Sd(r);return i.jsx(xj,{...s,...n,ref:t})});Vj.displayName=R$;var M$="MenuSub",[uq,Gj]=Qs(M$),Ji="MenuSubTrigger",qj=h.forwardRef((e,t)=>{const r=Zs(Ji,e.__scopeMenu),n=xl(Ji,e.__scopeMenu),s=Gj(Ji,e.__scopeMenu),o=h0(Ji,e.__scopeMenu),a=h.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=o,u={__scopeMenu:e.__scopeMenu},d=h.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return h.useEffect(()=>d,[d]),h.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),i.jsx(d0,{asChild:!0,...u,children:i.jsx(Dj,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":Kj(r.open),...e,ref:Js(t,s.onTriggerChange),onClick:f=>{var m;(m=e.onClick)==null||m.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:de(e.onPointerMove,Za(f=>{o.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!a.current&&(o.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:de(e.onPointerLeave,Za(f=>{var g,x;d();const m=(g=r.content)==null?void 0:g.getBoundingClientRect();if(m){const v=(x=r.content)==null?void 0:x.dataset.side,w=v==="right",p=w?-5:5,y=m[w?"left":"right"],b=m[w?"right":"left"];o.onPointerGraceIntentChange({area:[{x:f.clientX+p,y:f.clientY},{x:y,y:m.top},{x:b,y:m.top},{x:b,y:m.bottom},{x:y,y:m.bottom}],side:v}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(f),f.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:de(e.onKeyDown,f=>{var g;const m=o.searchRef.current!=="";e.disabled||m&&f.key===" "||m$[n.dir].includes(f.key)&&(r.onOpenChange(!0),(g=r.content)==null||g.focus(),f.preventDefault())})})})});qj.displayName=Ji;var Wj="MenuSubContent",Hj=h.forwardRef((e,t)=>{const r=Tj(hr,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,o=Zs(hr,e.__scopeMenu),a=xl(hr,e.__scopeMenu),l=Gj(Wj,e.__scopeMenu),c=h.useRef(null),u=De(t,c);return i.jsx(Qa.Provider,{scope:e.__scopeMenu,children:i.jsx(cs,{present:n||o.open,children:i.jsx(Qa.Slot,{scope:e.__scopeMenu,children:i.jsx(m0,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;a.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:de(e.onFocusOutside,d=>{d.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:de(e.onEscapeKeyDown,d=>{a.onClose(),d.preventDefault()}),onKeyDown:de(e.onKeyDown,d=>{var g;const f=d.currentTarget.contains(d.target),m=g$[a.dir].includes(d.key);f&&m&&(o.onOpenChange(!1),(g=l.trigger)==null||g.focus(),d.preventDefault())})})})})})});Hj.displayName=Wj;function Kj(e){return e?"open":"closed"}function ku(e){return e==="indeterminate"}function y0(e){return ku(e)?"indeterminate":e?"checked":"unchecked"}function D$(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function L$(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function O$(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let a=L$(e,Math.max(o,0));s.length===1&&(a=a.filter(u=>u!==r));const c=a.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function I$(e,t){const{x:r,y:n}=e;let s=!1;for(let o=0,a=t.length-1;o<t.length;a=o++){const l=t[o].x,c=t[o].y,u=t[a].x,d=t[a].y;c>n!=d>n&&r<(u-l)*(n-c)/(d-c)+l&&(s=!s)}return s}function F$(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return I$(r,t)}function Za(e){return t=>t.pointerType==="mouse"?e(t):void 0}var $$=Pj,U$=d0,z$=Aj,B$=Rj,V$=g0,G$=Mj,q$=jd,W$=Lj,H$=Ij,K$=$j,Y$=zj,J$=Bj,X$=Vj,Q$=qj,Z$=Hj,x0="ContextMenu",[eU,dq]=Xs(x0,[Cj]),It=Cj(),[tU,Yj]=eU(x0),Jj=e=>{const{__scopeContextMenu:t,children:r,onOpenChange:n,dir:s,modal:o=!0}=e,[a,l]=h.useState(!1),c=It(t),u=Zt(n),d=h.useCallback(f=>{l(f),u(f)},[u]);return i.jsx(tU,{scope:t,open:a,onOpenChange:d,modal:o,children:i.jsx($$,{...c,dir:s,open:a,onOpenChange:d,modal:o,children:r})})};Jj.displayName=x0;var Xj="ContextMenuTrigger",Qj=h.forwardRef((e,t)=>{const{__scopeContextMenu:r,disabled:n=!1,...s}=e,o=Yj(Xj,r),a=It(r),l=h.useRef({x:0,y:0}),c=h.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...l.current})}),u=h.useRef(0),d=h.useCallback(()=>window.clearTimeout(u.current),[]),f=m=>{l.current={x:m.clientX,y:m.clientY},o.onOpenChange(!0)};return h.useEffect(()=>d,[d]),h.useEffect(()=>void(n&&d()),[n,d]),i.jsxs(i.Fragment,{children:[i.jsx(U$,{...a,virtualRef:c}),i.jsx(Ne.span,{"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,...s,ref:t,style:{WebkitTouchCallout:"none",...e.style},onContextMenu:n?e.onContextMenu:de(e.onContextMenu,m=>{d(),f(m),m.preventDefault()}),onPointerDown:n?e.onPointerDown:de(e.onPointerDown,rc(m=>{d(),u.current=window.setTimeout(()=>f(m),700)})),onPointerMove:n?e.onPointerMove:de(e.onPointerMove,rc(d)),onPointerCancel:n?e.onPointerCancel:de(e.onPointerCancel,rc(d)),onPointerUp:n?e.onPointerUp:de(e.onPointerUp,rc(d))})]})});Qj.displayName=Xj;var rU="ContextMenuPortal",Zj=e=>{const{__scopeContextMenu:t,...r}=e,n=It(t);return i.jsx(z$,{...n,...r})};Zj.displayName=rU;var e4="ContextMenuContent",t4=h.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,s=Yj(e4,r),o=It(r),a=h.useRef(!1);return i.jsx(B$,{...o,...n,ref:t,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:l=>{var c;(c=e.onCloseAutoFocus)==null||c.call(e,l),!l.defaultPrevented&&a.current&&l.preventDefault(),a.current=!1},onInteractOutside:l=>{var c;(c=e.onInteractOutside)==null||c.call(e,l),!l.defaultPrevented&&!s.modal&&(a.current=!0)},style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});t4.displayName=e4;var nU="ContextMenuGroup",sU=h.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,s=It(r);return i.jsx(V$,{...s,...n,ref:t})});sU.displayName=nU;var oU="ContextMenuLabel",r4=h.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,s=It(r);return i.jsx(G$,{...s,...n,ref:t})});r4.displayName=oU;var iU="ContextMenuItem",n4=h.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,s=It(r);return i.jsx(q$,{...s,...n,ref:t})});n4.displayName=iU;var aU="ContextMenuCheckboxItem",s4=h.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,s=It(r);return i.jsx(W$,{...s,...n,ref:t})});s4.displayName=aU;var lU="ContextMenuRadioGroup",cU=h.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,s=It(r);return i.jsx(H$,{...s,...n,ref:t})});cU.displayName=lU;var uU="ContextMenuRadioItem",o4=h.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,s=It(r);return i.jsx(K$,{...s,...n,ref:t})});o4.displayName=uU;var dU="ContextMenuItemIndicator",i4=h.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,s=It(r);return i.jsx(Y$,{...s,...n,ref:t})});i4.displayName=dU;var fU="ContextMenuSeparator",a4=h.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,s=It(r);return i.jsx(J$,{...s,...n,ref:t})});a4.displayName=fU;var hU="ContextMenuArrow",mU=h.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,s=It(r);return i.jsx(X$,{...s,...n,ref:t})});mU.displayName=hU;var gU="ContextMenuSubTrigger",l4=h.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,s=It(r);return i.jsx(Q$,{...s,...n,ref:t})});l4.displayName=gU;var pU="ContextMenuSubContent",c4=h.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,s=It(r);return i.jsx(Z$,{...s,...n,ref:t,style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});c4.displayName=pU;function rc(e){return t=>t.pointerType!=="mouse"?e(t):void 0}var yU=Jj,xU=Qj,vU=Zj,u4=t4,d4=r4,f4=n4,h4=s4,m4=o4,g4=i4,p4=a4,y4=l4,x4=c4;const Bm=yU,Vm=xU,bU=h.forwardRef(({className:e,inset:t,children:r,...n},s)=>i.jsxs(y4,{ref:s,className:je("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",t&&"pl-8",e),...n,children:[r,i.jsx(eO,{className:"ml-auto h-4 w-4"})]}));bU.displayName=y4.displayName;const wU=h.forwardRef(({className:e,...t},r)=>i.jsx(x4,{ref:r,className:je("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));wU.displayName=x4.displayName;const Su=h.forwardRef(({className:e,...t},r)=>i.jsx(vU,{children:i.jsx(u4,{ref:r,className:je("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})}));Su.displayName=u4.displayName;const _r=h.forwardRef(({className:e,inset:t,...r},n)=>i.jsx(f4,{ref:n,className:je("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));_r.displayName=f4.displayName;const _U=h.forwardRef(({className:e,children:t,checked:r,...n},s)=>i.jsxs(h4,{ref:s,className:je("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(g4,{children:i.jsx(Xk,{className:"h-4 w-4"})})}),t]}));_U.displayName=h4.displayName;const kU=h.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(m4,{ref:n,className:je("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(g4,{children:i.jsx(Zk,{className:"h-2 w-2 fill-current"})})}),t]}));kU.displayName=m4.displayName;const SU=h.forwardRef(({className:e,inset:t,...r},n)=>i.jsx(d4,{ref:n,className:je("px-2 py-1.5 text-sm font-semibold text-foreground",t&&"pl-8",e),...r}));SU.displayName=d4.displayName;const jU=h.forwardRef(({className:e,...t},r)=>i.jsx(p4,{ref:r,className:je("-mx-1 my-1 h-px bg-border",e),...t}));jU.displayName=p4.displayName;const NU=({children:e,className:t,...r})=>i.jsx("div",{className:`flex border-b border-gray-200 dark:border-gray-700 ${t||""}`,...r,children:e}),Gf=({value:e,active:t,onSelect:r,children:n,className:s})=>i.jsx("button",{type:"button",role:"tab","aria-selected":t===e,onClick:()=>r(e),className:`px-3 py-2 text-sm font-medium border-b-2 transition-colors flex-1 ${t===e?"border-rose-500 text-rose-600 dark:text-rose-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"} ${s||""}`,children:n}),qf=({value:e,active:t,children:r,className:n})=>i.jsx("div",{role:"tabpanel",hidden:t!==e,className:`${n||""} ${t===e?"block":"hidden"}`,children:r}),CU=({children:e,className:t})=>i.jsx("div",{className:t,children:e}),EU=`
  .highlight-conversation {
    animation: highlight 2s ease-in-out;
  }
  
  @keyframes highlight {
    0%, 100% { background-color: transparent; }
    50% { background-color: rgba(59, 130, 246, 0.2); }
  }
  
  .highlight-conversation-target:focus-visible {
    outline: 2px solid #3b82f6;
    background-color: rgba(59, 130, 246, 0.1);
  }
`,xb=()=>{const{user:e}=od(),t=st(),{t:r}=Rr(),{conversationId:n}=Hu(),[s,o]=h.useState({}),[a,l]=h.useState([]),[c,u]=h.useState([]),[d,f]=h.useState("direct"),[m,g]=h.useState(null),[x,v]=h.useState(null),[w,p]=h.useState(null),[y,b]=h.useState(!0),[k,_]=h.useState(window.innerWidth<768),[j,E]=h.useState(!1);h.useEffect(()=>{const R=()=>{_(window.innerWidth<768)};return window.addEventListener("resize",R),()=>window.removeEventListener("resize",R)},[]),h.useEffect(()=>{const R=document.createElement("style");return R.textContent=EU,document.head.appendChild(R),()=>{document.head.removeChild(R)}},[]),h.useEffect(()=>{e&&(d==="direct"?C():d==="events"?A():d==="groups"&&L())},[e,d]),h.useEffect(()=>{n&&d==="direct"&&s[n]&&g(s[n])},[n,s,d]),h.useEffect(()=>{console.log("DEBUG: Component did mount - Force events tab to be active"),f("events");const R=P();console.log("Setting default sample events:",R.length),l(R),O(R)},[]);const N=()=>{const R=[{id:"sample-friend-1",user_id:(e==null?void 0:e.id)||"",other_user_id:"sample-friend-1",other_user:{id:"sample-friend-1",full_name:"Alex Johnson",avatar_url:"https://randomuser.me/api/portraits/men/32.jpg"},last_message:{content:"Hey there! How are you doing?",created_at:new Date(Date.now()-864e5).toISOString(),sender_id:"sample-friend-1"},unread:1},{id:"sample-friend-2",user_id:(e==null?void 0:e.id)||"",other_user_id:"sample-friend-2",other_user:{id:"sample-friend-2",full_name:"Sarah Miller",avatar_url:"https://randomuser.me/api/portraits/women/44.jpg"},last_message:{content:"Are we still meeting tomorrow?",created_at:new Date(Date.now()-72e5).toISOString(),sender_id:(e==null?void 0:e.id)||""},unread:0},{id:"sample-friend-3",user_id:(e==null?void 0:e.id)||"",other_user_id:"sample-friend-3",other_user:{id:"sample-friend-3",full_name:"Mike Robinson",avatar_url:"https://randomuser.me/api/portraits/men/67.jpg"},last_message:{content:"Did you see that cool new tech announcement?",created_at:new Date(Date.now()-2592e5).toISOString(),sender_id:"sample-friend-3"},unread:0},{id:"sample-friend-4",user_id:(e==null?void 0:e.id)||"",other_user_id:"sample-friend-4",other_user:{id:"sample-friend-4",full_name:"Emma Wilson",avatar_url:"https://randomuser.me/api/portraits/women/22.jpg"},last_message:{content:"Thanks for your help yesterday!",created_at:new Date(Date.now()-432e6).toISOString(),sender_id:"sample-friend-4"},unread:0}];try{localStorage.setItem("sampleFriends",JSON.stringify(R))}catch(G){console.error("Failed to save sample friends to localStorage:",G)}return R},F=()=>{const R=localStorage.getItem("sampleFriends");if(R)try{const G=JSON.parse(R);if(Array.isArray(G)&&G.length>0){console.log("Friends already exist in localStorage:",G.length);return}}catch(G){console.error("Error parsing localStorage friends:",G)}console.log("Creating default friends as none were found"),N()};h.useEffect(()=>{e&&F()},[e]);const C=async()=>{if(e)try{b(!0);try{const{data:H,error:Y}=await Pe.rpc("get_user_relationships",{p_user_id:e.id});if(!Y&&H&&H.length>0){console.log("Successfully fetched relationships via RPC:",H);const K={};for(const U of H)K[U.other_user_id]={id:U.other_user_id,user_id:e.id,other_user_id:U.other_user_id,other_user:{id:U.other_user_id,full_name:U.other_user_full_name||"User",avatar_url:U.other_user_avatar_url},unread:0};await I(K);return}console.log("RPC method for relationships not available, trying fallback method")}catch(H){console.log("RPC method for relationships failed, trying fallback method",H)}try{const{data:H,error:Y}=await Pe.rpc("get_user_friendships",{p_user_id:e.id});if(!Y&&H&&H.length>0){console.log("Successfully fetched friendships via RPC:",H);const K={};for(const U of H)K[U.other_user_id]={id:U.other_user_id,user_id:e.id,other_user_id:U.other_user_id,other_user:{id:U.other_user_id,full_name:U.other_user_full_name||"User",avatar_url:U.other_user_avatar_url},unread:0};await I(K);return}console.log("Friendships RPC method failed, trying direct queries")}catch(H){console.log("Friendships RPC method failed:",H)}try{const{data:H,error:Y}=await Pe.from("relationships").select("id, requester_id, addressee_id, status, created_at").or(`requester_id.eq.${e.id},addressee_id.eq.${e.id}`).eq("status","accepted");if(!Y&&H&&H.length>0){const K={};for(const U of H)try{const J=U.requester_id===(e==null?void 0:e.id)?U.addressee_id:U.requester_id,{data:ne,error:ae}=await Pe.from("profiles").select("id, full_name, avatar_url").eq("id",J).single();if(ae){console.error(`Error fetching profile for user ${J}:`,ae);continue}if(!ne){console.log(`No profile found for user ${J}`);continue}K[J]={id:J,user_id:(e==null?void 0:e.id)||"",other_user_id:J,other_user:{id:ne.id,full_name:ne.full_name,avatar_url:ne.avatar_url},unread:0};try{const{data:ue}=await Pe.from("direct_messages").select("content, created_at, sender_id").or(`and(sender_id.eq.${e==null?void 0:e.id},receiver_id.eq.${J}),and(sender_id.eq.${J},receiver_id.eq.${e==null?void 0:e.id})`).order("created_at",{ascending:!1}).limit(1);ue&&ue.length>0&&(K[J].last_message={content:ue[0].content,created_at:ue[0].created_at,sender_id:ue[0].sender_id})}catch(ue){console.log(`Error fetching messages for conversation with ${J}:`,ue)}}catch(J){console.error("Error processing relationship:",J)}if(Object.keys(K).length>0){o(K),n&&K[n]&&g(K[n]),b(!1);return}}}catch(H){console.log("Direct query for relationships failed, trying friendships table",H)}try{const{data:H,error:Y}=await Pe.from("friendships").select("id, user_id, friend_id, status, created_at").or(`user_id.eq.${e.id},friend_id.eq.${e.id}`).eq("status","accepted");if(!Y&&H&&H.length>0){const K={};for(const U of H)try{const J=U.user_id===(e==null?void 0:e.id)?U.friend_id:U.user_id,{data:ne,error:ae}=await Pe.from("profiles").select("id, full_name, avatar_url").eq("id",J).single();if(ae){console.error(`Error fetching profile for user ${J}:`,ae);continue}if(!ne){console.log(`No profile found for user ${J}`);continue}K[J]={id:J,user_id:(e==null?void 0:e.id)||"",other_user_id:J,other_user:{id:ne.id,full_name:ne.full_name,avatar_url:ne.avatar_url},unread:0};try{const{data:ue}=await Pe.from("direct_messages").select("content, created_at, sender_id").or(`and(sender_id.eq.${e==null?void 0:e.id},receiver_id.eq.${J}),and(sender_id.eq.${J},receiver_id.eq.${e==null?void 0:e.id})`).order("created_at",{ascending:!1}).limit(1);ue&&ue.length>0&&(K[J].last_message={content:ue[0].content,created_at:ue[0].created_at,sender_id:ue[0].sender_id})}catch(ue){console.log(`Error fetching messages for conversation with ${J}:`,ue)}}catch(J){console.error("Error processing friendship:",J)}if(Object.keys(K).length>0){o(K),n&&K[n]&&g(K[n]),b(!1);return}}}catch(H){console.log("Friendships table query failed",H)}const R=localStorage.getItem("sampleFriends");if(R)try{const H=JSON.parse(R);if(Array.isArray(H)&&H.length>0){console.log("Using sample friends from localStorage:",H);const Y={};H.forEach(K=>{Y[K.other_user_id]=K}),o(Y),n&&Y[n]&&g(Y[n]),b(!1);return}}catch(H){console.error("Error parsing localStorage friends:",H)}console.log("No friends found, creating sample friends");const G=N(),X={};G.forEach(H=>{X[H.other_user_id]=H}),o(X),b(!1)}catch(R){console.error("Error in fetchFriendConversations:",R),q.error("Failed to load conversations");const G=N(),X={};G.forEach(H=>{X[H.other_user_id]=H}),o(X)}finally{b(!1)}},I=async R=>{try{const G=Object.keys(R);await Promise.all(G.map(async X=>{try{const{data:H}=await Pe.from("direct_messages").select("content, created_at, sender_id").or(`and(sender_id.eq.${e==null?void 0:e.id},receiver_id.eq.${X}),and(sender_id.eq.${X},receiver_id.eq.${e==null?void 0:e.id})`).order("created_at",{ascending:!1}).limit(1);H&&H.length>0&&(R[X].last_message={content:H[0].content,created_at:H[0].created_at,sender_id:H[0].sender_id});const{count:Y}=await Pe.from("direct_messages").select("*",{count:"exact",head:!0}).eq("receiver_id",e==null?void 0:e.id).eq("sender_id",X).eq("is_read",!1);R[X].unread=Y||0}catch(H){console.log(`Error fetching messages for conversation ${X}:`,H)}})),o(R),n&&R[n]&&g(R[n]),b(!1)}catch(G){console.error("Error fetching last messages for conversations:",G),o(R),b(!1)}},P=()=>{const R=new Date;return[{id:"sample-event-1",title:"Community Meetup",start_date:new Date(R.getTime()+2*24*60*60*1e3).toISOString(),image_url:"https://images.unsplash.com/photo-1511795409834-432f7b1d6574"},{id:"sample-event-2",title:"Tech Conference",start_date:new Date(R.getTime()+7*24*60*60*1e3).toISOString(),image_url:"https://images.unsplash.com/photo-1523580494863-6f3031224c94"},{id:"sample-event-3",title:"Networking Party",start_date:new Date(R.getTime()+14*24*60*60*1e3).toISOString(),image_url:"https://images.unsplash.com/photo-1505373877841-8d25f7d46678"},{id:"sample-event-4",title:"Product Launch",start_date:new Date(R.getTime()+21*24*60*60*1e3).toISOString(),image_url:"https://images.unsplash.com/photo-1540317580384-e5d43867caa6"},{id:"sample-event-5",title:"Workshop: Advanced Skills",start_date:new Date(R.getTime()+5*24*60*60*1e3).toISOString(),image_url:"https://images.unsplash.com/photo-1552664730-d307ca884978"}]},O=R=>{try{localStorage.setItem("eventAttendances",JSON.stringify(R)),console.log("Saved events to localStorage:",R)}catch(G){console.error("Error saving events to localStorage:",G)}},A=async()=>{if(e)try{try{console.log("DEBUG: Trying direct query approach for events");const{data:G,error:X}=await Pe.from("event_attendees").select(`
            *,
            events (
              id, title, description, start_date, category, location, is_public, created_by
            )
          `).eq("user_id",e.id);if(X)throw console.error("Error fetching attended events:",X),X;if(G&&G.length>0){console.log("DEBUG: Found",G.length,"events user is attending");const H=G.map(Y=>{const K=Y.events;return K?{id:K.id,title:K.title,description:K.description,start_date:K.start_date,category:K.category,location:K.location,is_public:K.is_public}:null}).filter(Boolean);if(H.length>0){console.log("DEBUG: Processed",H.length,"valid events");const Y=await $(H);l(Y),O(Y);return}}}catch(G){console.error("Error with direct query approach:",G)}try{console.log("DEBUG: Trying RPC function for events");const{data:G,error:X}=await Pe.rpc("get_user_event_attendances",{p_user_id:e.id});if(X)throw console.error("RPC function error:",X),X;if(G&&G.length>0){console.log("DEBUG: RPC returned",G.length,"events");const H=G.map(K=>({id:K.id,title:K.title,description:K.description,start_date:K.start_date,category:K.category,location:K.location,is_public:K.is_public,created_by:K.created_by})),Y=await $(H);l(Y),O(Y);return}}catch(G){console.error("Error with RPC function approach:",G)}try{console.log("DEBUG: Trying to find events created by user");const{data:G,error:X}=await Pe.from("events").select("*").eq("created_by",e.id);if(X)throw console.error("Error fetching created events:",X),X;if(G&&G.length>0){console.log("DEBUG: Found",G.length,"events created by user");const H=G.map(K=>({id:K.id,title:K.title,description:K.description,start_date:K.start_date,category:K.category,location:K.location,is_public:K.is_public,created_by:K.created_by})),Y=await $(H);l(Y),O(Y);return}}catch(G){console.error("Error with created events approach:",G)}console.log("DEBUG: No real events found. Keeping sample events.");const R=P();l(R),O(R)}catch(R){console.error("Error in fetchEventChats:",R);const G=P();l(G),O(G)}finally{}},$=async R=>{try{const G=[...R];for(let X=0;X<G.length;X++)try{if(G[X].id.startsWith("sample-"))continue;const{data:H,error:Y}=await Pe.from("event_messages").select("content, created_at, user_id, profiles:user_id (full_name, avatar_url)").eq("event_id",G[X].id).order("created_at",{ascending:!1}).limit(1);if(Y){console.error(`Error fetching messages for event ${G[X].id}:`,Y);continue}if(H&&H.length>0){const K=H[0].profiles;G[X].last_message={content:H[0].content,created_at:H[0].created_at,sender_id:H[0].user_id,sender_name:(K==null?void 0:K.full_name)||"Unknown User"}}}catch(H){console.log(`Error processing messages for event ${G[X].id}:`,H)}return console.log("DEBUG: Events with messages:",G.length),G}catch(G){return console.error("Error fetching event messages:",G),R}},L=async()=>{if(e)try{b(!0);try{const{data:G,error:X}=await Pe.rpc("get_user_group_memberships",{p_user_id:e.id});if(!X&&G&&G.length>0){await z(G);return}console.log("RPC method not available or returned no results, trying fallback method")}catch(G){console.log("RPC method failed, trying fallback method",G)}const{data:R}=await S();if(R&&R.length>0){console.log("Using groups from localStorage:",R);const G=R.map(Y=>Y.group_id),{data:X,error:H}=await Pe.from("groups").select("id, name, description, image_url, category, created_at, created_by").in("id",G);if(!H&&X&&X.length>0){const Y=X.map(K=>{const U=R.find(J=>J.group_id===K.id);return{...K,role:(U==null?void 0:U.role)||"member"}});console.log("Fetched user groups from localStorage fallback:",Y),u(Y),b(!1);return}}console.log("No group memberships found via any method"),u([])}catch(R){console.error("Error in fetchUserGroups:",R),q.error("Failed to load your groups"),u([])}finally{b(!1)}},z=async R=>{const G=R.map(K=>K.group_id),{data:X,error:H}=await Pe.from("groups").select("id, name, description, image_url, category, created_at, created_by").in("id",G);if(H){console.error("Error fetching group details:",H),u([]);return}const Y=(X||[]).map(K=>{const U=R.find(J=>J.group_id===K.id);return{...K,role:(U==null?void 0:U.role)||"member"}});console.log("Fetched user groups via processGroupMemberships:",Y),u(Y)},S=async()=>{try{const R=localStorage.getItem("groupMemberships");if(!R)return{data:[]};const G=JSON.parse(R);return{data:Object.entries(G).map(([H,Y])=>({group_id:H,role:Y.role||"member"}))}}catch(R){return console.error("Error parsing localStorage group memberships:",R),{data:[]}}},M=async R=>{if(e)try{const{error:G}=await Pe.from("direct_messages").delete().or(`and(sender_id.eq.${e.id},receiver_id.eq.${R}),and(sender_id.eq.${R},receiver_id.eq.${e.id})`);if(G)throw G;o(X=>{const H={...X};return delete H[R],H}),(m==null?void 0:m.id)===R&&g(null),q(r("messages.conversation_deleted")||"Conversation deleted")}catch(G){console.error("Error deleting conversation:",G),q(r("messages.conversation_delete_error")||"Could not delete conversation")}},T=R=>{const X=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(R),H=R.startsWith("sample-");if(!X&&!H){console.error(`Invalid event ID format: ${R}`),q.error(r("messages.invalid_event_id")||"Invalid event ID format");return}const Y=a.find(K=>K.id===R);if(!Y){if(console.error(`Event not found: ${R}`),q.error(r("messages.event_not_found")||"Event not found"),H){const K=B(R);l(U=>[...U,K]),O([...a,K]),t(`/events/${R}/chat`);return}return}console.log(`Navigating to event chat, ID: ${R}, Title: ${Y.title}`),t(`/events/${R}/chat`)},B=R=>{const G=new Date;return{id:R,title:`Event ${R.substring(0,8)}`,start_date:new Date(G.getTime()+2*24*60*60*1e3).toISOString(),image_url:"https://images.unsplash.com/photo-1511795409834-432f7b1d6574"}},V=()=>{E(R=>!R)},re=R=>{R&&(console.log("Navigating to profile:",R),t(`/profile/${R}`))},se=async R=>{if(!(!e||!R))try{const{error:G}=await Pe.from("direct_messages").update({is_read:!0}).eq("receiver_id",e.id).eq("sender_id",R);if(G){console.error("Error marking messages as read:",G);return}o(X=>{const H={...X};return H[R]&&(H[R]={...H[R],unread:0}),H})}catch(G){console.error("Error in markMessagesAsRead:",G)}};h.useEffect(()=>{m!=null&&m.id&&se(m.id)},[m==null?void 0:m.id]);const fe=R=>{t(`/groups/${R}/chat`)},oe=()=>{const R=localStorage.getItem("eventAttendances");if(R)try{const X=JSON.parse(R);if(Array.isArray(X)&&X.length>0){console.log("Events already exist in localStorage:",X.length);return}}catch(X){console.error("Error parsing localStorage events:",X)}console.log("Creating default events as none were found");const G=P();O(G),l(G)};return h.useEffect(()=>{e&&oe()},[e]),y&&Object.keys(s).length===0&&a.length===0&&c.length===0?i.jsx("div",{className:"flex justify-center items-center min-h-screen",children:i.jsx(Ee,{size:"lg"})}):i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 md:py-12",children:[i.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:i.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center",children:[i.jsx(Zo,{className:"mr-3 h-6 w-6"})," ",r("messages.title")||"Messages"]})}),i.jsxs("div",{className:`flex flex-col md:flex-row rounded-xl shadow-md overflow-hidden border border-gray-200 dark:border-gray-700 h-[calc(100vh-12rem)] ${j?"fixed inset-0 z-50 h-screen w-screen max-w-none rounded-none":""}`,children:[i.jsx("div",{className:`w-full md:w-1/3 lg:w-1/4 flex-shrink-0 border-r border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 ${j||k&&(m||x||w)?"hidden md:flex md:flex-col":"flex flex-col"}`,children:i.jsxs(CU,{defaultValue:d,onValueChange:f,className:"flex-shrink-0",children:[i.jsxs(NU,{className:"flex border-b border-gray-200 dark:border-gray-700",children:[i.jsx(Gf,{value:"direct",active:d,onSelect:R=>{console.log("DEBUG: Tab changed to DIRECT",R),f(R)},className:"py-4 px-6 font-medium text-base focus:outline-none",children:r("messages.tabs.direct")||"Direct"}),i.jsx(Gf,{value:"groups",active:d,onSelect:R=>{console.log("DEBUG: Tab changed to GROUPS",R),f(R)},className:"py-4 px-6 font-medium text-base focus:outline-none",children:r("messages.tabs.groups")||"Groups"}),i.jsx(Gf,{value:"events",active:d,onSelect:R=>{console.log("DEBUG: Tab changed to EVENTS",R),f(R),R==="events"&&(console.log("DEBUG: Forcing event fetch because tab was selected"),A())},className:"py-4 px-6 font-medium text-base focus:outline-none",children:r("messages.tabs.events")||"Events"})]}),i.jsx(qf,{value:"direct",active:d,className:"flex-1 overflow-y-auto",children:Object.keys(s).length===0?i.jsxs("div",{className:"text-center py-10 px-4",children:[i.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:r("messages.no_direct_messages")||"No direct messages yet"}),i.jsx(be,{to:"/friends",className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-indigo-500 to-purple-500 hover:from-indigo-600 hover:to-purple-600 rounded-full text-sm font-medium text-white shadow-sm hover:shadow transition-all",children:r("messages.find_friends")||"Find Friends"})]}):i.jsx("div",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:Object.values(s).sort((R,G)=>!R.last_message&&!G.last_message?0:R.last_message?G.last_message?new Date(G.last_message.created_at).getTime()-new Date(R.last_message.created_at).getTime():-1:1).map(R=>i.jsxs(Bm,{children:[i.jsx(Vm,{children:i.jsxs("div",{className:`flex items-center p-4 cursor-pointer ${(m==null?void 0:m.id)===R.id?"bg-indigo-50 dark:bg-indigo-900/30":"hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,onClick:()=>g(R),children:[i.jsx("div",{className:"flex-shrink-0 h-12 w-12 rounded-full overflow-hidden bg-gray-200 dark:bg-gray-700 relative",children:R.other_user.avatar_url?i.jsx("img",{src:R.other_user.avatar_url,alt:R.other_user.full_name,className:"h-full w-full object-cover"}):i.jsx("div",{className:"h-full w-full flex items-center justify-center bg-gradient-to-br from-indigo-500 to-purple-600 text-white",children:i.jsx(Nr,{size:22})})}),i.jsxs("div",{className:"ml-3 flex-1 overflow-hidden",children:[i.jsxs("div",{className:"flex justify-between items-baseline",children:[i.jsx("h3",{className:"text-base font-medium text-gray-900 dark:text-white truncate",children:R.other_user.full_name}),R.last_message&&i.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(R.last_message.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:R.last_message?R.last_message.sender_id===(e==null?void 0:e.id)?`${r("messages.you")}: ${R.last_message.content}`:R.last_message.content:r("messages.no_messages_yet")})]}),R.unread&&R.unread>0&&i.jsx("div",{className:"ml-2 bg-indigo-600 text-white text-xs font-medium rounded-full h-5 w-5 flex items-center justify-center",children:R.unread})]})}),i.jsxs(Su,{children:[i.jsxs(_r,{onClick:()=>re(R.other_user.id),children:[i.jsx(Nr,{className:"mr-2 h-4 w-4"}),r("messages.view_profile")||"View Profile"]}),i.jsxs(_r,{children:[i.jsx(Fa,{className:"mr-2 h-4 w-4"}),r("messages.mute_notifications")||"Mute Notifications"]}),i.jsxs(_r,{children:[i.jsx(fx,{className:"mr-2 h-4 w-4"}),r("messages.block_user")||"Block User"]}),i.jsxs(_r,{onClick:()=>M(R.id),children:[i.jsx($s,{className:"mr-2 h-4 w-4"}),r("messages.delete_conversation")||"Delete Conversation"]})]})]},R.id))})}),i.jsx(qf,{value:"groups",active:d,className:"flex-1 overflow-y-auto",children:c.length===0?i.jsxs("div",{className:"text-center py-10 px-4",children:[i.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:r("messages.no_group_chats")||"You are not a member of any groups yet"}),i.jsx(be,{to:"/groups",className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-rose-500 to-red-500 hover:from-rose-600 hover:to-red-600 rounded-full text-sm font-medium text-white shadow-sm hover:shadow transition-all",children:r("messages.browse_groups")||"Browse Groups"})]}):i.jsx("div",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:c.map(R=>i.jsxs("div",{className:"flex items-center p-4 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50",onClick:()=>fe(R.id),children:[i.jsx("div",{className:"flex-shrink-0 h-12 w-12 rounded-full overflow-hidden bg-gray-200 dark:bg-gray-700",children:R.image_url?i.jsx("img",{src:R.image_url,alt:R.name,className:"h-full w-full object-cover"}):i.jsx("div",{className:"h-full w-full flex items-center justify-center bg-gradient-to-br from-indigo-500 to-purple-600 text-white",children:i.jsx(We,{size:22})})}),i.jsxs("div",{className:"ml-3 flex-1 overflow-hidden",children:[i.jsxs("div",{className:"flex justify-between items-baseline",children:[i.jsx("h3",{className:"text-base font-medium text-gray-900 dark:text-white truncate",children:R.name}),i.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:R.role==="admin"?r("messages.admin")||"Admin":r("messages.member")||"Member"})]}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:R.description||r("messages.no_description")||"No description"})]})]},R.id))})}),i.jsxs(qf,{value:"events",active:d,className:"flex-1 overflow-y-auto",children:[(console.log("DEBUG: Inside Events TabsContent render, activeTab:",d,"eventChats:",a),null),a.length===0?i.jsxs("div",{className:"text-center py-10 px-4",children:[i.jsxs("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:[r("messages.no_event_chats")||"No event chats yet","(Debug info: activeTab=",d,", eventChats.length=",a.length,")"]}),i.jsx("button",{onClick:()=>{console.log("DEBUG: Force fetch clicked"),A()},className:"inline-flex items-center mb-4 px-4 py-2 bg-blue-500 hover:bg-blue-600 rounded-full text-sm font-medium text-white shadow-sm hover:shadow transition-all",children:"Olaylar Yenile"}),i.jsx(be,{to:"/events",className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-rose-500 to-red-500 hover:from-rose-600 hover:to-red-600 rounded-full text-sm font-medium text-white shadow-sm hover:shadow transition-all",children:r("messages.browse_events")||"Browse Events"})]}):i.jsxs("div",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:[i.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 sticky top-0 z-10 flex justify-between items-center",children:[i.jsxs("h3",{className:"font-medium text-gray-900 dark:text-white",children:[r("messages.your_events")||"Your Events"," (",a.length,")"]}),i.jsxs("button",{onClick:()=>{console.log("DEBUG: Refresh events button clicked"),A()},className:"p-2 text-sm text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-300 flex items-center",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),r("messages.refresh")||"Refresh"]})]}),a.map(R=>i.jsxs("div",{className:`flex items-center p-4 cursor-pointer ${(w==null?void 0:w.id)===R.id?"bg-indigo-50 dark:bg-indigo-900/30":"hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,onClick:()=>T(R.id),children:[i.jsx("div",{className:"flex-shrink-0 h-12 w-12 rounded-full overflow-hidden bg-gray-200 dark:bg-gray-700",children:R.image_url?i.jsx("img",{src:R.image_url,alt:R.title,className:"h-full w-full object-cover"}):i.jsx("div",{className:"h-full w-full flex items-center justify-center bg-gradient-to-br from-rose-500 to-red-600 text-white",children:i.jsx(At,{size:22})})}),i.jsxs("div",{className:"ml-3 flex-1 overflow-hidden",children:[i.jsxs("div",{className:"flex justify-between items-baseline",children:[i.jsx("h3",{className:"text-base font-medium text-gray-900 dark:text-white truncate",children:R.title}),i.jsx("span",{className:"ml-2 px-2 py-1 text-xs rounded-full bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200",children:new Date(R.start_date).toLocaleDateString(void 0,{month:"short",day:"numeric"})})]}),i.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate flex items-center",children:[i.jsx(At,{className:"mr-1 h-3 w-3"}),new Date(R.start_date).toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})]}),R.last_message&&i.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1 italic truncate",children:R.last_message.content})]})]},R.id))]})]})]})}),i.jsxs("div",{className:`flex flex-col flex-1 bg-white dark:bg-gray-800 ${k&&!m&&!x&&!w?"hidden md:flex":"flex"}`,children:[k&&(m||x||w)&&i.jsx("div",{className:"flex items-center p-3 border-b border-gray-200 dark:border-gray-700",children:i.jsx("button",{onClick:()=>{g(null),v(null),p(null),t("/messages")},className:"p-2 rounded-full text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",children:i.jsx(PT,{size:20})})}),m?i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"h-10 w-10 rounded-full overflow-hidden bg-gray-200 dark:bg-gray-700 mr-3",children:m.other_user.avatar_url?i.jsx("img",{src:m.other_user.avatar_url,alt:m.other_user.full_name,className:"h-full w-full object-cover"}):i.jsx("div",{className:"h-full w-full flex items-center justify-center bg-gradient-to-br from-indigo-500 to-purple-600 text-white",children:i.jsx(Nr,{size:18})})}),i.jsx("div",{children:i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:m.other_user.full_name})})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("button",{onClick:V,className:"p-2 rounded-full text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700","aria-label":j?r("messages.exit_fullscreen")||"Exit full screen":r("messages.enter_fullscreen")||"Full screen",children:j?i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:i.jsx("path",{d:"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"})}):i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:i.jsx("path",{d:"M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"})})}),i.jsxs(Bm,{children:[i.jsx(Vm,{children:i.jsx("button",{className:"p-2 rounded-full text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700","aria-label":r("messages.settings")||"Message Settings",children:i.jsx(sd,{size:20})})}),i.jsxs(Su,{children:[i.jsxs(_r,{onClick:()=>re(m.other_user.id),children:[i.jsx(Nr,{className:"mr-2 h-4 w-4"}),r("messages.view_profile")||"View Profile"]}),i.jsxs(_r,{children:[i.jsx(Fa,{className:"mr-2 h-4 w-4"}),r("messages.mute_notifications")||"Mute Notifications"]}),i.jsxs(_r,{children:[i.jsx(fx,{className:"mr-2 h-4 w-4"}),r("messages.block_user")||"Block User"]}),i.jsxs(_r,{onClick:()=>M(m.id),children:[i.jsx($s,{className:"mr-2 h-4 w-4"}),r("messages.delete_conversation")||"Delete Conversation"]})]})]})]})]}),i.jsx(F9,{conversationId:m.id,otherUserId:m.other_user.id,otherUserName:m.other_user.full_name,otherUserAvatar:m.other_user.avatar_url||void 0})]}):i.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-4",children:[i.jsx("div",{className:"w-24 h-24 mb-6 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center",children:i.jsx(Zo,{size:40,className:"text-gray-400 dark:text-gray-500"})}),i.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:r("messages.select_conversation")||"Select a conversation"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400 max-w-md",children:r("messages.select_conversation_description")||"Choose a conversation from the list or start a new one from the Friends page"})]})]})]})]})})},PU=()=>{const{user:e}=it(),[t,r]=h.useState(null),[n,s]=h.useState(!1),o=async()=>{if(!e){r({status:"error",message:"You must be logged in to use chat features",issues:[{type:"auth",message:"Not authenticated"}]});return}try{const l=[];let c=!1;const{count:u,error:d}=await D.from("chat_groups").select("*",{count:"exact",head:!0});d&&(console.error("Error checking chat_groups table:",d),l.push({type:"database",message:"Chat tables may not exist in the database",details:d.message}));const{data:f,error:m}=await D.from("chat_group_members").select("group_id, chat_groups(name, is_public)").eq("user_id",e.id);m?(console.error("Error checking group memberships:",m),l.push({type:"membership",message:"Could not verify group memberships",details:m.message})):!f||f.length===0?l.push({type:"membership",message:"You are not a member of any chat groups",fixable:!0}):c=!0;const{data:g,error:x}=await D.from("chat_groups").select("id, name").eq("is_public",!0).limit(5);x?console.error("Error checking public groups:",x):(!g||g.length===0)&&l.push({type:"groups",message:"No public groups available",fixable:!0});let v="success",w="Chat access is working correctly";return l.length>0&&(l.some(p=>p.type==="database")?(v="error",w="Database setup issue detected"):c?(v="info",w="Some minor issues detected"):(v="warning",w="You cannot access any chat groups")),r({status:v,message:w,issues:l,publicGroups:g||[]}),{status:v,message:w,issues:l,publicGroups:g||[]}}catch(l){return console.error("Error during chat diagnostics:",l),r({status:"error",message:"An error occurred during diagnostics",issues:[{type:"unknown",message:l.message}]}),{status:"error",message:"An error occurred during diagnostics",issues:[{type:"unknown",message:l.message}]}}};return{runDiagnostics:o,fixIssues:async()=>{if(!e)return q.error("You must be logged in to fix chat issues"),!1;if(!t&&(await o()).status==="success")return q.success("No issues to fix!"),!0;s(!0);try{const l=(t==null?void 0:t.issues)||[];if(l.filter(d=>d.fixable).length===0)return q.error("No automatically fixable issues found"),!1;let u=!1;if(l.some(d=>d.type==="membership")){const d=(t==null?void 0:t.publicGroups)||[];if(d.length>0){const f=d[0],{data:m,error:g}=await D.from("chat_group_members").select("id").eq("user_id",e.id).eq("group_id",f.id).maybeSingle();if(g)throw new Error(`Failed to check existing membership: ${g.message}`);if(m)q.info("You are already a member of a public group");else{const{error:x}=await D.from("chat_group_members").insert({user_id:e.id,group_id:f.id,joined_at:new Date().toISOString()});if(x)throw new Error(`Failed to join group: ${x.message}`);const{error:v}=await D.from("chat_messages").insert({group_id:f.id,user_id:e.id,content:"I just joined this group!",created_at:new Date().toISOString()});v&&console.error("Failed to add welcome message:",v),q.success(`You have been added to the group: ${f.name}`),u=!0}}else{const{data:f,error:m}=await D.from("chat_groups").insert({name:"General Chat",description:"Public chat group for all users",created_by:e.id,is_public:!0,max_members:100,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),avatar_url:"https://ui-avatars.com/api/?name=General+Chat&background=random"}).select();if(m)throw new Error(`Failed to create public group: ${m.message}`);if(f&&f[0]){const{error:g}=await D.from("chat_group_members").insert({user_id:e.id,group_id:f[0].id,is_admin:!0,joined_at:new Date().toISOString()});if(g)throw new Error(`Failed to join new group: ${g.message}`);q.success("Created and joined General Chat group"),u=!0}}}return await o(),u}catch(l){return console.error("Error fixing chat issues:",l),q.error(`Failed to fix issues: ${l.message}`),!1}finally{s(!1)}},diagnosisResult:t,isFixing:n,clearDiagnosis:()=>r(null)}},Wf="px-4 py-2 bg-gradient-to-r from-indigo-500 to-rose-500 hover:opacity-90 text-white rounded-lg transition-colors font-medium",TU="px-4 py-2 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-white rounded-lg transition-colors font-medium",AU=()=>{const{user:e}=it(),{tWithTemplate:t}=ot(),r=st(),{runDiagnostics:n,fixIssues:s,diagnosisResult:o,isFixing:a}=PU(),[l,c]=h.useState(null),[u,d]=h.useState(!1),[f,m]=h.useState([]),[g,x]=h.useState(!1);h.useEffect(()=>{e&&(v(),w())},[e]);const v=async()=>{try{const{data:k,error:_}=await D.from("profiles").select("*").eq("id",e.id).single();if(_)throw _;c(k)}catch(k){console.error("Error fetching user profile:",k)}},w=async()=>{if(e){x(!0);try{const{data:k,error:_}=await D.from("chat_group_members").select(`
          id,
          group_id,
          is_admin,
          joined_at,
          chat_groups(
            id,
            name,
            description,
            avatar_url,
            is_public,
            created_at
          )
        `).eq("user_id",e.id);if(_)throw _;m(k||[])}catch(k){console.error("Error fetching group memberships:",k)}finally{x(!1)}}},p=async()=>{d(!0);try{await n(),w()}finally{d(!1)}},y=async()=>{await s()&&w()},b=k=>{switch(k){case"success":return i.jsx(K2,{className:"h-6 w-6 text-green-500"});case"error":return i.jsx(NT,{className:"h-6 w-6 text-red-500"});case"warning":return i.jsx(H2,{className:"h-6 w-6 text-yellow-500"});case"info":return i.jsx($T,{className:"h-6 w-6 text-blue-500"});default:return i.jsx(xc,{className:"h-6 w-6 text-gray-500"})}};return i.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-6",children:"Chat Diagnostics"}),l&&i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 mb-6",children:[i.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[i.jsx(Nr,{className:"mr-2"})," User Information"]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"text-gray-600 dark:text-gray-400 w-32",children:"User ID:"}),i.jsx("span",{className:"text-gray-900 dark:text-white font-mono text-sm",children:l.id})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"text-gray-600 dark:text-gray-400 w-32",children:"Name:"}),i.jsx("span",{className:"text-gray-900 dark:text-white",children:l.full_name})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"text-gray-600 dark:text-gray-400 w-32",children:"Email:"}),i.jsx("span",{className:"text-gray-900 dark:text-white",children:l.email})]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 mb-6",children:[i.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[i.jsx(We,{className:"mr-2"})," Group Memberships"]}),g?i.jsx("div",{className:"flex justify-center py-8",children:i.jsx(Ee,{size:"lg"})}):f.length===0?i.jsxs("div",{className:"text-center py-6 text-gray-500 dark:text-gray-400",children:[i.jsx("p",{children:"You are not a member of any chat groups."}),i.jsx("button",{onClick:p,className:`${Wf} mt-4`,disabled:u,children:u?i.jsxs("span",{className:"flex items-center",children:[i.jsx(Ee,{size:"sm",className:"mr-2"})," Running Diagnostics..."]}):i.jsxs("span",{className:"flex items-center",children:[i.jsx(xc,{className:"mr-2"})," Run Diagnostics"]})})]}):i.jsx("div",{className:"space-y-4",children:f.map(k=>i.jsxs("div",{className:"p-4 border dark:border-gray-700 rounded-lg",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center mr-3",children:k.chat_groups.avatar_url?i.jsx("img",{src:k.chat_groups.avatar_url,alt:k.chat_groups.name,className:"w-full h-full rounded-full object-cover"}):i.jsx(We,{className:"text-blue-600 dark:text-blue-400"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:k.chat_groups.name}),i.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[k.is_admin?"Admin":"Member","  Joined on ",new Date(k.joined_at).toLocaleDateString()]})]})]}),i.jsx("div",{className:"mt-3 text-sm text-gray-600 dark:text-gray-300",children:k.chat_groups.description||"No description provided"}),i.jsx("div",{className:"mt-3 flex",children:i.jsx("button",{onClick:()=>r(`/messages/group/${k.group_id}`),className:Wf,children:"Open Chat"})})]},k.id))})]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white flex items-center",children:[i.jsx(xc,{className:"mr-2"})," Diagnostics"]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{onClick:p,className:TU,disabled:u,children:u?i.jsxs("span",{className:"flex items-center",children:[i.jsx(Ee,{size:"sm",className:"mr-2"})," Running..."]}):i.jsxs("span",{className:"flex items-center",children:[i.jsx(J2,{className:"mr-2"})," Run Diagnostics"]})}),o&&i.jsx("button",{onClick:y,className:Wf,disabled:a||o.status==="success",children:a?i.jsxs("span",{className:"flex items-center",children:[i.jsx(Ee,{size:"sm",className:"mr-2"})," Fixing..."]}):"Auto-Fix Issues"})]})]}),o?i.jsxs("div",{children:[i.jsxs("div",{className:`p-4 rounded-lg mb-4 flex items-start ${o.status==="success"?"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-200":o.status==="error"?"bg-red-100 dark:bg-red-900/20 text-red-800 dark:text-red-200":o.status==="warning"?"bg-yellow-100 dark:bg-yellow-900/20 text-yellow-800 dark:text-yellow-200":"bg-blue-100 dark:bg-blue-900/20 text-blue-800 dark:text-blue-200"}`,children:[i.jsx("div",{className:"mr-3 mt-0.5",children:b(o.status)}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-1",children:o.message}),o.issues&&o.issues.length>0?i.jsx("ul",{className:"list-disc list-inside space-y-1 mt-2",children:o.issues.map((k,_)=>i.jsxs("li",{children:[k.message,k.details&&i.jsxs("span",{className:"text-sm opacity-75",children:[" (",k.details,")"]})]},_))}):o.status==="success"?i.jsx("p",{children:"All systems operational. Chat functionality is working correctly."}):null]})]}),o.publicGroups&&o.publicGroups.length>0&&i.jsxs("div",{className:"mt-4",children:[i.jsx("h3",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Available Public Groups:"}),i.jsx("ul",{className:"space-y-2",children:o.publicGroups.map(k=>i.jsxs("li",{className:"flex items-center",children:[i.jsx(We,{className:"mr-2 text-blue-500"}),k.name]},k.id))})]})]}):i.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[i.jsx("p",{children:"Run the diagnostics to check your chat access."}),i.jsx("p",{className:"mt-2 text-sm",children:"This will check if you can access chat groups and identify any issues."})]})]})]})},v4="https://ohserebigziyxlxpkaib.supabase.co",b4="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9oc2VyZWJpZ3ppeXhseHBrYWliIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTI3NDk0MTAsImV4cCI6MjAyODMyNTQxMH0.2mVOdgG-4QPVjVxqKshjFmcAyVELY6KYHtqlR-KLpvw",RU=rp(v4,b4,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!1}}),vb=()=>{const[e,t]=h.useState(!0),[r,n]=h.useState(null),[s,o]=h.useState(null),a=st(),l=c=>{if(!c||c.length<2)return null;const d=c.substring(1).split("&"),f={};return d.forEach(m=>{try{const[g,x]=m.split("=");g&&x&&(f[decodeURIComponent(g)]=decodeURIComponent(x.replace(/\+/g," ")))}catch(g){console.warn("AuthCallback: Failed to parse key-value pair in hash:",m,g)}}),f};return h.useEffect(()=>{let c=!0;return(async()=>{try{if(!c)return;t(!0),n(null),console.log("========================="),console.log("AuthCallbackPage: Processing OAuth callback (Reverted Version)"),console.log("CURRENT URL:",window.location.href),console.log("URL Hash:",window.location.hash),console.log("Environment check:"),console.log("- VITE_SUPABASE_URL:","https://ohserebigziyxlxpkaib.supabase.co"),console.log("- VITE_SUPABASE_KEY:","SET"),console.log("=========================");const d={timestamp:new Date().toISOString(),url:window.location.href,hash:window.location.hash,supabaseUrlUsed:v4,supabaseKeySet:!!b4,userAgent:navigator.userAgent,authMethodAttempted:"None"};o(d);try{d.authMethodAttempted="getSession",o({...d}),console.log("AuthCallback: Attempt 1 - Checking existing session...");const{data:f,error:m}=await D.auth.getSession();if(m)console.error("AuthCallback: Error getting session:",m);else if(f!=null&&f.session){console.log("AuthCallback: SUCCESS (Approach 1)! Valid session detected:",f.session.user.id),localStorage.setItem("auth_method","existing_session"),Z.success("Already signed in!"),a("/home",{replace:!0});return}else console.log("AuthCallback: No existing session found.")}catch(f){console.error("AuthCallback: getSession check error:",f)}try{d.authMethodAttempted="exchangeCodeForSession",o({...d}),console.log("AuthCallback: Attempt 2 - Trying exchangeCodeForSession...");const{error:f}=await D.auth.exchangeCodeForSession(window.location.href);if(f)console.error("AuthCallback: Error with exchangeCodeForSession:",f);else{const{data:m}=await D.auth.getSession();if(m!=null&&m.session){console.log("AuthCallback: SUCCESS (Approach 2)! Session obtained via code exchange:",m.session.user.id),localStorage.setItem("auth_method","code_exchange"),Z.success("Successfully signed in!"),a("/home",{replace:!0});return}else console.error("AuthCallback: exchangeCodeForSession succeeded but no session found afterwards.")}}catch(f){console.error("AuthCallback: exchangeCodeForSession error:",f)}if(window.location.hash)try{d.authMethodAttempted="manualHashParsing",o({...d}),console.log("AuthCallback: Attempt 3 - Processing hash fragment...");const f=l(window.location.hash);if(f&&f.access_token){console.log("AuthCallback: Found access_token in hash. Params:",Object.keys(f).join(", "));const m={access_token:f.access_token,refresh_token:f.refresh_token||""};console.log("AuthCallback: Calling setSession with tokens...");const{data:g,error:x}=await RU.auth.setSession(m);if(x)throw console.error("AuthCallback: Error setting session manually:",x),x;if(g!=null&&g.session){console.log("AuthCallback: SUCCESS (Approach 3)! Session set manually:",g.session.user.id),localStorage.setItem("auth_method","manual_hash"),await D.auth.setSession(m),Z.success("Successfully signed in!"),a("/home",{replace:!0});return}else console.error("AuthCallback: Manual setSession call did not return a session.")}else{if(f!=null&&f.error)throw console.error("AuthCallback: Error found in hash fragment:",f.error,f.error_description),new Error(`OAuth Provider Error: ${f.error_description||f.error}`);console.error("AuthCallback: No access_token or error found in hash.")}}catch(f){if(console.error("AuthCallback: Manual hash processing error:",f),f instanceof Error)throw f}else console.log("AuthCallback: No hash fragment present in URL.");throw console.error("AuthCallback: All authentication approaches failed."),new Error("Unable to establish session. Please try logging in again.")}catch(d){console.error("AuthCallbackPage: Fatal error during callback handling:",d),c&&(n(d.message||"An unknown error occurred during authentication."),t(!1),o(f=>({...f,error:d.message,finalStatus:"Failed"})))}})(),()=>{c=!1}},[a]),i.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-100 dark:bg-neutral-900 p-4",children:i.jsxs("div",{className:"text-center max-w-lg w-full",children:[e&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-rose-500 mx-auto mb-4"}),i.jsx("h1",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200 mb-2",children:"Processing Authentication..."}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Please wait while we verify your login."})]}),r&&i.jsxs(i.Fragment,{children:[i.jsx("svg",{className:"mx-auto h-12 w-12 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.jsx("h1",{className:"text-xl font-semibold text-red-600 dark:text-red-400 mt-4 mb-2",children:"Authentication Failed"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4 whitespace-pre-wrap",children:r}),i.jsx("button",{onClick:()=>a("/login",{replace:!0}),className:"mt-6 px-4 py-2 bg-rose-500 text-white rounded-md hover:bg-rose-600 transition-colors",children:"Return to Login"})]}),s&&i.jsxs("details",{className:"mt-6 text-left",children:[i.jsx("summary",{className:"cursor-pointer text-sm text-gray-500 dark:text-gray-400",children:"Show Debug Info"}),i.jsx("pre",{className:"mt-2 text-xs bg-gray-200 dark:bg-gray-800 p-3 rounded overflow-auto",children:JSON.stringify(s,null,2)})]})]})})},MU=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],DU=()=>{const{t:e}=Rr(),t=st(),{user:r,loading:n,setHasCompletedProfile:s,refreshUserData:o}=gi(),[a,l]=h.useState(""),[c,u]=h.useState(null),[d,f]=h.useState(null),[m,g]=h.useState(1),[x,v]=h.useState([]),[w,p]=h.useState(!1);h.useEffect(()=>{(async()=>{var F,C,I,P,O;if(n||!r){console.log("CompleteProfilePage: Skipping loadUserData - auth loading or no user.");return}try{console.log("CompleteProfilePage: Loading user data from user object:",r.id);const A=((F=r.user_metadata)==null?void 0:F.profile_completed)===!0;console.log("Profile complete in metadata:",A),(C=r.user_metadata)!=null&&C.full_name?(l(r.user_metadata.full_name),console.log("Loaded fullName from metadata:",r.user_metadata.full_name)):r.email&&(l(r.email.split("@")[0]),console.log("Set fallback fullName from email:",r.email.split("@")[0])),(I=r.user_metadata)!=null&&I.avatar_url&&(u(r.user_metadata.avatar_url),console.log("Loaded avatarUrl from metadata")),(P=r.user_metadata)!=null&&P.avatar_emoji&&(f(r.user_metadata.avatar_emoji),console.log("Loaded avatarEmoji from metadata")),(O=r.user_metadata)!=null&&O.interests&&Array.isArray(r.user_metadata.interests)&&(v(r.user_metadata.interests),console.log("Loaded interests from metadata:",r.user_metadata.interests));try{const{data:$,error:L}=await D.from("profiles").select("*").eq("id",r.id).maybeSingle();L&&L.code!=="PGRST116"&&console.error("Error loading profile data:",L),$&&(console.log("Found profile data in database"),$.full_name&&!a&&(l($.full_name),console.log("Loaded fullName from database:",$.full_name)),$.avatar_url&&!c&&(u($.avatar_url),console.log("Loaded avatarUrl from database")),$.avatar_emoji&&!d&&(f($.avatar_emoji),console.log("Loaded avatarEmoji from database")))}catch($){console.error("Error querying profiles database:",$)}try{const{data:$,error:L}=await D.from("user_interests").select("interest").eq("user_id",r.id);if(L&&console.error("Error loading interests:",L),$&&$.length>0&&x.length===0){const z=$.map(S=>S.interest);v(z),console.log("Loaded interests from database:",z)}}catch($){console.error("Error querying interests database:",$)}try{const{data:$,error:L}=await D.from("users").select("full_name, avatar_url, avatar_emoji, interests").eq("id",r.id).maybeSingle();L&&L.code!=="PGRST116"&&console.error("Error loading user data:",L),$&&(console.log("Found user data in database"),$.full_name&&!a&&(l($.full_name),console.log("Loaded fullName from users table:",$.full_name)),$.avatar_url&&!c&&(u($.avatar_url),console.log("Loaded avatarUrl from users table")),$.avatar_emoji&&!d&&(f($.avatar_emoji),console.log("Loaded avatarEmoji from users table")),$.interests&&Array.isArray($.interests)&&x.length===0&&(v($.interests),console.log("Loaded interests from users table:",$.interests)))}catch($){console.error("Error querying users database:",$)}}catch(A){console.error("Error in loadUserData:",A)}})()},[r,n]);const y=()=>{if(!a.trim()){q.error("Please enter your full name");return}if(!c&&!d){q.error("Please select an avatar or emoji");return}g(2)},b=async N=>{if(N.preventDefault(),!!r){if(x.length===0){q.error("Please select at least 1 interest");return}try{p(!0),console.log("CompleteProfilePage: Submitting profile data");const F=[];F.push(D.auth.updateUser({data:{full_name:a,avatar_url:c,avatar_emoji:d,interests:x,profile_completed:!0}}).then(({error:O})=>{O?console.error("Error updating auth metadata:",O):console.log("Auth metadata updated successfully")})),F.push(D.from("profiles").upsert({id:r.id,full_name:a,avatar_url:c,avatar_emoji:d,is_profile_complete:!0,updated_at:new Date().toISOString()},{onConflict:"id"}).then(({error:O})=>{O?console.error("Error updating profiles table:",O):console.log("Profiles table updated successfully")})),F.push(D.from("users").upsert({id:r.id,full_name:a,avatar_url:c,avatar_emoji:d,interests:x,profile_completed:!0,email:r.email},{onConflict:"id"}).then(({error:O})=>{O?console.error("Error updating users table:",O):console.log("Users table updated successfully")})),F.push(D.from("user_interests").delete().eq("user_id",r.id).then(async({error:O})=>{if(O)console.error("Error deleting existing interests:",O);else if(console.log("Existing interests deleted successfully"),x.length>0){const A=x.map(L=>({user_id:r.id,interest:L})),{error:$}=await D.from("user_interests").insert(A);$?console.error("Error inserting new interests:",$):console.log("New interests inserted successfully")}}));const C=await Promise.allSettled(F);console.log("Profile update results:",C);const I=C[0].status==="rejected",P=C[1].status==="rejected";I||P?q.error("Failed to save profile. Please try again."):(s(!0),q.success("Profile completed successfully!"),await o(),t("/"))}catch(F){console.error("Error submitting profile:",F),q.error("An error occurred while saving your profile.")}finally{p(!1)}}},k=async()=>{console.log("CompleteProfilePage: Skipping profile completion");try{await o(),s(!0),q.success("Profile completion skipped"),t("/home",{replace:!0})}catch(N){console.error("Error during skip process:",N),q.error("Could not skip profile completion, please try again."),t("/home",{replace:!0})}},_=(N,F)=>{N==="url"?(u(F),f(null)):N==="emoji"?(f(F),u(null)):N==="file"&&(F instanceof File?j(F):(u(F),f(null)))},j=async N=>{if(r){p(!0);try{const F=N.name.split(".").pop(),C=`${r.id}/avatar.${F}`,{error:I}=await D.storage.from("avatars").upload(C,N,{upsert:!0});if(I)throw I;const{data:P}=D.storage.from("avatars").getPublicUrl(C);P.publicUrl&&(u(P.publicUrl),f(null),q.success("Avatar uploaded!"))}catch(F){console.error("Error uploading avatar:",F),q.error("Failed to upload avatar.")}finally{p(!1)}}},E=N=>{v(F=>F.includes(N)?F.filter(C=>C!==N):F.length<10?[...F,N]:(q.error("You can select up to 10 interests."),F))};return n?i.jsx("div",{className:"flex justify-center items-center h-screen",children:"Loading session..."}):!n&&!r?(console.log("CompleteProfilePage: Auth loaded, but no user found. Redirecting to login."),h.useEffect(()=>{t("/login")},[t]),null):i.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white dark:bg-gray-900 p-4",children:i.jsxs("div",{className:"w-full max-w-2xl bg-white dark:bg-gray-800 rounded-xl shadow-xl p-8 space-y-8",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:m===1?"Complete Your Profile":"Select Your Interests"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:m===1?"Tell us about yourself":"Choose what you love (up to 10)"}),i.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-1.5 mt-4",children:i.jsx("div",{className:"bg-gradient-to-r from-rose-500 to-indigo-500 h-1.5 rounded-full transition-all duration-500 ease-out",style:{width:`${m===1?"50%":"100%"}`}})})]}),i.jsxs("form",{onSubmit:b,className:"space-y-6",children:[m===1&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Full Name *"}),i.jsx("input",{type:"text",id:"fullName",value:a,onChange:N=>l(N.target.value),placeholder:"Enter your full name",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-rose-500 focus:border-rose-500 dark:bg-gray-700 dark:text-white",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Choose Your Avatar *"}),i.jsx(hl,{userId:r==null?void 0:r.id,avatarUrl:c,avatarEmoji:d,fullName:a,size:"lg",editable:!0,onAvatarChange:_,suggestedEmojis:MU})]}),i.jsx(xe,{type:"button",onClick:y,className:"w-full",children:"Next: Select Interests"})]}),m===2&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Selected Interests (",x.length,"/10)"]}),x.length>0&&i.jsx("div",{className:"mb-4 flex flex-wrap gap-2 p-2 border border-blue-200 dark:border-blue-800 bg-blue-50 dark:bg-blue-900/30 rounded-lg",children:x.map(N=>i.jsx("button",{onClick:()=>E(N),className:"px-2 py-1 bg-blue-50 dark:bg-blue-800 text-blue-700 dark:text-blue-300 rounded-md hover:bg-blue-100 dark:hover:bg-blue-700",children:N},`${N}-${Math.random()}`))})]}),i.jsx("div",{className:"max-h-60 overflow-y-auto p-3 border border-gray-200 dark:border-gray-700 rounded-lg scrollbar-thin scrollbar-thumb-gray-400 dark:scrollbar-thumb-gray-600 scrollbar-track-gray-100 dark:scrollbar-track-gray-800",children:i.jsx("div",{className:"flex flex-wrap gap-2",children:WS.map(N=>i.jsx("button",{type:"button",onClick:()=>E(N),disabled:x.includes(N),className:`px-3 py-1.5 rounded-full text-sm transition-all duration-200 ${x.includes(N)?"bg-gray-300 text-gray-500 cursor-not-allowed dark:bg-gray-600 dark:text-gray-400 opacity-70":"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300 hover:bg-gradient-to-r hover:from-rose-100 hover:to-indigo-100 dark:hover:from-rose-900/50 dark:hover:to-indigo-900/50 hover:shadow"}`,children:N},N))})}),i.jsx("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:"Select at least one interest to help us connect you with relevant content."}),i.jsxs("div",{className:"flex justify-between gap-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[i.jsx(xe,{type:"button",onClick:()=>g(1),variant:"secondary",children:"Back"}),i.jsx(xe,{type:"submit",disabled:w||x.length===0,className:"min-w-[120px]",children:w?i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Finishing..."]}):"Finish Setup"})]})]})]}),i.jsx(xe,{type:"button",variant:"secondary",onClick:k,className:"w-full text-center text-xs text-gray-500 dark:text-gray-400 hover:text-rose-600 dark:hover:text-rose-400 mt-2",children:"Skip for now"})]})})},$r=h.forwardRef(({className:e,type:t,...r},n)=>i.jsx("input",{type:t,className:je("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));$r.displayName="Input";const v0=h.forwardRef(({className:e,...t},r)=>i.jsx("textarea",{className:je("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm transition-colors placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));v0.displayName="Textarea";var LU="Label",w4=h.forwardRef((e,t)=>i.jsx(Ne.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));w4.displayName=LU;var _4=w4;const OU=$k("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Wt=h.forwardRef(({className:e,...t},r)=>i.jsx(_4,{ref:r,className:je(OU(),e),...t}));Wt.displayName=_4.displayName;function bb(e,[t,r]){return Math.min(r,Math.max(t,e))}var k4=h.forwardRef((e,t)=>{const{children:r,...n}=e,s=h.Children.toArray(r),o=s.find(FU);if(o){const a=o.props.children,l=s.map(c=>c===o?h.Children.count(a)>1?h.Children.only(null):h.isValidElement(a)?a.props.children:null:c);return i.jsx(Gm,{...n,ref:t,children:h.isValidElement(a)?h.cloneElement(a,void 0,l):null})}return i.jsx(Gm,{...n,ref:t,children:r})});k4.displayName="Slot";var Gm=h.forwardRef((e,t)=>{const{children:r,...n}=e;if(h.isValidElement(r)){const s=UU(r),o=$U(n,r.props);return r.type!==h.Fragment&&(o.ref=t?Js(t,s):s),h.cloneElement(r,o)}return h.Children.count(r)>1?h.Children.only(null):null});Gm.displayName="SlotClone";var IU=({children:e})=>i.jsx(i.Fragment,{children:e});function FU(e){return h.isValidElement(e)&&e.type===IU}function $U(e,t){const r={...t};for(const n in t){const s=e[n],o=t[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...l)=>{o(...l),s(...l)}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...e,...r}}function UU(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function zU(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var BU="VisuallyHidden",S4=h.forwardRef((e,t)=>i.jsx(Ne.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));S4.displayName=BU;var VU=[" ","Enter","ArrowUp","ArrowDown"],GU=[" ","Enter"],vl="Select",[Nd,Cd,qU]=e0(vl),[_i,fq]=Xs(vl,[qU,_d]),Ed=_d(),[WU,us]=_i(vl),[HU,KU]=_i(vl),j4=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:o,value:a,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:m,required:g,form:x}=e,v=Ed(t),[w,p]=h.useState(null),[y,b]=h.useState(null),[k,_]=h.useState(!1),j=t0(u),[E=!1,N]=fu({prop:n,defaultProp:s,onChange:o}),[F,C]=fu({prop:a,defaultProp:l,onChange:c}),I=h.useRef(null),P=w?x||!!w.closest("form"):!0,[O,A]=h.useState(new Set),$=Array.from(O).map(L=>L.props.value).join(";");return i.jsx(gj,{...v,children:i.jsxs(WU,{required:g,scope:t,trigger:w,onTriggerChange:p,valueNode:y,onValueNodeChange:b,valueNodeHasChildren:k,onValueNodeHasChildrenChange:_,contentId:Rs(),value:F,onValueChange:C,open:E,onOpenChange:N,dir:j,triggerPointerDownPosRef:I,disabled:m,children:[i.jsx(Nd.Provider,{scope:t,children:i.jsx(HU,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback(L=>{A(z=>new Set(z).add(L))},[]),onNativeOptionRemove:h.useCallback(L=>{A(z=>{const S=new Set(z);return S.delete(L),S})},[]),children:r})}),P?i.jsxs(J4,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:f,value:F,onChange:L=>C(L.target.value),disabled:m,form:x,children:[F===void 0?i.jsx("option",{value:""}):null,Array.from(O)]},$):null]})})};j4.displayName=vl;var N4="SelectTrigger",C4=h.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,o=Ed(r),a=us(N4,r),l=a.disabled||n,c=De(t,a.onTriggerChange),u=Cd(r),d=h.useRef("touch"),[f,m,g]=X4(v=>{const w=u().filter(b=>!b.disabled),p=w.find(b=>b.value===a.value),y=Q4(w,v,p);y!==void 0&&a.onValueChange(y.value)}),x=v=>{l||(a.onOpenChange(!0),g()),v&&(a.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return i.jsx(pj,{asChild:!0,...o,children:i.jsx(Ne.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Y4(a.value)?"":void 0,...s,ref:c,onClick:de(s.onClick,v=>{v.currentTarget.focus(),d.current!=="mouse"&&x(v)}),onPointerDown:de(s.onPointerDown,v=>{d.current=v.pointerType;const w=v.target;w.hasPointerCapture(v.pointerId)&&w.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(x(v),v.preventDefault())}),onKeyDown:de(s.onKeyDown,v=>{const w=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&m(v.key),!(w&&v.key===" ")&&VU.includes(v.key)&&(x(),v.preventDefault())})})})});C4.displayName=N4;var E4="SelectValue",P4=h.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:o,placeholder:a="",...l}=e,c=us(E4,r),{onValueNodeHasChildrenChange:u}=c,d=o!==void 0,f=De(t,c.onValueNodeChange);return Dt(()=>{u(d)},[u,d]),i.jsx(Ne.span,{...l,ref:f,style:{pointerEvents:"none"},children:Y4(c.value)?i.jsx(i.Fragment,{children:a}):o})});P4.displayName=E4;var YU="SelectIcon",T4=h.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return i.jsx(Ne.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});T4.displayName=YU;var JU="SelectPortal",A4=e=>i.jsx(hd,{asChild:!0,...e});A4.displayName=JU;var Vs="SelectContent",R4=h.forwardRef((e,t)=>{const r=us(Vs,e.__scopeSelect),[n,s]=h.useState();if(Dt(()=>{s(new DocumentFragment)},[]),!r.open){const o=n;return o?ui.createPortal(i.jsx(M4,{scope:e.__scopeSelect,children:i.jsx(Nd.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),o):null}return i.jsx(D4,{...e,ref:t})});R4.displayName=Vs;var br=10,[M4,ds]=_i(Vs),XU="SelectContentImpl",D4=h.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:g,sticky:x,hideWhenDetached:v,avoidCollisions:w,...p}=e,y=us(Vs,r),[b,k]=h.useState(null),[_,j]=h.useState(null),E=De(t,R=>k(R)),[N,F]=h.useState(null),[C,I]=h.useState(null),P=Cd(r),[O,A]=h.useState(!1),$=h.useRef(!1);h.useEffect(()=>{if(b)return Wp(b)},[b]),qp();const L=h.useCallback(R=>{const[G,...X]=P().map(K=>K.ref.current),[H]=X.slice(-1),Y=document.activeElement;for(const K of R)if(K===Y||(K==null||K.scrollIntoView({block:"nearest"}),K===G&&_&&(_.scrollTop=0),K===H&&_&&(_.scrollTop=_.scrollHeight),K==null||K.focus(),document.activeElement!==Y))return},[P,_]),z=h.useCallback(()=>L([N,b]),[L,N,b]);h.useEffect(()=>{O&&z()},[O,z]);const{onOpenChange:S,triggerPointerDownPosRef:M}=y;h.useEffect(()=>{if(b){let R={x:0,y:0};const G=H=>{var Y,K;R={x:Math.abs(Math.round(H.pageX)-(((Y=M.current)==null?void 0:Y.x)??0)),y:Math.abs(Math.round(H.pageY)-(((K=M.current)==null?void 0:K.y)??0))}},X=H=>{R.x<=10&&R.y<=10?H.preventDefault():b.contains(H.target)||S(!1),document.removeEventListener("pointermove",G),M.current=null};return M.current!==null&&(document.addEventListener("pointermove",G),document.addEventListener("pointerup",X,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",G),document.removeEventListener("pointerup",X,{capture:!0})}}},[b,S,M]),h.useEffect(()=>{const R=()=>S(!1);return window.addEventListener("blur",R),window.addEventListener("resize",R),()=>{window.removeEventListener("blur",R),window.removeEventListener("resize",R)}},[S]);const[T,B]=X4(R=>{const G=P().filter(Y=>!Y.disabled),X=G.find(Y=>Y.ref.current===document.activeElement),H=Q4(G,R,X);H&&setTimeout(()=>H.ref.current.focus())}),V=h.useCallback((R,G,X)=>{const H=!$.current&&!X;(y.value!==void 0&&y.value===G||H)&&(F(R),H&&($.current=!0))},[y.value]),re=h.useCallback(()=>b==null?void 0:b.focus(),[b]),se=h.useCallback((R,G,X)=>{const H=!$.current&&!X;(y.value!==void 0&&y.value===G||H)&&I(R)},[y.value]),fe=n==="popper"?qm:L4,oe=fe===qm?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:g,sticky:x,hideWhenDetached:v,avoidCollisions:w}:{};return i.jsx(M4,{scope:r,content:b,viewport:_,onViewportChange:j,itemRefCallback:V,selectedItem:N,onItemLeave:re,itemTextRefCallback:se,focusSelectedItem:z,selectedItemText:C,position:n,isPositioned:O,searchRef:T,children:i.jsx(gd,{as:k4,allowPinchZoom:!0,children:i.jsx(fd,{asChild:!0,trapped:y.open,onMountAutoFocus:R=>{R.preventDefault()},onUnmountAutoFocus:de(s,R=>{var G;(G=y.trigger)==null||G.focus({preventScroll:!0}),R.preventDefault()}),children:i.jsx(dd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:R=>R.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:i.jsx(fe,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:R=>R.preventDefault(),...p,...oe,onPlaced:()=>A(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...p.style},onKeyDown:de(p.onKeyDown,R=>{const G=R.ctrlKey||R.altKey||R.metaKey;if(R.key==="Tab"&&R.preventDefault(),!G&&R.key.length===1&&B(R.key),["ArrowUp","ArrowDown","Home","End"].includes(R.key)){let H=P().filter(Y=>!Y.disabled).map(Y=>Y.ref.current);if(["ArrowUp","End"].includes(R.key)&&(H=H.slice().reverse()),["ArrowUp","ArrowDown"].includes(R.key)){const Y=R.target,K=H.indexOf(Y);H=H.slice(K+1)}setTimeout(()=>L(H)),R.preventDefault()}})})})})})})});D4.displayName=XU;var QU="SelectItemAlignedPosition",L4=h.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,o=us(Vs,r),a=ds(Vs,r),[l,c]=h.useState(null),[u,d]=h.useState(null),f=De(t,E=>d(E)),m=Cd(r),g=h.useRef(!1),x=h.useRef(!0),{viewport:v,selectedItem:w,selectedItemText:p,focusSelectedItem:y}=a,b=h.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&u&&v&&w&&p){const E=o.trigger.getBoundingClientRect(),N=u.getBoundingClientRect(),F=o.valueNode.getBoundingClientRect(),C=p.getBoundingClientRect();if(o.dir!=="rtl"){const Y=C.left-N.left,K=F.left-Y,U=E.left-K,J=E.width+U,ne=Math.max(J,N.width),ae=window.innerWidth-br,ue=bb(K,[br,Math.max(br,ae-ne)]);l.style.minWidth=J+"px",l.style.left=ue+"px"}else{const Y=N.right-C.right,K=window.innerWidth-F.right-Y,U=window.innerWidth-E.right-K,J=E.width+U,ne=Math.max(J,N.width),ae=window.innerWidth-br,ue=bb(K,[br,Math.max(br,ae-ne)]);l.style.minWidth=J+"px",l.style.right=ue+"px"}const I=m(),P=window.innerHeight-br*2,O=v.scrollHeight,A=window.getComputedStyle(u),$=parseInt(A.borderTopWidth,10),L=parseInt(A.paddingTop,10),z=parseInt(A.borderBottomWidth,10),S=parseInt(A.paddingBottom,10),M=$+L+O+S+z,T=Math.min(w.offsetHeight*5,M),B=window.getComputedStyle(v),V=parseInt(B.paddingTop,10),re=parseInt(B.paddingBottom,10),se=E.top+E.height/2-br,fe=P-se,oe=w.offsetHeight/2,R=w.offsetTop+oe,G=$+L+R,X=M-G;if(G<=se){const Y=I.length>0&&w===I[I.length-1].ref.current;l.style.bottom="0px";const K=u.clientHeight-v.offsetTop-v.offsetHeight,U=Math.max(fe,oe+(Y?re:0)+K+z),J=G+U;l.style.height=J+"px"}else{const Y=I.length>0&&w===I[0].ref.current;l.style.top="0px";const U=Math.max(se,$+v.offsetTop+(Y?V:0)+oe)+X;l.style.height=U+"px",v.scrollTop=G-se+v.offsetTop}l.style.margin=`${br}px 0`,l.style.minHeight=T+"px",l.style.maxHeight=P+"px",n==null||n(),requestAnimationFrame(()=>g.current=!0)}},[m,o.trigger,o.valueNode,l,u,v,w,p,o.dir,n]);Dt(()=>b(),[b]);const[k,_]=h.useState();Dt(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const j=h.useCallback(E=>{E&&x.current===!0&&(b(),y==null||y(),x.current=!1)},[b,y]);return i.jsx(ez,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:j,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:i.jsx(Ne.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});L4.displayName=QU;var ZU="SelectPopperPosition",qm=h.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=br,...o}=e,a=Ed(r);return i.jsx(yj,{...a,...o,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});qm.displayName=ZU;var[ez,b0]=_i(Vs,{}),Wm="SelectViewport",O4=h.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,o=ds(Wm,r),a=b0(Wm,r),l=De(t,o.onViewportChange),c=h.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),i.jsx(Nd.Slot,{scope:r,children:i.jsx(Ne.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:de(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=a;if(m!=null&&m.current&&f){const g=Math.abs(c.current-d.scrollTop);if(g>0){const x=window.innerHeight-br*2,v=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),p=Math.max(v,w);if(p<x){const y=p+g,b=Math.min(x,y),k=y-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=k>0?k:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});O4.displayName=Wm;var I4="SelectGroup",[tz,rz]=_i(I4),nz=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Rs();return i.jsx(tz,{scope:r,id:s,children:i.jsx(Ne.div,{role:"group","aria-labelledby":s,...n,ref:t})})});nz.displayName=I4;var F4="SelectLabel",$4=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=rz(F4,r);return i.jsx(Ne.div,{id:s.id,...n,ref:t})});$4.displayName=F4;var ju="SelectItem",[sz,U4]=_i(ju),z4=h.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:o,...a}=e,l=us(ju,r),c=ds(ju,r),u=l.value===n,[d,f]=h.useState(o??""),[m,g]=h.useState(!1),x=De(t,y=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,y,n,s)}),v=Rs(),w=h.useRef("touch"),p=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(sz,{scope:r,value:n,disabled:s,textId:v,isSelected:u,onItemTextChange:h.useCallback(y=>{f(b=>b||((y==null?void 0:y.textContent)??"").trim())},[]),children:i.jsx(Nd.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:i.jsx(Ne.div,{role:"option","aria-labelledby":v,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...a,ref:x,onFocus:de(a.onFocus,()=>g(!0)),onBlur:de(a.onBlur,()=>g(!1)),onClick:de(a.onClick,()=>{w.current!=="mouse"&&p()}),onPointerUp:de(a.onPointerUp,()=>{w.current==="mouse"&&p()}),onPointerDown:de(a.onPointerDown,y=>{w.current=y.pointerType}),onPointerMove:de(a.onPointerMove,y=>{var b;w.current=y.pointerType,s?(b=c.onItemLeave)==null||b.call(c):w.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:de(a.onPointerLeave,y=>{var b;y.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:de(a.onKeyDown,y=>{var k;((k=c.searchRef)==null?void 0:k.current)!==""&&y.key===" "||(GU.includes(y.key)&&p(),y.key===" "&&y.preventDefault())})})})})});z4.displayName=ju;var Xi="SelectItemText",B4=h.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...o}=e,a=us(Xi,r),l=ds(Xi,r),c=U4(Xi,r),u=KU(Xi,r),[d,f]=h.useState(null),m=De(t,p=>f(p),c.onItemTextChange,p=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,p,c.value,c.disabled)}),g=d==null?void 0:d.textContent,x=h.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:v,onNativeOptionRemove:w}=u;return Dt(()=>(v(x),()=>w(x)),[v,w,x]),i.jsxs(i.Fragment,{children:[i.jsx(Ne.span,{id:c.textId,...o,ref:m}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?ui.createPortal(o.children,a.valueNode):null]})});B4.displayName=Xi;var V4="SelectItemIndicator",G4=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return U4(V4,r).isSelected?i.jsx(Ne.span,{"aria-hidden":!0,...n,ref:t}):null});G4.displayName=V4;var Hm="SelectScrollUpButton",q4=h.forwardRef((e,t)=>{const r=ds(Hm,e.__scopeSelect),n=b0(Hm,e.__scopeSelect),[s,o]=h.useState(!1),a=De(t,n.onScrollButtonChange);return Dt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;o(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?i.jsx(H4,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});q4.displayName=Hm;var Km="SelectScrollDownButton",W4=h.forwardRef((e,t)=>{const r=ds(Km,e.__scopeSelect),n=b0(Km,e.__scopeSelect),[s,o]=h.useState(!1),a=De(t,n.onScrollButtonChange);return Dt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;o(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?i.jsx(H4,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});W4.displayName=Km;var H4=h.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,o=ds("SelectScrollButton",r),a=h.useRef(null),l=Cd(r),c=h.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return h.useEffect(()=>()=>c(),[c]),Dt(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),i.jsx(Ne.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:de(s.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(n,50))}),onPointerMove:de(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),a.current===null&&(a.current=window.setInterval(n,50))}),onPointerLeave:de(s.onPointerLeave,()=>{c()})})}),oz="SelectSeparator",K4=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return i.jsx(Ne.div,{"aria-hidden":!0,...n,ref:t})});K4.displayName=oz;var Ym="SelectArrow",iz=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Ed(r),o=us(Ym,r),a=ds(Ym,r);return o.open&&a.position==="popper"?i.jsx(xj,{...s,...n,ref:t}):null});iz.displayName=Ym;function Y4(e){return e===""||e===void 0}var J4=h.forwardRef((e,t)=>{const{value:r,...n}=e,s=h.useRef(null),o=De(t,s),a=zU(r);return h.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==r&&d){const f=new Event("change",{bubbles:!0});d.call(l,r),l.dispatchEvent(f)}},[a,r]),i.jsx(S4,{asChild:!0,children:i.jsx("select",{...n,ref:o,defaultValue:r})})});J4.displayName="BubbleSelect";function X4(e){const t=Zt(e),r=h.useRef(""),n=h.useRef(0),s=h.useCallback(a=>{const l=r.current+a;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),o=h.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,o]}function Q4(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let a=az(e,Math.max(o,0));s.length===1&&(a=a.filter(u=>u!==r));const c=a.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function az(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var lz=j4,Z4=C4,cz=P4,uz=T4,dz=A4,eN=R4,fz=O4,tN=$4,rN=z4,hz=B4,mz=G4,nN=q4,sN=W4,oN=K4;const iN=lz,aN=cz,w0=h.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(Z4,{ref:n,className:je("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,i.jsx(uz,{asChild:!0,children:i.jsx(Qk,{className:"h-4 w-4 opacity-50"})})]}));w0.displayName=Z4.displayName;const lN=h.forwardRef(({className:e,...t},r)=>i.jsx(nN,{ref:r,className:je("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(rO,{className:"h-4 w-4"})}));lN.displayName=nN.displayName;const cN=h.forwardRef(({className:e,...t},r)=>i.jsx(sN,{ref:r,className:je("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(Qk,{className:"h-4 w-4"})}));cN.displayName=sN.displayName;const _0=h.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>i.jsx(dz,{children:i.jsxs(eN,{ref:s,className:je("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[i.jsx(lN,{}),i.jsx(fz,{className:je("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(cN,{})]})}));_0.displayName=eN.displayName;const gz=h.forwardRef(({className:e,...t},r)=>i.jsx(tN,{ref:r,className:je("px-2 py-1.5 text-sm font-semibold",e),...t}));gz.displayName=tN.displayName;const k0=h.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(rN,{ref:n,className:je("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[i.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(mz,{children:i.jsx(Xk,{className:"h-4 w-4"})})}),i.jsx(hz,{children:t})]}));k0.displayName=rN.displayName;const pz=h.forwardRef(({className:e,...t},r)=>i.jsx(oN,{ref:r,className:je("-mx-1 my-1 h-px bg-muted",e),...t}));pz.displayName=oN.displayName;const yz=["technology","business","education","entertainment","health","sports","travel","art","food","music"],xz=()=>{const{t:e}=ot(),t=st(),[r,n]=h.useState(""),[s,o]=h.useState(null),[a,l]=h.useState(!1),{user:c}=gi(),u=h.useRef(null),[d,f]=h.useState({name:"",description:"",category:"technology",isPrivate:!1}),m=p=>{const{name:y,value:b,type:k}=p.target;f(_=>({..._,[y]:k==="checkbox"?p.target.checked:b}))},g=()=>{u.current&&u.current.click()},x=p=>{if(p.target.files&&p.target.files[0]){const y=p.target.files[0];if(y.size>5*1024*1024){Z.error("Image must be less than 5MB");return}if(!y.type.startsWith("image/")){Z.error("File must be an image");return}o(y);const b=new FileReader;b.onload=k=>{var _;(_=k.target)!=null&&_.result&&n(k.target.result)},b.readAsDataURL(y)}},v=p=>{p.stopPropagation(),n(""),o(null),u.current&&(u.current.value="")},w=async p=>{if(p.preventDefault(),!c){Z.error(e("errors.loginRequiredGroup")||"You must be logged in to create a group");return}if(!d.name.trim()){Z.error(e("errors.groupNameRequired")||"Group name is required");return}if(!d.category){Z.error(e("errors.groupCategoryRequired")||"Please select a category for the group");return}try{l(!0),console.log("Starting group creation with user:",c.id),console.log("Refreshing session before group creation...");try{const{error:P}=await D.auth.refreshSession();P&&console.warn("Session refresh attempt failed:",P.message)}catch(P){console.warn("Exception during session refresh:",P)}console.log("Re-verifying session before insert...");const{data:y,error:b}=await D.auth.getSession();if(b||!y.session){console.error("Session invalid right before insert:",b),Z.error("Authentication session problem. Please log in again."),l(!1);return}const k=y.session.user.id;console.log("Current authenticated user ID for group creation:",k),k!==c.id&&console.warn("User ID mismatch detected before insert! Using latest session ID.");let _="";if(s)try{const P=s.name.split(".").pop(),A=`group_images/${`${Math.random().toString(36).substring(2,15)}.${P}`}`;console.log("Uploading image:",A);const{error:$}=await D.storage.from("images").upload(A,s,{cacheControl:"3600",upsert:!1});if($){console.error("Error uploading image:",$),$.message.includes("File size limit")?Z.error("Image must be less than 5MB"):$.message.includes("Invalid file type")?Z.error("File must be an image (PNG, JPG, GIF)"):Z.error("Failed to upload image. Please try again.");return}const{data:{publicUrl:L}}=D.storage.from("images").getPublicUrl(A);_=L,console.log("Image uploaded successfully:",_)}catch(P){console.error("Error in image upload:",P),Z.error("Failed to upload image. Please try again.");return}const j={name:d.name.trim(),description:d.description.trim(),category:d.category,privacy:d.isPrivate?"private":"public",image_url:_,created_by:k,created_at:new Date().toISOString()};console.log("Creating group with data:",j);let E;const{data:N,error:F}=await D.from("groups").insert(j).select().single();if(F){if(console.error("Error creating group:",F),console.error("Error details:",{code:F.code,message:F.message,details:F.details,hint:F.hint}),F.code==="23505")Z.error("A group with this name already exists");else if(F.message.includes("created_by")){const{data:P,error:O}=await D.from("groups").insert({...j,created_by:null}).select().single();if(O){console.error("Error in retry:",O),Z.error("Failed to create group. Please try again.");return}const{error:A}=await D.from("groups").update({created_by:c.id}).eq("id",P.id);if(A){console.error("Error updating creator:",A),Z.error("Failed to set group creator. Please try again.");return}E=P}else F.message.includes("is_private")?Z.error("Error: Unable to set group privacy. Please try again."):F.message.includes("rules")?Z.error("Error: Unable to set group rules. Please try again."):F.message.includes("permission denied")?Z.error("Error: You do not have permission to create groups."):Z.error(`Failed to create group: ${F.message}`);return}E=N,console.log("Group created successfully:",E),console.log("Adding creator as member:",{group_id:E.id,user_id:c.id});const{error:C}=await D.rpc("create_group_member",{p_group_id:E.id,p_user_id:c.id,p_role:"admin",p_status:"approved"});if(C){console.error("Error adding creator as member:",C),console.error("Error details:",{code:C.code,message:C.message,details:C.details,hint:C.hint}),await D.from("groups").delete().eq("id",E.id),Z.error("Failed to set up group membership. Please try again.");return}const{error:I}=await D.from("groups").update({member_count:1}).eq("id",E.id);I&&console.error("Error updating member count:",I),Z.success(e("success.groupCreated")||"Group created successfully!"),window.location.href=`/groups/${E.id}/chat`}catch(y){console.error("Error in handleSubmit:",y),Z.error(`${e("errors.groupCreationFailed")||"Failed to create group"}: ${y.message}`)}finally{l(!1)}};return i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 max-w-4xl mx-auto my-6",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-8",children:e("createGroup.title")||"Create a New Group"}),i.jsxs("form",{onSubmit:w,className:"space-y-8",children:[i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{onClick:g,className:`relative w-full max-w-2xl h-64 border-2 border-dashed ${r?"border-transparent":"border-gray-300 dark:border-gray-600"} rounded-lg flex items-center justify-center cursor-pointer overflow-hidden`,children:r?i.jsxs(i.Fragment,{children:[i.jsx("img",{src:r,alt:"Group",className:"w-full h-full object-cover"}),i.jsx("button",{type:"button",onClick:v,className:"absolute top-3 right-3 bg-red-500 text-white rounded-full p-2 hover:bg-red-600 shadow-lg",children:i.jsx(cn,{size:20})})]}):i.jsxs("div",{className:"text-center p-6",children:[i.jsx(np,{className:"mx-auto h-16 w-16 text-gray-400"}),i.jsx("p",{className:"mt-4 text-base text-gray-500 dark:text-gray-400",children:"Click to upload group image"}),i.jsx("p",{className:"mt-2 text-sm text-gray-400 dark:text-gray-500",children:"PNG, JPG, GIF up to 5MB"})]})}),i.jsx("input",{type:"file",ref:u,onChange:x,accept:"image/*",className:"hidden"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx(Wt,{htmlFor:"name",className:"block text-base font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("createGroup.nameLabel")||"Group Name *"}),i.jsx($r,{type:"text",id:"name",name:"name",value:d.name,onChange:m,placeholder:e("createGroup.namePlaceholder")||"E.g., Tech Enthusiasts, Book Club",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white text-base",required:!0})]}),i.jsxs("div",{children:[i.jsx(Wt,{htmlFor:"category",className:"block text-base font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("createGroup.categoryLabel")||"Category"}),i.jsxs(iN,{onValueChange:p=>f({...d,category:p}),value:d.category,disabled:a,children:[i.jsx(w0,{className:"w-full",children:i.jsx(aN,{placeholder:e("createGroup.categoryPlaceholder")||"Select a category..."})}),i.jsx(_0,{children:yz.map(p=>i.jsx(k0,{value:p,children:e(`groups.categories.${p}`)||p.charAt(0).toUpperCase()+p.slice(1)},p))})]})]}),i.jsxs("div",{className:"flex items-center mt-8 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[i.jsx("input",{type:"checkbox",id:"isPrivate",name:"isPrivate",checked:d.isPrivate,onChange:m,className:"h-5 w-5 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),i.jsx("label",{htmlFor:"isPrivate",className:"ml-3 block text-base text-gray-700 dark:text-gray-300",children:e("createGroup.visibilityLabel")||"Visibility"})]})]}),i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{children:[i.jsx(Wt,{htmlFor:"description",className:"block text-base font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("createGroup.descriptionLabel")||"Description"}),i.jsx(v0,{id:"description",name:"description",value:d.description,onChange:m,placeholder:e("createGroup.descriptionPlaceholder")||"What is this group about?",rows:8,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white text-base"})]})})]}),i.jsxs("div",{className:"flex justify-end space-x-4 mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:[i.jsx(xe,{type:"button",onClick:()=>t("/groups"),variant:"outline",disabled:a,children:e("buttons.cancel")||"Cancel"}),i.jsx(xe,{type:"submit",disabled:a,className:`px-6 py-3 ${a?"bg-gray-400":"bg-gradient-to-r from-indigo-500 to-rose-500 hover:opacity-90"} text-white rounded-lg transition-colors flex items-center justify-center font-medium text-base min-w-[120px]`,children:a?i.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):e("createGroup.createButton")||"Create Group"})]})]})]})},Or=["https://images.unsplash.com/photo-1523580494863-6f3031224c94?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2340&q=80","https://images.unsplash.com/photo-1519389950473-47ba0277781c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2340&q=80","https://images.unsplash.com/photo-1517245386807-bb43f82c33c4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2340&q=80","https://images.unsplash.com/photo-1522202176988-66273c2fd55f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2340&q=80","https://images.unsplash.com/photo-1517048676732-d65bc937f952?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2340&q=80","https://images.unsplash.com/photo-1511632765486-a01980e01a18?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2340&q=80"],vz=["technology","business","education","entertainment","health","sports","travel","art","food","music"],nc={technology:"",business:"",education:"",entertainment:"",health:"",sports:"",travel:"",art:"",food:"",music:"",all:""},bz=()=>{const{tWithTemplate:e}=ot(),{user:t}=it(),r=st(),[n,s]=h.useState([]),[o,a]=h.useState(!0),[l,c]=h.useState(null),[u,d]=h.useState(""),[f,m]=h.useState("all"),[g,x]=h.useState(null),[v,w]=h.useState("all"),[p,y]=h.useState(!1);h.useEffect(()=>{if(t!=null&&t.id)try{console.log("Loading memberships from localStorage...");const P=localStorage.getItem("groupMemberships");if(P){const O=JSON.parse(P);console.log("Loaded memberships:",O),localStorage.setItem("membershipDataLoaded","true")}}catch(P){console.warn("Error loading group memberships from localStorage:",P)}},[t==null?void 0:t.id]),h.useEffect(()=>(v==="all"?b():k(),()=>{localStorage.removeItem("membershipDataLoaded")}),[t,v]);const b=async()=>{if(!t){console.log("No user, skipping fetchGroups");return}a(!0),c(null);try{console.log("Fetching groups...");const{data:P,error:O}=await D.rpc("get_user_groups",{p_user_id:t.id});if(O){console.error("Error fetching groups via RPC:",O),console.log("Falling back to direct table queries...");const{data:A,error:$}=await D.from("groups").select("*");if($)throw console.error("Error fetching all groups:",$),$;console.log("Fetched all groups:",A);const{data:L,error:z}=await D.from("group_members").select("group_id, role").eq("user_id",t.id);z&&console.error("Error fetching group memberships:",z),console.log("Fetched group memberships from group_members:",L);const{data:S,error:M}=await D.from("chat_group_members").select("group_id, is_admin").eq("user_id",t.id);M&&console.error("Error fetching chat group memberships:",M),console.log("Fetched group memberships from chat_group_members:",S);const T=new Map;L&&L.forEach(V=>{T.set(V.group_id,{is_member:!0,role:V.role})}),S&&S.forEach(V=>{T.set(V.group_id,{is_member:!0,role:V.is_admin?"admin":"member"})}),console.log("Combined membership map:",Object.fromEntries(T));const B=(A||[]).map(V=>{const re=T.get(V.id);return{...V,is_member:!!re,is_admin:(re==null?void 0:re.role)==="admin",member_count:0}});console.log("Processed groups with membership info:",B),s(B),B.length>0&&_(B),B.length||E();return}if(console.log("Fetched groups via RPC:",P),P&&P.length>0){const A=P.map($=>({...$,is_member:!0,member_count:$.member_count||0}));s(A)}else s([]),E()}catch(P){console.error("Error in fetchGroups:",P),c(P.message),E()}finally{a(!1)}},k=async()=>{try{if(a(!0),c(null),!(t!=null&&t.id)){console.log("User not authenticated, skipping my groups fetch"),s([]),a(!1);return}console.log("Fetching my groups from Supabase...");const{data:P,error:O}=await D.from("group_members").select("group_id, role").eq("user_id",t.id);if(O){console.error("Error fetching group memberships:",O),c("Failed to load your groups"),s([]),a(!1);return}if(!P||P.length===0){console.log("No group memberships found for the user"),s([]),a(!1);return}const A=P.map(M=>M.group_id),$=new Map;P.forEach(M=>{$.set(M.group_id,{role:M.role})});const{data:L,error:z}=await D.from("groups").select("id, name, description, image_url, category, created_at, created_by").in("id",A);if(z){console.error("Error fetching group details:",z),c("Failed to load your groups"),s([]),a(!1);return}const S=(L||[]).map(M=>{const T=$.get(M.id);return{...M,member_count:0,is_member:!0,is_admin:(T==null?void 0:T.role)==="admin"||!1}});console.log("Processed my groups:",S),s(S),S.length>0&&_(S)}catch(P){console.error("Error in fetchMyGroups:",P),Z.error("Failed to load your groups"),s([])}finally{a(!1)}},_=async P=>{try{const O=[...P],A=O.map(L=>D.from("group_members").select("*",{count:"exact",head:!0}).eq("group_id",L.id));(await Promise.all(A)).forEach((L,z)=>{const{count:S,error:M}=L;!M&&S!==null&&(O[z].member_count=S)}),s(O)}catch(O){console.error("Error fetching member counts:",O)}},j=()=>[{id:"sample-1",name:"Tech Enthusiasts",description:"A group for discussing the latest in technology, gadgets, and software development. Join us for weekly virtual meetups!",category:"technology",image_url:Or[0],created_at:new Date().toISOString(),member_count:24,is_member:!1,created_by:"sample"},{id:"sample-2",name:"Startup Founders",description:"Connect with other entrepreneurs and discuss business strategies, funding opportunities, and growth hacking techniques.",category:"business",image_url:Or[1],created_at:new Date().toISOString(),member_count:15,is_member:!0,created_by:"sample"},{id:"sample-3",name:"Fitness Community",description:"Share workout tips, nutrition advice, and stay motivated together. We organize monthly fitness challenges with prizes!",category:"health",image_url:Or[2],created_at:new Date().toISOString(),member_count:32,is_member:!1,created_by:"sample"},{id:"sample-4",name:"Travel Adventurers",description:"Exchange travel stories, tips, and plan group adventures around the world. From backpacking to luxury experiences!",category:"travel",image_url:Or[3],created_at:new Date().toISOString(),member_count:18,is_member:!1,created_by:"sample"},{id:"sample-5",name:"Professional Network",description:"A space for professionals to connect, share job opportunities, and discuss career development strategies.",category:"business",image_url:Or[4],created_at:new Date().toISOString(),member_count:27,is_member:!1,created_by:"sample"},{id:"sample-6",name:"Creative Arts Collective",description:"For artists, designers, and creatives to share their work, collaborate on projects, and get inspired together.",category:"art",image_url:Or[5],created_at:new Date().toISOString(),member_count:21,is_member:!1,created_by:"sample"}],E=async()=>{try{if(!(t!=null&&t.id)){console.error("Cannot create sample groups: user not authenticated"),a(!1);return}console.log("Creating sample groups...");const P=[],O=[{name:"Tech Enthusiasts",description:"A group for discussing the latest in technology, gadgets, and software development.",category:"technology",image_url:Or[0]},{name:"Startup Founders",description:"Connect with other entrepreneurs and discuss business strategies, funding, and growth.",category:"business",image_url:Or[1]},{name:"Fitness Community",description:"Share workout tips, nutrition advice, and stay motivated together.",category:"health",image_url:Or[2]},{name:"Travel Adventurers",description:"Exchange travel stories, tips, and plan group adventures around the world.",category:"travel",image_url:Or[3]}];for(const A of O){const{data:$,error:L}=await D.from("groups").insert({name:A.name,description:A.description,category:A.category,image_url:A.image_url,created_by:"sample",created_at:new Date().toISOString()}).select().single();if(L){console.error("Error creating sample group:",L);continue}await D.from("group_members").insert({group_id:$.id,user_id:t.id,role:"admin",joined_at:new Date().toISOString()}),console.log(`Created sample group: ${A.name}`),P.push({...$,member_count:1,is_member:!0})}P.length>0?s(P):s(j()),a(!1)}catch(P){console.error("Error in createSampleGroups:",P),s(j()),a(!1)}},N=async P=>{try{if(!(t!=null&&t.id)){Z.error("You must be logged in to join a group");return}if(console.log(`Attempting to join group ${P} for user ${t.id}`),P.startsWith("sample-")){Z.success("Joined sample group! In a real app, this would connect you to the group."),s(n.map(M=>M.id===P?{...M,is_member:!0,member_count:M.member_count+1}:M));return}x(P),console.log("Checking existing membership in group_members table...");const{data:O,error:A}=await D.from("group_members").select("id, role").eq("group_id",P).eq("user_id",t.id).single();if(A&&A.code!=="PGRST116")throw console.error("Error checking membership:",A),new Error(`Failed to check membership status: ${A.message}`);if(O){console.log("User is already a member of this group in group_members table:",O),Z.success("You are already a member of this group");try{const M=JSON.parse(localStorage.getItem("groupMemberships")||"{}");M[P]={is_member:!0,role:O.role},localStorage.setItem("groupMemberships",JSON.stringify(M))}catch(M){console.warn("Failed to update localStorage:",M)}r(`/groups/${P}/chat`);return}console.log("Checking existing membership in chat_group_members table...");const{data:$,error:L}=await D.from("chat_group_members").select("id, is_admin").eq("group_id",P).eq("user_id",t.id).single();if(L&&L.code!=="PGRST116"&&console.error("Error checking chat membership:",L),$){console.log("User is already a member of this group in chat_group_members table:",$),Z.success("You are already a member of this group");try{const M=JSON.parse(localStorage.getItem("groupMemberships")||"{}");M[P]={is_member:!0,role:$.is_admin?"admin":"member"},localStorage.setItem("groupMemberships",JSON.stringify(M))}catch(M){console.warn("Failed to update localStorage:",M)}r(`/groups/${P}/chat`);return}console.log("User is not a member of this group, creating new membership...");const{error:z}=await D.from("group_members").insert({group_id:P,user_id:t.id,role:"member"});z?console.error("Error joining group (group_members):",z):console.log("Successfully joined group in group_members table");const{error:S}=await D.from("chat_group_members").insert({group_id:P,user_id:t.id,is_admin:!1});if(S){if(console.error("Error joining group (chat_group_members):",S),z)throw new Error(`Failed to join group: ${z.message}`)}else console.log("Successfully joined group in chat_group_members table");Z.success("Successfully joined the group!"),s(M=>M.map(T=>T.id===P?{...T,is_member:!0,member_count:(T.member_count||0)+1}:T));try{const M=JSON.parse(localStorage.getItem("groupMemberships")||"{}");M[P]={is_member:!0,role:"member"},localStorage.setItem("groupMemberships",JSON.stringify(M)),console.log("Saved membership to localStorage:",M)}catch(M){console.warn("Failed to store membership in localStorage:",M)}r(`/groups/${P}/chat`)}catch(O){console.error("Error in handleJoinGroup:",O),Z.error(O.message||"Failed to join group. Please try again later.")}finally{x(null)}},F=async P=>{try{if(!(t!=null&&t.id)){Z.error("You must be logged in to leave a group");return}if(console.log(`Attempting to leave group ${P} for user ${t.id}`),P.startsWith("sample-")){Z.success("Left sample group!"),s(n.map(V=>V.id===P?{...V,is_member:!1,member_count:V.member_count-1}:V));return}const{data:O,error:A}=await D.from("group_members").select("role").eq("group_id",P).eq("user_id",t.id).single(),{data:$,error:L}=await D.from("chat_group_members").select("is_admin").eq("group_id",P).eq("user_id",t.id).single(),z=(O==null?void 0:O.role)==="admin"||($==null?void 0:$.is_admin)===!0;if(console.log("User role check results:",{memberData:O,chatMemberData:$,isAdmin:z}),z){if(!window.confirm("Are you sure you want to delete this group? This action cannot be undone."))return;console.log("Deleting group as admin...");const{error:re}=await D.from("groups").delete().eq("id",P);if(re){console.error("Error deleting group:",re),Z.error("Failed to delete group");return}Z.success("Group deleted successfully"),s(n.filter(se=>se.id!==P));return}if(!window.confirm("Are you sure you want to leave this group?"))return;console.log("User confirmed leaving the group");let M=!1;const{error:T}=await D.from("group_members").delete().eq("group_id",P).eq("user_id",t.id);T?console.error("Error leaving group (group_members):",T):(console.log("Successfully left group in group_members table"),M=!0);const{error:B}=await D.from("chat_group_members").delete().eq("group_id",P).eq("user_id",t.id);if(B?console.error("Error leaving group (chat_group_members):",B):(console.log("Successfully left group in chat_group_members table"),M=!0),!M){console.error("Failed to leave group in both tables"),Z.error("Failed to leave group");return}Z.success("Successfully left the group"),s(n.map(V=>V.id===P?{...V,is_member:!1,member_count:V.member_count-1}:V));try{const V=JSON.parse(localStorage.getItem("groupMemberships")||"{}");delete V[P],localStorage.setItem("groupMemberships",JSON.stringify(V)),console.log("Updated localStorage after leaving group")}catch(V){console.warn("Failed to update membership in localStorage:",V)}}catch(O){console.error("Error in handleUnjoinGroup:",O),Z.error("Failed to leave group")}},C=()=>{r("/groups/create")},I=n.filter(P=>(f==="all"||P.category===f)&&(u===""||P.name.toLowerCase().includes(u.toLowerCase())||P.description.toLowerCase().includes(u.toLowerCase())));return i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 md:py-12",children:[i.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:i.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center",children:[i.jsx(We,{className:"mr-3 h-6 w-6"})," ",e("groups.title")||"Groups"]})}),i.jsxs("div",{className:"flex justify-between items-center border-b border-gray-200 dark:border-gray-700 mb-6",children:[i.jsxs("div",{className:"flex",children:[i.jsx("button",{className:`py-4 px-6 font-medium text-base focus:outline-none flex-1 max-w-[160px] text-center ${v==="all"?"text-indigo-600 border-b-2 border-indigo-600 font-semibold":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,onClick:()=>w("all"),children:e("groups.tabs.all")||"All Groups"}),i.jsx("button",{className:`py-4 px-6 font-medium text-base focus:outline-none flex-1 max-w-[160px] text-center ${v==="my"?"text-indigo-600 border-b-2 border-indigo-600 font-semibold":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,onClick:()=>w("my"),children:e("groups.tabs.my")||"My Groups"})]}),i.jsxs(xe,{onClick:C,className:"flex items-center px-6 py-2.5 rounded-full bg-gradient-to-r from-rose-500 to-red-500 hover:from-rose-600 hover:to-red-600 text-white shadow-lg",children:[i.jsx(ln,{className:"mr-2"})," ",e("groups.buttons.create")||"Create Group"]})]}),i.jsxs("div",{className:"mb-8 flex flex-col gap-4",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx($r,{type:"text",placeholder:e("groups.search_placeholder")||"Find your community...",value:u,onChange:P=>d(P.target.value),className:"w-full px-4 pl-10 py-2.5 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-full focus:outline-none focus:ring-2 focus:ring-rose-500 focus:border-transparent shadow-sm"}),i.jsx(sp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]}),i.jsxs("div",{className:"w-full",children:[i.jsxs("button",{onClick:()=>y(!p),className:"w-full flex items-center justify-between p-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg shadow-sm",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(LT,{className:"mr-2 text-gray-500"}),i.jsxs("span",{className:"font-medium",children:[e("groups.category_label")||"Category",": ",f==="all"?e("groups.categories.all")||"All":e(`groups.categories.${f}`)||f.charAt(0).toUpperCase()+f.slice(1)]})]}),p?i.jsx(TT,{className:"text-gray-500"}):i.jsx(Y2,{className:"text-gray-500"})]}),i.jsx(fp,{children:p&&i.jsx(fr.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 border-t-0 rounded-b-lg shadow-md overflow-hidden mt-[-1px] z-10 relative",children:i.jsxs("div",{className:"max-h-60 overflow-y-auto p-2 grid grid-cols-2 gap-2",children:[i.jsxs("button",{onClick:()=>{m("all"),y(!1)},className:`p-2 rounded-lg text-sm flex items-center ${f==="all"?"bg-gradient-to-r from-rose-500 to-red-500 text-white shadow-md":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[i.jsx("span",{className:"mr-2",children:nc.all}),e("groups.categories.all")||"All"]}),vz.map(P=>i.jsxs("button",{onClick:()=>{m(P),y(!1)},className:`p-2 rounded-lg text-sm flex items-center ${f===P?"bg-gradient-to-r from-rose-500 to-red-500 text-white shadow-md":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[i.jsx("span",{className:"mr-2",children:nc[P]}),e(`groups.categories.${P}`)||P.charAt(0).toUpperCase()+P.slice(1)]},P))]})})})]})]}),i.jsx("div",{className:"min-h-[60vh]",children:o?i.jsx("div",{className:"flex justify-center my-16",children:i.jsx(Ee,{})}):l?i.jsxs("div",{className:"text-center my-16 py-16 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[i.jsx(si,{message:l}),i.jsx(xe,{onClick:()=>{v==="all"?b():k()},className:"mt-6 rounded-full bg-indigo-500 hover:bg-indigo-600 text-white px-6 py-3",children:e("buttons.tryAgain")||"Try Again"})]}):I.length>0?i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:I.map(P=>i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-all transform hover:-translate-y-1 border border-gray-200 dark:border-gray-700 h-full flex flex-col",children:[i.jsx("div",{className:"flex items-center justify-center h-32 bg-gradient-to-br from-rose-400/20 to-indigo-400/20 dark:from-rose-900/20 dark:to-indigo-900/20",children:i.jsx("span",{className:"text-5xl",role:"img","aria-label":P.category,children:nc[P.category]||nc.all})}),i.jsxs("div",{className:"p-5 flex-1 flex flex-col",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2 truncate",children:P.name}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4 line-clamp-3 flex-grow",children:P.description}),i.jsxs("div",{className:"flex justify-between items-center mt-auto",children:[i.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center",children:[i.jsx(We,{className:"mr-1 h-3 w-3"}),P.member_count," ",e("groups.members")||"members"]}),P.is_member?i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs("button",{onClick:()=>r(`/groups/${P.id}/chat`),className:"px-3 py-1 text-xs font-medium bg-gradient-to-r from-indigo-500 to-purple-500 hover:from-indigo-600 hover:to-purple-600 text-white rounded-full shadow-sm hover:shadow transition-all flex items-center",children:[i.jsx(nd,{className:"h-3 w-3 mr-1"}),e("groups.buttons.chat")||"Chat"]}),i.jsx("button",{onClick:()=>F(P.id),className:"px-3 py-1 text-xs font-medium bg-gradient-to-r from-red-500 to-orange-500 hover:from-red-600 hover:to-orange-600 text-white rounded-full shadow-sm hover:shadow transition-all flex items-center",children:e("groups.buttons.leave")||"Leave"})]}):i.jsx(xe,{onClick:()=>N(P.id),disabled:g===P.id,className:"text-xs px-3 py-1 rounded-full",children:g===P.id?e("groups.buttons.joining")||"Joining...":e("groups.buttons.join")||"Join"})]})]})]},P.id))}):i.jsxs("div",{className:"text-center my-16 py-16 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[i.jsx(We,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),i.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:e("groups.no_groups_found_title")||"No groups found"}),i.jsx("p",{className:"mt-3 text-gray-500 dark:text-gray-400 text-lg",children:v==="my"?e("groups.no_my_groups_message")||"You haven't joined any groups yet.":e("groups.no_all_groups_message")||"Try adjusting your search or create a new group."}),i.jsx(xe,{onClick:C,className:"mt-6 rounded-full bg-gradient-to-r from-rose-500 to-red-500 hover:from-rose-600 hover:to-red-600 text-white px-6 py-3",children:e("groups.buttons.create")||"Create Group"})]})})]})})},wb=["https://images.unsplash.com/photo-1540575467063-178a50c2df87?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2370&q=80","https://images.unsplash.com/photo-1511795409834-ef04bbd61622?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2369&q=80","https://images.unsplash.com/photo-1540575467063-178a50c2df87?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2370&q=80","https://images.unsplash.com/photo-1501281668745-f7f57925c3b4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2370&q=80"],wz=["technology","business","education","entertainment","health","sports","travel","art","food","music"],_z=()=>{const{tWithTemplate:e}=ot(),{user:t}=it(),r=st(),[n,s]=h.useState("all"),[o,a]=h.useState([]),[l,c]=h.useState(!0),[u,d]=h.useState(""),[f,m]=h.useState("all"),[g,x]=h.useState(null),[v,w]=h.useState(null);h.useEffect(()=>{n==="all"?p():y()},[t,n,f]);const p=async()=>{try{if(c(!0),!(t!=null&&t.id)){console.log("User not authenticated, using sample data"),a(b()),c(!1);return}console.log("Fetching all events from Supabase...");let C=D.from("events").select(`
        id, 
        title, 
        description, 
        location,
        start_date,
        end_date,
        category,
        created_by,
        created_at,
        is_public,
        max_attendees,
        status
      `);f!=="all"&&(C=C.eq("category",f));const{data:I,error:P}=await C;if(P)throw console.error("Error fetching events:",P),P;if(console.log(`Found ${(I==null?void 0:I.length)||0} events`),!I||I.length===0){await k();return}const O=await Promise.all(I.map(async A=>{const{count:$}=await D.from("event_attendees").select("*",{count:"exact"}).eq("event_id",A.id),{data:L}=await D.from("event_attendees").select("id").eq("event_id",A.id).eq("user_id",t.id).maybeSingle();return{...A,attendee_count:$||0,is_attending:!!L}}));a(O)}catch(C){console.error("Error in fetchAllEvents:",C),Z.error("Failed to load events"),a(b())}finally{c(!1)}},y=async()=>{try{if(c(!0),!(t!=null&&t.id)){console.log("User not authenticated, skipping my events fetch"),a([]),c(!1);return}console.log("Fetching my events from Supabase...");const{data:C,error:I}=await D.from("event_attendees").select(`
          event:events (
            id, 
            title, 
            description, 
            location,
            start_date,
            end_date,
            category,
            created_by,
            created_at,
            is_public,
            max_attendees,
            status
          )
        `).eq("user_id",t.id);if(I)throw console.error("Error fetching my events:",I),I;if(!C||C.length===0){console.log("No events found that the user is attending"),a([]),c(!1);return}const O=(await Promise.all(C.map(async A=>{const $=A.event;if(!$)return console.warn("Event data is missing for an attendee record"),null;const{count:L}=await D.from("event_attendees").select("*",{count:"exact"}).eq("event_id",$.id);return{...$,attendee_count:L||0,is_attending:!0}}))).filter(A=>A!==null);a(O)}catch(C){console.error("Error in fetchMyEvents:",C),Z.error("Failed to load your events"),a([])}finally{c(!1)}},b=()=>{const C=new Date,I=new Date(C);I.setDate(I.getDate()+1);const P=new Date(C);P.setDate(P.getDate()+7);const O=new Date(C);return O.setMonth(O.getMonth()+1),[{id:"sample-1",title:"Tech Conference 2023",description:"Join us for the biggest tech conference of the year with renowned speakers, workshops, and networking opportunities.",location:"Convention Center, New York",start_date:I.toISOString(),end_date:P.toISOString(),category:"technology",created_by:"sample",created_at:C.toISOString(),is_public:!0,max_attendees:126,status:"going",attendee_count:126,is_attending:!1},{id:"sample-2",title:"Startup Pitch Night",description:"An exciting evening where innovative startups pitch their ideas to investors and industry experts.",location:"Innovation Hub, San Francisco",start_date:P.toISOString(),category:"business",created_by:"sample",created_at:C.toISOString(),is_public:!0,max_attendees:58,status:"going",attendee_count:58,is_attending:!1},{id:"sample-3",title:"Wellness Retreat Weekend",description:"A rejuvenating weekend of yoga, meditation, healthy food, and wellness workshops.",location:"Mountain View Resort, Colorado",start_date:O.toISOString(),category:"health",created_by:"sample",created_at:C.toISOString(),is_public:!0,max_attendees:45,status:"going",attendee_count:45,is_attending:!1},{id:"sample-4",title:"Photography Workshop",description:"Learn advanced photography techniques from professional photographers in this hands-on workshop.",location:"Art Gallery, Chicago",start_date:P.toISOString(),category:"art",created_by:"sample",created_at:C.toISOString(),is_public:!0,max_attendees:32,status:"going",attendee_count:32,is_attending:!1}]},k=async()=>{try{if(!(t!=null&&t.id)){console.error("Cannot create sample events: user not authenticated"),c(!1);return}console.log("Creating sample events...");const C=[],I=new Date,P=new Date(I);P.setDate(P.getDate()+1);const O=new Date(I);O.setDate(O.getDate()+7);const A=new Date(I);A.setMonth(A.getMonth()+1);const $=[{title:"Tech Conference 2023",description:"Join us for the biggest tech conference of the year with renowned speakers, workshops, and networking opportunities.",location:"Convention Center, New York",start_date:P.toISOString(),end_date:O.toISOString(),category:"technology",created_by:"sample",created_at:I.toISOString(),is_public:!0,max_attendees:126,status:"going"},{title:"Startup Pitch Night",description:"An exciting evening where innovative startups pitch their ideas to investors and industry experts.",location:"Innovation Hub, San Francisco",start_date:O.toISOString(),category:"business",created_by:"sample",created_at:I.toISOString(),is_public:!0,max_attendees:58,status:"going"},{title:"Wellness Retreat Weekend",description:"A rejuvenating weekend of yoga, meditation, healthy food, and wellness workshops.",location:"Mountain View Resort, Colorado",start_date:A.toISOString(),category:"health",created_by:"sample",created_at:I.toISOString(),is_public:!0,max_attendees:45,status:"going"},{title:"Photography Workshop",description:"Learn advanced photography techniques from professional photographers in this hands-on workshop.",location:"Art Gallery, Chicago",start_date:O.toISOString(),category:"art",created_by:"sample",created_at:I.toISOString(),is_public:!0,max_attendees:32,status:"going"}];for(const L of $){const{data:z,error:S}=await D.from("events").insert({title:L.title,description:L.description,location:L.location,start_date:L.start_date,end_date:L.end_date,category:L.category,created_by:L.created_by,created_at:L.created_at,is_public:L.is_public,max_attendees:L.max_attendees,status:L.status}).select().single();if(S){console.error("Error creating sample event:",S);continue}await D.from("event_attendees").insert({event_id:z.id,user_id:t.id,status:"going",joined_at:new Date().toISOString()}),console.log(`Created sample event: ${L.title}`),C.push({...z,attendee_count:1,is_attending:!0})}C.length>0?a(C):a(b()),c(!1)}catch(C){console.error("Error in createSampleEvents:",C),a(b()),c(!1)}},_=async C=>{try{if(!(t!=null&&t.id)){Z.error("You must be logged in to join an event");return}if(C.startsWith("sample-")){Z.success("RSVP successful! In a real app, this would add you to the event."),a(o.map(O=>O.id===C?{...O,is_attending:!0,attendee_count:O.attendee_count+1}:O));return}x(C);const{data:I}=await D.from("event_attendees").select("id").eq("event_id",C).eq("user_id",t.id).maybeSingle();if(I){Z.error("You are already attending this event"),x(null);return}const{error:P}=await D.from("event_attendees").insert({event_id:C,user_id:t.id,status:"going",joined_at:new Date().toISOString()});if(P){console.error("Error joining event:",P),Z.error("Failed to RSVP for the event");return}Z.success("Successfully RSVP'd for the event!"),a(o.map(O=>O.id===C?{...O,is_attending:!0,attendee_count:O.attendee_count+1}:O))}catch(I){console.error("Error in handleJoinEvent:",I),Z.error("Failed to RSVP for the event")}finally{x(null)}},j=async C=>{try{if(!(t!=null&&t.id)){Z.error("You must be logged in to leave an event");return}if(C.startsWith("sample-")){Z.success("Successfully left the event (simulated)."),a(o.map(P=>P.id===C?{...P,is_attending:!1,attendee_count:Math.max(0,P.attendee_count-1)}:P));return}w(C);const{error:I}=await D.from("event_attendees").delete().eq("event_id",C).eq("user_id",t.id);if(I){console.error("Error leaving event:",I),Z.error("Failed to leave the event");return}Z.success("Successfully left the event"),a(o.map(P=>P.id===C?{...P,is_attending:!1,attendee_count:Math.max(0,P.attendee_count-1)}:P))}catch(I){console.error("Error in handleLeaveEvent:",I),Z.error("Failed to leave the event")}finally{w(null)}},E=()=>{r("/events/create")},N=C=>{try{return gl(new Date(C),"MMM d, yyyy")}catch{return C}},F=o.filter(C=>(f==="all"||C.category===f)&&(u===""||C.title.toLowerCase().includes(u.toLowerCase())||C.description.toLowerCase().includes(u.toLowerCase())||C.location.toLowerCase().includes(u.toLowerCase())));return i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 md:py-12",children:[i.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:i.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center",children:[i.jsx(At,{className:"mr-3 h-6 w-6"})," ",e("events.title")||"Events"]})}),i.jsxs("div",{className:"flex justify-between items-center border-b border-gray-200 dark:border-gray-700 mb-6",children:[i.jsxs("div",{className:"flex",children:[i.jsx("button",{className:`py-4 px-6 font-medium text-base focus:outline-none flex-1 max-w-[160px] text-center ${n==="all"?"text-indigo-600 border-b-2 border-indigo-600 font-semibold":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,onClick:()=>s("all"),children:e("events.tabs.all")||"All Events"}),i.jsx("button",{className:`py-4 px-6 font-medium text-base focus:outline-none flex-1 max-w-[160px] text-center ${n==="my"?"text-indigo-600 border-b-2 border-indigo-600 font-semibold":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,onClick:()=>s("my"),children:e("events.tabs.my")||"My Events"})]}),i.jsxs("button",{onClick:E,className:"flex items-center px-6 py-2.5 bg-gradient-to-r from-slate-400 to-rose-300 text-white rounded-full hover:from-slate-500 hover:to-rose-400 transition-all text-base font-medium shadow-lg",children:[i.jsx(ln,{className:"mr-2"})," ",e("events.buttons.create")||"Create Event"]})]}),i.jsxs("div",{className:"mb-8 flex flex-col sm:flex-row gap-4",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx("input",{type:"text",placeholder:e("events.search_placeholder")||"Search events...",value:u,onChange:C=>d(C.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white text-base"}),i.jsx(sp,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 text-lg"})]}),i.jsxs("select",{value:f,onChange:C=>m(C.target.value),className:"px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white min-w-[200px] text-base","aria-label":e("events.category_label")||"Select Category",children:[i.jsx("option",{value:"all",children:e("events.categories.all")||"All Categories"}),wz.map(C=>i.jsx("option",{value:C,children:e(`events.categories.${C}`)||C.charAt(0).toUpperCase()+C.slice(1)},C))]})]}),l?i.jsx("div",{className:"flex justify-center my-16",children:i.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-500"})}):F.length>0?i.jsx("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:F.map((C,I)=>i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-200 overflow-hidden border border-gray-200 dark:border-gray-700 flex flex-col",style:{maxHeight:"380px"},children:[i.jsxs("div",{className:"h-32 bg-gray-200 dark:bg-gray-700 relative overflow-hidden",style:{backgroundImage:`url(${wb[I%wb.length]})`,backgroundSize:"cover",backgroundPosition:"center"},children:[i.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-20"}),i.jsx("div",{className:"absolute top-2 right-2",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${C.is_public?"bg-green-500":"bg-yellow-500"} text-white`,children:C.is_public?e("events.public")||"Public":e("events.private")||"Private"})})]}),i.jsxs("div",{className:"p-4 flex-1 flex flex-col",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1 line-clamp-1",children:C.title}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-2 line-clamp-2",children:C.description}),i.jsxs("div",{className:"mt-auto space-y-2",children:[i.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400",children:[i.jsx(Ts,{className:"w-4 h-4 mr-1"}),i.jsx("span",{className:"truncate",children:C.location})]}),i.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400",children:[i.jsx(At,{className:"w-4 h-4 mr-1"}),i.jsx("span",{children:N(C.start_date)})]}),i.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400",children:[i.jsx(We,{className:"w-4 h-4 mr-1"}),i.jsxs("span",{children:[C.attendee_count," / ",C.max_attendees||""]})]})]}),i.jsx("div",{className:"mt-4 flex justify-end",children:C.is_attending?i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{onClick:()=>j(C.id),disabled:v===C.id,className:"px-3 py-1 text-sm bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-full hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors duration-200",children:v===C.id?e("events.buttons.leaving")||"Leaving...":e("events.buttons.leave")||"Leave"}),i.jsxs("button",{onClick:P=>{P.stopPropagation(),r(`/events/${C.id}/chat`)},className:"px-3 py-1 text-sm bg-rose-500 text-white rounded-full hover:bg-rose-600 transition-colors duration-200 flex items-center",children:[i.jsx(Zo,{className:"mr-1"})," ",e("events.buttons.chat")||"Chat"]})]}):i.jsx("button",{onClick:()=>_(C.id),disabled:g===C.id,className:"px-3 py-1 text-sm bg-indigo-500 text-white rounded-full hover:bg-indigo-600 transition-colors duration-200",children:g===C.id?e("events.buttons.joining")||"Joining...":e("events.buttons.join")||"Join"})})]})]},C.id))}):i.jsxs("div",{className:"text-center my-16 py-16 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[i.jsx(At,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),i.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:e("events.no_events_found_title")||"No events found"}),i.jsx("p",{className:"mt-3 text-gray-500 dark:text-gray-400 text-lg",children:n==="my"?e("events.no_my_events_message")||"You haven't RSVP'd to any events yet.":e("events.no_all_events_message")||"Try adjusting your search or create a new event."}),i.jsx("button",{onClick:E,className:"mt-6 px-6 py-3 bg-gradient-to-r from-slate-400 to-rose-300 text-white rounded-full hover:from-slate-500 hover:to-rose-400 transition-all text-base font-medium shadow-sm",children:e("events.buttons.create")||"Create Event"})]})]})})},uo={WEB_DEVELOPMENT:"/images/stock/content/web-development.jpg",URBAN_PHOTOGRAPHY:"/images/stock/content/urban-photography.jpg",DIGITAL_ART:"/images/stock/content/digital-art.jpg",ECO_LIVING:"/images/stock/content/eco-living.jpg",WILDLIFE:"/images/stock/content/wildlife.jpg",COOKING:"/images/stock/content/cooking.jpg"},kz=()=>{const{t:e}=ot(),[t,r]=h.useState("all"),n=[{id:"all",name:e("saved.categories.all")||"All Items",emoji:""},{id:"articles",name:e("saved.categories.articles")||"Articles",emoji:""},{id:"photos",name:e("saved.categories.photos")||"Photos",emoji:""},{id:"videos",name:e("saved.categories.videos")||"Videos",emoji:""}],s=[{id:1,type:"article",title:"The Future of Web Development",description:"Exploring upcoming trends in web development for 2025",image:uo.WEB_DEVELOPMENT,author:"Tech Insights",date:"2025-02-20",readTime:e("saved.readTime5")||"5 min read"},{id:2,type:"photo",title:"Urban Photography Collection",description:"A stunning collection of city landscapes",image:uo.URBAN_PHOTOGRAPHY,author:"Urban Shots",date:"2025-02-19"},{id:3,type:"video",title:"Digital Art Tutorial",description:"Learn digital art techniques from professionals",image:uo.DIGITAL_ART,author:"Creative Arts",date:"2025-02-18",duration:"15:30"},{id:4,type:"article",title:"Sustainable Living Guide",description:"Tips for a more eco-friendly lifestyle",image:uo.ECO_LIVING,author:"Green Living",date:"2025-02-17",readTime:e("saved.readTime8")||"8 min read"},{id:5,type:"photo",title:"Wildlife Photography",description:"Capturing nature's most beautiful moments",image:uo.WILDLIFE,author:"Nature Lens",date:"2025-02-16"},{id:6,type:"video",title:"Cooking Masterclass",description:"Learn to cook like a professional chef",image:uo.COOKING,author:"Culinary Arts",date:"2025-02-15",duration:"25:45"}],o=t==="all"?s:s.filter(a=>a.type===t.slice(0,-1));return i.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8 dark:bg-neutral-800 min-h-full",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-6",children:e("saved.title")||"Saved Items"}),i.jsx("div",{className:"flex space-x-3 overflow-x-auto pb-4",children:n.map(a=>i.jsxs("button",{onClick:()=>r(a.id),className:`px-5 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors flex items-center shadow-sm ${t===a.id?"bg-gradient-to-r from-rose-600 to-red-600 text-white shadow-md":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600 border border-gray-200 dark:border-gray-600"}`,children:[i.jsx("span",{className:"mr-2 text-lg",role:"img","aria-label":a.name,children:a.emoji}),a.name]},a.id))})]}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:o.map(a=>i.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-all transform hover:-translate-y-1 border border-gray-200 dark:border-gray-600",children:[i.jsxs("div",{className:"relative h-40",children:[i.jsx("img",{src:a.image,alt:a.title,className:"w-full h-full object-cover"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),i.jsx("div",{className:"absolute top-2 left-2 flex items-center",children:i.jsxs("span",{className:"text-xs font-medium bg-black/60 text-white px-2 py-1 rounded-full flex items-center",children:[a.type==="article"&&"",a.type==="photo"&&"",a.type==="video"&&"",i.jsx("span",{className:"ml-1 capitalize",children:a.type})]})}),a.type==="video"&&i.jsx("div",{className:"absolute bottom-2 right-2 px-2 py-1 bg-black/70 text-white text-xs rounded-full font-medium",children:a.duration}),a.readTime&&i.jsx("div",{className:"absolute bottom-2 right-2 px-2 py-1 bg-black/70 text-white text-xs rounded-full font-medium",children:a.readTime})]}),i.jsxs("div",{className:"p-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1 text-xs",children:[i.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-300 truncate max-w-[120px]",children:a.author}),i.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:new Date(a.date).toLocaleDateString()})]}),i.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-1 truncate",children:a.title}),i.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300 line-clamp-2 mb-3 h-8",children:a.description}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("button",{className:"p-1.5 bg-gray-100 dark:bg-gray-700 rounded-full text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:i.jsx(y8,{className:"w-3.5 h-3.5"})}),i.jsx("button",{className:"px-3 py-1 text-xs font-medium bg-gradient-to-r from-rose-500 to-red-500 hover:from-rose-600 hover:to-red-600 text-white rounded-full shadow-sm hover:shadow transition-all",children:e("buttons.view")||"View"}),i.jsx("button",{className:"p-1.5 text-rose-500 hover:text-rose-600 transition-colors bg-rose-50 dark:bg-rose-900/20 rounded-full",children:i.jsx(nu,{className:"w-3.5 h-3.5"})})]})]})]},a.id))}),o.length===0&&i.jsxs("div",{className:"text-center py-12 bg-white dark:bg-gray-700 rounded-xl shadow-md my-6 border border-gray-200 dark:border-gray-600",children:[i.jsx("div",{className:"bg-gray-100 dark:bg-gray-600 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(nu,{className:"h-8 w-8 text-gray-400 dark:text-gray-500"})}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:e("saved.no_items_title")||"No saved items found"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 max-w-md mx-auto",children:e("saved.no_items_message")||"Items you save will appear here. Browse content and click the bookmark icon to save items."}),i.jsx("button",{className:"mt-4 px-4 py-2 text-sm font-medium bg-gradient-to-r from-rose-500 to-red-500 hover:from-rose-600 hover:to-red-600 text-white rounded-full shadow-sm hover:shadow transition-all",children:e("saved.buttons.explore")||"Explore Content"})]})]})},Sz=["technology","business","education","entertainment","health","sports","travel","art","food","music"],jz=()=>{const{tWithTemplate:e}=ot(),t=st(),[r,n]=h.useState(""),[s,o]=h.useState(null),[a,l]=h.useState(!1),{user:c}=it(),u=h.useRef(null),[d,f]=h.useState({title:"",description:"",location:"",startDate:"",startTime:"",endDate:"",endTime:"",category:"technology",isPrivate:!1,maxAttendees:""}),m=v=>{const{name:w,value:p}=v.target;f(y=>({...y,[w]:p}))},g=v=>{const{name:w,checked:p}=v.target;f(y=>({...y,[w]:p}))},x=async v=>{if(v.preventDefault(),!c){Z.error(e("errors.loginRequiredEvent")||"You must be logged in to create an event");return}if(!d.title.trim()){Z.error(e("errors.eventNameRequired")||"Event title is required");return}if(!d.startDate){Z.error(e("errors.eventDateRequired")||"Start date is required");return}if(!d.location.trim()){Z.error("Location is required");return}if(!d.category){Z.error(e("errors.eventCategoryRequired"));return}try{l(!0);let w="";if(s){const _=s.name.split(".").pop(),E=`event_images/${`${Math.random().toString(36).substring(2,15)}.${_}`}`,{error:N}=await D.storage.from("images").upload(E,s);if(N)throw console.error("Error uploading image:",N),N;const{data:{publicUrl:F}}=D.storage.from("images").getPublicUrl(E);w=F}let p=null;if(d.maxAttendees.trim()!==""){const _=parseInt(d.maxAttendees,10);if(isNaN(_)||_<=0){Z.error("Invalid number for Max Attendees."),l(!1);return}p=_}const{data:y,error:b}=await D.from("events").insert({title:d.title,description:d.description,start_date:d.startDate,end_date:d.endDate||null,location:d.location,category:d.category,created_by:c.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),is_public:!d.isPrivate,max_attendees:p,status:"active"}).select().single();if(b)throw console.error("Error creating event:",b),b;console.log("Event created successfully:",y);const{error:k}=await D.from("event_attendees").insert({event_id:y.id,user_id:c.id,status:"going",joined_at:new Date().toISOString()});k&&console.error("Error adding creator as attendee:",k),Z.success(e("success.eventCreated")||"Event created successfully!"),t("/events")}catch(w){console.error("Error in handleSubmit:",w),Z.error(`${e("errors.eventCreationFailed")}: ${w.message}`)}finally{l(!1)}};return i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 max-w-4xl mx-auto my-6",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-8",children:e("createEvent.title")||"Create a New Event"}),i.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 mb-6 rounded-lg border border-blue-200 dark:border-blue-800",children:i.jsxs("p",{className:"text-blue-800 dark:text-blue-200 text-sm",children:[i.jsx("strong",{children:"Note:"})," Event image upload is temporarily disabled due to system maintenance. You can create events without images for now."]})}),i.jsxs("form",{onSubmit:x,className:"space-y-8",children:[i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsxs("div",{className:"relative w-full max-w-2xl h-64 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg flex items-center justify-center overflow-hidden bg-gray-50 dark:bg-gray-700 opacity-60",children:[i.jsxs("div",{className:"text-center p-6",children:[i.jsx(np,{className:"mx-auto h-16 w-16 text-gray-400"}),i.jsx("p",{className:"mt-4 text-base text-gray-500 dark:text-gray-400",children:"Image upload temporarily disabled"}),i.jsx("p",{className:"mt-2 text-sm text-gray-400 dark:text-gray-500",children:"This feature will be available soon"})]}),i.jsx("div",{className:"absolute inset-0 bg-gray-100 dark:bg-gray-800 opacity-30"})]}),i.jsx("input",{type:"file",ref:u,className:"hidden",disabled:!0})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx(Wt,{htmlFor:"title",className:"block text-base font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("createEvent.nameLabel")||"Event Title *"}),i.jsx($r,{type:"text",id:"title",name:"title",value:d.title,onChange:m,placeholder:e("createEvent.namePlaceholder")||"E.g., Annual Tech Conference, Community Meetup",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white text-base",required:!0})]}),i.jsxs("div",{children:[i.jsx(Wt,{htmlFor:"description",className:"block text-base font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("createEvent.descriptionLabel")||"Description"}),i.jsx(v0,{id:"description",name:"description",value:d.description,onChange:m,placeholder:e("createEvent.descriptionPlaceholder")||"Tell people more about the event",rows:4,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white text-base"})]})]}),i.jsxs("div",{children:[i.jsx(Wt,{htmlFor:"location",className:"block text-base font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("createEvent.locationLabel")||"Location *"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(Ts,{className:"h-5 w-5 text-gray-400"})}),i.jsx($r,{type:"text",id:"location",name:"location",value:d.location,onChange:m,placeholder:e("createEvent.locationPlaceholder")||"E.g., Conference Center, Online",className:"w-full pl-12 px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white text-base",required:!0})]})]}),i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-6 rounded-lg",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:e("createEvent.startDateLabel")||"Start Date & Time"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx(Wt,{htmlFor:"startDate",className:"block text-base font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("createEvent.startDateLabel")||"Start Date *"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(At,{className:"h-5 w-5 text-gray-400"})}),i.jsx($r,{type:"datetime-local",id:"startDate",name:"startDate",value:d.startDate,onChange:m,className:"w-full pl-12 px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white text-base",required:!0})]})]}),i.jsxs("div",{children:[i.jsx(Wt,{htmlFor:"startTime",className:"block text-base font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("createEvent.startTimeLabel")||"Start Time"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(ru,{className:"h-5 w-5 text-gray-400"})}),i.jsx($r,{type:"time",id:"startTime",name:"startTime",value:d.startTime,onChange:m,className:"w-full pl-12 px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white text-base"})]})]}),i.jsxs("div",{children:[i.jsx(Wt,{htmlFor:"endDate",className:"block text-base font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("createEvent.endDateLabel")||"End Date & Time (Optional)"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(At,{className:"h-5 w-5 text-gray-400"})}),i.jsx($r,{type:"datetime-local",id:"endDate",name:"endDate",value:d.endDate,onChange:m,className:"w-full pl-12 px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white text-base"})]})]}),i.jsxs("div",{children:[i.jsx(Wt,{htmlFor:"endTime",className:"block text-base font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("createEvent.endTimeLabel")||"End Time"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(ru,{className:"h-5 w-5 text-gray-400"})}),i.jsx($r,{type:"time",id:"endTime",name:"endTime",value:d.endTime,onChange:m,className:"w-full pl-12 px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white text-base"})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx(Wt,{htmlFor:"category",className:"block text-base font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("createEvent.categoryLabel")}),i.jsxs(iN,{value:d.category,onValueChange:v=>f(w=>({...w,category:v})),children:[i.jsx(w0,{className:"w-full",children:i.jsx(aN,{placeholder:e("createEvent.categoryPlaceholder")})}),i.jsx(_0,{children:Sz.map(v=>i.jsx(k0,{value:v,children:e(`events.categories.${v}`)},v))})]})]}),i.jsxs("div",{className:"flex items-center p-6 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[i.jsx("input",{type:"checkbox",id:"isPrivate",name:"isPrivate",checked:d.isPrivate,onChange:g,className:"h-5 w-5 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),i.jsx("label",{htmlFor:"isPrivate",className:"ml-3 block text-base text-gray-700 dark:text-gray-300",children:d.isPrivate?e("createEvent.visibilityPrivate"):e("createEvent.visibilityPublic")})]}),i.jsxs("div",{children:[i.jsx(Wt,{htmlFor:"max_attendees",className:"block text-base font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("createEvent.maxAttendeesLabel")}),i.jsx($r,{id:"max_attendees",type:"number",name:"maxAttendees",value:d.maxAttendees,onChange:m,placeholder:e("createEvent.maxAttendeesPlaceholder"),min:"1",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white text-base"})]})]}),i.jsxs("div",{className:"flex justify-end space-x-4 mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:[i.jsx(xe,{type:"button",onClick:()=>t("/events"),className:"px-6 py-3 text-base border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 font-medium",children:e("buttons.cancel")||"Cancel"}),i.jsx(xe,{type:"submit",disabled:a,className:`px-6 py-3 ${a?"bg-gray-400":"bg-gradient-to-r from-slate-400 to-rose-300 hover:from-slate-500 hover:to-rose-400"} text-white rounded-lg transition-colors flex items-center justify-center font-medium text-base min-w-[120px]`,children:a?i.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):e("createEvent.createButton")||"Create Event"})]})]})]})},Nz=()=>{const{t:e}=ot(),{user:t}=it(),[r,n]=h.useState([]),[s,o]=h.useState(!0),[a,l]=h.useState("all");h.useEffect(()=>{t&&c()},[t]);const c=async()=>{try{o(!0),console.log("Fetching notifications for user:",t==null?void 0:t.id);const{data:x,error:v}=await D.from("notifications").select("*").eq("user_id",t==null?void 0:t.id).order("created_at",{ascending:!1});if(v)throw console.error("Error fetching notifications:",v),v;console.log("Raw notifications data:",x);const w=await Promise.all((x||[]).map(async p=>{if(p.related_id)try{console.log(`Fetching profile for notification type: ${p.type}, related_id: ${p.related_id}`);const{data:y,error:b}=await D.from("profiles").select("id, full_name, avatar_url").eq("id",p.related_id).single();if(b)return console.error("Error fetching profile:",b),p;if(y)return console.log("Profile data found:",y),{...p,sender:y}}catch(y){console.error("Error fetching profile for notification:",y)}return p}));console.log("Final notifications with profiles:",w),n(w)}catch(x){console.error("Error fetching notifications:",x),Z.error("Failed to load notifications")}finally{o(!1)}},u=async x=>{try{const{error:v}=await D.from("notifications").update({read:!0}).eq("id",x);if(v)throw v;n(w=>w.map(p=>p.id===x?{...p,read:!0}:p)),Z.success("Notification marked as read")}catch(v){console.error("Error marking notification as read:",v),Z.error("Failed to update notification")}},d=async()=>{try{const x=r.filter(w=>!w.read).map(w=>w.id);if(x.length===0)return;const{error:v}=await D.from("notifications").update({read:!0}).in("id",x);if(v)throw v;n(w=>w.map(p=>({...p,read:!0}))),Z.success("All notifications marked as read")}catch(x){console.error("Error marking all notifications as read:",x),Z.error("Failed to update notifications")}},f=async()=>{try{const{error:x}=await D.from("notifications").delete().eq("user_id",t==null?void 0:t.id);if(x)throw x;n([]),Z.success("All notifications deleted")}catch(x){console.error("Error deleting notifications:",x),Z.error("Failed to delete notifications")}},m=x=>{switch(x){case"friend_request":return i.jsx(su,{className:"w-4 h-4 text-indigo-500"});case"friend_accepted":return i.jsx(su,{className:"w-4 h-4 text-green-500"});case"like":return i.jsx(o_,{className:"w-4 h-4 text-rose-500"});case"comment":return i.jsx(Ua,{className:"w-4 h-4 text-green-500"});case"group":return i.jsx(ti,{className:"w-4 h-4 text-purple-500"});case"event":return i.jsx(ei,{className:"w-4 h-4 text-yellow-500"});default:return i.jsx(Ua,{className:"w-4 h-4 text-blue-500"})}},g=r.filter(x=>a==="all"?!0:a==="unread"?!x.read:x.type.includes(a));return i.jsxs("div",{className:"container max-w-4xl mx-auto px-4 py-8 dark:bg-neutral-800",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e("notifications.title")}),i.jsxs("div",{className:"space-x-2",children:[i.jsx("button",{onClick:d,className:"px-3 py-1 text-sm bg-indigo-50 text-indigo-600 dark:bg-indigo-900/20 dark:text-indigo-400 rounded-md hover:bg-indigo-100 dark:hover:bg-indigo-800/30",children:e("notifications.markAllAsRead")}),i.jsx("button",{onClick:f,className:"px-3 py-1 text-sm bg-red-50 text-red-600 dark:bg-red-900/20 dark:text-red-400 rounded-md hover:bg-red-100 dark:hover:bg-red-800/30",children:e("notifications.deleteAll")})]})]}),i.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg shadow overflow-hidden mb-6",children:[i.jsxs("div",{className:"flex overflow-x-auto scrollbar-hide border-b border-gray-200 dark:border-gray-700",children:[i.jsx("button",{className:`px-4 py-3 text-sm font-medium whitespace-nowrap ${a==="all"?"text-indigo-600 dark:text-indigo-400 border-b-2 border-indigo-600 dark:border-indigo-400":"text-gray-600 dark:text-gray-300"}`,onClick:()=>l("all"),children:e("notifications.all")}),i.jsx("button",{className:`px-4 py-3 text-sm font-medium whitespace-nowrap ${a==="unread"?"text-indigo-600 dark:text-indigo-400 border-b-2 border-indigo-600 dark:border-indigo-400":"text-gray-600 dark:text-gray-300"}`,onClick:()=>l("unread"),children:e("notifications.unread")}),i.jsx("button",{className:`px-4 py-3 text-sm font-medium whitespace-nowrap ${a==="friend"?"text-indigo-600 dark:text-indigo-400 border-b-2 border-indigo-600 dark:border-indigo-400":"text-gray-600 dark:text-gray-300"}`,onClick:()=>l("friend"),children:e("notifications.friends")}),i.jsx("button",{className:`px-4 py-3 text-sm font-medium whitespace-nowrap ${a==="like"?"text-indigo-600 dark:text-indigo-400 border-b-2 border-indigo-600 dark:border-indigo-400":"text-gray-600 dark:text-gray-300"}`,onClick:()=>l("like"),children:e("notifications.likes")}),i.jsx("button",{className:`px-4 py-3 text-sm font-medium whitespace-nowrap ${a==="comment"?"text-indigo-600 dark:text-indigo-400 border-b-2 border-indigo-600 dark:border-indigo-400":"text-gray-600 dark:text-gray-300"}`,onClick:()=>l("comment"),children:e("notifications.comments")})]}),s?i.jsxs("div",{className:"p-8 text-center",children:[i.jsx("div",{className:"inline-block w-6 h-6 border-2 border-gray-300 border-t-indigo-600 rounded-full animate-spin"}),i.jsx("p",{className:"mt-2 text-gray-500 dark:text-gray-400",children:e("loading")})]}):i.jsx(i.Fragment,{children:g.length===0?i.jsx("div",{className:"p-8 text-center",children:i.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:e("notifications.empty")})}):i.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:g.map(x=>{var v;return i.jsxs("div",{className:`p-4 flex ${x.read?"bg-white dark:bg-neutral-800":"bg-indigo-50 dark:bg-indigo-900/20"}`,children:[i.jsx("div",{className:"flex-shrink-0 mr-4",children:(v=x.sender)!=null&&v.avatar_url?i.jsx("img",{src:x.sender.avatar_url,alt:x.sender.full_name,className:"w-10 h-10 rounded-full"}):i.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-100 dark:bg-indigo-800 flex items-center justify-center",children:m(x.type)})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:x.content}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 ml-2 whitespace-nowrap",children:Zp(new Date(x.created_at),{addSuffix:!0})})]}),!x.read&&i.jsx("button",{onClick:()=>u(x.id),className:"mt-2 text-xs text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-300",children:e("notifications.markAsRead")})]})]},x.id)})})})]})]})},Cz=()=>{const{user:e,signOut:t,setUser:r}=it(),{isDarkMode:n,toggleDarkMode:s}=Jg(),{t:o}=ot(),a=st(),[l,c]=h.useState("profile"),[u,d]=h.useState(null),[f,m]=h.useState(null),[g,x]=h.useState(null),[v,w]=h.useState(""),[p,y]=h.useState(""),[b,k]=h.useState(!0),[_,j]=h.useState(!1),[E,N]=h.useState(""),[F,C]=h.useState(null);h.useEffect(()=>{e?I():k(!1)},[e]);const I=async()=>{k(!0);try{const{data:U,error:J}=await D.from("profiles").select("*").eq("id",e==null?void 0:e.id).single();if(J)throw J;U?(d({name:U.full_name||"",email:(e==null?void 0:e.email)||""}),m({email_notifications:U.email_notifications!==!1,push_notifications:U.push_notifications!==!1,marketing_notifications:U.marketing_notifications||!1}),x({profile_visibility:U.profile_visibility||"public",show_email:U.show_email||!1,show_location:U.show_location||!1})):(console.log("Profile not found for user:",e==null?void 0:e.id),d({name:"",email:(e==null?void 0:e.email)||""}),m({email_notifications:!0,push_notifications:!0,marketing_notifications:!1}),x({profile_visibility:"public",show_email:!1,show_location:!1}))}catch(U){console.error("Error loading user settings:",U),Z.error("Failed to load settings")}finally{k(!1)}},P=U=>{if(!u)return;const{name:J,value:ne}=U.target;d(ae=>ae?{...ae,[J]:ne}:null)},O=U=>{f&&m(J=>J?{...J,[U]:!J[U]}:null)},A=(U,J)=>{g&&x(ne=>ne?{...ne,[U]:J}:null)},$=async U=>{if(e){j(!0);try{let J={},ne=!1;if(U==="profile"&&u){J={...J,...u};const{error:ae}=await D.from("profiles").update(J).eq("id",e.id);ae&&(console.error("Error saving profile:",ae),ne=!0)}else if(U==="notifications"&&f)console.log("Saving notifications:",f),await new Promise(ae=>setTimeout(ae,500));else if(U==="privacy"&&g)console.log("Saving privacy:",g),await new Promise(ae=>setTimeout(ae,500));else if(U==="password")if(v!==p||!v)Z.error("Passwords do not match or are empty."),ne=!0;else{const{error:ae}=await D.auth.updateUser({password:v});ae?(console.error("Error updating password:",ae),Z.error(`Password Update Failed: ${ae.message}`),ne=!0):(w(""),y(""),Z.success("Password updated successfully!"))}!ne&&U!=="password"&&Z.success(`${U.charAt(0).toUpperCase()+U.slice(1)} settings saved!`),ne&&Z.error(`Failed to save ${U} settings.`)}catch(J){console.error(`Error saving ${U} settings:`,J),Z.error(`Failed to save ${U} settings.`)}finally{j(!1)}}},L=async()=>{if(e&&window.confirm("Are you sure you want to delete your account permanently? This action cannot be undone.")){j(!0);try{const{error:U}=await D.rpc("delete_user_account");if(U)throw U;Z.success("Account deleted successfully."),r(null),a("/")}catch(U){console.error("Error deleting account:",U),Z.error(`Failed to delete account: ${U.message}`)}finally{j(!1)}}},z=U=>{(U==="dark"&&!n||U==="light"&&n)&&s()},S=async()=>{try{await t(),Z.success("Logged out successfully"),a("/login")}catch(U){console.error("Logout Error:",U),Z.error("Logout failed. Please try again.")}},M=()=>{window.open("https://t.me/your_support_bot","_blank"),Z.success(o("helpAndSupport.openingTelegram")||"Opening Telegram support")},T=()=>{window.location.href="mailto:support@yourapp.com",Z.success(o("helpAndSupport.openingEmail")||"Opening email client")},B=()=>{Z.success(o("helpAndSupport.redirectingToHelp")||"Redirecting to Help Center..."),setTimeout(()=>{window.open("https://help.yourdomain.com","_blank")},1e3)},V=()=>{Z.success(o("helpAndSupport.redirectingToDocs")||"Opening Documentation..."),setTimeout(()=>{window.open("https://docs.yourdomain.com","_blank")},1e3)},re=()=>{Z.success(o("helpAndSupport.redirectingToTutorials")||"Opening Tutorials..."),setTimeout(()=>{window.open("https://youtube.com/yourchannel","_blank")},1e3)},se=()=>i.jsxs("div",{className:"space-y-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200",children:o("settings.profile.title")||"Profile Information"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:o("settings.profile.fullNameLabel")||"Full Name"}),i.jsx("input",{type:"text",id:"name",name:"name",value:(u==null?void 0:u.name)||"",onChange:P,disabled:_,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-1 focus:ring-rose-500 focus:border-rose-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:o("settings.profile.emailLabel")||"Email Address"}),i.jsx("input",{type:"email",id:"email",name:"email",value:(u==null?void 0:u.email)||"",disabled:!0,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 cursor-not-allowed"})]})]}),i.jsx("div",{className:"text-right",children:i.jsx(xe,{type:"submit",onClick:()=>$("profile"),disabled:_||b,className:"px-5 py-2.5 rounded-lg",children:_?o("buttons.saving")||"Saving...":o("buttons.saveProfile")||"Save Profile"})})]}),fe=()=>i.jsxs("div",{className:"space-y-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200",children:o("settings.notifications.title")||"Notifications"}),i.jsxs("div",{className:"space-y-4 divide-y divide-gray-200 dark:divide-gray-700",children:[i.jsxs("div",{className:"flex items-center justify-between pt-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:o("settings.notifications.emailLabel")||"Email Notifications"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:o("settings.notifications.emailDescription")||"Receive important updates via email."})]}),i.jsx("input",{type:"checkbox",id:"email_notifications",name:"email_notifications",checked:(f==null?void 0:f.email_notifications)||!1,onChange:()=>O("email_notifications"),disabled:_,className:"form-checkbox h-5 w-5 text-rose-600 rounded focus:ring-rose-500 cursor-pointer"})]}),i.jsxs("div",{className:"flex items-center justify-between pt-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:o("settings.notifications.pushLabel")||"Push Notifications"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:o("settings.notifications.pushDescription")||"Get notified directly in the app (requires browser permission)."})]}),i.jsx("input",{type:"checkbox",id:"push_notifications",name:"push_notifications",checked:(f==null?void 0:f.push_notifications)||!1,onChange:()=>O("push_notifications"),disabled:_,className:"form-checkbox h-5 w-5 text-rose-600 rounded focus:ring-rose-500 cursor-pointer"})]}),i.jsxs("div",{className:"flex items-center justify-between pt-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:o("settings.notifications.marketingLabel")||"Marketing Emails"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:o("settings.notifications.marketingDescription")||"Receive promotional offers and news."})]}),i.jsx("input",{type:"checkbox",id:"marketing_notifications",name:"marketing_notifications",checked:(f==null?void 0:f.marketing_notifications)||!1,onChange:()=>O("marketing_notifications"),disabled:_,className:"form-checkbox h-5 w-5 text-rose-600 rounded focus:ring-rose-500 cursor-pointer"})]})]}),i.jsx("div",{className:"text-right",children:i.jsx(xe,{type:"submit",onClick:()=>$("notifications"),disabled:_||b,className:"px-5 py-2.5 rounded-lg",children:_?o("buttons.saving")||"Saving...":o("settings.notifications.saveButton")||"Save Notifications"})})]}),oe=()=>i.jsxs("div",{className:"space-y-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200",children:o("settings.privacy.title")||"Privacy Settings"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"profile_visibility",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:o("settings.privacy.profileVisibilityLabel")||"Profile Visibility"}),i.jsxs("select",{id:"profile_visibility",name:"profile_visibility",value:(g==null?void 0:g.profile_visibility)||"public",onChange:U=>A("profile_visibility",U.target.value),disabled:_,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-1 focus:ring-rose-500 focus:border-rose-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[i.jsx("option",{value:"public",children:o("settings.privacy.visibilityOptions.public")||"Public (Visible to everyone)"}),i.jsx("option",{value:"connections",children:o("settings.privacy.visibilityOptions.connections")||"Connections Only"}),i.jsx("option",{value:"private",children:o("settings.privacy.visibilityOptions.private")||"Private (Only you)"})]})]}),i.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-700",children:[i.jsx("label",{htmlFor:"show_email",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:o("settings.privacy.showEmailLabel")||"Show Email on Profile"}),i.jsx("input",{type:"checkbox",id:"show_email",name:"show_email",checked:(g==null?void 0:g.show_email)||!1,onChange:U=>A("show_email",U.target.checked.toString()),disabled:_,className:"form-checkbox h-5 w-5 text-rose-600 rounded focus:ring-rose-500 cursor-pointer"})]}),i.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-700",children:[i.jsx("label",{htmlFor:"show_location",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:o("settings.privacy.showLocationLabel")||"Show Location on Profile"}),i.jsx("input",{type:"checkbox",id:"show_location",name:"show_location",checked:(g==null?void 0:g.show_location)||!1,onChange:U=>A("show_location",U.target.checked.toString()),disabled:_,className:"form-checkbox h-5 w-5 text-rose-600 rounded focus:ring-rose-500 cursor-pointer"})]})]}),i.jsx("div",{className:"text-right",children:i.jsx(xe,{type:"submit",onClick:()=>$("privacy"),disabled:_||b,className:"px-5 py-2.5 rounded-lg",children:_?o("buttons.saving")||"Saving...":o("settings.privacy.saveButton")||"Save Privacy Settings"})})]}),R=()=>i.jsxs("div",{className:"space-y-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200",children:o("settings.appearance.title")||"Appearance"}),i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:o("settings.appearance.themeLabel")||"Theme"}),i.jsxs("div",{className:"flex gap-4",children:[i.jsx("button",{onClick:()=>z("light"),className:`px-4 py-2 rounded-lg border ${n?"border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700":"bg-rose-100 border-rose-500 text-rose-700"}`,children:o("settings.appearance.lightTheme")||"Light"}),i.jsx("button",{onClick:()=>z("dark"),className:`px-4 py-2 rounded-lg border ${n?"bg-rose-900 border-rose-500 text-rose-300":"border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:o("settings.appearance.darkTheme")||"Dark"})]})]})})]}),G=()=>i.jsxs("div",{className:"space-y-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200",children:o("settings.security.title")||"Security"}),i.jsxs("div",{className:"space-y-4 p-4 border border-gray-200 dark:border-gray-700 rounded-lg",children:[i.jsx("h3",{className:"font-medium text-gray-800 dark:text-gray-200",children:o("settings.security.changePasswordTitle")||"Change Password"}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:o("settings.security.newPasswordLabel")||"New Password"}),i.jsx("input",{type:"password",id:"newPassword",value:v,onChange:U=>w(U.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-1 focus:ring-rose-500 focus:border-rose-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:o("settings.security.confirmPasswordLabel")||"Confirm New Password"}),i.jsx("input",{type:"password",id:"confirmPassword",value:p,onChange:U=>y(U.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-1 focus:ring-rose-500 focus:border-rose-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),i.jsx("div",{className:"text-right",children:i.jsx(xe,{type:"submit",onClick:()=>$("password"),disabled:_||!v||!p,className:"px-5 py-2.5 rounded-lg",children:_?o("buttons.saving")||"Saving...":o("settings.security.changePasswordButton")||"Change Password"})})]}),i.jsxs("div",{className:"space-y-4 p-4 border border-red-300 dark:border-red-700 rounded-lg",children:[i.jsx("h3",{className:"font-medium text-red-600 dark:text-red-400",children:o("settings.security.accountActionsTitle")||"Account Actions"}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[i.jsxs("button",{onClick:S,className:"w-full sm:w-auto px-5 py-2.5 rounded-lg border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors flex items-center justify-center gap-2",disabled:_,children:[i.jsx(dx,{})," ",o("settings.security.logoutButton")||"Log Out"]}),i.jsxs("button",{onClick:L,className:"w-full sm:w-auto px-5 py-2.5 rounded-lg bg-red-600 hover:bg-red-700 text-white transition-colors flex items-center justify-center gap-2",disabled:_,children:[i.jsx($s,{})," ",o("settings.security.deleteAccountButton")||"Delete Account"]})]}),i.jsx("p",{className:"text-xs text-red-500 dark:text-red-400",children:o("settings.security.deleteWarning")||"Warning: Deleting your account is permanent and cannot be undone."})]})]}),X=()=>{const J=[{question:o("faq.createGroup.question")||"How do I create a group?",answer:o("faq.createGroup.answer")||'Navigate to the Groups page and click the "Create Group" button. Fill in the details and invite members.'},{question:o("faq.addFriends.question")||"How can I add friends?",answer:o("faq.addFriends.answer")||'Go to the Friends page, find people under "Suggestions" or search, and click "Connect" or "Add Friend".'},{question:o("faq.privacy.question")||"How do I manage my privacy settings?",answer:o("faq.privacy.answer")||"Go to Settings -> Privacy. Here you can control who sees your profile and posts."},{question:o("faq.notifications.question")||"How can I change my notification preferences?",answer:o("faq.notifications.answer")||"Visit Settings -> Notifications to enable or disable email and push notifications."},{question:o("faq.deleteAccount.question")||"How do I delete my account?",answer:o("faq.deleteAccount.answer")||"Go to Settings -> Security -> Account Actions. Be aware that deleting your account is permanent."}].filter(ne=>ne.question.toLowerCase().includes(E.toLowerCase())||ne.answer.toLowerCase().includes(E.toLowerCase()));return i.jsxs("div",{className:"space-y-8",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200",children:o("settings.help.title")||"Help & Support"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{onClick:M,className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow cursor-pointer group border border-gray-100 dark:border-gray-600",children:[i.jsxs("div",{className:"flex items-center mb-2",children:[i.jsx("div",{className:"bg-blue-100 dark:bg-blue-900 p-2 rounded-full mr-3",children:i.jsx(t_,{className:"text-lg text-blue-500 dark:text-blue-400 group-hover:scale-110 transition-transform"})}),i.jsxs("h3",{className:"font-semibold text-gray-800 dark:text-white flex items-center",children:[o("helpAndSupport.telegramSupport")||"Telegram Support",i.jsx(hf,{className:"ml-1.5 text-xs opacity-0 group-hover:opacity-100 transition-opacity"})]})]}),i.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:o("helpAndSupport.telegramSupportDescription")||"Chat with us directly on Telegram."})]}),i.jsxs("div",{onClick:T,className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow cursor-pointer group border border-gray-100 dark:border-gray-600",children:[i.jsxs("div",{className:"flex items-center mb-2",children:[i.jsx("div",{className:"bg-red-100 dark:bg-red-900 p-2 rounded-full mr-3",children:i.jsx(ip,{className:"text-lg text-red-500 dark:text-red-400 group-hover:scale-110 transition-transform"})}),i.jsxs("h3",{className:"font-semibold text-gray-800 dark:text-white flex items-center",children:[o("helpAndSupport.emailSupport")||"Email Support",i.jsx(hf,{className:"ml-1.5 text-xs opacity-0 group-hover:opacity-100 transition-opacity"})]})]}),i.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:o("helpAndSupport.emailSupportDescription")||"Send us an email for assistance."})]}),i.jsxs("div",{onClick:B,className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow cursor-pointer group border border-gray-100 dark:border-gray-600",children:[i.jsxs("div",{className:"flex items-center mb-2",children:[i.jsx("div",{className:"bg-green-100 dark:bg-green-900 p-2 rounded-full mr-3",children:i.jsx(g8,{className:"text-lg text-green-500 dark:text-green-400 group-hover:scale-110 transition-transform"})}),i.jsxs("h3",{className:"font-semibold text-gray-800 dark:text-white flex items-center",children:[o("helpAndSupport.helpCenter")||"Help Center",i.jsx(hf,{className:"ml-1.5 text-xs opacity-0 group-hover:opacity-100 transition-opacity"})]})]}),i.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:o("helpAndSupport.helpCenterDescription")||"Find answers in our knowledge base."})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 shadow-sm border border-gray-100 dark:border-gray-600",children:[i.jsxs("div",{className:"flex items-center mb-2",children:[i.jsx("div",{className:"bg-purple-100 dark:bg-purple-900 p-2 rounded-full mr-3",children:i.jsx(CT,{className:"text-lg text-purple-500 dark:text-purple-400"})}),i.jsx("h3",{className:"font-semibold text-gray-800 dark:text-white",children:o("helpAndSupport.documentation")||"Documentation"})]}),i.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-3",children:o("helpAndSupport.documentationDescription")||"Browse comprehensive guides."}),i.jsx("button",{onClick:V,className:"text-sm text-indigo-600 dark:text-indigo-400 font-medium hover:underline",children:o("helpAndSupport.viewDocumentation")||"View Documentation"})]}),i.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 shadow-sm border border-gray-100 dark:border-gray-600",children:[i.jsxs("div",{className:"flex items-center mb-2",children:[i.jsx("div",{className:"bg-yellow-100 dark:bg-yellow-900 p-2 rounded-full mr-3",children:i.jsx(w8,{className:"text-lg text-yellow-500 dark:text-yellow-400"})}),i.jsx("h3",{className:"font-semibold text-gray-800 dark:text-white",children:o("helpAndSupport.videoTutorials")||"Video Tutorials"})]}),i.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-3",children:o("helpAndSupport.videoTutorialsDescription")||"Watch videos to get started."}),i.jsx("button",{onClick:re,className:"text-sm text-indigo-600 dark:text-indigo-400 font-medium hover:underline",children:o("helpAndSupport.watchTutorials")||"Watch Tutorials"})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200 mb-4",children:o("helpAndSupport.frequentlyAskedQuestions")||"Frequently Asked Questions"}),i.jsxs("div",{className:"relative mb-4",children:[i.jsx(a_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),i.jsx("input",{type:"text",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:o("actions.search")||"Search FAQs...",value:E,onChange:ne=>N(ne.target.value)})]}),i.jsx("div",{className:"space-y-2",children:J.length>0?J.map((ne,ae)=>i.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[i.jsxs("button",{className:"w-full text-left p-3 bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors flex justify-between items-center",onClick:()=>C(F===ae?null:ae),children:[i.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:ne.question}),i.jsx(Y2,{className:`h-5 w-5 text-gray-500 dark:text-gray-400 transform transition-transform ${F===ae?"rotate-180":""}`})]}),F===ae&&i.jsx("div",{className:"p-3 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700",children:i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 whitespace-pre-line",children:ne.answer})})]},ae)):i.jsx("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:i.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:o("helpAndSupport.noMatchingFAQs")||"No matching FAQs found."})})})]})]})},H=()=>i.jsxs("div",{className:"space-y-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200",children:o("settings.account.title")||"Account Management"}),i.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[i.jsx(xe,{variant:"secondary",className:"w-full justify-center py-2",onClick:()=>Z("Sessions management not implemented yet"),children:o("settings.account.manageSessionsButton")||"Manage Logged-in Sessions"}),i.jsx(xe,{variant:"secondary",className:"w-full justify-center py-2 bg-blue-600 hover:bg-blue-700 text-white",onClick:()=>Z("Password change UI not fully implemented"),children:o("settings.account.managePasswordButton")||"Manage Password (OAuth?)"}),i.jsx(xe,{variant:"secondary",className:"w-full justify-center py-2 bg-amber-600 hover:bg-amber-700 text-white",onClick:()=>Z("Account deactivation not implemented"),children:o("settings.account.deactivateButton")||"Deactivate Account (Temporary)"}),i.jsx(xe,{variant:"destructive",className:"w-full justify-center py-2",onClick:L,disabled:_,children:_?o("buttons.deleting")||"Deleting...":o("settings.account.deletePermanentlyButton")||"Delete Account Permanently"})]})]}),Y=[{id:"profile",label:o("settings.tabs.profile")||"Profile",icon:Nr,content:se},{id:"appearance",label:o("settings.tabs.appearance")||"Appearance",icon:RT,content:R},{id:"notifications",label:o("settings.tabs.notifications")||"Notifications",icon:Fa,content:fe},{id:"privacy",label:o("settings.tabs.privacy")||"Privacy",icon:Z2,content:oe},{id:"security",label:o("settings.tabs.security")||"Security",icon:UT,content:G},{id:"account",label:o("settings.tabs.account")||"Account",icon:X2,content:H},{id:"help",label:o("settings.tabs.help")||"Help & Support",icon:FT,content:X}];if(b&&!u)return i.jsx("div",{className:"flex justify-center items-center min-h-screen",children:i.jsx(Ee,{size:"lg"})});if(!e&&!b)return i.jsx(aa,{to:"/login",replace:!0});const K=Y.find(U=>U.id===l);return i.jsxs("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-8",children:o("settings.pageTitle")||"Settings"}),i.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[i.jsx("aside",{className:"w-full lg:w-64 flex-shrink-0 mb-6 lg:mb-0",children:i.jsx("div",{className:"sticky top-6 space-y-1 bg-white dark:bg-gray-800 rounded-lg shadow p-3",children:i.jsxs("nav",{className:"space-y-1",children:[Y.map(U=>i.jsxs("button",{onClick:()=>c(U.id),className:`group flex items-center px-3 py-2 text-sm font-medium rounded-md w-full text-left ${l===U.id?"bg-indigo-50 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-200":"text-gray-600 hover:bg-gray-50 hover:text-gray-900 dark:text-gray-400 dark:hover:bg-gray-800 dark:hover:text-white"}`,children:[i.jsx(U.icon,{className:`mr-3 flex-shrink-0 h-5 w-5 ${l===U.id?"text-indigo-500 dark:text-indigo-400":"text-gray-400 group-hover:text-gray-500 dark:text-gray-500 dark:group-hover:text-gray-400"}`}),U.label]},U.id)),i.jsxs("button",{onClick:S,className:"group flex items-center px-3 py-2 text-sm font-medium rounded-md w-full text-left text-gray-600 hover:bg-red-50 hover:text-red-700 dark:text-gray-400 dark:hover:bg-red-900/20 dark:hover:text-red-400 mt-4",children:[i.jsx(dx,{className:"mr-3 flex-shrink-0 h-5 w-5 text-gray-400 group-hover:text-red-500 dark:group-hover:text-red-400"}),"Logout"]})]})})}),i.jsx("div",{className:"flex-1 bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:K?K.content():i.jsx("div",{children:"Select a category"})})]})]})},Ez=[{name:"Emma Johnson",avatar:"https://randomuser.me/api/portraits/women/1.jpg",bio:"Digital marketing specialist with 5+ years experience"},{name:"Liam Wilson",avatar:"https://randomuser.me/api/portraits/men/2.jpg",bio:"Software engineer passionate about AI and machine learning"},{name:"Olivia Martinez",avatar:"https://randomuser.me/api/portraits/women/3.jpg",bio:"Travel blogger exploring hidden gems around the world"},{name:"Noah Thompson",avatar:"https://randomuser.me/api/portraits/men/4.jpg",bio:"Fitness trainer specialized in nutrition and weight loss"},{name:"Sophia Anderson",avatar:"https://randomuser.me/api/portraits/women/5.jpg",bio:"Graphic designer with an eye for minimalist aesthetics"},{name:"Elijah Taylor",avatar:"https://randomuser.me/api/portraits/men/6.jpg",bio:"Photographer capturing beautiful landscapes and wildlife"},{name:"Ava Thomas",avatar:"https://randomuser.me/api/portraits/women/7.jpg",bio:"UX researcher focused on creating intuitive interfaces"},{name:"Lucas Walker",avatar:"https://randomuser.me/api/portraits/men/8.jpg",bio:"Chef specializing in fusion cuisine and baking"}],Pz=()=>{const[e,t]=h.useState(!1),[r,n]=h.useState(null),[s,o]=h.useState([]),[a,l]=h.useState([]),[c,u]=h.useState(!1),[d,f]=h.useState({totalUsers:0,totalGroups:0,totalPosts:0,totalEvents:0}),{user:m}=it(),g=st(),x=async()=>{try{t(!0),console.log("Fetching mock users...");const{data:j,error:E}=await D.from("profiles").select("*").order("created_at",{ascending:!1});if(E)throw E;console.log("Fetched users:",(j==null?void 0:j.length)||0,"users found"),o(j||[])}catch(j){console.error("Error fetching users:",j),q.error("Failed to load users")}finally{t(!1)}},v=async()=>{try{const{data:j,error:E}=await D.from("chat_groups").select("*").order("created_at",{ascending:!1});if(E)throw E;l(j||[])}catch(j){console.error("Error fetching groups:",j)}},w=async()=>{u(!0);try{const{count:j,error:E}=await D.from("profiles").select("*",{count:"exact",head:!0});if(E)throw E;const{count:N,error:F}=await D.from("chat_groups").select("*",{count:"exact",head:!0});if(F)throw F;const{count:C,error:I}=await D.from("posts").select("*",{count:"exact",head:!0});let P=0;I||(P=C||0);const{count:O,error:A}=await D.from("events").select("*",{count:"exact",head:!0});let $=0;A||($=O||0),f({totalUsers:j||0,totalGroups:N||0,totalPosts:P,totalEvents:$})}catch(j){console.error("Error fetching stats:",j)}finally{u(!1)}};h.useEffect(()=>{m&&(x(),v(),w())},[m]);const p=async()=>{var j;try{n("creating"),console.log("Creating mock users...");let E=0,N=0;const{data:F,error:C}=await D.from("profiles").select("full_name, email").order("created_at",{ascending:!1});if(C){console.error("Error fetching existing profiles:",C),q.error(`Error checking existing profiles: ${C.message}`);return}console.log(`Found ${(F==null?void 0:F.length)||0} existing profiles`);const I=new Set((F==null?void 0:F.map(O=>O.full_name.toLowerCase()))||[]),P=new Set((F==null?void 0:F.map(O=>{var A;return(A=O.email)==null?void 0:A.toLowerCase()}))||[]);for(const O of Ez){if(I.has(O.name.toLowerCase())){console.log(`Skipping ${O.name} - user with this name already exists`);continue}const A=`test_${Math.random().toString(36).substring(2,10)}@example.com`;if(P.has(A.toLowerCase())){console.log(`Skipping ${O.name} - generated email ${A} already exists`);continue}const{data:$,error:L}=await D.auth.signUp({email:A,password:"test123456",options:{data:{full_name:O.name}}});if(L){console.error(`Error creating auth user for ${O.name}:`,L),N++;continue}const{error:z}=await D.from("profiles").insert([{id:(j=$.user)==null?void 0:j.id,full_name:O.name,avatar_url:O.avatar,bio:O.bio,email:A,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]);if(z){console.error(`Error creating profile for ${O.name}:`,z),N++;continue}E++}q.success(`Created ${E} users successfully${N>0?` (${N} failed)`:""}`),x()}catch(E){console.error("Error creating mock users:",E),q.error("Failed to create mock users")}finally{n(null)}},y=async()=>{if(m)try{n("group");const j=s.slice(0,4);if(j.length<2){q.error("Need at least 2 other users to create a group");return}const{data:E,error:N}=await D.from("chat_groups").insert({name:`Group Chat ${Math.floor(Math.random()*1e3)}`,description:"A mock group chat for testing",created_by:m.id,created_at:new Date().toISOString(),avatar_url:"https://ui-avatars.com/api/?name=Group+Chat&background=random"}).select();if(N)throw N;if(E&&E[0]){const F=E[0].id;await D.from("chat_group_members").insert({group_id:F,user_id:m.id,joined_at:new Date().toISOString(),is_admin:!0});const C=j.map(I=>D.from("chat_group_members").insert({group_id:F,user_id:I.id,joined_at:new Date().toISOString(),is_admin:!1}));await Promise.all(C),await D.from("chat_messages").insert({group_id:F,user_id:m.id,content:"Welcome to the group chat!",created_at:new Date().toISOString()}),q.success("Group chat created successfully"),v()}}catch(j){console.error("Error creating mock group:",j),q.error("Failed to create mock group chat")}finally{n(null)}},b=j=>{g(`/chat/groups/${j}`)},k=j=>{g(`/messages/${j}`)},_=async()=>{if(!(!m||!window.confirm("Are you sure? This will delete all mock users and chat groups.")))try{n("deleting"),await D.from("profiles").delete().not("id","eq",m.id),await D.from("chat_groups").delete().neq("id",0),q.success("All mock data deleted successfully"),x(),v()}catch(j){console.error("Error deleting mock data:",j),q.error("Failed to delete mock data")}finally{n(null)}};return e?i.jsx("div",{className:"flex justify-center items-center py-8",children:i.jsx(Ee,{size:"lg"})}):i.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 mb-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Admin Dashboard"}),i.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage users, groups, and system settings"})]}),i.jsxs("div",{className:"flex flex-wrap gap-3 mt-4 sm:mt-0",children:[i.jsx("button",{onClick:p,disabled:r==="creating",className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-indigo-500 to-rose-500 hover:opacity-90 text-white rounded-lg transition-colors",children:r==="creating"?i.jsxs(i.Fragment,{children:[i.jsx(Ee,{size:"sm",className:"mr-2"}),"Creating..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Fn,{className:"mr-2"}),"Create Mock Users"]})}),i.jsx("button",{onClick:y,disabled:r==="group"||s.length<2,className:"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:r==="group"?i.jsxs(i.Fragment,{children:[i.jsx(Ee,{size:"sm",className:"mr-2"}),"Creating..."]}):i.jsxs(i.Fragment,{children:[i.jsx(ln,{className:"mr-2"}),"Create Mock Group"]})}),i.jsx("button",{onClick:_,disabled:r==="deleting",className:"inline-flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:r==="deleting"?i.jsxs(i.Fragment,{children:[i.jsx(Ee,{size:"sm",className:"mr-2"}),"Deleting..."]}):i.jsxs(i.Fragment,{children:[i.jsx($s,{className:"mr-2"}),"Delete All"]})}),i.jsxs("button",{onClick:()=>{x(),v(),w()},className:"inline-flex items-center px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:[i.jsx(J2,{className:"mr-2"}),"Refresh"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[i.jsx("div",{className:"bg-white dark:bg-gray-750 p-4 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"p-3 rounded-full bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-300",children:i.jsx(We,{className:"h-6 w-6"})}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Total Users"}),i.jsx("div",{className:"text-2xl font-semibold text-gray-800 dark:text-white",children:c?i.jsx(Ee,{size:"sm"}):d.totalUsers})]})]})}),i.jsx("div",{className:"bg-white dark:bg-gray-750 p-4 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"p-3 rounded-full bg-green-100 dark:bg-green-900 text-green-600 dark:text-green-300",children:i.jsx(We,{className:"h-6 w-6"})}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Groups"}),i.jsx("div",{className:"text-2xl font-semibold text-gray-800 dark:text-white",children:c?i.jsx(Ee,{size:"sm"}):d.totalGroups})]})]})}),i.jsx("div",{className:"bg-white dark:bg-gray-750 p-4 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"p-3 rounded-full bg-purple-100 dark:bg-purple-900 text-purple-600 dark:text-purple-300",children:i.jsx(xc,{className:"h-6 w-6"})}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Posts"}),i.jsx("div",{className:"text-2xl font-semibold text-gray-800 dark:text-white",children:c?i.jsx(Ee,{size:"sm"}):d.totalPosts})]})]})}),i.jsx("div",{className:"bg-white dark:bg-gray-750 p-4 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"p-3 rounded-full bg-yellow-100 dark:bg-yellow-900 text-yellow-600 dark:text-yellow-300",children:i.jsx(AT,{className:"h-6 w-6"})}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Events"}),i.jsx("div",{className:"text-2xl font-semibold text-gray-800 dark:text-white",children:c?i.jsx(Ee,{size:"sm"}):d.totalEvents})]})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"border dark:border-gray-700 p-4 rounded-lg",children:[i.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[i.jsx(Nr,{className:"mr-2"}),"Users (",s.length,")"]}),i.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto pr-2",children:s.length===0?i.jsx("div",{className:"text-center py-4 text-gray-500 dark:text-gray-400",children:"No users found. Create some mock users to get started."}):s.map(j=>i.jsxs("div",{className:"flex items-center justify-between bg-gray-50 dark:bg-gray-750 p-3 rounded-lg",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(oi,{src:j.avatar_url,name:j.full_name,size:"md"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:j.full_name}),j.bio&&i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 line-clamp-1",children:j.bio})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>k(j.id),className:"px-3 py-1 text-sm bg-gradient-to-r from-indigo-500/10 to-rose-500/10 text-indigo-700 dark:text-indigo-300 rounded-md hover:from-indigo-500/20 hover:to-rose-500/20 dark:hover:from-indigo-500/20 dark:hover:to-rose-500/20",children:"Message"}),i.jsx("button",{className:"px-3 py-1 text-sm bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600",onClick:()=>g(`/profile/${j.id}`),children:"View Profile"})]})]},j.id))})]}),i.jsxs("div",{className:"border dark:border-gray-700 p-4 rounded-lg",children:[i.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[i.jsx(We,{className:"mr-2"}),"Groups (",a.length,")"]}),i.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto pr-2",children:a.length===0?i.jsx("div",{className:"text-center py-4 text-gray-500 dark:text-gray-400",children:"No groups found. Create a mock group to get started."}):a.map(j=>i.jsxs("div",{className:"flex items-center justify-between bg-gray-50 dark:bg-gray-750 p-3 rounded-lg",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(oi,{src:j.avatar_url,name:j.name,size:"md"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:j.name}),j.description&&i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 line-clamp-1",children:j.description})]})]}),i.jsx("button",{onClick:()=>b(j.id),className:"px-3 py-1 text-sm bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300 rounded-md hover:bg-blue-200 dark:hover:bg-blue-800",children:"View Group"})]},j.id))})]})]}),i.jsxs("div",{className:"mt-8",children:[i.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[i.jsx(Z2,{className:"mr-2"}),"Admin Tools"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("button",{onClick:()=>g("/admin/chat-diagnostics"),className:"p-4 bg-white dark:bg-gray-750 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-left",children:[i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Chat Diagnostics"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Test and debug chat functionality"})]}),i.jsxs("button",{onClick:()=>g("/settings"),className:"p-4 bg-white dark:bg-gray-750 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-left",children:[i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"System Settings"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Configure application settings"})]}),i.jsxs("button",{onClick:()=>window.open("/setup-database.js"),className:"p-4 bg-white dark:bg-gray-750 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-left",children:[i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Database Setup"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Initialize and configure database tables"})]})]})]})]})})},Tz=e=>{if(!e)return"";try{return gl(new Date(e),"p")}catch(t){return console.error("Error formatting time:",t),"Invalid date"}},uN=ht.memo(({message:e,isCurrentUser:t,currentUserProfile:r,getMessageStyle:n})=>{const{t:s}=Rr(),o=t?r:e.profiles,a=(o==null?void 0:o.full_name)||(t?"You":s("group_chat.unknown_user")),l=(o==null?void 0:o.avatar_url)||"/default-avatar.png";return i.jsxs("div",{className:`flex items-end gap-2.5 ${t?"justify-end":"justify-start"} mb-2`,children:[!t&&i.jsx("img",{src:l,alt:a,className:"h-6 w-6 rounded-full flex-shrink-0 border border-gray-200 dark:border-gray-600 self-start mt-1",onError:c=>c.currentTarget.src="/default-avatar.png"}),i.jsxs("div",{className:`flex flex-col ${t?"items-end":"items-start"} max-w-[75%]`,children:[!t&&o&&i.jsx("span",{className:"text-xs font-medium mb-0.5 text-indigo-600 dark:text-indigo-400 ml-1",children:a}),i.jsxs("div",{className:n(t),children:[i.jsx("p",{className:"whitespace-pre-wrap",children:e.content}),i.jsx("span",{className:`text-[10px] mt-1 ${t?"text-indigo-100/80":"text-gray-500 dark:text-gray-400"} ${t?"text-right":"text-left"} block opacity-80`,children:Tz(e.created_at)})]})]}),t&&i.jsx("img",{src:l,alt:a,className:"h-6 w-6 rounded-full flex-shrink-0 border border-gray-200 dark:border-gray-600 self-start mt-1 ml-1",onError:c=>c.currentTarget.src="/default-avatar.png"})]})});uN.displayName="MessageItem";const Az=()=>{const{id:e}=Hu(),{user:t}=it(),r=st(),{t:n}=Rr(),[s,o]=h.useState([]),[a,l]=h.useState(""),[c,u]=h.useState(!0),[d,f]=h.useState(null),[m,g]=h.useState(null),x=h.useRef(null),[v,w]=h.useState(!1),[p,y]=h.useState(!1),[b,k]=h.useState([]),[_,j]=h.useState(!1),[E,N]=h.useState(null),[F,C]=h.useState(!1),[I,P]=h.useState("default"),[O,A]=h.useState("rounded"),[$,L]=h.useState("medium"),[z,S]=h.useState(!1),[M,T]=h.useState(null),[B,V]=h.useState(null),re=()=>{C(U=>!U)},se=async()=>{if(!e||!t){f(n("group_chat.error_invalid_group_id")),u(!1);return}u(!0),f(null);try{const{data:U,error:J}=await D.from("profiles").select("id, full_name, avatar_url").eq("id",t.id).single();!J&&U&&V(U);const{data:ne,error:ae}=await D.from("groups").select("id, name, description, image_url").eq("id",e).single();if(ae)throw ae.code==="PGRST116"?new Error(n("group_chat.error_group_not_found")):ae;g({id:ne.id,name:ne.name,description:ne.description,image_url:ne.image_url}),console.log(`[fetchInitialData] Checking membership for user ${t.id} in group ${e}...`);try{const{count:Se,error:Et}=await D.from("chat_group_members").select("*",{count:"exact",head:!0}).eq("group_id",e).eq("user_id",t.id);if(Et)console.error("[fetchInitialData] Error checking membership via direct query:",Et),w(!1);else{const bt=(Se??0)>0;w(bt),console.log("[fetchInitialData] Membership check result via direct query:",{isMember:bt,count:Se})}}catch(Se){console.error("[fetchInitialData] Exception in membership check:",Se),w(!1)}const{data:ue,error:Ve}=await D.from("chat_messages").select("id, created_at, content, user_id, group_id").eq("group_id",e).order("created_at",{ascending:!0});if(Ve){if(console.log("[fetchInitialData] Error fetching messages:",Ve),!Ve.message.includes("permission denied"))throw Ve}else{console.log("[fetchInitialData] Fetched messages data:",ue);const Se=ue||[],Et=[...new Set(Se.map(pe=>pe.user_id))];let bt={};if(Et.length>0){const{data:pe,error:W}=await D.from("profiles").select("id, full_name, avatar_url").in("id",Et);!W&&pe&&(bt=pe.reduce((he,we)=>(he[we.id]=we,he),{}))}const te=Se.map(pe=>({...pe,profiles:bt[pe.user_id]||null}));o(te)}}catch(U){console.error("[fetchInitialData] Error fetching initial data:",U),f(U.message||n("group_chat.error_loading_chat"))}finally{u(!1)}};h.useEffect(()=>{if(!t){r("/login");return}se()},[t,r,e,n]);const fe=async()=>{if(e)try{j(!0),N(null);const{data:U,error:J}=await D.from("chat_group_members").select(`
          id,
          user_id,
          group_id,
          role,
          profiles (
            id,
            full_name,
            avatar_url
          )
        `).eq("group_id",e);if(J)throw console.error("Error fetching group members directly:",J),J;if(U&&U.length>0){const ne=U.map(ae=>({id:ae.id,user_id:ae.user_id,group_id:ae.group_id,role:ae.role,is_admin:ae.role==="admin",profiles:ae.profiles}));console.log("Fetched members with profiles:",ne),k(ne)}else console.log("No members found for group:",e),k([])}catch(U){console.error("Error fetching group members:",U),N(n("group_chat.error_loading_members"))}finally{j(!1)}};h.useEffect(()=>{p&&b.length===0&&!_&&fe()},[p,b.length,_,e,n]),h.useEffect(()=>{if(!e)return;const U=D.channel(`group_chat_${e}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_messages",filter:`group_id=eq.${e}`},async J=>{console.log("New message received:",J);const ne=J.new;if(ne.user_id)try{const{data:ae}=await D.from("profiles").select("id, full_name, avatar_url").eq("id",ne.user_id).single();o(ue=>ue.some(Ve=>Ve.id===ne.id)?ue:[...ue,{...ne,profiles:ae||null}])}catch(ae){console.error("Error fetching profile for new message:",ae),o(ue=>ue.some(Ve=>Ve.id===ne.id)?ue:[...ue,{...ne,profiles:null}])}}).subscribe(J=>{J==="SUBSCRIBED"?console.log(`Subscribed to group_chat_${e}`):J==="CHANNEL_ERROR"&&(console.error(`Subscription error on channel group_chat_${e}`),f(n("group_chat.error_realtime_connection")))});return()=>{D.removeChannel(U).then(J=>console.log(`Unsubscribed from group_chat_${e}:`,J))}},[e,n]);const oe=async()=>{if(!(!e||!t))try{const{data:U,error:J}=await D.rpc("get_chat_group_settings",{p_group_id:e,p_user_id:t.id});if(J)throw J;U&&(T(U),U.theme&&P(U.theme),U.bubble_style&&A(U.bubble_style),U.font_size&&L(U.font_size))}catch(U){console.error("Error fetching group settings:",U)}},R=async()=>{if(!(!e||!t))try{const{error:U}=await D.from("group_chat_settings").upsert({group_id:e,user_id:t.id,theme:I,bubble_style:O,font_size:$,updated_at:new Date().toISOString()});if(U)throw U;Z.success(n("group_chat.settings_saved"))}catch(U){console.error("Error saving chat settings:",U),Z.error(n("group_chat.error_saving_settings"))}};h.useEffect(()=>{se(),oe()},[e,t]);const G=async U=>{U.preventDefault();let J=`temp-${Date.now()}`;if(!a.trim()||!t||!e)return;const ne=a.trim(),ae=t.id,ue=e;l("");const Ve={id:J,content:ne,user_id:ae,group_id:ue,created_at:new Date().toISOString(),profiles:B};o(Se=>[...Se,Ve]);try{const{data:Se,error:Et}=await D.from("chat_messages").insert({content:ne,group_id:ue,user_id:ae}).select("id, created_at").single();if(Et){console.error("Error inserting message directly:",Et),o(bt=>bt.filter(te=>te.id!==J)),Z.error(n("group_chat.error_sending_message")),l(ne);return}console.log("Message inserted successfully:",Se),o(bt=>bt.map(te=>te.id===J?{...te,id:Se.id,created_at:Se.created_at}:te))}catch(Se){console.error("Error sending message catch block:",Se),o(Et=>Et.filter(bt=>bt.id!==J)),Z.error(n("group_chat.error_sending_message")),l(ne)}};h.useEffect(()=>{x.current&&x.current.scrollIntoView({behavior:"smooth"})},[s]);const X=async()=>{if(!t||!e)return;const U=e,J=t.id;try{const{data:ne,error:ae}=await D.from("chat_group_members").insert({group_id:U,user_id:J}).select().single();if(ae)if(ae.code==="23505")console.warn("User might already be a member or rejoining failed due to constraint:",ae),w(!0),Z.success(n("group_chat.joined_group_success"));else{console.error("Error inserting group membership:",ae),Z.error(n("group_chat.error_joining_group"));return}else console.log("Successfully inserted group membership:",ne),Z.success(n("group_chat.joined_group_success")),w(!0);se()}catch(ne){console.error("Error in handleJoinGroup catch block:",ne),Z.error(ne.message||n("group_chat.error_joining_group"))}},H=U=>{let J="";switch(I){case"modern":J=U?"bg-gradient-to-br from-blue-500 to-indigo-600 text-white":"bg-gray-200 dark:bg-gray-800 text-gray-900 dark:text-gray-100";break;case"minimal":J=U?"bg-indigo-100 dark:bg-indigo-900 text-indigo-800 dark:text-indigo-100 border border-indigo-200 dark:border-indigo-800":"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200 border border-gray-200 dark:border-gray-700";break;case"colorful":J=U?"bg-gradient-to-br from-pink-500 to-orange-500 text-white":"bg-gradient-to-br from-cyan-500 to-blue-500 text-white";break;default:J=U?"bg-gradient-to-br from-indigo-500 to-purple-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-gray-100"}switch(O){case"square":J+=" rounded-md";break;case"bubble":J+=U?" rounded-2xl rounded-br-sm":" rounded-2xl rounded-bl-sm";break;default:J+=U?" rounded-xl rounded-br-sm":" rounded-xl rounded-bl-sm"}switch($){case"small":J+=" text-xs";break;case"large":J+=" text-base";break;default:J+=" text-sm"}return`${J} px-3.5 py-2 shadow-sm break-words`},Y=()=>i.jsxs("div",{className:"sticky top-0 z-10 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800 px-4 py-3 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("button",{onClick:()=>r("/messages"),className:"mr-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:i.jsx(tu,{size:20})}),i.jsxs("div",{className:"flex items-center",children:[m!=null&&m.image_url?i.jsx("img",{src:m.image_url,alt:m.name,className:"w-8 h-8 rounded-full mr-2",onError:U=>U.currentTarget.src="/default-group.png"}):i.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-100 dark:bg-indigo-900 flex items-center justify-center mr-2",children:i.jsx(We,{size:16,className:"text-indigo-600 dark:text-indigo-400"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"font-medium text-gray-900 dark:text-white",children:m==null?void 0:m.name}),i.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[b.length," ",n("group_chat.members")]})]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("button",{onClick:()=>y(!0),className:"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white p-1.5 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800","aria-label":n("group_chat.view_members"),children:i.jsx(We,{size:18})}),i.jsx("button",{onClick:()=>S(!z),className:"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white p-1.5 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800","aria-label":n("group_chat.settings"),children:i.jsx(X2,{size:18})}),i.jsx("button",{onClick:re,className:"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white p-1.5 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800",children:F?i.jsx(VT,{size:18}):i.jsx(zT,{size:18})})]})]}),K=()=>i.jsxs("div",{className:`${z?"block":"hidden"} p-4 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700`,children:[i.jsx("h3",{className:"font-medium text-gray-900 dark:text-white mb-3",children:n("group_chat.appearance_settings")}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:n("group_chat.chat_theme")}),i.jsx("div",{className:"flex space-x-2",children:["default","modern","minimal","colorful"].map(U=>i.jsx("button",{onClick:()=>P(U),className:`px-3 py-1.5 text-xs rounded-full ${I===U?"bg-indigo-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:n(`group_chat.theme_${U}`)},U))})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:n("group_chat.bubble_style")}),i.jsx("div",{className:"flex space-x-2",children:["rounded","square","bubble"].map(U=>i.jsx("button",{onClick:()=>A(U),className:`px-3 py-1.5 text-xs rounded-full ${O===U?"bg-indigo-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:n(`group_chat.style_${U}`)},U))})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:n("group_chat.font_size")}),i.jsx("div",{className:"flex space-x-2",children:["small","medium","large"].map(U=>i.jsx("button",{onClick:()=>L(U),className:`px-3 py-1.5 text-xs rounded-full ${$===U?"bg-indigo-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:n(`group_chat.size_${U}`)},U))})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx("button",{onClick:R,className:"px-4 py-1.5 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:n("group_chat.save_settings")})})]});return c&&s.length===0?i.jsx("div",{className:"flex justify-center items-center h-full",children:i.jsx(Ee,{size:"lg"})}):d&&!m?i.jsxs("div",{className:"p-4 text-center",children:[i.jsx("p",{className:"text-red-600 dark:text-red-400",children:d}),i.jsx("button",{onClick:()=>r("/groups"),className:"mt-4 px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700",children:n("group_chat.back_to_groups")})]}):i.jsxs("div",{className:`flex flex-col h-screen ${F?"fixed inset-0 z-50 bg-white dark:bg-gray-900":""}`,children:[Y(),K(),i.jsxs("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-50 dark:bg-gray-900",children:[!v&&m&&i.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-4 text-center",children:[i.jsx("p",{className:"text-yellow-800 dark:text-yellow-200 mb-2",children:n("group_chat.not_a_member")||"You are not a member of this group."}),i.jsx("button",{onClick:X,className:"px-4 py-2 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-lg hover:opacity-90 transition",children:n("group_chat.join_group")||"Join Group"})]}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-3 sm:p-4 space-y-1 pb-16",children:[d&&m&&i.jsx("p",{className:"text-red-500 dark:text-red-400 text-center text-sm mb-2",children:d}),c&&s.length===0&&i.jsx("div",{className:"flex justify-center pt-4",children:i.jsx(Ee,{})}),!c&&s.length===0&&i.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center pt-4",children:n("group_chat.no_messages_yet")}),!c&&s.length>0&&s.map(U=>i.jsx(uN,{message:U,isCurrentUser:U.user_id===(t==null?void 0:t.id),currentUserProfile:{avatar_url:B==null?void 0:B.avatar_url,full_name:B==null?void 0:B.full_name},getMessageStyle:H},U.id)),i.jsx("div",{ref:x})]}),i.jsx("footer",{className:"fixed bottom-0 left-0 right-0 p-3 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-850",children:v?i.jsxs("form",{onSubmit:G,className:"flex items-center space-x-2",children:[i.jsx("input",{type:"text",value:a,onChange:U=>l(U.target.value),placeholder:n("group_chat.type_a_message"),className:"flex-1 px-4 py-2.5 bg-gray-100 dark:bg-gray-700 border border-transparent rounded-full focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 text-sm transition duration-150 ease-in-out"}),i.jsx("button",{type:"submit",disabled:!a.trim(),className:"flex-shrink-0 flex items-center justify-center p-2.5 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-full hover:opacity-90 transition duration-150 ease-in-out disabled:opacity-50 disabled:cursor-not-allowed","aria-label":n("group_chat.send_message"),children:i.jsx(op,{size:18})})]}):i.jsx("div",{className:"flex justify-center items-center p-2",children:i.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:n("group_chat.join_to_send_messages")||"Join the group to send messages"})})})]}),i.jsx(Xp,{open:p,onOpenChange:y,children:i.jsxs(pd,{className:"sm:max-w-md",children:[i.jsx(yd,{children:i.jsx(xd,{children:n("group_chat.group_members")})}),i.jsx("div",{className:"max-h-[60vh] overflow-y-auto my-4",children:_?i.jsx("div",{className:"flex justify-center py-4",children:i.jsx(Ee,{})}):E?i.jsx("div",{className:"text-center py-4 text-red-500",children:E}):i.jsx("div",{className:"space-y-3",children:b.map(U=>{var J,ne,ae;return i.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("img",{src:((J=U.profiles)==null?void 0:J.avatar_url)||"/default-avatar.png",alt:((ne=U.profiles)==null?void 0:ne.full_name)||"Member",className:"h-8 w-8 rounded-full",onError:ue=>ue.currentTarget.src="/default-avatar.png"}),i.jsx("div",{children:i.jsxs("div",{className:"font-medium text-gray-900 dark:text-white",children:[((ae=U.profiles)==null?void 0:ae.full_name)||n("group_chat.unknown_user"),U.is_admin&&i.jsx("span",{className:"ml-2 text-xs bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200 px-2 py-0.5 rounded-full",children:n("group_chat.admin")})]})})]}),U.user_id!==(t==null?void 0:t.id)&&i.jsx("button",{onClick:()=>r(`/profile/${U.user_id}`),className:"text-sm text-indigo-600 hover:text-indigo-800 dark:text-indigo-400 dark:hover:text-indigo-300",children:n("general.view_profile")})]},U.id)})})}),i.jsx("div",{className:"flex justify-end mt-4",children:i.jsx("button",{onClick:()=>y(!1),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-800 focus:outline-none",children:n("general.close")})})]})})]})},dN=ht.memo(({message:e,currentUserId:t})=>{const r=e.user_id===t,n=e.profiles,s=(n==null?void 0:n.avatar_url)||"/default-avatar.png",o=(n==null?void 0:n.full_name)||"Unknown User",a=l=>{try{return gl(new Date(l),"p")}catch(c){return console.error("Error formatting timestamp:",c),"Invalid Date"}};return i.jsxs("div",{className:`flex items-end ${r?"justify-end":"justify-start"} mb-2`,children:[!r&&i.jsx("img",{src:s,alt:o,className:"h-6 w-6 rounded-full flex-shrink-0 mr-2 mb-1 self-start border border-gray-200 dark:border-gray-600"}),i.jsxs("div",{className:`flex flex-col ${r?"items-end":"items-start"} max-w-xs sm:max-w-md lg:max-w-lg`,children:[!r&&n&&i.jsx("span",{className:"text-xs font-medium mb-0.5 text-rose-600 dark:text-rose-400 ml-1",children:o}),i.jsxs("div",{className:`px-3 py-2 shadow-sm break-words ${r?"bg-gradient-to-br from-rose-500 to-red-600 text-white rounded-t-lg rounded-bl-lg":"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-t-lg rounded-br-lg"}`,children:[i.jsx("p",{className:"text-sm whitespace-pre-wrap",children:e.content}),i.jsx("span",{className:`text-[10px] mt-1 ${r?"text-white/70":"text-gray-500 dark:text-gray-400"} ${r?"text-right":"text-left"} block`,children:a(e.created_at)})]})]})]})});dN.displayName="MessageItem";const Rz=()=>{const{eventId:e}=Hu(),{user:t}=it(),{t:r}=ot(),[n,s]=h.useState([]),[o,a]=h.useState(""),[l,c]=h.useState(!0),[u,d]=h.useState(null),[f,m]=h.useState(!1),[g,x]=h.useState(null),v=h.useRef(null),[w,p]=h.useState([]),[y,b]=h.useState(!1),[k,_]=h.useState(0),[j,E]=h.useState(!1),N=()=>{var A;(A=v.current)==null||A.scrollIntoView({behavior:"smooth"})},F=async A=>{try{if(A.startsWith("sample-")){console.log(`Loading sample event with ID: ${A}`);const fe={id:A,title:`Sample Event ${A.split("-")[1]||"Unknown"}`,start_date:new Date().toISOString(),description:"This is a sample event for demonstration purposes.",location:"Online"};return x(fe),fe}if(!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(A)){console.error(`EventId is not a valid UUID: ${A}`);const fe=A.substring(0,8),oe={id:A,title:`${r("events.title")} ${fe}`,start_date:new Date().toISOString(),description:r("event_chat.error_event_not_found"),location:r("event_chat.unknown_location")||"Unknown"};return x(oe),oe}console.log(`Fetching event with ID: ${A}`);const{data:z,error:S}=await D.from("events").select("*").eq("id",A).maybeSingle();if(S&&console.error(`Database error in direct fetch: ${S.message}`),z){console.log("Successfully fetched event:",z);const fe={id:z.id,title:z.title,start_date:z.start_date||z.start_time||new Date().toISOString(),description:z.description,location:z.location};return x(fe),fe}console.log(`No event found with direct ID match: ${A}, trying other queries`);const{data:M,error:T}=await D.from("events").select("*").or(`event_id.eq.${A},uuid.eq.${A}`).maybeSingle();if(!T&&M){console.log("Found event using alternative ID column:",M);const fe={id:M.id||A,title:M.title,start_date:M.start_date||M.start_time||new Date().toISOString(),description:M.description,location:M.location};return x(fe),fe}const{data:B,error:V}=await D.from("event_attendees").select(`
          event_id,
          events:events (
            id, title, start_date, description, location
          )
        `).eq("event_id",A).limit(1);if(!V&&B&&B.length>0&&(console.log("Found event through attendance:",B[0]),B[0].events&&typeof B[0].events=="object")){const fe=Array.isArray(B[0].events)?B[0].events[0]:B[0].events;if(fe&&fe.id){const oe={id:fe.id,title:fe.title||`Event ${A.substring(0,8)}`,start_date:fe.start_date||new Date().toISOString(),description:fe.description||"No description available",location:fe.location||"No location specified"};return x(oe),oe}}console.log(`Creating fallback event for ID: ${A}`);const re=A.substring(0,8),se={id:A,title:`${r("events.title")} ${re}`,start_date:new Date().toISOString(),description:r("event_chat.error_event_not_found"),location:r("event_chat.unknown_location")||"Unknown"};return x(se),d("Error loading event details. Using fallback information."),se}catch($){console.error("Error in fetchEvent:",$);const L=A.substring(0,8),z={id:A,title:`${r("events.title")} ${L}`,start_date:new Date().toISOString(),description:r("event_chat.error_event_not_found"),location:r("event_chat.unknown_location")||"Unknown"};return x(z),d("Error loading event details. Using fallback information."),z}},C=h.useCallback(async()=>{if(!(!e||!t)){c(!0),d(null);try{if(await F(e),e.startsWith("sample-")){s([]),_(Math.floor(Math.random()*20)+5),c(!1);return}console.log(`Fetching messages for event: ${e}`);try{const{data:A,error:$}=await D.from("event_messages").select("*, profiles:user_id (full_name, avatar_url)").eq("event_id",e).order("created_at",{ascending:!0}).limit(50);$?console.error(`Error fetching messages: ${$.message}`):(s(A||[]),console.log(`Fetched ${(A==null?void 0:A.length)||0} messages for event ${e}`))}catch(A){console.error("Error fetching messages:",A),s([])}try{console.log(`Fetching attendee count for event: ${e}`);const{count:A,error:$}=await D.from("event_attendees").select("*",{count:"exact",head:!0}).eq("event_id",e).in("status",["going","interested",null]);if($)console.error(`Error fetching attendee count: ${$.message}`),_(0);else{console.log(`Found ${A||0} attendees for event ${e}`);const L=A??0;k!==L&&_(L)}}catch(A){console.error("Error fetching attendee count:",A),_(0)}}catch(A){console.error("Error fetching event data:",A),d(A.message||"Failed to load event chat."),g||x({id:e,title:`Event ${e.substring(0,8)}...`,start_date:new Date().toISOString(),description:"Event information unavailable.",location:"Unknown"})}finally{c(!1)}}},[e,t]);h.useEffect(()=>{C()},[C]),h.useEffect(()=>{N()},[n]),h.useEffect(()=>{if(!e||e.startsWith("sample-"))return;const A=D.channel(`event_chat:${e}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"event_messages",filter:`event_id=eq.${e}`},async $=>{if(console.log("New message received:",$),$.new&&$.new.user_id!==(t==null?void 0:t.id)){const{data:L,error:z}=await D.from("event_messages").select(`
                *,
                profiles:user_id (
                  full_name,
                  avatar_url
                )
              `).eq("id",$.new.id).single();if(z){console.error("Error fetching profile for new message:",z);const S={...$.new,profiles:null};s(M=>[...M,S])}else if(L){const S={id:L.id,content:L.content,created_at:L.created_at,user_id:L.user_id,profiles:Array.isArray(L.profiles)&&L.profiles.length>0?{full_name:L.profiles[0].full_name||"",avatar_url:L.profiles[0].avatar_url||null}:null};s(M=>[...M,S]),N()}}}).subscribe(($,L)=>{$==="SUBSCRIBED"&&console.log(`Subscribed to event chat ${e}`),($==="CHANNEL_ERROR"||$==="TIMED_OUT")&&(console.error(`Subscription error: ${$}`,L),d("Connection error. Real-time updates may be unavailable."))});return()=>{D.removeChannel(A),console.log(`Unsubscribed from event chat ${e}`)}},[e,t]);const I=async A=>{var $;if(A.preventDefault(),!(!o.trim()||!t||f))try{m(!0);const L={id:`temp-${Date.now()}`,event_id:e,user_id:t.id,content:o.trim(),created_at:new Date().toISOString(),profiles:t.user_metadata?{full_name:t.user_metadata.full_name||(($=t.email)==null?void 0:$.split("@")[0])||"User",avatar_url:t.user_metadata.avatar_url||null}:null};if(s(M=>[...M,L]),a(""),N(),e&&e.startsWith("sample-")){m(!1);return}const{data:z,error:S}=await D.from("event_messages").insert({event_id:e,user_id:t.id,content:L.content,created_at:L.created_at}).select();if(S)throw S;z&&z.length>0&&s(M=>M.map(T=>T.id===L.id?{...T,id:z[0].id}:T))}catch(L){console.error("Error sending message:",L),d(r("event_chat.error_sending_message")),s(z=>z.filter(S=>S.id!==`temp-${Date.now()}`))}finally{m(!1)}},P=h.useCallback(async()=>{if(!(!e||!y))try{if(e.startsWith("sample-")){p([{user_id:"sample-user-1",profiles:{full_name:"Sample User 1",avatar_url:null}},{user_id:"sample-user-2",profiles:{full_name:"Sample User 2",avatar_url:null}},{user_id:"sample-user-3",profiles:{full_name:"Sample User 3",avatar_url:null}}]);return}const{data:A,error:$}=await D.from("event_attendees").select(`
                user_id,
                profiles:user_id (
                    full_name,
                    avatar_url
                )
            `).eq("event_id",e).in("status",["going","interested",null]);if($)throw $;const L=(A||[]).map(z=>{const S=z,M=S.profiles&&Array.isArray(S.profiles)&&S.profiles.length>0?{full_name:S.profiles[0].full_name||"Unknown User",avatar_url:S.profiles[0].avatar_url}:null;return{user_id:S.user_id,profiles:M}});p(L)}catch(A){console.error("Error fetching event attendees:",A),p([])}},[e,y]);h.useEffect(()=>{y&&P()},[y,P]);const O=()=>{E(A=>!A)};return l&&!g?i.jsx("div",{className:"flex justify-center items-center h-screen",children:i.jsx(Ee,{size:"lg"})}):u&&!g?i.jsxs("div",{className:"p-4",children:[i.jsxs(be,{to:"/events",className:"text-rose-600 hover:underline mb-4 inline-block",children:[i.jsx(tu,{className:"inline mr-1"})," Back to Events"]}),i.jsx(si,{message:u})]}):i.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 md:py-12",children:i.jsxs("div",{className:`flex flex-col rounded-xl shadow-md overflow-hidden border border-gray-200 dark:border-gray-700 h-[calc(100vh-12rem)] ${j?"fixed inset-0 z-50 h-screen w-screen max-w-none p-0 rounded-none":""}`,children:[i.jsx("header",{className:"flex-shrink-0 bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:i.jsxs("div",{className:"w-full mx-auto px-3 py-2 flex items-center justify-between space-x-3",children:[i.jsx(be,{to:"/messages",className:"flex-shrink-0 text-gray-500 dark:text-gray-400 hover:text-rose-600 dark:hover:text-rose-500 transition-colors p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700","aria-label":r("event_chat.back_to_messages"),children:i.jsx(tu,{size:20})}),i.jsxs("div",{className:"flex flex-col min-w-0",children:[i.jsx("h1",{className:"text-lg md:text-xl font-semibold text-gray-900 dark:text-white truncate",children:(g==null?void 0:g.title)||r("event_chat.loading")}),i.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400",children:[i.jsxs("span",{children:[k," ",r("event_chat.attendees")]}),(g==null?void 0:g.start_date)&&i.jsxs("span",{className:"ml-2",children:[" ",gl(new Date(g.start_date),"dd.MM.yyyy")]})]})]}),i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx("button",{onClick:O,className:"flex-shrink-0 text-gray-500 dark:text-gray-400 hover:text-rose-600 dark:hover:text-rose-500 transition-colors p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700","aria-label":r(j?"event_chat.exit_fullscreen":"event_chat.enter_fullscreen"),children:j?i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:i.jsx("path",{d:"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"})}):i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:i.jsx("path",{d:"M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"})})}),i.jsx("button",{onClick:()=>b(!0),className:"flex-shrink-0 text-gray-500 dark:text-gray-400 hover:text-rose-600 dark:hover:text-rose-500 transition-colors p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700","aria-label":r("event_chat.view_attendees"),children:i.jsx(We,{size:20})}),i.jsxs(Bm,{children:[i.jsx(Vm,{children:i.jsx("button",{className:"flex-shrink-0 text-gray-500 dark:text-gray-400 hover:text-rose-600 dark:hover:text-rose-500 transition-colors p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700","aria-label":r("event_chat.settings"),children:i.jsx(sd,{size:20})})}),i.jsxs(Su,{children:[i.jsxs(_r,{children:[i.jsx(DT,{className:"mr-2 h-4 w-4"}),r("event_chat.edit_event")]}),i.jsxs(_r,{children:[i.jsx(KT,{className:"mr-2 h-4 w-4"}),r("event_chat.delete_event")]})]})]})]})]})}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden bg-white dark:bg-gray-900",children:[i.jsxs("main",{className:"flex-1 overflow-y-auto p-3 sm:p-4 space-y-3 pb-16",children:[l&&n.length===0&&i.jsx("div",{className:"flex justify-center items-center h-full pt-10",children:i.jsx(Ee,{})}),u&&g&&i.jsx("div",{className:"my-4 px-2",children:i.jsx(si,{message:`${r("event_chat.error_loading_messages")}: ${u}`})}),n.map(A=>i.jsx(dN,{message:A,currentUserId:t==null?void 0:t.id},A.id)),i.jsx("div",{ref:v,className:"h-1"})," "]}),i.jsxs("div",{className:"bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 p-3",children:[i.jsxs("form",{onSubmit:I,className:"flex items-center gap-3",children:[i.jsx("textarea",{value:o,onChange:A=>a(A.target.value),placeholder:r("event_chat.type_your_message"),className:"flex-grow resize-none border border-gray-300 dark:border-gray-600 rounded-lg p-2 focus:ring-1 focus:ring-indigo-500 dark:bg-gray-700 dark:text-white",rows:1,onKeyDown:A=>{A.key==="Enter"&&!A.shiftKey&&(A.preventDefault(),I(A))}}),i.jsx(xe,{type:"submit",disabled:!o.trim()||f,className:"p-2 flex-shrink-0",children:i.jsx(op,{className:"h-5 w-5"})})]}),u&&!l&&i.jsx("p",{className:"text-xs text-red-500 mt-1 px-2",children:u})]})]}),y&&i.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md max-h-[80vh] flex flex-col",children:[i.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-700",children:[i.jsxs("h3",{className:"text-lg font-semibold",children:[r("event_chat.event_attendees")," (",k,")"]}),i.jsx("button",{onClick:()=>b(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:i.jsx(cn,{size:20})})]}),i.jsx("div",{className:"overflow-y-auto p-4 flex-1",children:w.length===0?i.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400",children:r("event_chat.no_attendees_found")}):i.jsx("div",{className:"space-y-3",children:w.map(A=>{var $,L,z;return i.jsxs("div",{className:"flex items-center space-x-3 p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:[i.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-200 dark:bg-gray-700 overflow-hidden",children:($=A.profiles)!=null&&$.avatar_url?i.jsx("img",{src:A.profiles.avatar_url,alt:A.profiles.full_name||r("event_chat.unknown_attendee"),className:"h-full w-full object-cover"}):i.jsx("div",{className:"h-full w-full flex items-center justify-center bg-gray-300 dark:bg-gray-600",children:i.jsx("span",{className:"text-gray-600 dark:text-gray-200 font-medium",children:(L=A.profiles)!=null&&L.full_name?A.profiles.full_name.charAt(0).toUpperCase():"?"})})}),i.jsx("div",{children:i.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:((z=A.profiles)==null?void 0:z.full_name)||r("event_chat.unknown_attendee")})})]},A.user_id)})})})]})})]})})})},Mz=()=>{const{pathname:e}=rr();return h.useEffect(()=>{window.scrollTo(0,0)},[e]),null},Dz=()=>i.jsx(_c,{children:i.jsx(Em,{children:i.jsx(fO,{})})}),Lz=()=>{const{isDarkMode:e}=Jg();return i.jsx(x2,{children:i.jsxs(kT,{children:[i.jsx(sP,{position:"bottom-right",toastOptions:{duration:3e3,style:{background:"#363636",color:"#fff"}}}),i.jsx("div",{className:`app ${e?"dark":""}`,children:i.jsxs(h.Suspense,{fallback:i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-500"})}),children:[i.jsx(Mz,{}),i.jsxs($E,{children:[i.jsx(Me,{path:"/",element:i.jsx(T9,{})}),i.jsx(Me,{path:"/login",element:i.jsx(gO,{})}),i.jsx(Me,{path:"/register",element:i.jsx(pO,{})}),i.jsx(Me,{path:"/auth/callback",element:i.jsx(vb,{})}),i.jsx(Me,{path:"/callback",element:i.jsx(vb,{})}),i.jsx(Me,{path:"/complete-profile",element:i.jsx(_c,{children:i.jsx(DU,{})})}),i.jsxs(Me,{element:i.jsx(Dz,{}),children:[i.jsx(Me,{path:"/home",element:i.jsx(v9,{})}),i.jsx(Me,{path:"/discover",element:i.jsx(D9,{})}),i.jsx(Me,{path:"/profile/:id?",element:i.jsx(N9,{})}),i.jsx(Me,{path:"/friends",element:i.jsx(L9,{})}),i.jsx(Me,{path:"/messages",element:i.jsx(xb,{})}),i.jsx(Me,{path:"/messages/:id",element:i.jsx(xb,{})}),i.jsx(Me,{path:"/groups",element:i.jsx(bz,{})}),i.jsx(Me,{path:"/groups/create",element:i.jsx(xz,{})}),i.jsx(Me,{path:"/events",element:i.jsx(_z,{})}),i.jsx(Me,{path:"/events/create",element:i.jsx(jz,{})}),i.jsx(Me,{path:"/saved",element:i.jsx(kz,{})}),i.jsx(Me,{path:"/favorites",element:i.jsx(O9,{})}),i.jsx(Me,{path:"/notifications",element:i.jsx(Nz,{})}),i.jsx(Me,{path:"/settings",element:i.jsx(Cz,{})}),i.jsx(Me,{path:"/chat-diagnostics",element:i.jsx(AU,{})}),i.jsx(Me,{path:"/mock-users",element:i.jsx(Pz,{})})]}),i.jsx(Me,{path:"/groups/:id/chat",element:i.jsx(_c,{children:i.jsx(Em,{children:i.jsx(Az,{})})})}),i.jsx(Me,{path:"/events/:eventId/chat",element:i.jsx(_c,{children:i.jsx(Em,{children:i.jsx(Rz,{})})})}),i.jsx(Me,{path:"*",element:i.jsx(C9,{})})]})]})})]})})},ge=e=>typeof e=="string",zi=()=>{let e,t;const r=new Promise((n,s)=>{e=n,t=s});return r.resolve=e,r.reject=t,r},_b=e=>e==null?"":""+e,Oz=(e,t,r)=>{e.forEach(n=>{t[n]&&(r[n]=t[n])})},Iz=/###/g,kb=e=>e&&e.indexOf("###")>-1?e.replace(Iz,"."):e,Sb=e=>!e||ge(e),pa=(e,t,r)=>{const n=ge(t)?t.split("."):t;let s=0;for(;s<n.length-1;){if(Sb(e))return{};const o=kb(n[s]);!e[o]&&r&&(e[o]=new r),Object.prototype.hasOwnProperty.call(e,o)?e=e[o]:e={},++s}return Sb(e)?{}:{obj:e,k:kb(n[s])}},jb=(e,t,r)=>{const{obj:n,k:s}=pa(e,t,Object);if(n!==void 0||t.length===1){n[s]=r;return}let o=t[t.length-1],a=t.slice(0,t.length-1),l=pa(e,a,Object);for(;l.obj===void 0&&a.length;)o=`${a[a.length-1]}.${o}`,a=a.slice(0,a.length-1),l=pa(e,a,Object),l&&l.obj&&typeof l.obj[`${l.k}.${o}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${o}`]=r},Fz=(e,t,r,n)=>{const{obj:s,k:o}=pa(e,t,Object);s[o]=s[o]||[],s[o].push(r)},Nu=(e,t)=>{const{obj:r,k:n}=pa(e,t);if(r)return r[n]},$z=(e,t,r)=>{const n=Nu(e,r);return n!==void 0?n:Nu(t,r)},fN=(e,t,r)=>{for(const n in t)n!=="__proto__"&&n!=="constructor"&&(n in e?ge(e[n])||e[n]instanceof String||ge(t[n])||t[n]instanceof String?r&&(e[n]=t[n]):fN(e[n],t[n],r):e[n]=t[n]);return e},fo=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Uz={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const zz=e=>ge(e)?e.replace(/[&<>"'\/]/g,t=>Uz[t]):e;class Bz{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const r=this.regExpMap.get(t);if(r!==void 0)return r;const n=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,n),this.regExpQueue.push(t),n}}const Vz=[" ",",","?","!",";"],Gz=new Bz(20),qz=(e,t,r)=>{t=t||"",r=r||"";const n=Vz.filter(a=>t.indexOf(a)<0&&r.indexOf(a)<0);if(n.length===0)return!0;const s=Gz.getRegExp(`(${n.map(a=>a==="?"?"\\?":a).join("|")})`);let o=!s.test(e);if(!o){const a=e.indexOf(r);a>0&&!s.test(e.substring(0,a))&&(o=!0)}return o},Jm=function(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!e)return;if(e[t])return e[t];const n=t.split(r);let s=e;for(let o=0;o<n.length;){if(!s||typeof s!="object")return;let a,l="";for(let c=o;c<n.length;++c)if(c!==o&&(l+=r),l+=n[c],a=s[l],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&c<n.length-1)continue;o+=c-o+1;break}s=a}return s},Cu=e=>e&&e.replace("_","-"),Wz={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class Eu{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(t,r)}init(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=t||Wz,this.options=r,this.debug=r.debug}log(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.forward(r,"log","",!0)}warn(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.forward(r,"warn","",!0)}error(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.forward(r,"error","")}deprecate(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}forward(t,r,n,s){return s&&!this.debug?null:(ge(t[0])&&(t[0]=`${n}${this.prefix} ${t[0]}`),this.logger[r](t))}create(t){return new Eu(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new Eu(this.logger,t)}}var Br=new Eu;class Pd{constructor(){this.observers={}}on(t,r){return t.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const s=this.observers[n].get(r)||0;this.observers[n].set(r,s+1)}),this}off(t,r){if(this.observers[t]){if(!r){delete this.observers[t];return}this.observers[t].delete(r)}}emit(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];this.observers[t]&&Array.from(this.observers[t].entries()).forEach(a=>{let[l,c]=a;for(let u=0;u<c;u++)l(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(a=>{let[l,c]=a;for(let u=0;u<c;u++)l.apply(l,[t,...n])})}}class Nb extends Pd{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const r=this.options.ns.indexOf(t);r>-1&&this.options.ns.splice(r,1)}getResource(t,r,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,a=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;t.indexOf(".")>-1?l=t.split("."):(l=[t,r],n&&(Array.isArray(n)?l.push(...n):ge(n)&&o?l.push(...n.split(o)):l.push(n)));const c=Nu(this.data,l);return!c&&!r&&!n&&t.indexOf(".")>-1&&(t=l[0],r=l[1],n=l.slice(2).join(".")),c||!a||!ge(n)?c:Jm(this.data&&this.data[t]&&this.data[t][r],n,o)}addResource(t,r,n,s){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const a=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let l=[t,r];n&&(l=l.concat(a?n.split(a):n)),t.indexOf(".")>-1&&(l=t.split("."),s=r,r=l[1]),this.addNamespaces(r),jb(this.data,l,s),o.silent||this.emit("added",t,r,n,s)}addResources(t,r,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const o in n)(ge(n[o])||Array.isArray(n[o]))&&this.addResource(t,r,o,n[o],{silent:!0});s.silent||this.emit("added",t,r,n)}addResourceBundle(t,r,n,s,o){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},l=[t,r];t.indexOf(".")>-1&&(l=t.split("."),s=n,n=r,r=l[1]),this.addNamespaces(r);let c=Nu(this.data,l)||{};a.skipCopy||(n=JSON.parse(JSON.stringify(n))),s?fN(c,n,o):c={...c,...n},jb(this.data,l,c),a.silent||this.emit("added",t,r,n)}removeResourceBundle(t,r){this.hasResourceBundle(t,r)&&delete this.data[t][r],this.removeNamespaces(r),this.emit("removed",t,r)}hasResourceBundle(t,r){return this.getResource(t,r)!==void 0}getResourceBundle(t,r){return r||(r=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(t,r)}:this.getResource(t,r)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const r=this.getDataByLanguage(t);return!!(r&&Object.keys(r)||[]).find(s=>r[s]&&Object.keys(r[s]).length>0)}toJSON(){return this.data}}var hN={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,r,n,s){return e.forEach(o=>{this.processors[o]&&(t=this.processors[o].process(t,r,n,s))}),t}};const Cb={};class Pu extends Pd{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Oz(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Br.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(t==null)return!1;const n=this.resolve(t,r);return n&&n.res!==void 0}extractFromKey(t,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const s=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let o=r.ns||this.options.defaultNS||[];const a=n&&t.indexOf(n)>-1,l=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!qz(t,n,s);if(a&&!l){const c=t.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:t,namespaces:ge(o)?[o]:o};const u=t.split(n);(n!==s||n===s&&this.options.ns.indexOf(u[0])>-1)&&(o=u.shift()),t=u.join(s)}return{key:t,namespaces:ge(o)?[o]:o}}translate(t,r,n){if(typeof r!="object"&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),typeof r=="object"&&(r={...r}),r||(r={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const s=r.returnDetails!==void 0?r.returnDetails:this.options.returnDetails,o=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,{key:a,namespaces:l}=this.extractFromKey(t[t.length-1],r),c=l[l.length-1],u=r.lng||this.language,d=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(d){const k=r.nsSeparator||this.options.nsSeparator;return s?{res:`${c}${k}${a}`,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(r)}:`${c}${k}${a}`}return s?{res:a,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(r)}:a}const f=this.resolve(t,r);let m=f&&f.res;const g=f&&f.usedKey||a,x=f&&f.exactUsedKey||a,v=Object.prototype.toString.apply(m),w=["[object Number]","[object Function]","[object RegExp]"],p=r.joinArrays!==void 0?r.joinArrays:this.options.joinArrays,y=!this.i18nFormat||this.i18nFormat.handleAsObject,b=!ge(m)&&typeof m!="boolean"&&typeof m!="number";if(y&&m&&b&&w.indexOf(v)<0&&!(ge(p)&&Array.isArray(m))){if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const k=this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,m,{...r,ns:l}):`key '${a} (${this.language})' returned an object instead of string.`;return s?(f.res=k,f.usedParams=this.getUsedParamsDetails(r),f):k}if(o){const k=Array.isArray(m),_=k?[]:{},j=k?x:g;for(const E in m)if(Object.prototype.hasOwnProperty.call(m,E)){const N=`${j}${o}${E}`;_[E]=this.translate(N,{...r,joinArrays:!1,ns:l}),_[E]===N&&(_[E]=m[E])}m=_}}else if(y&&ge(p)&&Array.isArray(m))m=m.join(p),m&&(m=this.extendTranslation(m,t,r,n));else{let k=!1,_=!1;const j=r.count!==void 0&&!ge(r.count),E=Pu.hasDefaultValue(r),N=j?this.pluralResolver.getSuffix(u,r.count,r):"",F=r.ordinal&&j?this.pluralResolver.getSuffix(u,r.count,{ordinal:!1}):"",C=j&&!r.ordinal&&r.count===0&&this.pluralResolver.shouldUseIntlApi(),I=C&&r[`defaultValue${this.options.pluralSeparator}zero`]||r[`defaultValue${N}`]||r[`defaultValue${F}`]||r.defaultValue;!this.isValidLookup(m)&&E&&(k=!0,m=I),this.isValidLookup(m)||(_=!0,m=a);const O=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&_?void 0:m,A=E&&I!==m&&this.options.updateMissing;if(_||k||A){if(this.logger.log(A?"updateKey":"missingKey",u,c,a,A?I:m),o){const S=this.resolve(a,{...r,keySeparator:!1});S&&S.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let $=[];const L=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if(this.options.saveMissingTo==="fallback"&&L&&L[0])for(let S=0;S<L.length;S++)$.push(L[S]);else this.options.saveMissingTo==="all"?$=this.languageUtils.toResolveHierarchy(r.lng||this.language):$.push(r.lng||this.language);const z=(S,M,T)=>{const B=E&&T!==m?T:O;this.options.missingKeyHandler?this.options.missingKeyHandler(S,c,M,B,A,r):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(S,c,M,B,A,r),this.emit("missingKey",S,c,M,m)};this.options.saveMissing&&(this.options.saveMissingPlurals&&j?$.forEach(S=>{const M=this.pluralResolver.getSuffixes(S,r);C&&r[`defaultValue${this.options.pluralSeparator}zero`]&&M.indexOf(`${this.options.pluralSeparator}zero`)<0&&M.push(`${this.options.pluralSeparator}zero`),M.forEach(T=>{z([S],a+T,r[`defaultValue${T}`]||I)})}):z($,a,I))}m=this.extendTranslation(m,t,r,f,n),_&&m===a&&this.options.appendNamespaceToMissingKey&&(m=`${c}:${a}`),(_||k)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?m=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}:${a}`:a,k?m:void 0):m=this.options.parseMissingKeyHandler(m))}return s?(f.res=m,f.usedParams=this.getUsedParamsDetails(r),f):m}extendTranslation(t,r,n,s,o){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const u=ge(t)&&(n&&n.interpolation&&n.interpolation.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(u){const m=t.match(this.interpolator.nestingRegexp);d=m&&m.length}let f=n.replace&&!ge(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),t=this.interpolator.interpolate(t,f,n.lng||this.language||s.usedLng,n),u){const m=t.match(this.interpolator.nestingRegexp),g=m&&m.length;d<g&&(n.nest=!1)}!n.lng&&this.options.compatibilityAPI!=="v1"&&s&&s.res&&(n.lng=this.language||s.usedLng),n.nest!==!1&&(t=this.interpolator.nest(t,function(){for(var m=arguments.length,g=new Array(m),x=0;x<m;x++)g[x]=arguments[x];return o&&o[0]===g[0]&&!n.context?(a.logger.warn(`It seems you are nesting recursively key: ${g[0]} in key: ${r[0]}`),null):a.translate(...g,r)},n)),n.interpolation&&this.interpolator.reset()}const l=n.postProcess||this.options.postProcess,c=ge(l)?[l]:l;return t!=null&&c&&c.length&&n.applyPostProcessor!==!1&&(t=hN.handle(c,t,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),t}resolve(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n,s,o,a,l;return ge(t)&&(t=[t]),t.forEach(c=>{if(this.isValidLookup(n))return;const u=this.extractFromKey(c,r),d=u.key;s=d;let f=u.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const m=r.count!==void 0&&!ge(r.count),g=m&&!r.ordinal&&r.count===0&&this.pluralResolver.shouldUseIntlApi(),x=r.context!==void 0&&(ge(r.context)||typeof r.context=="number")&&r.context!=="",v=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);f.forEach(w=>{this.isValidLookup(n)||(l=w,!Cb[`${v[0]}-${w}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(l)&&(Cb[`${v[0]}-${w}`]=!0,this.logger.warn(`key "${s}" for languages "${v.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),v.forEach(p=>{if(this.isValidLookup(n))return;a=p;const y=[d];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(y,d,p,w,r);else{let k;m&&(k=this.pluralResolver.getSuffix(p,r.count,r));const _=`${this.options.pluralSeparator}zero`,j=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(m&&(y.push(d+k),r.ordinal&&k.indexOf(j)===0&&y.push(d+k.replace(j,this.options.pluralSeparator)),g&&y.push(d+_)),x){const E=`${d}${this.options.contextSeparator}${r.context}`;y.push(E),m&&(y.push(E+k),r.ordinal&&k.indexOf(j)===0&&y.push(E+k.replace(j,this.options.pluralSeparator)),g&&y.push(E+_))}}let b;for(;b=y.pop();)this.isValidLookup(n)||(o=b,n=this.getResource(p,w,b,r))}))})}),{res:n,usedKey:s,exactUsedKey:o,usedLng:a,usedNS:l}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,r,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,r,n,s):this.resourceStore.getResource(t,r,n,s)}getUsedParamsDetails(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=t.replace&&!ge(t.replace);let s=n?t.replace:t;if(n&&typeof t.count<"u"&&(s.count=t.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!n){s={...s};for(const o of r)delete s[o]}return s}static hasDefaultValue(t){const r="defaultValue";for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&r===n.substring(0,r.length)&&t[n]!==void 0)return!0;return!1}}const Hf=e=>e.charAt(0).toUpperCase()+e.slice(1);class Eb{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Br.create("languageUtils")}getScriptPartFromCode(t){if(t=Cu(t),!t||t.indexOf("-")<0)return null;const r=t.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(t){if(t=Cu(t),!t||t.indexOf("-")<0)return t;const r=t.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(t){if(ge(t)&&t.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let s=Intl.getCanonicalLocales(t)[0];if(s&&this.options.lowerCaseLng&&(s=s.toLowerCase()),s)return s}catch{}const r=["hans","hant","latn","cyrl","cans","mong","arab"];let n=t.split("-");return this.options.lowerCaseLng?n=n.map(s=>s.toLowerCase()):n.length===2?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),r.indexOf(n[1].toLowerCase())>-1&&(n[1]=Hf(n[1].toLowerCase()))):n.length===3&&(n[0]=n[0].toLowerCase(),n[1].length===2&&(n[1]=n[1].toUpperCase()),n[0]!=="sgn"&&n[2].length===2&&(n[2]=n[2].toUpperCase()),r.indexOf(n[1].toLowerCase())>-1&&(n[1]=Hf(n[1].toLowerCase())),r.indexOf(n[2].toLowerCase())>-1&&(n[2]=Hf(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let r;return t.forEach(n=>{if(r)return;const s=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(s))&&(r=s)}),!r&&this.options.supportedLngs&&t.forEach(n=>{if(r)return;const s=this.getLanguagePartFromCode(n);if(this.isSupportedCode(s))return r=s;r=this.options.supportedLngs.find(o=>{if(o===s)return o;if(!(o.indexOf("-")<0&&s.indexOf("-")<0)&&(o.indexOf("-")>0&&s.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===s||o.indexOf(s)===0&&s.length>1))return o})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(t,r){if(!t)return[];if(typeof t=="function"&&(t=t(r)),ge(t)&&(t=[t]),Array.isArray(t))return t;if(!r)return t.default||[];let n=t[r];return n||(n=t[this.getScriptPartFromCode(r)]),n||(n=t[this.formatLanguageCode(r)]),n||(n=t[this.getLanguagePartFromCode(r)]),n||(n=t.default),n||[]}toResolveHierarchy(t,r){const n=this.getFallbackCodes(r||this.options.fallbackLng||[],t),s=[],o=a=>{a&&(this.isSupportedCode(a)?s.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return ge(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(t))):ge(t)&&o(this.formatLanguageCode(t)),n.forEach(a=>{s.indexOf(a)<0&&o(this.formatLanguageCode(a))}),s}}let Hz=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Kz={1:e=>+(e>1),2:e=>+(e!=1),3:e=>0,4:e=>e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,5:e=>e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5,6:e=>e==1?0:e>=2&&e<=4?1:2,7:e=>e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,8:e=>e==1?0:e==2?1:e!=8&&e!=11?2:3,9:e=>+(e>=2),10:e=>e==1?0:e==2?1:e<7?2:e<11?3:4,11:e=>e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3,12:e=>+(e%10!=1||e%100==11),13:e=>+(e!==0),14:e=>e==1?0:e==2?1:e==3?2:3,15:e=>e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2,16:e=>e%10==1&&e%100!=11?0:e!==0?1:2,17:e=>e==1||e%10==1&&e%100!=11?0:1,18:e=>e==0?0:e==1?1:2,19:e=>e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3,20:e=>e==1?0:e==0||e%100>0&&e%100<20?1:2,21:e=>e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0,22:e=>e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3};const Yz=["v1","v2","v3"],Jz=["v4"],Pb={zero:0,one:1,two:2,few:3,many:4,other:5},Xz=()=>{const e={};return Hz.forEach(t=>{t.lngs.forEach(r=>{e[r]={numbers:t.nr,plurals:Kz[t.fc]}})}),e};class Qz{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=t,this.options=r,this.logger=Br.create("pluralResolver"),(!this.options.compatibilityJSON||Jz.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Xz(),this.pluralRulesCache={}}addRule(t,r){this.rules[t]=r}clearCache(){this.pluralRulesCache={}}getRule(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const n=Cu(t==="dev"?"en":t),s=r.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:n,type:s});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let a;try{a=new Intl.PluralRules(n,{type:s})}catch{if(!t.match(/-|_/))return;const c=this.languageUtils.getLanguagePartFromCode(t);a=this.getRule(c,r)}return this.pluralRulesCache[o]=a,a}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}needsPlural(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(t,r);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,n).map(s=>`${r}${s}`)}getSuffixes(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(t,r);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort((s,o)=>Pb[s]-Pb[o]).map(s=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s}`):n.numbers.map(s=>this.getSuffix(t,s,r)):[]}getSuffix(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=this.getRule(t,n);return s?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s.select(r)}`:this.getSuffixRetroCompatible(s,r):(this.logger.warn(`no plural rule found for: ${t}`),"")}getSuffixRetroCompatible(t,r){const n=t.noAbs?t.plurals(r):t.plurals(Math.abs(r));let s=t.numbers[n];this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1&&(s===2?s="plural":s===1&&(s=""));const o=()=>this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString();return this.options.compatibilityJSON==="v1"?s===1?"":typeof s=="number"?`_plural_${s.toString()}`:o():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1?o():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!Yz.includes(this.options.compatibilityJSON)}}const Tb=function(e,t,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=$z(e,t,r);return!o&&s&&ge(r)&&(o=Jm(e,r,n),o===void 0&&(o=Jm(t,r,n))),o},Kf=e=>e.replace(/\$/g,"$$$$");class Zz{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Br.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||(r=>r),this.init(t)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});const{escape:r,escapeValue:n,useRawValueToEscape:s,prefix:o,prefixEscaped:a,suffix:l,suffixEscaped:c,formatSeparator:u,unescapeSuffix:d,unescapePrefix:f,nestingPrefix:m,nestingPrefixEscaped:g,nestingSuffix:x,nestingSuffixEscaped:v,nestingOptionsSeparator:w,maxReplaces:p,alwaysFormat:y}=t.interpolation;this.escape=r!==void 0?r:zz,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=o?fo(o):a||"{{",this.suffix=l?fo(l):c||"}}",this.formatSeparator=u||",",this.unescapePrefix=d?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=m?fo(m):g||fo("$t("),this.nestingSuffix=x?fo(x):v||fo(")"),this.nestingOptionsSeparator=w||",",this.maxReplaces=p||1e3,this.alwaysFormat=y!==void 0?y:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(r,n)=>r&&r.source===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,r,n,s){let o,a,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=g=>{if(g.indexOf(this.formatSeparator)<0){const p=Tb(r,c,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(p,void 0,n,{...s,...r,interpolationkey:g}):p}const x=g.split(this.formatSeparator),v=x.shift().trim(),w=x.join(this.formatSeparator).trim();return this.format(Tb(r,c,v,this.options.keySeparator,this.options.ignoreJSONStructure),w,n,{...s,...r,interpolationkey:v})};this.resetRegExp();const d=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,f=s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>Kf(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?Kf(this.escape(g)):Kf(g)}].forEach(g=>{for(l=0;o=g.regex.exec(t);){const x=o[1].trim();if(a=u(x),a===void 0)if(typeof d=="function"){const w=d(t,o,s);a=ge(w)?w:""}else if(s&&Object.prototype.hasOwnProperty.call(s,x))a="";else if(f){a=o[0];continue}else this.logger.warn(`missed to pass in variable ${x} for interpolating ${t}`),a="";else!ge(a)&&!this.useRawValueToEscape&&(a=_b(a));const v=g.safeValue(a);if(t=t.replace(o[0],v),f?(g.regex.lastIndex+=a.length,g.regex.lastIndex-=o[0].length):g.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),t}nest(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,o,a;const l=(c,u)=>{const d=this.nestingOptionsSeparator;if(c.indexOf(d)<0)return c;const f=c.split(new RegExp(`${d}[ ]*{`));let m=`{${f[1]}`;c=f[0],m=this.interpolate(m,a);const g=m.match(/'/g),x=m.match(/"/g);(g&&g.length%2===0&&!x||x.length%2!==0)&&(m=m.replace(/'/g,'"'));try{a=JSON.parse(m),u&&(a={...u,...a})}catch(v){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,v),`${c}${d}${m}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,c};for(;s=this.nestingRegexp.exec(t);){let c=[];a={...n},a=a.replace&&!ge(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;let u=!1;if(s[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(s[1])){const d=s[1].split(this.formatSeparator).map(f=>f.trim());s[1]=d.shift(),c=d,u=!0}if(o=r(l.call(this,s[1].trim(),a),a),o&&s[0]===t&&!ge(o))return o;ge(o)||(o=_b(o)),o||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${t}`),o=""),u&&(o=c.reduce((d,f)=>this.format(d,f,n.lng,{...n,interpolationkey:s[1].trim()}),o.trim())),t=t.replace(s[0],o),this.regexp.lastIndex=0}return t}}const eB=e=>{let t=e.toLowerCase().trim();const r={};if(e.indexOf("(")>-1){const n=e.split("(");t=n[0].toLowerCase().trim();const s=n[1].substring(0,n[1].length-1);t==="currency"&&s.indexOf(":")<0?r.currency||(r.currency=s.trim()):t==="relativetime"&&s.indexOf(":")<0?r.range||(r.range=s.trim()):s.split(";").forEach(a=>{if(a){const[l,...c]=a.split(":"),u=c.join(":").trim().replace(/^'+|'+$/g,""),d=l.trim();r[d]||(r[d]=u),u==="false"&&(r[d]=!1),u==="true"&&(r[d]=!0),isNaN(u)||(r[d]=parseInt(u,10))}})}return{formatName:t,formatOptions:r}},ho=e=>{const t={};return(r,n,s)=>{let o=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(o={...o,[s.interpolationkey]:void 0});const a=n+JSON.stringify(o);let l=t[a];return l||(l=e(Cu(n),s),t[a]=l),l(r)}};class tB{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Br.create("formatter"),this.options=t,this.formats={number:ho((r,n)=>{const s=new Intl.NumberFormat(r,{...n});return o=>s.format(o)}),currency:ho((r,n)=>{const s=new Intl.NumberFormat(r,{...n,style:"currency"});return o=>s.format(o)}),datetime:ho((r,n)=>{const s=new Intl.DateTimeFormat(r,{...n});return o=>s.format(o)}),relativetime:ho((r,n)=>{const s=new Intl.RelativeTimeFormat(r,{...n});return o=>s.format(o,n.range||"day")}),list:ho((r,n)=>{const s=new Intl.ListFormat(r,{...n});return o=>s.format(o)})},this.init(t)}init(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=r.interpolation.formatSeparator||","}add(t,r){this.formats[t.toLowerCase().trim()]=r}addCached(t,r){this.formats[t.toLowerCase().trim()]=ho(r)}format(t,r,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=r.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(l=>l.indexOf(")")>-1)){const l=o.findIndex(c=>c.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,l)].join(this.formatSeparator)}return o.reduce((l,c)=>{const{formatName:u,formatOptions:d}=eB(c);if(this.formats[u]){let f=l;try{const m=s&&s.formatParams&&s.formatParams[s.interpolationkey]||{},g=m.locale||m.lng||s.locale||s.lng||n;f=this.formats[u](l,g,{...d,...s,...m})}catch(m){this.logger.warn(m)}return f}else this.logger.warn(`there was no format function for ${u}`);return l},t)}}const rB=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class nB extends Pd{constructor(t,r,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=t,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=s,this.logger=Br.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,s.backend,s)}queueLoad(t,r,n,s){const o={},a={},l={},c={};return t.forEach(u=>{let d=!0;r.forEach(f=>{const m=`${u}|${f}`;!n.reload&&this.store.hasResourceBundle(u,f)?this.state[m]=2:this.state[m]<0||(this.state[m]===1?a[m]===void 0&&(a[m]=!0):(this.state[m]=1,d=!1,a[m]===void 0&&(a[m]=!0),o[m]===void 0&&(o[m]=!0),c[f]===void 0&&(c[f]=!0)))}),d||(l[u]=!0)}),(Object.keys(o).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(o),pending:Object.keys(a),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(t,r,n){const s=t.split("|"),o=s[0],a=s[1];r&&this.emit("failedLoading",o,a,r),!r&&n&&this.store.addResourceBundle(o,a,n,void 0,void 0,{skipCopy:!0}),this.state[t]=r?-1:2,r&&n&&(this.state[t]=0);const l={};this.queue.forEach(c=>{Fz(c.loaded,[o],a),rB(c,t),r&&c.errors.push(r),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(u=>{l[u]||(l[u]={});const d=c.loaded[u];d.length&&d.forEach(f=>{l[u][f]===void 0&&(l[u][f]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(t,r,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!t.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:r,fcName:n,tried:s,wait:o,callback:a});return}this.readingCalls++;const l=(u,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(u&&d&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,t,r,n,s+1,o*2,a)},o);return}a(u,d)},c=this.backend[n].bind(this.backend);if(c.length===2){try{const u=c(t,r);u&&typeof u.then=="function"?u.then(d=>l(null,d)).catch(l):l(null,u)}catch(u){l(u)}return}return c(t,r,l)}prepareLoading(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();ge(t)&&(t=this.languageUtils.toResolveHierarchy(t)),ge(r)&&(r=[r]);const o=this.queueLoad(t,r,n,s);if(!o.toLoad.length)return o.pending.length||s(),null;o.toLoad.forEach(a=>{this.loadOne(a)})}load(t,r,n){this.prepareLoading(t,r,{},n)}reload(t,r,n){this.prepareLoading(t,r,{reload:!0},n)}loadOne(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const n=t.split("|"),s=n[0],o=n[1];this.read(s,o,"read",void 0,void 0,(a,l)=>{a&&this.logger.warn(`${r}loading namespace ${o} for language ${s} failed`,a),!a&&l&&this.logger.log(`${r}loaded namespace ${o} for language ${s}`,l),this.loaded(t,a,l)})}saveMissing(t,r,n,s,o){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(r)){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend&&this.backend.create){const c={...a,isUpdate:o},u=this.backend.create.bind(this.backend);if(u.length<6)try{let d;u.length===5?d=u(t,r,n,s,c):d=u(t,r,n,s),d&&typeof d.then=="function"?d.then(f=>l(null,f)).catch(l):l(null,d)}catch(d){l(d)}else u(t,r,n,s,l,c)}!t||!t[0]||this.store.addResource(t[0],r,n,s)}}}const Ab=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),ge(e[1])&&(t.defaultValue=e[1]),ge(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const r=e[3]||e[2];Object.keys(r).forEach(n=>{t[n]=r[n]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),Rb=e=>(ge(e.ns)&&(e.ns=[e.ns]),ge(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),ge(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e),sc=()=>{},sB=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(r=>{typeof e[r]=="function"&&(e[r]=e[r].bind(e))})};class el extends Pd{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Rb(t),this.services={},this.logger=Br,this.modules={external:[]},sB(this),r&&!this.isInitialized&&!t.isClone){if(!this.options.initImmediate)return this.init(t,r),this;setTimeout(()=>{this.init(t,r)},0)}}init(){var t=this;let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof r=="function"&&(n=r,r={}),!r.defaultNS&&r.defaultNS!==!1&&r.ns&&(ge(r.ns)?r.defaultNS=r.ns:r.ns.indexOf("translation")<0&&(r.defaultNS=r.ns[0]));const s=Ab();this.options={...s,...this.options,...Rb(r)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...s.interpolation,...this.options.interpolation}),r.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=r.keySeparator),r.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=r.nsSeparator);const o=d=>d?typeof d=="function"?new d:d:null;if(!this.options.isClone){this.modules.logger?Br.init(o(this.modules.logger),this.options):Br.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:typeof Intl<"u"&&(d=tB);const f=new Eb(this.options);this.store=new Nb(this.options.resources,this.options);const m=this.services;m.logger=Br,m.resourceStore=this.store,m.languageUtils=f,m.pluralResolver=new Qz(f,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),d&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(m.formatter=o(d),m.formatter.init(m,this.options),this.options.interpolation.format=m.formatter.format.bind(m.formatter)),m.interpolator=new Zz(this.options),m.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},m.backendConnector=new nB(o(this.modules.backend),m.resourceStore,m,this.options),m.backendConnector.on("*",function(g){for(var x=arguments.length,v=new Array(x>1?x-1:0),w=1;w<x;w++)v[w-1]=arguments[w];t.emit(g,...v)}),this.modules.languageDetector&&(m.languageDetector=o(this.modules.languageDetector),m.languageDetector.init&&m.languageDetector.init(m,this.options.detection,this.options)),this.modules.i18nFormat&&(m.i18nFormat=o(this.modules.i18nFormat),m.i18nFormat.init&&m.i18nFormat.init(this)),this.translator=new Pu(this.services,this.options),this.translator.on("*",function(g){for(var x=arguments.length,v=new Array(x>1?x-1:0),w=1;w<x;w++)v[w-1]=arguments[w];t.emit(g,...v)}),this.modules.external.forEach(g=>{g.init&&g.init(this)})}if(this.format=this.options.interpolation.format,n||(n=sc),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=function(){return t.store[d](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=function(){return t.store[d](...arguments),t}});const c=zi(),u=()=>{const d=(f,m)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(m),n(f,m)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),c}loadResources(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:sc;const s=ge(t)?t:this.language;if(typeof t=="function"&&(n=t),!this.options.resources||this.options.partialBundledLanguages){if(s&&s.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const o=[],a=l=>{if(!l||l==="cimode")return;this.services.languageUtils.toResolveHierarchy(l).forEach(u=>{u!=="cimode"&&o.indexOf(u)<0&&o.push(u)})};s?a(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>a(c)),this.options.preload&&this.options.preload.forEach(l=>a(l)),this.services.backendConnector.load(o,this.options.ns,l=>{!l&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(l)})}else n(null)}reloadResources(t,r,n){const s=zi();return typeof t=="function"&&(n=t,t=void 0),typeof r=="function"&&(n=r,r=void 0),t||(t=this.languages),r||(r=this.options.ns),n||(n=sc),this.services.backendConnector.reload(t,r,o=>{s.resolve(),n(o)}),s}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&hN.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1))for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}changeLanguage(t,r){var n=this;this.isLanguageChangingTo=t;const s=zi();this.emit("languageChanging",t);const o=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},a=(c,u)=>{u?(o(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,s.resolve(function(){return n.t(...arguments)}),r&&r(c,function(){return n.t(...arguments)})},l=c=>{!t&&!c&&this.services.languageDetector&&(c=[]);const u=ge(c)?c:this.services.languageUtils.getBestMatchFromCodes(c);u&&(this.language||o(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,d=>{a(d,u)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(t),s}getFixedT(t,r,n){var s=this;const o=function(a,l){let c;if(typeof l!="object"){for(var u=arguments.length,d=new Array(u>2?u-2:0),f=2;f<u;f++)d[f-2]=arguments[f];c=s.options.overloadTranslationOptionHandler([a,l].concat(d))}else c={...l};c.lng=c.lng||o.lng,c.lngs=c.lngs||o.lngs,c.ns=c.ns||o.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||n||o.keyPrefix);const m=s.options.keySeparator||".";let g;return c.keyPrefix&&Array.isArray(a)?g=a.map(x=>`${c.keyPrefix}${m}${x}`):g=c.keyPrefix?`${c.keyPrefix}${m}${a}`:a,s.t(g,c)};return ge(t)?o.lng=t:o.lngs=t,o.ns=r,o.keyPrefix=n,o}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const a=(l,c)=>{const u=this.services.backendConnector.state[`${l}|${c}`];return u===-1||u===0||u===2};if(r.precheck){const l=r.precheck(this,a);if(l!==void 0)return l}return!!(this.hasResourceBundle(n,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(n,t)&&(!s||a(o,t)))}loadNamespaces(t,r){const n=zi();return this.options.ns?(ge(t)&&(t=[t]),t.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{n.resolve(),r&&r(s)}),n):(r&&r(),Promise.resolve())}loadLanguages(t,r){const n=zi();ge(t)&&(t=[t]);const s=this.options.preload||[],o=t.filter(a=>s.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return o.length?(this.options.preload=s.concat(o),this.loadResources(a=>{n.resolve(),r&&r(a)}),n):(r&&r(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!t)return"rtl";const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services&&this.services.languageUtils||new Eb(Ab());return r.indexOf(n.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return new el(t,r)}cloneInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:sc;const n=t.forkResourceStore;n&&delete t.forkResourceStore;const s={...this.options,...t,isClone:!0},o=new el(s);return(t.debug!==void 0||t.prefix!==void 0)&&(o.logger=o.logger.clone(t)),["store","services","language"].forEach(l=>{o[l]=this[l]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},n&&(o.store=new Nb(this.store.data,s),o.services.resourceStore=o.store),o.translator=new Pu(o.services,s),o.translator.on("*",function(l){for(var c=arguments.length,u=new Array(c>1?c-1:0),d=1;d<c;d++)u[d-1]=arguments[d];o.emit(l,...u)}),o.init(s,r),o.translator.options=s,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Ct=el.createInstance();Ct.createInstance=el.createInstance;Ct.createInstance;Ct.dir;Ct.init;Ct.loadResources;Ct.reloadResources;Ct.use;Ct.changeLanguage;Ct.getFixedT;Ct.t;Ct.exists;Ct.setDefaultNamespace;Ct.hasLoadedNamespace;Ct.loadNamespaces;Ct.loadLanguages;const{slice:oB,forEach:iB}=[];function aB(e){return iB.call(oB.call(arguments,1),t=>{if(t)for(const r in t)e[r]===void 0&&(e[r]=t[r])}),e}const Mb=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,lB=function(e,t){const n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},s=encodeURIComponent(t);let o=`${e}=${s}`;if(n.maxAge>0){const a=n.maxAge-0;if(Number.isNaN(a))throw new Error("maxAge should be a Number");o+=`; Max-Age=${Math.floor(a)}`}if(n.domain){if(!Mb.test(n.domain))throw new TypeError("option domain is invalid");o+=`; Domain=${n.domain}`}if(n.path){if(!Mb.test(n.path))throw new TypeError("option path is invalid");o+=`; Path=${n.path}`}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+=`; Expires=${n.expires.toUTCString()}`}if(n.httpOnly&&(o+="; HttpOnly"),n.secure&&(o+="; Secure"),n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return o},Db={create(e,t,r,n){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(s.expires=new Date,s.expires.setTime(s.expires.getTime()+r*60*1e3)),n&&(s.domain=n),document.cookie=lB(e,encodeURIComponent(t),s)},read(e){const t=`${e}=`,r=document.cookie.split(";");for(let n=0;n<r.length;n++){let s=r[n];for(;s.charAt(0)===" ";)s=s.substring(1,s.length);if(s.indexOf(t)===0)return s.substring(t.length,s.length)}return null},remove(e){this.create(e,"",-1)}};var cB={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&typeof document<"u")return Db.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:r,cookieMinutes:n,cookieDomain:s,cookieOptions:o}=t;r&&typeof document<"u"&&Db.create(r,e,n,s,o)}},uB={name:"querystring",lookup(e){var n;let{lookupQuerystring:t}=e,r;if(typeof window<"u"){let{search:s}=window.location;!window.location.search&&((n=window.location.hash)==null?void 0:n.indexOf("?"))>-1&&(s=window.location.hash.substring(window.location.hash.indexOf("?")));const a=s.substring(1).split("&");for(let l=0;l<a.length;l++){const c=a[l].indexOf("=");c>0&&a[l].substring(0,c)===t&&(r=a[l].substring(c+1))}}return r}};let mo=null;const Lb=()=>{if(mo!==null)return mo;try{if(mo=typeof window<"u"&&window.localStorage!==null,!mo)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{mo=!1}return mo};var dB={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&Lb())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:r}=t;r&&Lb()&&window.localStorage.setItem(r,e)}};let go=null;const Ob=()=>{if(go!==null)return go;try{if(go=typeof window<"u"&&window.sessionStorage!==null,!go)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{go=!1}return go};var fB={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&Ob())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:r}=t;r&&Ob()&&window.sessionStorage.setItem(r,e)}},hB={name:"navigator",lookup(e){const t=[];if(typeof navigator<"u"){const{languages:r,userLanguage:n,language:s}=navigator;if(r)for(let o=0;o<r.length;o++)t.push(r[o]);n&&t.push(n),s&&t.push(s)}return t.length>0?t:void 0}},mB={name:"htmlTag",lookup(e){let{htmlTag:t}=e,r;const n=t||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(r=n.getAttribute("lang")),r}},gB={name:"path",lookup(e){var s;let{lookupFromPathIndex:t}=e;if(typeof window>"u")return;const r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(r)?(s=r[typeof t=="number"?t:0])==null?void 0:s.replace("/",""):void 0}},pB={name:"subdomain",lookup(e){var s,o;let{lookupFromSubdomainIndex:t}=e;const r=typeof t=="number"?t+1:1,n=typeof window<"u"&&((o=(s=window.location)==null?void 0:s.hostname)==null?void 0:o.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(n)return n[r]}};let mN=!1;try{document.cookie,mN=!0}catch{}const gN=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];mN||gN.splice(1,1);const yB=()=>({order:gN,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e});class pN{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(t,r)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t,this.options=aB(r,this.options||{},yB()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=s=>s.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(cB),this.addDetector(uB),this.addDetector(dB),this.addDetector(fB),this.addDetector(hB),this.addDetector(mB),this.addDetector(gB),this.addDetector(pB)}addDetector(t){return this.detectors[t.name]=t,this}detect(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,r=[];return t.forEach(n=>{if(this.detectors[n]){let s=this.detectors[n].lookup(this.options);s&&typeof s=="string"&&(s=[s]),s&&(r=r.concat(s))}}),r=r.map(n=>this.options.convertDetectedLanguage(n)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?r:r.length>0?r[0]:null}cacheUserLanguage(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||r.forEach(n=>{this.detectors[n]&&this.detectors[n].cacheUserLanguage(t,this.options)}))}}pN.type="languageDetector";const xB={save:"Save",cancel:"Cancel",post:"Post",posting:"Posting...",edit:"Edit",delete:"Delete",like:"Like",comment:"Comment",share:"Share",unsave:"Unsave",login:"Login",createPost:"Create Post",close:"Close",postComment:"Post Comment",joinNow:"Join Now",getStarted:"Get Started",signIn:"Sign In",signUp:"Sign Up",submit:"Submit",sendMessage:"Send Message",viewProfile:"View Profile",saveChanges:"Save Changes",completeProfile:"Complete Profile",goBack:"Go Back",continue:"Continue",search:"Search",loadMore:"Load More",refresh:"Refresh",apply:"Apply",reset:"Reset",message:"Message",sending:"Sending...",addFriend:"Add Friend",requestSent:"Request Sent",friends:"Friends",confirm:"Confirm",saved:"Saved",send:"Send",tryAgain:"Try Again",remove:"Remove",view:"View",saving:"Saving...",deleting:"Deleting...",saveProfile:"Save Profile"},vB={school:"School",degree:"Degree",field:"Field of Study",startDate:"Start Date",endDate:"End Date",currentlyStudying:"Currently Studying Here",description:"Description"},bB={incompleteProfile:"Incomplete Profile",completeProfileMessage:"Please complete your profile to create posts",editProfile:"Edit Profile ",yourProfile:"Your Profile",confirmDeletePost:"Are you sure you want to delete this post?",postDeletedSuccess:"Post deleted successfully.",postDeleteFailed:"Failed to delete post.",friendRequestSent:"Friend request sent!",friendRequestFailed:"Failed to send friend request.",confirmRemoveFriend:"Are you sure you want to remove this friend?",friendRemovedSuccess:"Friend removed.",friendRemoveFailed:"Failed to remove friend.",friendRequestAccepted:"Friend request accepted!",friendRequestAcceptFailed:"Failed to accept friend request.",buttons:{addFriend:"Add Friend",accept:"Accept",decline:"Decline",removeFriend:"Remove Friend",viewGroup:"View Group",createGroup:"Create Group",viewDetails:"View Details",createEvent:"Create Event",findFriends:"Find Friends",editProfile:"Edit Profile"},status:{requestSent:"Request Sent"},noPostsYet:"You have no posts yet.",userHasNoPostsSuffix:"has no posts.",noGroupsJoined:"You haven't joined or created any groups yet.",userNotInGroupsSuffix:"isn't part of any groups.",noEventsJoined:"You haven't created or joined any events yet.",userNotInEventsSuffix:"isn't associated with any events.",noFriendsYet:"You haven't added any friends yet.",userHasNoFriendsSuffix:"has no friends to display.",noSavedItems:"You haven't saved any items yet.",tabs:{posts:"Posts",groups:"Groups",events:"Events",friends:"Friends",saved:"Saved"},notFound:"Profile not found."},wB={createPostPlaceholder:"What's on your mind?",createTitle:"Create Title",submit:"Post",addImage:"Add Image",postEmpty:"Post cannot be empty",publish:"Publish",share:"Share",save:"Save",unsave:"Unsave",selectGroup:"Select a group to post to",selectEvent:"Select an event to post to",popularHashtags:"Popular hashtags",postingToGroup:"Posting to group",postingToEvent:"Posting to event",tagLocation:"Tag location",addVideo:"Add video",addEmoji:"Add emoji",selectFriend:"Share with friend",sharingWithFriend:"Sharing with"},_B={incompleteProfile:"Please complete your profile first",loginRequired:"Please log in to create a post",postCreationFailed:"Failed to create post",completeProfileToPost:"Complete your profile to start posting",loginRequiredGroup:"You must be logged in to create a group.",groupNameRequired:"Group name is required.",groupCategoryRequired:"Please select a category for the group.",groupCreationFailed:"Failed to create group",groupMemberAddFailed:"Group created, but failed to add creator as member.",loginRequiredEvent:"You must be logged in to create an event.",eventNameRequired:"Event title is required.",eventDateRequired:"Event start date is required.",eventCategoryRequired:"Please select a category for the event.",eventCreationFailed:"Failed to create event"},kB={postCreated:"Post created successfully",groupCreated:"Group created successfully!",eventCreated:"Event created successfully!"},SB={title:"Settings",account:"Account Settings",profile:"Profile Settings",notifications:"Notification Settings",privacy:"Privacy Settings",language:"Language Settings",theme:"Theme Settings",deleteAccount:"Delete Account",darkMode:"Dark Mode",emailNotifications:"Email Notifications",pushNotifications:"Push Notifications",profileVisibility:"Profile Visibility",postVisibility:"Post Visibility",messagePermissions:"Message Permissions",selectLanguage:"Select Language",public:"Public",private:"Private",everyone:"Everyone",connections:"Connections Only",nobody:"Nobody",pageTitle:"Settings",logoutButton:"Logout",tabs:{profile:"Profile",appearance:"Appearance",notifications:"Notifications",privacy:"Privacy",security:"Security",account:"Account",help:"Help & Support"},profileSection:{title:"Profile Information",fullNameLabel:"Full Name",emailLabel:"Email Address"},notificationsSection:{title:"Notifications",emailLabel:"Email Notifications",emailDescription:"Receive important updates via email.",pushLabel:"Push Notifications",pushDescription:"Get notified directly in the app (requires browser permission).",marketingLabel:"Marketing Emails",marketingDescription:"Receive promotional offers and news.",saveButton:"Save Notifications"},privacySection:{title:"Privacy Settings",profileVisibilityLabel:"Profile Visibility",visibilityOptions:{public:"Public (Visible to everyone)",connections:"Connections Only",private:"Private (Only you)"},showEmailLabel:"Show Email on Profile",showLocationLabel:"Show Location on Profile",saveButton:"Save Privacy Settings"},appearanceSection:{title:"Appearance",themeLabel:"Theme",lightTheme:"Light",darkTheme:"Dark"},securitySection:{title:"Security",changePasswordTitle:"Change Password",newPasswordLabel:"New Password",confirmPasswordLabel:"Confirm New Password",changePasswordButton:"Change Password",accountActionsTitle:"Account Actions",logoutButton:"Log Out",deleteAccountButton:"Delete Account",deleteWarning:"Warning: Deleting your account is permanent and cannot be undone."},helpSection:{title:"Help & Support",description:"Need assistance or have questions? Visit our Help Center for guides and FAQs.",helpCenterButton:"Go to Help Center"},accountSection:{title:"Account Management",manageSessionsButton:"Manage Logged-in Sessions",managePasswordButton:"Manage Password (OAuth?)",deactivateButton:"Deactivate Account (Temporary)",deletePermanentlyButton:"Delete Account Permanently"}},jB={title:"Comments",noComments:"No comments yet",writeCommentPlaceholder:"Write a comment..."},NB={welcome:"Welcome to our social network",loginPrompt:"Please log in to see and interact with posts",loading:"Loading...",using_mock_data:"Using Mock Data",use_real_data:"Use Real Data",more_options:"More options"},CB={signIn:"Sign In",signInWithGoogle:"Sign in with Google",signingIn:"Signing in...",welcomeBack:"Welcome Back",dontHaveAccount:"Don't have an account?",register:"Register",emailAddress:"Email address",emailPlaceholder:"you@example.com",password:"Password",passwordPlaceholder:"",rememberMe:"Remember me",forgotPassword:"Forgot password?",failedToSignIn:"Failed to sign in",failedToSignInWithGoogle:"Failed to sign in with Google",loginFailed:"Login failed",redirectTimeout:"Redirect timeout - please try again",redirectingToGoogle:"Redirecting to Google for authentication...",loginFailedTryAgain:"Login failed. Please try again.",redirectingToOAuth:"Redirecting to authentication service...",signInToAccount:"Sign in to your account",connectWithCommunity:"Connect with your community and friends"},EB={landingPage:"Landing Page",joinNow:"Join Now",goToCompleteProfile:"Go to Complete Profile",orContinueWithEmail:"Or continue with email"},PB={allRightsReserved:"All rights reserved"},TB={title:"Notifications",markAsRead:"Mark as read",markAllAsRead:"Mark all as read",deleteAll:"Delete all",empty:"No notifications to display",all:"All",unread:"Unread",friends:"Friends",likes:"Likes",comments:"Comments",groups:"Groups",events:"Events"},AB={completeNow:"Complete Now"},RB={shareThoughts:"What's on your mind?"},MB={title:"Friends",requests:"Requests",suggestions:"Suggestions",no_friends:"No friends yet. Find people in Suggestions!",no_requests:"No pending requests.",no_suggestions:"No suggestions right now. Check back later!",incoming:"Incoming",sent:"Sent",actions:{accept:"Accept",decline:"Decline",cancel_request:"Cancel Request",connect:"Connect",message:"Message",view_profile:"View Profile"},buttons:{createGroup:"Create Group",findPeople:"Find People",accept:"Accept",decline:"Decline",cancel:"Cancel",connect:"Connect"},tabs:{friends:"Friends",requests:"Requests",people:"People"},no_friends_message:"You don't have any friends yet. Find people to connect with!",incoming_requests:"Incoming Requests",sent_requests:"Sent Requests",no_pending_requests:"No pending friend requests",people_you_may_know:"People You May Know",no_suggestions_message:"No suggestions available at the moment",create_group_title:"Create a New Group",create_group_description:"Select friends to add to your new group",create_group_name_label:"Group Name",create_group_name_placeholder:"Enter group name...",create_group_select_label:"Select Friends",create_group_selected:"selected"},DB={main:"Main",shortcuts:"Shortcuts",resources:"Resources",home:"Home",profile:"Profile",groups:"Groups",events:"Events",friends:"Friends",messages:"Messages",chat:"Chat",notifications:"Notifications",discover:"Discover",saved:"Saved",favorites:"Favorites",settings:"Settings"},LB={signIn:"Sign In",signInWithGoogle:"Sign in with Google",signingIn:"Signing in...",signOut:"Sign Out",createAccount:"Create Account",forgotPassword:"Forgot Password?",resetPassword:"Reset Password",sendResetLink:"Send Reset Link"},OB={accept:"Accept",decline:"Decline",connect:"Connect",disconnect:"Disconnect",follow:"Follow",unfollow:"Unfollow",block:"Block",unblock:"Unblock",report:"Report",markAsRead:"Mark as Read",markAllAsRead:"Mark All as Read",clearAll:"Clear All",showMore:"Show More",showLess:"Show Less",readMore:"Read More",seeAll:"See All",unfriendConfirm:"Unfriend @{{username}}?",search:"Search FAQs..."},IB={title:"Messages",tabs:{direct:"Direct",groups:"Groups",events:"Events"},direct:"Direct Messages",groups:"Group Chats",events:"Event Chats",select_conversation:"Select conversation",select_conversation_description:"Select a conversation from the list or start a new one from the Friends page",no_direct_messages:"You don't have any direct messages yet",no_group_chats:"You're not in any groups yet",no_event_chats:"You don't have any event chats yet",find_friends:"Find Friends",browse_groups:"Browse Groups",browse_events:"Browse Events",you:"You",no_messages_yet:"No messages yet",start_conversation:"Start Conversation",members:"members",view_profile:"View Profile",delete_conversation:"Delete Conversation",archive_chat:"Archive Chat",mute_notifications:"Mute Notifications",block_user:"Block User",message_settings:"Message Settings",message_settings_soon:"Message settings coming soon",group_chats_coming_soon:"Group chats coming soon",event_chat_ui_coming_soon:"Event chat UI coming soon",group_chat_ui_coming_soon:"Group chat UI coming soon",view_group_info:"View Group Info",view_event_details:"View Event Details",choose_conversation_or_start_new:"Choose a conversation from the list or start a new one",your_events:"Your Events",refresh:"Refresh",admin:"Admin",member:"Member",no_description:"No description",enter_fullscreen:"Enter Fullscreen",exit_fullscreen:"Exit Fullscreen",settings:"Message Settings",direct_message_policies:{delete_own:"Users can delete their own messages",insert_own:"Users can send their own messages",update_own:"Users can update their own messages",view_own:"Users can view their own messages"}},FB={event_chat:"Event Chat",back_to_messages:"Back to Messages",view_event_details:"View Event Details",view_attendees:"View Attendees",event_attendees:"Event Attendees",no_attendees_found:"No Attendees Found",attendee:"Attendee",attendees:"Attendees",unknown_attendee:"Unknown Attendee",unknown_location:"Unknown Location",type_your_message:"Type your message...",loading:"Loading...",error_loading_messages:"Error loading messages",error_sending_message:"Failed to send message. Please try again.",date:"Date",location:"Location",description:"Description",view_full_event_page:"View Full Event Page",event_settings:"Event Settings",mute_notifications:"Mute Notifications",add_to_calendar:"Add to Calendar",share_event:"Share Event",leave_event:"Leave Event",enter_fullscreen:"Enter Fullscreen",exit_fullscreen:"Exit Fullscreen",error_invalid_event_id:"Invalid event ID",error_event_not_found:"Event not found or may have been deleted",members_can_view:"Members can view other attendees",attendees_can_join:"Users can join events",attendees_can_leave:"Attendees can leave events",users_own_attendance:"Users can see their own attendance",attendees_send_messages:"Attendees can send messages to events",attendees_update_status:"Attendees can update their status",view_attendees_policy:"View attendees policy",delete_own_messages:"Users can delete their own messages",update_own_messages:"Users can update their own messages"},$B={appearance_settings:"Appearance Settings",chat_theme:"Chat Theme",bubble_style:"Bubble Style",font_size:"Font Size",save_settings:"Save Settings",settings_saved:"Settings saved successfully",error_saving_settings:"Error saving settings",members:"members",view_members:"View Members",settings:"Settings",theme_default:"Default",theme_modern:"Modern",theme_minimal:"Minimal",theme_colorful:"Colorful",style_rounded:"Rounded",style_square:"Square",style_bubble:"Bubble",size_small:"Small",size_medium:"Medium",size_large:"Large",error_title:"Error",not_member_title:"Not a Member",not_member_message:"You are not a member of this group. Join to send and view messages.",join_group:"Join Group",admin:"Admin",unknown_user:"Unknown User",no_messages_title:"No Messages Yet",no_messages_message:"Be the first to start a conversation in this group!",message_placeholder:"Type a message...",join_to_send_messages:"Join the group to send messages",group_members:"Group Members",error_invalid_group_id:"Invalid group ID",error_group_not_found:"Group not found",error_loading_chat:"Error loading chat",error_realtime_connection:"Realtime error",error_loading_members:"Error loading group members",error_sending_message:"Failed to send message",error_joining_group:"Error joining group",joined_group_success:"Successfully joined the group",not_a_member:"You are not a member of this group",loading:"Loading...",no_messages_yet:"No messages yet",type_a_message:"Type a message...",send_message:"Send",back_to_messages:"Back to Messages",back_to_groups:"Back to Groups",view_group_info:"View Group Info",mute_notifications:"Mute Notifications",create_event:"Create Event",leave_group:"Leave Group",chat_settings:"Chat Settings",view_group_members:"View Group Members",enter_fullscreen:"Enter Fullscreen",exit_fullscreen:"Exit Fullscreen",not_found:"Group Not Found",error_loading:"Error Loading Group",members_view_policy:"Members can view other members",users_join_policy:"Users can join groups",users_leave_policy:"Users can leave groups",users_view_own_policy:"Users can see their own memberships",members_send_messages:"Members can send messages to groups",members_update_status:"Users can update their chat group status",members_view_others:"Users can view memberships in their groups",view_members_policy:"View members policy",view_own_memberships:"View own memberships policy"},UB={main:"Main",home:"Home",profile:"Profile",groups:"Groups",events:"Events",resources:"Resources",friends:"Friends",messages:"Messages",notifications:"Notifications",saved:"Saved",settings:"Settings"},zB={search_placeholder:"Search posts...",no_posts_title:"No posts found",no_my_posts_message:"You haven't created any posts yet.",no_all_posts_message:"There are no posts to display.",create_first_post:"Create your first post"},BB={title:"Groups",tabs:{all:"All Groups",my:"My Groups"},buttons:{create:"Create Group",joining:"Joining...",join:"Join Group",chat:"Chat",leave:"Leave"},search_placeholder:"Find your community...",category_label:"Category",categories:{all:"All",technology:"Technology",business:"Business",education:"Education",entertainment:"Entertainment",health:"Health",sports:"Sports",travel:"Travel",art:"Art",food:"Food",music:"Music"},members:"members",no_groups_found_title:"No groups found",no_my_groups_message:"You haven't joined any groups yet.",no_all_groups_message:"Try adjusting your search or create a new group."},VB={title:"Events",tabs:{all:"All Events",my:"My Events"},buttons:{create:"Create Event",leaving:"Leaving...",leave:"Leave",chat:"Chat",joining:"Joining...",join:"Join"},search_placeholder:"Search events...",category_label:"Select Category",categories:{all:"All Categories",technology:"Technology",business:"Business",education:"Education",entertainment:"Entertainment",health:"Health",sports:"Sports",travel:"Travel",art:"Art",food:"Food",music:"Music"},public:"Public",private:"Private",no_events_found_title:"No events found",no_my_events_message:"You haven't RSVP'd to any events yet.",no_all_events_message:"Try adjusting your search or create a new event."},GB={eventDate:"Event Date"},qB={title:"Saved Items",categories:{all:"All Items",articles:"Articles",photos:"Photos",videos:"Videos"},readTime5:"5 min read",readTime8:"8 min read",no_items_title:"No saved items found",no_items_message:"Items you save will appear here. Browse content and click the bookmark icon to save items.",buttons:{explore:"Explore Content"}},WB={title:"Favorites",tabs:{groups:"Groups",connections:"Connections"},buttons:{remove:"Remove from Favorites",viewGroup:"View Group"},noHeadline:"No headline",no_groups:"You haven't favorited any groups yet.",no_connections:"You haven't favorited any connections yet."},HB={helpAndSupport:"Help & Support",helpAndSupportDescription:"Find answers to common questions and get in touch with our support team.",telegramSupport:"Telegram Support",telegramSupportDescription:"Chat with us directly on Telegram.",emailSupport:"Email Support",emailSupportDescription:"Send us an email for assistance.",helpCenter:"Help Center",helpCenterDescription:"Find answers in our knowledge base.",documentation:"Documentation",documentationDescription:"Browse comprehensive guides.",viewDocumentation:"View Documentation",videoTutorials:"Video Tutorials",videoTutorialsDescription:"Watch videos to get started.",watchTutorials:"Watch Tutorials",frequentlyAskedQuestions:"Frequently Asked Questions",noMatchingFAQs:"No matching FAQs found.",openingTelegram:"Opening Telegram support",openingEmail:"Opening email client",redirectingToHelp:"Redirecting to Help Center...",redirectingToDocs:"Opening Documentation...",redirectingToTutorials:"Opening Tutorials..."},KB={createGroup:{question:"How do I create a group?",answer:'Navigate to the Groups page and click the "Create Group" button. Fill in the details and invite members.'},addFriends:{question:"How can I add friends?",answer:'Go to the Friends page, find people under "Suggestions" or search, and click "Connect" or "Add Friend".'},privacy:{question:"How do I manage my privacy settings?",answer:"Go to Settings -> Privacy. Here you can control who sees your profile and posts."},notifications:{question:"How can I change my notification preferences?",answer:"Visit Settings -> Notifications to enable or disable email and push notifications."},deleteAccount:{question:"How do I delete my account?",answer:"Go to Settings -> Security -> Account Actions. Be aware that deleting your account is permanent."}},YB={title:"Create a New Group",nameLabel:"Group Name *",namePlaceholder:"E.g., Tech Enthusiasts, Book Club",descriptionLabel:"Description",descriptionPlaceholder:"What is this group about?",categoryLabel:"Category",categoryPlaceholder:"Select a category...",visibilityLabel:"Visibility",visibilityPlaceholder:"Select visibility...",visibilityPublic:"Public - Anyone can see and join",visibilityPrivate:"Private - Members must be invited",createButton:"Create Group",creatingButton:"Creating Group..."},JB={title:"Create a New Event",nameLabel:"Event Title *",namePlaceholder:"E.g., Annual Tech Conference, Community Meetup",descriptionLabel:"Description",descriptionPlaceholder:"Tell people more about the event",categoryLabel:"Category",categoryPlaceholder:"Select a category...",locationLabel:"Location *",locationPlaceholder:"E.g., Conference Center, Online",startDateLabel:"Start Date & Time *",startTimeLabel:"Start Time",endDateLabel:"End Date & Time (Optional)",endTimeLabel:"End Time",visibilityLabel:"Visibility",visibilityPlaceholder:"Select visibility...",visibilityPublic:"Public - Anyone can see",visibilityPrivate:"Private - Invite only",maxAttendeesLabel:"Max Attendees (Optional)",maxAttendeesPlaceholder:"Leave blank for unlimited",createButton:"Create Event",creatingButton:"Creating Event..."},XB={buttons:xB,formLabels:vB,profile:bB,post:wB,errors:_B,success:kB,settings:SB,comments:jB,common:NB,login:CB,navigation:EB,footer:PB,notifications:TB,action:AB,placeholder:RB,friends:MB,nav:DB,auth:LB,actions:OB,messages:IB,event_chat:FB,group_chat:$B,sidebar:UB,home:zB,groups:BB,events:VB,discover:GB,saved:qB,favorites:WB,helpAndSupport:HB,faq:KB,createGroup:YB,createEvent:JB},QB={welcome:"     ",search:"",submit:"",cancel:"",save:"",delete:"",loading:"...",loginPrompt:"Please log in to see and interact with posts",using_mock_data:"  ",use_real_data:"  ",more_options:" ",select_tab:" "},ZB={sign_in:"",sign_up:"",sign_out:"",continueWithGoogle:"Continue with Google",login:"Login",register:"Register",forgotPassword:"Forgot Password",resetPassword:"Reset Password",verifyEmail:"Verify Email",completeProfile:"Complete Profile",loginWithGoogle:"Login with Google",loginWithFacebook:"Login with Facebook",alreadyHaveAccount:"Already have an account?",dontHaveAccount:"Don't have an account?",createAccount:"Create Account"},eV={main:"",shortcuts:"",resources:"",home:"",profile:"",groups:"",events:"",friends:"",messages:"",chat:"",notifications:"",discover:"",saved:"",favorites:"",settings:""},tV={title:"",markAsRead:"  ",markAllAsRead:"   ",deleteAll:" ",empty:"   ",all:"",unread:"",friends:"",likes:"",comments:"",groups:"",events:""},rV={save:"",cancel:"",post:"",posting:"...",edit:"",delete:"",like:"",comment:"",share:"",unsave:"  ",login:"Login",createPost:" ",close:"Close",postComment:"Post Comment",message:"",sending:"...",addFriend:"  ",requestSent:" ",friends:"",confirm:"",saved:"",send:"",tryAgain:" ",remove:"",view:"",saving:"...",deleting:"...",saveProfile:" "},nV={school:"School",degree:"Degree",field:"Field of Study",startDate:"Start Date",endDate:"End Date",currentlyStudying:"Currently Studying Here",description:"Description"},sV={incompleteProfile:"Incomplete Profile",completeProfileMessage:"Please complete your profile to create posts",editProfile:"Edit Profile ",yourProfile:"Your Profile",confirmDeletePost:" ,     ?",postDeletedSuccess:"  .",postDeleteFailed:"   .",friendRequestSent:"   !",friendRequestFailed:"     .",confirmRemoveFriend:" ,     ?",friendRemovedSuccess:" .",friendRemoveFailed:"   .",friendRequestAccepted:"   !",friendRequestAcceptFailed:"     .",buttons:{addFriend:"  ",accept:"",decline:"",removeFriend:"  ",viewGroup:" ",createGroup:" ",viewDetails:" ",createEvent:" ",findFriends:" ",editProfile:" "},status:{requestSent:" "},noPostsYet:"    .",userHasNoPostsSuffix:"  .",noGroupsJoined:"         .",userNotInGroupsSuffix:"     .",noEventsJoined:"          .",userNotInEventsSuffix:"     .",noFriendsYet:"      .",userHasNoFriendsSuffix:"    .",noSavedItems:"    .",tabs:{posts:"",groups:"",events:"",friends:"",saved:""},notFound:"  ."},oV={createPostPlaceholder:"   ?",createTitle:" ",submit:"",addImage:" ",publish:"",share:"",save:"",unsave:"  ",writePost:"    ?",post:"",postingToGroup:"  ",postingToEvent:"  ",selectGroup:"   ",selectEvent:"   ",popularHashtags:" ",tagLocation:" ",addVideo:" ",addEmoji:" ",selectFriend:"  ",sharingWithFriend:" "},iV={incompleteProfile:"Please complete your profile first",loginRequired:"Please log in to create post",postCreationFailed:"Failed to create post",completeProfileToPost:"Complete your profile to start posting",loginRequiredGroup:"    ,   .",groupNameRequired:"  .",groupCategoryRequired:",    .",groupCreationFailed:"   ",groupMemberAddFailed:" ,       .",loginRequiredEvent:"    ,   .",eventNameRequired:"  .",eventDateRequired:"   .",eventCategoryRequired:",    .",eventCreationFailed:"   "},aV={postCreated:"Post created successfully",groupCreated:"  !",eventCreated:"  !"},lV={appearance_settings:"  ",chat_theme:" ",bubble_style:" ",font_size:" ",save_settings:" ",settings_saved:"  ",error_saving_settings:"   ",members:" ",add_member:" ",remove_member:" ",leave_group:" ",join_group:"  ",group_settings:" ",group_name:" ",group_description:" ",group_privacy:" ",public:"",private:"",notifications:"",all_messages:" ",mentions_only:" ",none:"",message_placeholder:" ...",typing:"...",no_messages:" ",load_more:" ",seen_by:"",message_not_sent:"  ",try_again:" ",delete_message:" ",edit_message:" ",reply:"",replying_to:" ",message_deleted:" ",you:"",search_messages:" ",member_settings:" ",member_notifications:" ",everyone:"",admins_only:" ",error_loading_chat:"   ",error_sending_message:"   ",error_adding_member:"   ",error_removing_member:"   ",error_leaving_group:"    ",error_joining_group:"    ",error_updating_settings:"   ",create:"  ",edit:"  ",settings:" ",add_members:" ",leave:" ",delete:" ",appearance:"  ",theme:" ",default_theme:" ",dark_theme:"",light_theme:"",custom_theme:"",mute_notifications:" ",permissions:"",admin_only:" ",all_members:" ",message_permissions:" ",invite_permissions:" ",error:{create:"    ",update:"    ",delete:"    ",leave:"    ",add_members:"   ",remove_member:"   ",load:"    "},success:{create:"   ",update:"   ",delete:"   ",leave:"    ",add_members:"  ",remove_member:"  "}},cV={event_chat:" ",back_to_messages:"  ",view_event_details:"  ",view_attendees:" ",event_attendees:" ",no_attendees_found:"  ",attendee:"",attendees:"",unknown_attendee:" ",unknown_location:" ",type_your_message:" ...",loading:"...",error_loading_messages:"   ",error_sending_message:"   . ,   .",date:"",location:" ",description:"",view_full_event_page:"   ",event_settings:" ",mute_notifications:" ",add_to_calendar:"  ",share_event:" ",leave_event:" ",enter_fullscreen:" ",exit_fullscreen:"   ",error_invalid_event_id:" ID ",error_event_not_found:"      .",members_can_view:"    ",attendees_can_join:"    ",attendees_can_leave:"   ",users_own_attendance:"     ",attendees_send_messages:"     ",attendees_update_status:"    ",view_attendees_policy:"  ",delete_own_messages:"     ",update_own_messages:"     "},uV={title:"Settings",account:{title:" ",manageSessionsButton:"  ",managePasswordButton:"  (OAuth?)",deactivateButton:"  ()",deletePermanentlyButton:"  "},profile:{title:" ",fullNameLabel:" ",emailLabel:"  "},notifications:{title:"",emailLabel:"   ",emailDescription:"     .",pushLabel:"Push-",pushDescription:"     (  ).",marketingLabel:" ",marketingDescription:"    .",saveButton:" "},privacy:{title:" ",profileVisibilityLabel:" ",visibilityOptions:{public:" ( )",connections:" ",private:" ( )"},showEmailLabel:" email  ",showLocationLabel:"   ",saveButton:"  "},language:"Language Settings",theme:"Theme Settings",deleteAccount:"Delete Account",darkMode:"Dark Mode",emailNotifications:"Email Notifications",pushNotifications:"Push Notifications",profileVisibility:"Profile Visibility",postVisibility:"Post Visibility",messagePermissions:"Message Permissions",selectLanguage:"Select Language",public:"Public",private:"Private",everyone:"Everyone",connections:"Connections Only",nobody:"Nobody",pageTitle:"",tabs:{profile:"",appearance:" ",notifications:"",privacy:"",security:"",account:"",help:"  "},appearance:{title:" ",themeLabel:"",lightTheme:"",darkTheme:""},security:{title:"",changePasswordTitle:" ",newPasswordLabel:" ",confirmPasswordLabel:"  ",changePasswordButton:" ",accountActionsTitle:"  ",logoutButton:"",deleteAccountButton:" ",deleteWarning:":    ."},help:{title:"  ",description:"    ?             .",helpCenterButton:"   "},logoutButton:""},dV={title:"",noComments:"  ",writeCommentPlaceholder:" ..."},fV={signIn:"",signInWithGoogle:"  Google",signingIn:" ...",welcomeBack:" ",dontHaveAccount:" ?",register:"",emailAddress:"  ",emailPlaceholder:"@.com",password:"",passwordPlaceholder:"",rememberMe:" ",forgotPassword:" ?",failedToSignIn:"  ",failedToSignInWithGoogle:"    Google",loginFailed:"  ",redirectTimeout:"  - ,  ",redirectingToGoogle:"  Google  ...",loginFailedTryAgain:"  . ,  .",redirectingToOAuth:"   ...",signInToAccount:"   ",connectWithCommunity:"     "},hV={landingPage:"Landing Page",joinNow:"Join Now",goToCompleteProfile:"Go to Complete Profile",orContinueWithEmail:"Or continue with email"},mV={allRightsReserved:"All rights reserved"},gV={completeNow:"Complete Now"},pV={shareThoughts:"   ?"},yV={title:"",requests:"",suggestions:"",no_friends:"    .     !",no_requests:"  .",no_suggestions:"  .  !",incoming:"",sent:"",actions:{accept:"",decline:"",cancel_request:" ",connect:"",message:"",view_profile:" "},requestPending:"  ",alreadyFriend:"  "},xV="",vV=" ",bV="",wV={search_placeholder:" ...",no_posts_title:"  ",no_my_posts_message:"      .",no_all_posts_message:"   .",create_first_post:"   "},_V={title:"",tabs:{all:" ",my:" "},buttons:{create:" ",joining:"...",join:"",chat:"",leave:""},search_placeholder:"  ...",category_label:"",categories:{all:"",technology:"",business:"",education:"",entertainment:"",health:"",sports:"",travel:"",art:"",food:"",music:""},members:"",no_groups_found_title:"  ",no_my_groups_message:"       .",no_all_groups_message:"      ."},kV={title:"",tabs:{all:" ",my:" "},buttons:{create:" ",leaving:"...",leave:"",chat:"",joining:"...",join:""},search_placeholder:" ...",category_label:" ",categories:{all:" ",technology:"",business:"",education:"",entertainment:"",health:"",sports:"",travel:"",art:"",food:"",music:""},public:"",private:"",no_events_found_title:"  ",no_my_events_message:"       .",no_all_events_message:"      ."},SV={title:"",tabs:{direct:"",groups:"",events:""},direct:" ",groups:" ",events:" ",select_conversation:" ",select_conversation_description:"         ",no_direct_messages:"     ",no_group_chats:"      ",no_event_chats:"     ",find_friends:" ",browse_groups:" ",browse_events:" ",you:"",no_messages_yet:"  ",start_conversation:" ",members:"",view_profile:" ",delete_conversation:" ",archive_chat:" ",mute_notifications:" ",block_user:" ",message_settings:" ",message_settings_soon:"   ",group_chats_coming_soon:"   ",event_chat_ui_coming_soon:"    ",group_chat_ui_coming_soon:"    ",view_group_info:"   ",view_event_details:"  ",choose_conversation_or_start_new:"      ",your_events:" ",refresh:"",admin:"",member:"",no_description:" ",enter_fullscreen:" ",exit_fullscreen:"   ",settings:" ",direct_message_policies:{delete_own:"     ",insert_own:"     ",update_own:"     ",view_own:"     "}},jV={title:"",searchPlaceholder:" ,   ...",tabs:{trending:" ",groups:"",events:"",people:""},buttons:{explore:" "},eventDate:" "},NV={title:"",buttons:{explore:" "}},CV={title:"",tabs:{groups:"",connections:""},buttons:{remove:"  ",viewGroup:" "},noHeadline:" ",no_groups:"     .",no_connections:"     ."},EV={helpAndSupport:"  ",helpAndSupportDescription:"           .",telegramSupport:"  Telegram",telegramSupportDescription:"     Telegram.",emailSupport:"   ",emailSupportDescription:"     .",helpCenter:" ",helpCenterDescription:"     .",documentation:"",documentationDescription:"   .",viewDocumentation:" ",videoTutorials:"-",videoTutorialsDescription:" ,   .",watchTutorials:" ",frequentlyAskedQuestions:"  ",noMatchingFAQs:"   .",openingTelegram:"   Telegram",openingEmail:"  ",redirectingToHelp:"   ...",redirectingToDocs:" ...",redirectingToTutorials:" ..."},PV={createGroup:{question:"  ?",answer:'       " ".     .'},addFriends:{question:"  ?",answer:'   ,     ""   ,   ""  "  ".'},privacy:{question:"   ?",answer:"   -> .    ,      ."},notifications:{question:"   ?",answer:"  -> ,          push-."},deleteAccount:{question:"   ?",answer:"   ->  ->   . ,      ."}},TV={accept:"",decline:"",connect:"",disconnect:"",follow:"",unfollow:"",block:"",unblock:"",report:"",markAsRead:"  ",markAllAsRead:"   ",clearAll:" ",showMore:" ",showLess:" ",readMore:" ",seeAll:" ",unfriendConfirm:" @{{username}}  ?",search:"    ..."},AV={title:"  ",nameLabel:"  *",namePlaceholder:":  ,  ",descriptionLabel:"",descriptionPlaceholder:"   ?",categoryLabel:"",categoryPlaceholder:" ...",visibilityLabel:"",visibilityPlaceholder:" ...",visibilityPublic:" -     ",visibilityPrivate:" -    ",createButton:" ",creatingButton:" ..."},RV={title:"  ",nameLabel:"  *",namePlaceholder:":   ,  ",descriptionLabel:"",descriptionPlaceholder:"   ",categoryLabel:"",categoryPlaceholder:" ...",locationLabel:"  *",locationPlaceholder:": -, ",startDateLabel:"    *",startTimeLabel:" ",endDateLabel:"    ()",endTimeLabel:" ",visibilityLabel:"",visibilityPlaceholder:" ...",visibilityPublic:" -   ",visibilityPrivate:" -   ",maxAttendeesLabel:"   ()",maxAttendeesPlaceholder:"    ",createButton:" ",creatingButton:" ..."},MV={common:QB,auth:ZB,nav:eV,notifications:tV,buttons:rV,formLabels:nV,profile:sV,post:oV,errors:iV,success:aV,group_chat:lV,event_chat:cV,settings:uV,comments:dV,login:fV,navigation:hV,footer:mV,action:gV,placeholder:pV,friends:yV,main:xV,shortcuts:vV,resources:bV,home:wV,groups:_V,events:kV,messages:SV,discover:jV,saved:NV,favorites:CV,helpAndSupport:EV,faq:PV,actions:TV,createGroup:AV,createEvent:RV},DV={save:"",cancel:"",post:"",posting:"...",edit:"",delete:"",like:"",comment:" ",share:"",unsave:" ",login:"",createPost:" ",close:"",postComment:" ",message:"",sending:"...",addFriend:" ",requestSent:" ",friends:"",confirm:"",saved:"",send:"",tryAgain:"",remove:"",view:"",saving:"...",deleting:"...",saveProfile:" "},LV={school:"",degree:"",field:"",startDate:" ",endDate:" ",currentlyStudying:"  ",description:""},OV={incompleteProfile:"  ",completeProfileMessage:"    ",editProfile:"  ",yourProfile:" ",confirmDeletePost:"     ?",postDeletedSuccess:"  .",postDeleteFailed:"   .",friendRequestSent:"  !",friendRequestFailed:"    .",confirmRemoveFriend:"     ?",friendRemovedSuccess:" .",friendRemoveFailed:"   .",friendRequestAccepted:"  !",friendRequestAcceptFailed:"    .",buttons:{addFriend:" ",accept:"",decline:" ",removeFriend:" ",viewGroup:" ",createGroup:" ",viewDetails:" ",createEvent:" ",findFriends:" ",editProfile:" "},status:{requestSent:" "},noPostsYet:"   .",userHasNoPostsSuffix:"   .",noGroupsJoined:"      .",userNotInGroupsSuffix:"     .",noEventsJoined:"      .",userNotInEventsSuffix:"     .",noFriendsYet:"   .",userHasNoFriendsSuffix:"    .",noSavedItems:"    .",tabs:{posts:"",groups:"",events:"",friends:"",saved:""},notFound:" ."},IV={createPostPlaceholder:"  ?",createTitle:" ",submit:"",addImage:" ",publish:"",share:"",save:"",unsave:" ",writePost:"  ?",post:"",postingToGroup:" ",postingToEvent:" ",selectGroup:"   ",selectEvent:"   ",popularHashtags:" ",tagLocation:" ",addVideo:" ",addEmoji:" ",selectFriend:" ",sharingWithFriend:" "},FV={incompleteProfile:"  ",loginRequired:"   ",postCreationFailed:"   ",completeProfileToPost:"     ",loginRequiredGroup:"     .",groupNameRequired:"  .",groupCategoryRequired:"   .",groupCreationFailed:"   ",groupMemberAddFailed:" ,       .",loginRequiredEvent:"     .",eventNameRequired:"  .",eventDateRequired:"   .",eventCategoryRequired:"   .",eventCreationFailed:"   "},$V={postCreated:"  ",groupCreated:"  !",eventCreated:"  !"},UV={loading:"...",no_messages_yet:"  .   !",type_a_message:" ...",send_message:"",back_to_messages:" ",back_to_groups:" ",error_loading_members:"    ",error_sending_message:"   .  .",error_realtime_connection:"   ",group_members:"",unknown_user:" ",no_members_found:" ",mute_notifications:" ",view_group_info:"   ",create_event:" ",leave_group:" ",chat_settings:" ",view_group_members:"  ",enter_fullscreen:" ",exit_fullscreen:"  "},zV={title:"",account:{title:" ",manageSessionsButton:"  ",managePasswordButton:"   (OAuth?)",deactivateButton:"  ()",deletePermanentlyButton:"  "},profile:{title:" ",fullNameLabel:" ",emailLabel:"  "},notifications:{title:"",emailLabel:"  ",emailDescription:"     .",pushLabel:"Push ",pushDescription:"    (  ).",marketingLabel:" ",marketingDescription:"    .",saveButton:" "},privacy:{title:" ",profileVisibilityLabel:" ",visibilityOptions:{public:"  (  )",connections:" ",private:" ( )"},showEmailLabel:"   ",showLocationLabel:"   ",saveButton:"  "},language:" ",theme:" ",deleteAccount:" ",darkMode:" ",emailNotifications:"  ",pushNotifications:"Push ",profileVisibility:" ",postVisibility:" ",messagePermissions:" ",selectLanguage:" ",public:" ",private:"",everyone:"",connections:" ",nobody:"",pageTitle:"",tabs:{profile:"",appearance:" ",notifications:"",privacy:"",security:"",account:"",help:" & "},appearance:{title:" ",themeLabel:"",lightTheme:"",darkTheme:""},security:{title:"",changePasswordTitle:"  ",newPasswordLabel:"  ",confirmPasswordLabel:"   ",changePasswordButton:"  ",accountActionsTitle:" ",logoutButton:"",deleteAccountButton:" ",deleteWarning:":    ."},help:{title:" & ",description:"      ?       .",helpCenterButton:"  "},logoutButton:""},BV={title:"",noComments:"  ",writeCommentPlaceholder:" ..."},VV={welcome:"    ",loginPrompt:"      ",loading:"...",using_mock_data:"  ",use_real_data:"  ",more_options:" ",select_tab:" "},GV={signIn:"",signInWithGoogle:"Google  ",signingIn:"...",welcomeBack:"  ",dontHaveAccount:"  ?",register:"",emailAddress:"  ",emailPlaceholder:"siz@example.com",password:" ",passwordPlaceholder:"",rememberMe:"  ",forgotPassword:"   ?",failedToSignIn:"  ",failedToSignInWithGoogle:"Google    ",loginFailed:"  ",redirectTimeout:"   -  ",redirectingToGoogle:"  Google- ...",loginFailedTryAgain:"  .  .",redirectingToOAuth:"  ...",signInToAccount:" ",connectWithCommunity:"   "},qV={landingPage:" ",joinNow:" ",goToCompleteProfile:"  ",orContinueWithEmail:"   "},WV={allRightsReserved:"  "},HV={title:"",markAsRead:"  ",markAllAsRead:"   ",deleteAll:" ",empty:"  ",all:"",unread:"",friends:"",likes:"",comments:"",groups:"",events:""},KV={completeNow:" "},YV={shareThoughts:"  ?"},JV={main:"",home:" ",profile:"",groups:"",events:"",shortcuts:" ",friends:"",messages:"",resources:"",discover:"",saved:"",favorites:"",settings:""},XV={title:"",requests:"",suggestions:"",no_friends:"  .    !",no_requests:"  .",no_suggestions:"  .  !",incoming:"",sent:"",actions:{accept:"",decline:" ",cancel_request:" ",connect:"",message:"",view_profile:" "},buttons:{createGroup:" ",findPeople:" ",accept:"",decline:" ",cancel:"",connect:"",addFriend:" "},tabs:{friends:"",requests:"",people:""},no_friends_message:"   .   !",incoming_requests:"  ",sent_requests:" ",no_pending_requests:"    ",people_you_may_know:"   ",no_suggestions_message:"   ",create_group_title:"  ",create_group_description:"     ",create_group_name_label:" ",create_group_name_placeholder:"  ...",create_group_select_label:" ",create_group_selected:"",requestPending:" ",alreadyFriend:"  "},QV={main:"",shortcuts:" ",resources:"",home:" ",profile:"",groups:"",events:"",friends:"",messages:"",chat:"",notifications:"",discover:"",saved:"",favorites:"",settings:""},ZV={search_placeholder:" ...",no_posts_title:" ",no_my_posts_message:"   .",no_all_posts_message:"  .",create_first_post:"  "},eG={title:"",tabs:{all:" ",my:" "},buttons:{create:" ",joining:"...",join:" ",chat:"",leave:""},search_placeholder:"  ...",category_label:"",categories:{all:"",technology:"",business:"",education:"",entertainment:"-",health:"",sports:"",travel:"",art:"",food:"",music:""},members:"",no_groups_found_title:" ",no_my_groups_message:"    .",no_all_groups_message:"      ."},tG={title:"",tabs:{all:" ",my:" "},buttons:{create:" ",leaving:"...",leave:"",chat:"",joining:"...",join:""},search_placeholder:" ...",category_label:" ",categories:{all:" ",technology:"",business:"",education:"",entertainment:"-",health:"",sports:"",travel:"",art:"",food:"",music:""},public:" ",private:"",no_events_found_title:" ",no_my_events_message:"    .",no_all_events_message:"      ."},rG={title:"",tabs:{direct:"",groups:"",events:""},no_direct_messages:"   ",find_friends:" ",delete_conversation:" ",group_chats_coming_soon:"  ",browse_groups:" ",no_event_chats:"   ",browse_events:" ",exit_fullscreen:"  ",enter_fullscreen:" ",settings:" ",view_profile:" ",mute_notifications:" ",block_user:" ",select_conversation:" ",select_conversation_description:"       ",you:"",no_messages_yet:"  "},nG={title:"",searchPlaceholder:",    ...",tabs:{trending:"",groups:"",events:"",people:""},buttons:{explore:" "},eventDate:" "},sG={title:"",categories:{all:" ",articles:"",photos:"",videos:""},readTime5:"5  ",readTime8:"8  ",no_items_title:"  ",no_items_message:"     .   ,      .",buttons:{explore:" "}},oG={title:"",tabs:{groups:"",connections:""},buttons:{remove:" ",viewGroup:" "},noHeadline:" ",no_groups:"     .",no_connections:"     ."},iG={helpAndSupport:" & ",helpAndSupportDescription:"         .",telegramSupport:"Telegram ",telegramSupportDescription:"Telegram    .",emailSupport:"  ",emailSupportDescription:"      .",helpCenter:" ",helpCenterDescription:"    .",documentation:"",documentationDescription:"-   .",viewDocumentation:" ",videoTutorials:" ",videoTutorialsDescription:"   .",watchTutorials:" ",frequentlyAskedQuestions:"  ",noMatchingFAQs:"   .",openingTelegram:"Telegram  ",openingEmail:"   ",redirectingToHelp:"  ...",redirectingToDocs:" ...",redirectingToTutorials:" ..."},aG={createGroup:{question:"  ?",answer:'  , " "  .  ,  .'},addFriends:{question:"  ?",answer:'  , ""       ""  " "  .'},privacy:{question:"   ?",answer:" ->   .         ."},notifications:{question:"   ?",answer:"   push       ->   ."},deleteAccount:{question:"  ?",answer:" ->  ->    .     ."}},lG={accept:"",decline:" ",connect:"",disconnect:"",follow:"",unfollow:" ",block:"",unblock:" ",report:"",markAsRead:"  ",markAllAsRead:"   ",clearAll:" ",showMore:" ",showLess:" ",readMore:" ",seeAll:" ",unfriendConfirm:"@{{username}}   ?",search:" ..."},cG={title:"  ",nameLabel:"  *",namePlaceholder:":  ,  ",descriptionLabel:"",descriptionPlaceholder:"   ?",categoryLabel:"",categoryPlaceholder:" ...",visibilityLabel:"",visibilityPlaceholder:" ...",visibilityPublic:"  -        ",visibilityPrivate:" -   ",createButton:" ",creatingButton:" ..."},uG={title:"  ",nameLabel:"  *",namePlaceholder:":   . ,  ",descriptionLabel:"",descriptionPlaceholder:"    ",categoryLabel:"",categoryPlaceholder:" ...",locationLabel:"  *",locationPlaceholder:":  , ",startDateLabel:"    *",startTimeLabel:" ",endDateLabel:"    ( )",endTimeLabel:" ",visibilityLabel:"",visibilityPlaceholder:" ...",visibilityPublic:"  -     ",visibilityPrivate:" -  ",maxAttendeesLabel:".  ( )",maxAttendeesPlaceholder:"   ",createButton:" ",creatingButton:" ..."},dG={buttons:DV,formLabels:LV,profile:OV,post:IV,errors:FV,success:$V,group_chat:UV,settings:zV,comments:BV,common:VV,login:GV,navigation:qV,footer:WV,notifications:HV,action:KV,placeholder:YV,sidebar:JV,friends:XV,nav:QV,home:ZV,groups:eG,events:tG,messages:rG,discover:nG,saved:sG,favorites:oG,helpAndSupport:iG,faq:aG,actions:lG,createGroup:cG,createEvent:uG},fG={save:"Kaydet",cancel:"ptal",post:"Gnder",posting:"Gnderiliyor...",edit:"Dzenle",delete:"Sil",like:"Been",comment:"Yorum Yap",share:"Payla",unsave:"Kaydetmeyi Kaldr",login:"Giri Yap",createPost:"Gnderi Olutur",close:"Kapat",postComment:"Yorum Gnder",message:"Mesaj",sending:"Gnderiliyor...",addFriend:"Arkada Ekle",requestSent:"stek Gnderildi",friends:"Arkadalar",confirm:"Onayla",saved:"Kaydedildi",send:"Gnder",tryAgain:"Tekrar Dene",remove:"Kaldr",view:"Grntle",saving:"Kaydediliyor...",deleting:"Siliniyor...",saveProfile:"Profili Kaydet"},hG={school:"Okul",degree:"Diploma",field:"Alan",startDate:"Balang Tarihi",endDate:"Biti Tarihi",currentlyStudying:"u Anda Burada Okuyor",description:"Aklama"},mG={incompleteProfile:"Eksik Profil",completeProfileMessage:"Gnderi oluturmak iin ltfen profilinizi tamamlayn",editProfile:"Profili Dzenle ",yourProfile:"Profilin",confirmDeletePost:"Bu gnderiyi silmek istediinizden emin misiniz?",postDeletedSuccess:"Gnderi baaryla silindi.",postDeleteFailed:"Gnderi silinemedi.",friendRequestSent:"Arkadalk istei gnderildi!",friendRequestFailed:"Arkadalk istei gnderilemedi.",confirmRemoveFriend:"Bu arkada silmek istediinizden emin misiniz?",friendRemovedSuccess:"Arkada kaldrld.",friendRemoveFailed:"Arkada kaldrlamad.",friendRequestAccepted:"Arkadalk istei kabul edildi!",friendRequestAcceptFailed:"Arkadalk istei kabul edilemedi.",buttons:{addFriend:"Arkada Ekle",accept:"Kabul Et",decline:"Reddet",removeFriend:"Arkadalktan kar",viewGroup:"Grubu Grntle",createGroup:"Grup Olutur",viewDetails:"Detaylar Grntle",createEvent:"Etkinlik Olutur",findFriends:"Arkada Bul",editProfile:"Profili Dzenle"},status:{requestSent:"stek Gnderildi"},noPostsYet:"Henz hi gnderiniz yok.",userHasNoPostsSuffix:"adl kullancnn gnderisi yok.",noGroupsJoined:"Henz hibir gruba katlmadnz veya oluturmadnz.",userNotInGroupsSuffix:"adl kullanc herhangi bir grubun yesi deil.",noEventsJoined:"Henz hibir etkinlie katlmadnz veya oluturmadnz.",userNotInEventsSuffix:"adl kullanc herhangi bir etkinlikle ilikili deil.",noFriendsYet:"Henz hi arkada eklemediniz.",userHasNoFriendsSuffix:"adl kullancnn grntlenecek arkada yok.",noSavedItems:"Henz hibir e kaydetmediniz.",tabs:{posts:"Gnderiler",groups:"Gruplar",events:"Etkinlikler",friends:"Arkadalar",saved:"Kaydedilenler"},notFound:"Profil bulunamad."},gG={createPostPlaceholder:"Aklnda ne var?",createTitle:"Gnderi Olutur",submit:"Gnder",addImage:"Resim Ekle",publish:"Yaynla",share:"Payla",save:"Kaydet",unsave:"Kaydetmeyi Kaldr",writePost:"Aklnda ne var?",post:"Gnder",postingToGroup:"Gruba gnderiliyor",postingToEvent:"Etkinlie gnderiliyor",selectGroup:"Gnderi iin bir grup sein",selectEvent:"Gnderi iin bir etkinlik sein",popularHashtags:"Popler hashtagler",tagLocation:"Konum ekle",addVideo:"Video ekle",addEmoji:"Emoji ekle",selectFriend:"Arkada ile payla",sharingWithFriend:"Paylalacak kii"},pG={incompleteProfile:"Ltfen nce profilinizi tamamlayn",loginRequired:"Gnderi oluturmak iin ltfen giri yapn",postCreationFailed:"Gnderi oluturulamad",completeProfileToPost:"Gnderi paylamaya balamak iin profilinizi tamamlayn",loginRequiredGroup:"Grup oluturmak iin giri yapmalsnz.",groupNameRequired:"Grup ad gerekli.",groupCategoryRequired:"Ltfen grup iin bir kategori sein.",groupCreationFailed:"Grup oluturulamad",groupMemberAddFailed:"Grup oluturuldu, ancak oluturucu ye olarak eklenemedi.",loginRequiredEvent:"Etkinlik oluturmak iin giri yapmalsnz.",eventNameRequired:"Etkinlik bal gerekli.",eventDateRequired:"Etkinlik balang tarihi gerekli.",eventCategoryRequired:"Ltfen etkinlik iin bir kategori sein.",eventCreationFailed:"Etkinlik oluturulamad"},yG={postCreated:"Gnderi baaryla oluturuldu",groupCreated:"Grup baaryla oluturuldu!",eventCreated:"Etkinlik baaryla oluturuldu!"},xG={appearance_settings:"Grnm Ayarlar",chat_theme:"Sohbet Temas",bubble_style:"Baloncuk Stili",font_size:"Yaz Boyutu",save_settings:"Ayarlar Kaydet",settings_saved:"Ayarlar baaryla kaydedildi",error_saving_settings:"Ayarlar kaydedilirken hata olutu",members:"ye",view_members:"yeleri Grntle",settings:"Ayarlar",theme_default:"Varsaylan",theme_modern:"Modern",theme_minimal:"Sade",theme_colorful:"Renkli",style_rounded:"Yuvarlak",style_square:"Kare",style_bubble:"Balon",size_small:"Kk",size_medium:"Orta",size_large:"Byk",error_title:"Hata",not_member_title:"ye Deilsiniz",not_member_message:"Bu grubun yesi deilsiniz. Mesaj gndermek ve grntlemek iin katln.",join_group:"Gruba Katl",no_messages_title:"Henz Mesaj Yok",no_messages_message:"Bu gruptaki ilk konumay balatan siz olun!",message_placeholder:"Bir mesaj yazn...",join_to_send_messages:"Mesaj gndermek iin gruba katln",error_invalid_group_id:"Geersiz grup ID",error_group_not_found:"Grup bulunamad",error_loading_chat:"Sohbet yklenirken hata olutu",error_realtime_connection:"Gerek zamanl balantda hata olutu",error_loading_members:"Grup yeleri yklenirken hata olutu",error_sending_message:"Mesaj gnderilemedi",error_joining_group:"Gruba katlrken hata olutu",joined_group_success:"Gruba baaryla katldnz",not_a_member:"Bu grubun yesi deilsiniz",type_a_message:"Bir mesaj yazn...",send_message:"Gnder",back_to_messages:"Mesajlara Dn",back_to_groups:"Gruplara Dn",view_group_info:"Grup Bilgilerini Grntle",mute_notifications:"Bildirimleri Sessize Al",create_event:"Etkinlik Olutur",leave_group:"Gruptan Ayrl",chat_settings:"Sohbet Ayarlar",view_group_members:"Grup yelerini Grntle",enter_fullscreen:"Tam Ekran",exit_fullscreen:"Tam Ekrandan k",not_found:"Grup bulunamad",error_loading:"Grup yklenirken hata olutu",members_view_policy:"yeler dier yeleri grebilir",users_join_policy:"Kullanclar gruplara katlabilir",users_leave_policy:"Kullanclar gruplardan ayrlabilir",users_view_own_policy:"Kullanclar kendi yeliklerini grebilir",members_send_messages:"yeler gruplara mesaj gnderebilir",members_update_status:"Kullanclar grup durumlarn gncelleyebilir",members_view_others:"Kullanclar gruplarndaki yelikleri grntleyebilir",view_members_policy:"yeleri grntleme politikas",view_own_memberships:"Kendi yeliklerini grntleme politikas"},vG={group_chat:"Grup Sohbeti",back_to_messages:"Mesajlara Geri Dn",view_group_members:"Grup yelerini Grntle",group_members:"Grup yeleri",no_members_found:"ye bulunamad",unknown_user:"Bilinmeyen Kullanc",type_a_message:"Bir mesaj yazn...",no_messages_yet:"Henz mesaj yok",send_message:"Mesaj Gnder",chat_settings:"Sohbet Ayarlar",mute_notifications:"Bildirimleri Sustur",view_group_info:"Grup Bilgilerini Grntle",create_event:"Etkinlik Olutur",leave_group:"Gruptan Ayrl",loading:"Ykleniyor...",enter_fullscreen:"Tam Ekrana Ge",exit_fullscreen:"Tam Ekrandan k",error_invalid_group_id:"Geersiz grup kimlii",error_group_not_found:"Grup bulunamad",error_loading_messages:"Mesajlar yklenirken hata olutu",member:"ye",admin:"Ynetici"},bG={title:"Ayarlar",account:{title:"Hesap Ynetimi",manageSessionsButton:"Oturumlar Ynet",managePasswordButton:"ifreyi Ynet (OAuth?)",deactivateButton:"Hesab Dondur (Geici)",deletePermanentlyButton:"Hesab Kalc Olarak Sil"},profile:{title:"Profil Bilgileri",fullNameLabel:"Tam Ad",emailLabel:"E-posta Adresi"},notifications:{title:"Bildirimler",emailLabel:"E-posta Bildirimleri",emailDescription:"nemli gncellemeleri e-posta ile aln.",pushLabel:"Anlk Bildirimler",pushDescription:"Dorudan uygulamada bildirim aln (tarayc izni gerektirir).",marketingLabel:"Pazarlama E-postalar",marketingDescription:"Promosyon teklifleri ve haberleri aln.",saveButton:"Bildirimleri Kaydet"},privacy:{title:"Gizlilik Ayarlar",profileVisibilityLabel:"Profil Grnrl",visibilityOptions:{public:"Herkese Ak (Herkes grebilir)",connections:"Sadece Balantlar",private:"zel (Sadece siz)"},showEmailLabel:"E-postay Profilde Gster",showLocationLabel:"Konumu Profilde Gster",saveButton:"Gizlilik Ayarlarn Kaydet"},language:"Dil Ayarlar",theme:"Tema Ayarlar",deleteAccount:"Hesab Sil",darkMode:"Karanlk Mod",emailNotifications:"E-posta Bildirimleri",pushNotifications:"Anlk Bildirimler",profileVisibility:"Profil Grnrl",postVisibility:"Gnderi Grnrl",messagePermissions:"Mesaj zinleri",selectLanguage:"Dil Sein",public:"Herkese Ak",private:"zel",everyone:"Herkes",connections:"Sadece Balantlar",nobody:"Hi Kimse",pageTitle:"Ayarlar",tabs:{profile:"Profil",appearance:"Grnm",notifications:"Bildirimler",privacy:"Gizlilik",security:"Gvenlik",account:"Hesap",help:"Yardm & Destek"},appearance:{title:"Grnm",themeLabel:"Tema",lightTheme:"Ak",darkTheme:"Koyu"},security:{title:"Gvenlik",changePasswordTitle:"ifre Deitir",newPasswordLabel:"Yeni ifre",confirmPasswordLabel:"Yeni ifreyi Onayla",changePasswordButton:"ifreyi Deitir",accountActionsTitle:"Hesap lemleri",logoutButton:"k Yap",deleteAccountButton:"Hesab Sil",deleteWarning:"Uyar: Hesabnz silmek kalcdr ve geri alnamaz."},help:{title:"Yardm & Destek",description:"Yardma m ihtiyacnz var veya sorularnz m var? Klavuzlar ve SSS iin Yardm Merkezimizi ziyaret edin.",helpCenterButton:"Yardm Merkezine Git"},logoutButton:"k Yap"},wG={title:"Yorumlar",noComments:"Henz yorum yok",writeCommentPlaceholder:"Yorum yaz..."},_G={welcome:"Sosyal amza ho geldiniz",loginPrompt:"Gnderileri grmek ve etkileimde bulunmak iin ltfen giri yapn",loading:"Ykleniyor...",using_mock_data:"Test Verisi Kullanlyor",use_real_data:"Gerek Veri Kullan",more_options:"Daha fazla seenek",select_tab:"Bir sekme sein"},kG={signIn:"Giri Yap",signInWithGoogle:"Google ile Giri Yap",signingIn:"Giri yaplyor...",welcomeBack:"Tekrar Ho Geldiniz",dontHaveAccount:"Hesabnz yok mu?",register:"Kayt Ol",emailAddress:"E-posta adresi",emailPlaceholder:"siz@ornek.com",password:"ifre",passwordPlaceholder:"",rememberMe:"Beni hatrla",forgotPassword:"ifrenizi mi unuttunuz?",failedToSignIn:"Giri yaplamad",failedToSignInWithGoogle:"Google ile giri yaplamad",loginFailed:"Giri baarsz",redirectTimeout:"Ynlendirme zaman am - ltfen tekrar deneyin",redirectingToGoogle:"Kimlik dorulama iin Google'a ynlendiriliyor...",loginFailedTryAgain:"Giri baarsz. Ltfen tekrar deneyin.",redirectingToOAuth:"Kimlik dorulama servisine ynlendiriliyor...",signInToAccount:"Hesabnza giri yapn",connectWithCommunity:"Topluluunuz ve arkadalarnzla balant kurun"},SG={landingPage:"Al Sayfas",joinNow:"imdi Katl",goToCompleteProfile:"Profili Tamamlamaya Git",orContinueWithEmail:"Veya e-posta ile devam et"},jG={allRightsReserved:"Tm haklar sakldr"},NG={title:"Bildirimler",markAsRead:"Okundu olarak iaretle",markAllAsRead:"Tmn okundu olarak iaretle",deleteAll:"Tmn sil",empty:"Grntlenecek bildirim yok",all:"Tm",unread:"Okunmam",friends:"Arkadalar",likes:"Beeniler",comments:"Yorumlar",groups:"Gruplar",events:"Etkinlikler"},CG={completeNow:"imdi Tamamla"},EG={shareThoughts:"Aklnda ne var?"},PG={title:"Arkadalar",requests:"stekler",suggestions:"neriler",no_friends:"Henz arkadanz yok. neriler blmnden arkada bulabilirsiniz!",no_requests:"Bekleyen istek yok.",no_suggestions:"u anda neri yok. Daha sonra tekrar kontrol edin!",incoming:"Gelen",sent:"Gnderilen",actions:{accept:"Kabul Et",decline:"Reddet",cancel_request:"stei ptal Et",connect:"Balan",message:"Mesaj",view_profile:"Profili Grntle"},requestPending:"stek Beklemede",alreadyFriend:"Zaten Arkada"},TG={main:"Ana",shortcuts:"Ksayollar",resources:"Kaynaklar",home:"Ana Sayfa",profile:"Profil",groups:"Gruplar",events:"Etkinlikler",friends:"Arkadalar",messages:"Mesajlar",chat:"Sohbet",notifications:"Bildirimler",discover:"Kefet",saved:"Kaydedilenler",favorites:"Favoriler",settings:"Ayarlar"},AG={accept:"Kabul Et",decline:"Reddet",connect:"Balan",disconnect:"Balanty Kes",follow:"Takip Et",unfollow:"Takibi Brak",block:"Engelle",unblock:"Engeli Kaldr",report:"Bildir",markAsRead:"Okundu Olarak aretle",markAllAsRead:"Tmn Okundu Olarak aretle",clearAll:"Tmn Temizle",showMore:"Daha Fazla Gster",showLess:"Daha Az Gster",readMore:"Devamn Oku",seeAll:"Tmn Gr",unfriendConfirm:"@{{username}} arkadalktan karlsn m?",search:"SSS Ara..."},RG={main:"Ana Men",home:"Anasayfa",profile:"Profil",groups:"Gruplar",events:"Etkinlikler",resources:"Kaynaklar",friends:"Arkadalar",messages:"Mesajlar",notifications:"Bildirimler",saved:"Kaydedilenler",settings:"Ayarlar"},MG={search_placeholder:"Gnderi ara...",no_posts_title:"Gnderi bulunamad",no_my_posts_message:"Henz hi gnderi oluturmadnz.",no_all_posts_message:"Grntlenecek gnderi yok.",create_first_post:"lk gnderinizi oluturun"},DG={title:"Gruplar",tabs:{all:"Tm Gruplar",my:"Gruplarm"},buttons:{create:"Grup Olutur",joining:"Katlnyor...",join:"Gruba Katl",chat:"Sohbet",leave:"Ayrl"},search_placeholder:"Topluluunu bul...",category_label:"Kategori",categories:{all:"Tm",technology:"Teknoloji",business:" Dnyas",education:"Eitim",entertainment:"Elence",health:"Salk",sports:"Spor",travel:"Seyahat",art:"Sanat",food:"Yemek",music:"Mzik"},members:"ye",no_groups_found_title:"Grup bulunamad",no_my_groups_message:"Henz hibir gruba katlmadnz.",no_all_groups_message:"Aramanz deitirmeyi veya yeni bir grup oluturmay deneyin."},LG={title:"Etkinlikler",tabs:{all:"Tm Etkinlikler",my:"Etkinliklerim"},buttons:{create:"Etkinlik Olutur",leaving:"Ayrlyor...",leave:"Ayrl",chat:"Sohbet",joining:"Katlnyor...",join:"Katl"},search_placeholder:"Etkinlik ara...",category_label:"Kategori Se",categories:{all:"Tm Kategoriler",technology:"Teknoloji",business:" Dnyas",education:"Eitim",entertainment:"Elence",health:"Salk",sports:"Spor",travel:"Seyahat",art:"Sanat",food:"Yemek",music:"Mzik"},public:"Herkese Ak",private:"zel",no_events_found_title:"Etkinlik bulunamad",no_my_events_message:"Henz hibir etkinlie katlmadnz.",no_all_events_message:"Aramanz deitirmeyi veya yeni bir etkinlik oluturmay deneyin."},OG={title:"Mesajlar",tabs:{direct:"Kiisel",groups:"Gruplar",events:"Etkinlikler"},direct:"Kiisel Mesajlar",groups:"Grup Sohbetleri",events:"Etkinlik Sohbetleri",select_conversation:"Bir konuma sein",select_conversation_description:"Listeden bir konuma sein veya Arkadalar sayfasndan yeni bir konuma balatn",no_direct_messages:"Henz kiisel mesajnz yok",no_group_chats:"Henz hibir grupta deilsiniz",no_event_chats:"Henz etkinlik sohbetiniz yok",find_friends:"Arkada Bul",browse_groups:"Gruplara Gz At",browse_events:"Etkinliklere Gz At",you:"Siz",no_messages_yet:"Henz mesaj yok",start_conversation:"Konuma Balat",members:"ye",view_profile:"Profili Grntle",delete_conversation:"Konumay Sil",archive_chat:"Sohbeti Arivle",mute_notifications:"Bildirimleri Sessize Al",block_user:"Kullancy Engelle",message_settings:"Mesaj Ayarlar",message_settings_soon:"Mesaj ayarlar yaknda gelecek",group_chats_coming_soon:"Grup sohbetleri yaknda gelecek",event_chat_ui_coming_soon:"Etkinlik sohbet arayz yaknda gelecek",group_chat_ui_coming_soon:"Grup sohbet arayz yaknda gelecek",view_group_info:"Grup Bilgisini Grntle",view_event_details:"Etkinlik Detaylarn Grntle",choose_conversation_or_start_new:"Listeden bir konuma sein veya yeni bir konuma balatn",your_events:"Etkinlikleriniz",refresh:"Yenile",admin:"Ynetici",member:"ye",no_description:"Aklama yok",enter_fullscreen:"Tam Ekran",exit_fullscreen:"Tam Ekrandan k",settings:"Mesaj Ayarlar",direct_message_policies:{delete_own:"Kullanclar kendi mesajlarn silebilir",insert_own:"Kullanclar kendi mesajlarn gnderebilir",update_own:"Kullanclar kendi mesajlarn gncelleyebilir",view_own:"Kullanclar kendi mesajlarn grntleyebilir"}},IG={title:"Kefet",searchPlaceholder:"Kii, grup veya etkinlik ara...",tabs:{trending:"Trendler",groups:"Gruplar",events:"Etkinlikler",people:"Kiiler"},buttons:{explore:"Daha Fazla Kefet"},eventDate:"Etkinlik Tarihi"},FG={title:"Kaydedilenler",categories:{all:"Tm eler",articles:"Makaleler",photos:"Fotoraflar",videos:"Videolar"},readTime5:"5 dk okuma",readTime8:"8 dk okuma",no_items_title:"Kaydedilmi e bulunamad",no_items_message:"Kaydettiiniz eler burada grnecektir. erie gz atn ve eleri kaydetmek iin yer imi simgesine tklayn.",buttons:{explore:"erii Kefet"}},$G={title:"Favoriler",tabs:{groups:"Gruplar",connections:"Balantlar"},buttons:{remove:"Favorilerden Kaldr",viewGroup:"Grubu Grntle"},noHeadline:"Balk yok",no_groups:"Henz favori grubunuz yok.",no_connections:"Henz favori balantnz yok."},UG={helpAndSupport:"Yardm & Destek",helpAndSupportDescription:"Sk sorulan sorularn yantlarn bulun ve destek ekibimizle iletiime gein.",telegramSupport:"Telegram Destei",telegramSupportDescription:"Telegram zerinden bizimle dorudan sohbet edin.",emailSupport:"E-posta Destei",emailSupportDescription:"Yardm iin bize bir e-posta gnderin.",helpCenter:"Yardm Merkezi",helpCenterDescription:"Bilgi bankamzda yantlar bulun.",documentation:"Dokmantasyon",documentationDescription:"Kapsaml klavuzlara gz atn.",viewDocumentation:"Dokmantasyonu Grntle",videoTutorials:"Video Eitimleri",videoTutorialsDescription:"Balamak iin videolarmz izleyin.",watchTutorials:"Eitimleri zle",frequentlyAskedQuestions:"Ska Sorulan Sorular",noMatchingFAQs:"Eleen SSS bulunamad.",openingTelegram:"Telegram destei alyor",openingEmail:"E-posta istemcisi alyor",redirectingToHelp:"Yardm Merkezine ynlendiriliyor...",redirectingToDocs:"Dokmantasyon alyor...",redirectingToTutorials:"Eitimler alyor..."},zG={createGroup:{question:"Nasl grup olutururum?",answer:'Gruplar sayfasna gidin ve "Grup Olutur" dmesine tklayn. Ayrntlar doldurun ve yeleri davet edin.'},addFriends:{question:"Nasl arkada ekleyebilirim?",answer:'Arkadalar sayfasna gidin, "neriler" altnda kiileri bulun veya arama yapn ve "Balan" veya "Arkada Ekle" dmesine tklayn.'},privacy:{question:"Gizlilik ayarlarm nasl ynetirim?",answer:"Ayarlar -> Gizlilik blmne gidin. Burada profilinizi ve gnderilerinizi kimlerin grebileceini kontrol edebilirsiniz."},notifications:{question:"Bildirim tercihlerimi nasl deitirebilirim?",answer:"E-posta ve anlk bildirimleri etkinletirmek veya devre d brakmak iin Ayarlar -> Bildirimler blmn ziyaret edin."},deleteAccount:{question:"Hesabm nasl silerim?",answer:"Ayarlar -> Gvenlik -> Hesap lemleri blmne gidin. Hesabnz silmenin kalc olduunu unutmayn."}},BG={title:"Yeni Grup Olutur",nameLabel:"Grup Ad *",namePlaceholder:"rn: Teknoloji Merakllar, Kitap Kulb",descriptionLabel:"Aklama",descriptionPlaceholder:"Bu grup ne hakknda?",categoryLabel:"Kategori",categoryPlaceholder:"Bir kategori sein...",visibilityLabel:"Grnrlk",visibilityPlaceholder:"Grnrl sein...",visibilityPublic:"Herkese Ak - Herkes grebilir ve katlabilir",visibilityPrivate:"zel - yeler davet edilmelidir",createButton:"Grubu Olutur",creatingButton:"Grup Oluturuluyor..."},VG={title:"Yeni Etkinlik Olutur",nameLabel:"Etkinlik Bal *",namePlaceholder:"rn: Yllk Teknoloji Konferans, Topluluk Bulumas",descriptionLabel:"Aklama",descriptionPlaceholder:"Etkinlik hakknda daha fazla bilgi verin",categoryLabel:"Kategori",categoryPlaceholder:"Bir kategori sein...",locationLabel:"Konum *",locationPlaceholder:"rn: Konferans Merkezi, evrimii",startDateLabel:"Balang Tarihi ve Saati *",startTimeLabel:"Balang Saati",endDateLabel:"Biti Tarihi ve Saati (stee bal)",endTimeLabel:"Biti Saati",visibilityLabel:"Grnrlk",visibilityPlaceholder:"Grnrl sein...",visibilityPublic:"Herkese Ak - Herkes grebilir",visibilityPrivate:"zel - Sadece davetliler",maxAttendeesLabel:"Maksimum Katlmc (stee bal)",maxAttendeesPlaceholder:"Snrsz iin bo brakn",createButton:"Etkinlii Olutur",creatingButton:"Etkinlik Oluturuluyor..."},GG={event_chat:"Etkinlik Sohbeti",back_to_messages:"Mesajlara Dn",view_event_details:"Etkinlik Detaylarn Grntle",view_attendees:"Katlmclar Grntle",event_attendees:"Etkinlik Katlmclar",no_attendees_found:"Katlmc bulunamad",attendee:"Katlmc",attendees:"Katlmclar",unknown_attendee:"Bilinmeyen Katlmc",unknown_location:"Bilinmeyen Konum",type_your_message:"Mesajnz yazn...",loading:"Ykleniyor...",error_loading_messages:"Mesajlar yklenirken hata olutu",error_sending_message:"Mesaj gnderilirken hata olutu. Ltfen tekrar deneyin.",date:"Tarih",location:"Konum",description:"Aklama",view_full_event_page:"Tam Etkinlik Sayfasn Grntle",event_settings:"Etkinlik Ayarlar",mute_notifications:"Bildirimleri Sessize Al",add_to_calendar:"Takvime Ekle",share_event:"Etkinlii Payla",leave_event:"Etkinlikten Ayrl",enter_fullscreen:"Tam Ekran",exit_fullscreen:"Tam Ekrandan k",error_invalid_event_id:"Geersiz etkinlik ID",error_event_not_found:"Etkinlik bulunamad veya silinmi olabilir",members_can_view:"Katlmclar dier katlmclar grebilir",attendees_can_join:"Kullanclar etkinliklere katlabilir",attendees_can_leave:"Katlmclar etkinliklerden ayrlabilir",users_own_attendance:"Kullanclar kendi katlmlarn grebilir",attendees_send_messages:"Katlmclar etkinlie mesaj gnderebilir",attendees_update_status:"Katlmclar durumlarn gncelleyebilir",view_attendees_policy:"Katlmclar grntle politikas",delete_own_messages:"Kullanclar kendi mesajlarn silebilir",update_own_messages:"Kullanclar kendi mesajlarn dzenleyebilir"},qG={buttons:fG,formLabels:hG,profile:mG,post:gG,errors:pG,success:yG,group_chat_settings:xG,group_chat:vG,settings:bG,comments:wG,common:_G,login:kG,navigation:SG,footer:jG,notifications:NG,action:CG,placeholder:EG,friends:PG,nav:TG,actions:AG,sidebar:RG,home:MG,groups:DG,events:LG,messages:OG,discover:IG,saved:FG,favorites:$G,helpAndSupport:UG,faq:zG,createGroup:BG,createEvent:VG,event_chat:GG},WG={en:{translation:XB},ru:{translation:MV},kk:{translation:dG},tr:{translation:qG}};Ct.use(pN).use(a5).init({resources:WG,lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator"],caches:["localStorage"]},returnObjects:!0,returnEmptyString:!1,parseMissingKeyHandler:e=>`Missing translation: ${e}`,debug:!1});class HG extends h.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}componentDidCatch(t,r){this.setState({hasError:!0,error:t,errorInfo:r}),console.error("Error caught by ErrorBoundaryDebug:",t,r)}render(){var t,r;return this.state.hasError?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 p-4",children:i.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-6 max-w-3xl w-full",children:[i.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Something went wrong"}),i.jsxs("div",{className:"mb-4",children:[i.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Error:"}),i.jsx("pre",{className:"bg-gray-100 p-3 rounded overflow-auto text-sm",children:(t=this.state.error)==null?void 0:t.toString()})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Component Stack:"}),i.jsx("pre",{className:"bg-gray-100 p-3 rounded overflow-auto text-sm",children:(r=this.state.errorInfo)==null?void 0:r.componentStack})]}),i.jsx("button",{onClick:()=>window.location.reload(),className:"mt-6 px-4 py-2 bg-gradient-to-r from-gray-300 to-rose-500 text-white rounded hover:from-gray-400 hover:to-rose-600 transition-all",children:"Reload Page"})]})}):this.props.children}}const KG={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_APP_PORT:"3004",VITE_APP_URL:"https://connectme-uqip.onrender.com",VITE_GOOGLE_TRANSLATE_API_KEY:"AIzaSyAk07im0xTRrro37PicVQNuj0l9qAR_MH0",VITE_PUBLIC_URL:"https://connectme-uqip.onrender.com",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9oc2VyZWJpZ3ppeXhseHBrYWliIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTI3NDk0MTAsImV4cCI6MjAyODMyNTQxMH0.2mVOdgG-4QPVjVxqKshjFmcAyVELY6KYHtqlR-KLpvw",VITE_SUPABASE_URL:"https://ohserebigziyxlxpkaib.supabase.co",VITE_TRANSLATION_SERVER_PORT:"3005"};console.log("Application starting...");console.log("Environment:",KG);Oa(2,1e3).then(e=>{e?console.log("Translation server is available and connected."):console.warn("Translation server is not available. Translations will be disabled.")}).catch(e=>{console.error("Error checking translation server:",e)});window.addEventListener("error",e=>{console.error("Unhandled error:",e.error)});window.addEventListener("unhandledrejection",e=>{console.error("Unhandled promise rejection:",e.reason)});window.addEventListener("languageChanged",()=>{console.log("Language changed event detected, refreshing UI..."),document.body.style.zoom="0.99999",setTimeout(()=>{document.body.style.zoom="1"},10)});const yN=document.getElementById("root");if(!yN)throw new Error("Root element not found");console.log("Root element found, rendering app...");window.location.hash&&(window.location.hash.includes("access_token")||window.location.hash.includes("refresh_token")||window.location.hash.includes("error_description"))?(console.log("MAIN.TSX: Detected auth tokens in URL hash!"),console.log("Hash content:",window.location.hash)):localStorage.getItem("force_redirect_home")==="true"&&(localStorage.removeItem("force_redirect_home"),localStorage.removeItem("redirect_attempts"),localStorage.removeItem("auth_hash"));const YG={future:{v7_startTransition:!0,v7_relativeSplatPath:!0}};X1(yN).render(i.jsx(h.StrictMode,{children:i.jsx(HG,{children:i.jsx(WE,{future:YG.future,children:i.jsx(x2,{children:i.jsx(oP,{children:i.jsx(Lz,{})})})})})}));export{Ib as g};
//# sourceMappingURL=index-DcEAfMMh.js.map
