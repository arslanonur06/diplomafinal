function eN(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();var hr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _b(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function tN(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var kb={exports:{}},Pu={},Sb={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tl=Symbol.for("react.element"),rN=Symbol.for("react.portal"),nN=Symbol.for("react.fragment"),sN=Symbol.for("react.strict_mode"),oN=Symbol.for("react.profiler"),aN=Symbol.for("react.provider"),iN=Symbol.for("react.context"),lN=Symbol.for("react.forward_ref"),cN=Symbol.for("react.suspense"),uN=Symbol.for("react.memo"),dN=Symbol.for("react.lazy"),m0=Symbol.iterator;function fN(e){return e===null||typeof e!="object"?null:(e=m0&&e[m0]||e["@@iterator"],typeof e=="function"?e:null)}var jb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Nb=Object.assign,Cb={};function aa(e,t,r){this.props=e,this.context=t,this.refs=Cb,this.updater=r||jb}aa.prototype.isReactComponent={};aa.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};aa.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Eb(){}Eb.prototype=aa.prototype;function Um(e,t,r){this.props=e,this.context=t,this.refs=Cb,this.updater=r||jb}var zm=Um.prototype=new Eb;zm.constructor=Um;Nb(zm,aa.prototype);zm.isPureReactComponent=!0;var g0=Array.isArray,Pb=Object.prototype.hasOwnProperty,Bm={current:null},Tb={key:!0,ref:!0,__self:!0,__source:!0};function Ab(e,t,r){var n,s={},o=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)Pb.call(t,n)&&!Tb.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:tl,type:e,key:o,ref:i,props:s,_owner:Bm.current}}function hN(e,t){return{$$typeof:tl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Vm(e){return typeof e=="object"&&e!==null&&e.$$typeof===tl}function mN(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var p0=/\/+/g;function jd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?mN(""+e.key):t.toString(36)}function ac(e,t,r,n,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case tl:case rN:i=!0}}if(i)return i=e,s=s(i),e=n===""?"."+jd(i,0):n,g0(s)?(r="",e!=null&&(r=e.replace(p0,"$&/")+"/"),ac(s,t,r,"",function(u){return u})):s!=null&&(Vm(s)&&(s=hN(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(p0,"$&/")+"/")+e)),t.push(s)),1;if(i=0,n=n===""?".":n+":",g0(e))for(var l=0;l<e.length;l++){o=e[l];var c=n+jd(o,l);i+=ac(o,t,r,c,s)}else if(c=fN(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=n+jd(o,l++),i+=ac(o,t,r,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function _l(e,t,r){if(e==null)return e;var n=[],s=0;return ac(e,n,"","",function(o){return t.call(r,o,s++)}),n}function gN(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Mt={current:null},ic={transition:null},pN={ReactCurrentDispatcher:Mt,ReactCurrentBatchConfig:ic,ReactCurrentOwner:Bm};function Rb(){throw Error("act(...) is not supported in production builds of React.")}_e.Children={map:_l,forEach:function(e,t,r){_l(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return _l(e,function(){t++}),t},toArray:function(e){return _l(e,function(t){return t})||[]},only:function(e){if(!Vm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};_e.Component=aa;_e.Fragment=nN;_e.Profiler=oN;_e.PureComponent=Um;_e.StrictMode=sN;_e.Suspense=cN;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pN;_e.act=Rb;_e.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Nb({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=Bm.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Pb.call(t,c)&&!Tb.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:tl,type:e.type,key:s,ref:o,props:n,_owner:i}};_e.createContext=function(e){return e={$$typeof:iN,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:aN,_context:e},e.Consumer=e};_e.createElement=Ab;_e.createFactory=function(e){var t=Ab.bind(null,e);return t.type=e,t};_e.createRef=function(){return{current:null}};_e.forwardRef=function(e){return{$$typeof:lN,render:e}};_e.isValidElement=Vm;_e.lazy=function(e){return{$$typeof:dN,_payload:{_status:-1,_result:e},_init:gN}};_e.memo=function(e,t){return{$$typeof:uN,type:e,compare:t===void 0?null:t}};_e.startTransition=function(e){var t=ic.transition;ic.transition={};try{e()}finally{ic.transition=t}};_e.unstable_act=Rb;_e.useCallback=function(e,t){return Mt.current.useCallback(e,t)};_e.useContext=function(e){return Mt.current.useContext(e)};_e.useDebugValue=function(){};_e.useDeferredValue=function(e){return Mt.current.useDeferredValue(e)};_e.useEffect=function(e,t){return Mt.current.useEffect(e,t)};_e.useId=function(){return Mt.current.useId()};_e.useImperativeHandle=function(e,t,r){return Mt.current.useImperativeHandle(e,t,r)};_e.useInsertionEffect=function(e,t){return Mt.current.useInsertionEffect(e,t)};_e.useLayoutEffect=function(e,t){return Mt.current.useLayoutEffect(e,t)};_e.useMemo=function(e,t){return Mt.current.useMemo(e,t)};_e.useReducer=function(e,t,r){return Mt.current.useReducer(e,t,r)};_e.useRef=function(e){return Mt.current.useRef(e)};_e.useState=function(e){return Mt.current.useState(e)};_e.useSyncExternalStore=function(e,t,r){return Mt.current.useSyncExternalStore(e,t,r)};_e.useTransition=function(){return Mt.current.useTransition()};_e.version="18.3.1";Sb.exports=_e;var m=Sb.exports;const mt=_b(m),Gm=eN({__proto__:null,default:mt},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yN=m,vN=Symbol.for("react.element"),xN=Symbol.for("react.fragment"),bN=Object.prototype.hasOwnProperty,wN=yN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_N={key:!0,ref:!0,__self:!0,__source:!0};function Mb(e,t,r){var n,s={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)bN.call(t,n)&&!_N.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:vN,type:e,key:o,ref:i,props:s,_owner:wN.current}}Pu.Fragment=xN;Pu.jsx=Mb;Pu.jsxs=Mb;kb.exports=Pu;var a=kb.exports,Lb={exports:{}},Qt={},Db={exports:{}},Ob={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(S,M){var T=S.length;S.push(M);e:for(;0<T;){var B=T-1>>>1,V=S[B];if(0<s(V,M))S[B]=M,S[T]=V,T=B;else break e}}function r(S){return S.length===0?null:S[0]}function n(S){if(S.length===0)return null;var M=S[0],T=S.pop();if(T!==M){S[0]=T;e:for(var B=0,V=S.length,re=V>>>1;B<re;){var se=2*(B+1)-1,de=S[se],oe=se+1,R=S[oe];if(0>s(de,T))oe<V&&0>s(R,de)?(S[B]=R,S[oe]=T,B=oe):(S[B]=de,S[se]=T,B=se);else if(oe<V&&0>s(R,T))S[B]=R,S[oe]=T,B=oe;else break e}}return M}function s(S,M){var T=S.sortIndex-M.sortIndex;return T!==0?T:S.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,h=3,g=!1,b=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(S){for(var M=r(u);M!==null;){if(M.callback===null)n(u);else if(M.startTime<=S)n(u),M.sortIndex=M.expirationTime,t(c,M);else break;M=r(u)}}function _(S){if(v=!1,x(S),!b)if(r(c)!==null)b=!0,O(k);else{var M=r(u);M!==null&&U(_,M.startTime-S)}}function k(S,M){b=!1,v&&(v=!1,p(N),N=-1),g=!0;var T=h;try{for(x(M),f=r(c);f!==null&&(!(f.expirationTime>M)||S&&!L());){var B=f.callback;if(typeof B=="function"){f.callback=null,h=f.priorityLevel;var V=B(f.expirationTime<=M);M=e.unstable_now(),typeof V=="function"?f.callback=V:f===r(c)&&n(c),x(M)}else n(c);f=r(c)}if(f!==null)var re=!0;else{var se=r(u);se!==null&&U(_,se.startTime-M),re=!1}return re}finally{f=null,h=T,g=!1}}var j=!1,E=null,N=-1,I=5,C=-1;function L(){return!(e.unstable_now()-C<I)}function P(){if(E!==null){var S=e.unstable_now();C=S;var M=!0;try{M=E(!0,S)}finally{M?D():(j=!1,E=null)}}else j=!1}var D;if(typeof y=="function")D=function(){y(P)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,F=A.port2;A.port1.onmessage=P,D=function(){F.postMessage(null)}}else D=function(){w(P,0)};function O(S){E=S,j||(j=!0,D())}function U(S,M){N=w(function(){S(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(S){S.callback=null},e.unstable_continueExecution=function(){b||g||(b=!0,O(k))},e.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<S?Math.floor(1e3/S):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(S){switch(h){case 1:case 2:case 3:var M=3;break;default:M=h}var T=h;h=M;try{return S()}finally{h=T}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(S,M){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var T=h;h=S;try{return M()}finally{h=T}},e.unstable_scheduleCallback=function(S,M,T){var B=e.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?B+T:B):T=B,S){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=T+V,S={id:d++,callback:M,priorityLevel:S,startTime:T,expirationTime:V,sortIndex:-1},T>B?(S.sortIndex=T,t(u,S),r(c)===null&&S===r(u)&&(v?(p(N),N=-1):v=!0,U(_,T-B))):(S.sortIndex=V,t(c,S),b||g||(b=!0,O(k))),S},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(S){var M=h;return function(){var T=h;h=M;try{return S.apply(this,arguments)}finally{h=T}}}})(Ob);Db.exports=Ob;var kN=Db.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SN=m,Xt=kN;function te(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ib=new Set,yi={};function Vs(e,t){zo(e,t),zo(e+"Capture",t)}function zo(e,t){for(yi[e]=t,e=0;e<t.length;e++)Ib.add(t[e])}var an=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gf=Object.prototype.hasOwnProperty,jN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y0={},v0={};function NN(e){return Gf.call(v0,e)?!0:Gf.call(y0,e)?!1:jN.test(e)?v0[e]=!0:(y0[e]=!0,!1)}function CN(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function EN(e,t,r,n){if(t===null||typeof t>"u"||CN(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Lt(e,t,r,n,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){wt[e]=new Lt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];wt[t]=new Lt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){wt[e]=new Lt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){wt[e]=new Lt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){wt[e]=new Lt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){wt[e]=new Lt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){wt[e]=new Lt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){wt[e]=new Lt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){wt[e]=new Lt(e,5,!1,e.toLowerCase(),null,!1,!1)});var qm=/[\-:]([a-z])/g;function Wm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(qm,Wm);wt[t]=new Lt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(qm,Wm);wt[t]=new Lt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(qm,Wm);wt[t]=new Lt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){wt[e]=new Lt(e,1,!1,e.toLowerCase(),null,!1,!1)});wt.xlinkHref=new Lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){wt[e]=new Lt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Hm(e,t,r,n){var s=wt.hasOwnProperty(t)?wt[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(EN(t,r,s,n)&&(r=null),n||s===null?NN(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var pn=SN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,kl=Symbol.for("react.element"),mo=Symbol.for("react.portal"),go=Symbol.for("react.fragment"),Km=Symbol.for("react.strict_mode"),qf=Symbol.for("react.profiler"),Fb=Symbol.for("react.provider"),$b=Symbol.for("react.context"),Ym=Symbol.for("react.forward_ref"),Wf=Symbol.for("react.suspense"),Hf=Symbol.for("react.suspense_list"),Jm=Symbol.for("react.memo"),Nn=Symbol.for("react.lazy"),Ub=Symbol.for("react.offscreen"),x0=Symbol.iterator;function ja(e){return e===null||typeof e!="object"?null:(e=x0&&e[x0]||e["@@iterator"],typeof e=="function"?e:null)}var Je=Object.assign,Nd;function za(e){if(Nd===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Nd=t&&t[1]||""}return`
`+Nd+e}var Cd=!1;function Ed(e,t){if(!e||Cd)return"";Cd=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=n.stack.split(`
`),i=s.length-1,l=o.length-1;1<=i&&0<=l&&s[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==o[l]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{Cd=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?za(e):""}function PN(e){switch(e.tag){case 5:return za(e.type);case 16:return za("Lazy");case 13:return za("Suspense");case 19:return za("SuspenseList");case 0:case 2:case 15:return e=Ed(e.type,!1),e;case 11:return e=Ed(e.type.render,!1),e;case 1:return e=Ed(e.type,!0),e;default:return""}}function Kf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case go:return"Fragment";case mo:return"Portal";case qf:return"Profiler";case Km:return"StrictMode";case Wf:return"Suspense";case Hf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case $b:return(e.displayName||"Context")+".Consumer";case Fb:return(e._context.displayName||"Context")+".Provider";case Ym:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Jm:return t=e.displayName||null,t!==null?t:Kf(e.type)||"Memo";case Nn:t=e._payload,e=e._init;try{return Kf(e(t))}catch{}}return null}function TN(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Kf(t);case 8:return t===Km?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Wn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zb(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function AN(e){var t=zb(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Sl(e){e._valueTracker||(e._valueTracker=AN(e))}function Bb(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=zb(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ec(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Yf(e,t){var r=t.checked;return Je({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function b0(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Wn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Vb(e,t){t=t.checked,t!=null&&Hm(e,"checked",t,!1)}function Jf(e,t){Vb(e,t);var r=Wn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Xf(e,t.type,r):t.hasOwnProperty("defaultValue")&&Xf(e,t.type,Wn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function w0(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Xf(e,t,r){(t!=="number"||Ec(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ba=Array.isArray;function Ao(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Wn(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Qf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(te(91));return Je({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function _0(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(te(92));if(Ba(r)){if(1<r.length)throw Error(te(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Wn(r)}}function Gb(e,t){var r=Wn(t.value),n=Wn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function k0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function qb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?qb(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var jl,Wb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(jl=jl||document.createElement("div"),jl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=jl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function vi(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Xa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},RN=["Webkit","ms","Moz","O"];Object.keys(Xa).forEach(function(e){RN.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Xa[t]=Xa[e]})});function Hb(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Xa.hasOwnProperty(e)&&Xa[e]?(""+t).trim():t+"px"}function Kb(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Hb(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var MN=Je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function eh(e,t){if(t){if(MN[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(te(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(te(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(te(61))}if(t.style!=null&&typeof t.style!="object")throw Error(te(62))}}function th(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rh=null;function Xm(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var nh=null,Ro=null,Mo=null;function S0(e){if(e=sl(e)){if(typeof nh!="function")throw Error(te(280));var t=e.stateNode;t&&(t=Lu(t),nh(e.stateNode,e.type,t))}}function Yb(e){Ro?Mo?Mo.push(e):Mo=[e]:Ro=e}function Jb(){if(Ro){var e=Ro,t=Mo;if(Mo=Ro=null,S0(e),t)for(e=0;e<t.length;e++)S0(t[e])}}function Xb(e,t){return e(t)}function Qb(){}var Pd=!1;function Zb(e,t,r){if(Pd)return e(t,r);Pd=!0;try{return Xb(e,t,r)}finally{Pd=!1,(Ro!==null||Mo!==null)&&(Qb(),Jb())}}function xi(e,t){var r=e.stateNode;if(r===null)return null;var n=Lu(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(te(231,t,typeof r));return r}var sh=!1;if(an)try{var Na={};Object.defineProperty(Na,"passive",{get:function(){sh=!0}}),window.addEventListener("test",Na,Na),window.removeEventListener("test",Na,Na)}catch{sh=!1}function LN(e,t,r,n,s,o,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Qa=!1,Pc=null,Tc=!1,oh=null,DN={onError:function(e){Qa=!0,Pc=e}};function ON(e,t,r,n,s,o,i,l,c){Qa=!1,Pc=null,LN.apply(DN,arguments)}function IN(e,t,r,n,s,o,i,l,c){if(ON.apply(this,arguments),Qa){if(Qa){var u=Pc;Qa=!1,Pc=null}else throw Error(te(198));Tc||(Tc=!0,oh=u)}}function Gs(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function ew(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function j0(e){if(Gs(e)!==e)throw Error(te(188))}function FN(e){var t=e.alternate;if(!t){if(t=Gs(e),t===null)throw Error(te(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return j0(s),e;if(o===n)return j0(s),t;o=o.sibling}throw Error(te(188))}if(r.return!==n.return)r=s,n=o;else{for(var i=!1,l=s.child;l;){if(l===r){i=!0,r=s,n=o;break}if(l===n){i=!0,n=s,r=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===r){i=!0,r=o,n=s;break}if(l===n){i=!0,n=o,r=s;break}l=l.sibling}if(!i)throw Error(te(189))}}if(r.alternate!==n)throw Error(te(190))}if(r.tag!==3)throw Error(te(188));return r.stateNode.current===r?e:t}function tw(e){return e=FN(e),e!==null?rw(e):null}function rw(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=rw(e);if(t!==null)return t;e=e.sibling}return null}var nw=Xt.unstable_scheduleCallback,N0=Xt.unstable_cancelCallback,$N=Xt.unstable_shouldYield,UN=Xt.unstable_requestPaint,et=Xt.unstable_now,zN=Xt.unstable_getCurrentPriorityLevel,Qm=Xt.unstable_ImmediatePriority,sw=Xt.unstable_UserBlockingPriority,Ac=Xt.unstable_NormalPriority,BN=Xt.unstable_LowPriority,ow=Xt.unstable_IdlePriority,Tu=null,zr=null;function VN(e){if(zr&&typeof zr.onCommitFiberRoot=="function")try{zr.onCommitFiberRoot(Tu,e,void 0,(e.current.flags&128)===128)}catch{}}var jr=Math.clz32?Math.clz32:WN,GN=Math.log,qN=Math.LN2;function WN(e){return e>>>=0,e===0?32:31-(GN(e)/qN|0)|0}var Nl=64,Cl=4194304;function Va(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Rc(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,o=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~s;l!==0?n=Va(l):(o&=i,o!==0&&(n=Va(o)))}else i=r&~s,i!==0?n=Va(i):o!==0&&(n=Va(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-jr(t),s=1<<r,n|=e[r],t&=~s;return n}function HN(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function KN(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-jr(o),l=1<<i,c=s[i];c===-1?(!(l&r)||l&n)&&(s[i]=HN(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function ah(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function aw(){var e=Nl;return Nl<<=1,!(Nl&4194240)&&(Nl=64),e}function Td(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function rl(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-jr(t),e[t]=r}function YN(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-jr(r),o=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~o}}function Zm(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-jr(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Re=0;function iw(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var lw,eg,cw,uw,dw,ih=!1,El=[],On=null,In=null,Fn=null,bi=new Map,wi=new Map,Pn=[],JN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function C0(e,t){switch(e){case"focusin":case"focusout":On=null;break;case"dragenter":case"dragleave":In=null;break;case"mouseover":case"mouseout":Fn=null;break;case"pointerover":case"pointerout":bi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":wi.delete(t.pointerId)}}function Ca(e,t,r,n,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[s]},t!==null&&(t=sl(t),t!==null&&eg(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function XN(e,t,r,n,s){switch(t){case"focusin":return On=Ca(On,e,t,r,n,s),!0;case"dragenter":return In=Ca(In,e,t,r,n,s),!0;case"mouseover":return Fn=Ca(Fn,e,t,r,n,s),!0;case"pointerover":var o=s.pointerId;return bi.set(o,Ca(bi.get(o)||null,e,t,r,n,s)),!0;case"gotpointercapture":return o=s.pointerId,wi.set(o,Ca(wi.get(o)||null,e,t,r,n,s)),!0}return!1}function fw(e){var t=bs(e.target);if(t!==null){var r=Gs(t);if(r!==null){if(t=r.tag,t===13){if(t=ew(r),t!==null){e.blockedOn=t,dw(e.priority,function(){cw(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function lc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=lh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);rh=n,r.target.dispatchEvent(n),rh=null}else return t=sl(r),t!==null&&eg(t),e.blockedOn=r,!1;t.shift()}return!0}function E0(e,t,r){lc(e)&&r.delete(t)}function QN(){ih=!1,On!==null&&lc(On)&&(On=null),In!==null&&lc(In)&&(In=null),Fn!==null&&lc(Fn)&&(Fn=null),bi.forEach(E0),wi.forEach(E0)}function Ea(e,t){e.blockedOn===t&&(e.blockedOn=null,ih||(ih=!0,Xt.unstable_scheduleCallback(Xt.unstable_NormalPriority,QN)))}function _i(e){function t(s){return Ea(s,e)}if(0<El.length){Ea(El[0],e);for(var r=1;r<El.length;r++){var n=El[r];n.blockedOn===e&&(n.blockedOn=null)}}for(On!==null&&Ea(On,e),In!==null&&Ea(In,e),Fn!==null&&Ea(Fn,e),bi.forEach(t),wi.forEach(t),r=0;r<Pn.length;r++)n=Pn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Pn.length&&(r=Pn[0],r.blockedOn===null);)fw(r),r.blockedOn===null&&Pn.shift()}var Lo=pn.ReactCurrentBatchConfig,Mc=!0;function ZN(e,t,r,n){var s=Re,o=Lo.transition;Lo.transition=null;try{Re=1,tg(e,t,r,n)}finally{Re=s,Lo.transition=o}}function eC(e,t,r,n){var s=Re,o=Lo.transition;Lo.transition=null;try{Re=4,tg(e,t,r,n)}finally{Re=s,Lo.transition=o}}function tg(e,t,r,n){if(Mc){var s=lh(e,t,r,n);if(s===null)Ud(e,t,n,Lc,r),C0(e,n);else if(XN(s,e,t,r,n))n.stopPropagation();else if(C0(e,n),t&4&&-1<JN.indexOf(e)){for(;s!==null;){var o=sl(s);if(o!==null&&lw(o),o=lh(e,t,r,n),o===null&&Ud(e,t,n,Lc,r),o===s)break;s=o}s!==null&&n.stopPropagation()}else Ud(e,t,n,null,r)}}var Lc=null;function lh(e,t,r,n){if(Lc=null,e=Xm(n),e=bs(e),e!==null)if(t=Gs(e),t===null)e=null;else if(r=t.tag,r===13){if(e=ew(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Lc=e,null}function hw(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zN()){case Qm:return 1;case sw:return 4;case Ac:case BN:return 16;case ow:return 536870912;default:return 16}default:return 16}}var Mn=null,rg=null,cc=null;function mw(){if(cc)return cc;var e,t=rg,r=t.length,n,s="value"in Mn?Mn.value:Mn.textContent,o=s.length;for(e=0;e<r&&t[e]===s[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===s[o-n];n++);return cc=s.slice(e,1<n?1-n:void 0)}function uc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Pl(){return!0}function P0(){return!1}function Zt(e){function t(r,n,s,o,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Pl:P0,this.isPropagationStopped=P0,this}return Je(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Pl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Pl)},persist:function(){},isPersistent:Pl}),t}var ia={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ng=Zt(ia),nl=Je({},ia,{view:0,detail:0}),tC=Zt(nl),Ad,Rd,Pa,Au=Je({},nl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Pa&&(Pa&&e.type==="mousemove"?(Ad=e.screenX-Pa.screenX,Rd=e.screenY-Pa.screenY):Rd=Ad=0,Pa=e),Ad)},movementY:function(e){return"movementY"in e?e.movementY:Rd}}),T0=Zt(Au),rC=Je({},Au,{dataTransfer:0}),nC=Zt(rC),sC=Je({},nl,{relatedTarget:0}),Md=Zt(sC),oC=Je({},ia,{animationName:0,elapsedTime:0,pseudoElement:0}),aC=Zt(oC),iC=Je({},ia,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),lC=Zt(iC),cC=Je({},ia,{data:0}),A0=Zt(cC),uC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=fC[e])?!!t[e]:!1}function sg(){return hC}var mC=Je({},nl,{key:function(e){if(e.key){var t=uC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=uc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?dC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sg,charCode:function(e){return e.type==="keypress"?uc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?uc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gC=Zt(mC),pC=Je({},Au,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),R0=Zt(pC),yC=Je({},nl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sg}),vC=Zt(yC),xC=Je({},ia,{propertyName:0,elapsedTime:0,pseudoElement:0}),bC=Zt(xC),wC=Je({},Au,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_C=Zt(wC),kC=[9,13,27,32],og=an&&"CompositionEvent"in window,Za=null;an&&"documentMode"in document&&(Za=document.documentMode);var SC=an&&"TextEvent"in window&&!Za,gw=an&&(!og||Za&&8<Za&&11>=Za),M0=" ",L0=!1;function pw(e,t){switch(e){case"keyup":return kC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yw(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var po=!1;function jC(e,t){switch(e){case"compositionend":return yw(t);case"keypress":return t.which!==32?null:(L0=!0,M0);case"textInput":return e=t.data,e===M0&&L0?null:e;default:return null}}function NC(e,t){if(po)return e==="compositionend"||!og&&pw(e,t)?(e=mw(),cc=rg=Mn=null,po=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return gw&&t.locale!=="ko"?null:t.data;default:return null}}var CC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function D0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!CC[e.type]:t==="textarea"}function vw(e,t,r,n){Yb(n),t=Dc(t,"onChange"),0<t.length&&(r=new ng("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ei=null,ki=null;function EC(e){Pw(e,0)}function Ru(e){var t=xo(e);if(Bb(t))return e}function PC(e,t){if(e==="change")return t}var xw=!1;if(an){var Ld;if(an){var Dd="oninput"in document;if(!Dd){var O0=document.createElement("div");O0.setAttribute("oninput","return;"),Dd=typeof O0.oninput=="function"}Ld=Dd}else Ld=!1;xw=Ld&&(!document.documentMode||9<document.documentMode)}function I0(){ei&&(ei.detachEvent("onpropertychange",bw),ki=ei=null)}function bw(e){if(e.propertyName==="value"&&Ru(ki)){var t=[];vw(t,ki,e,Xm(e)),Zb(EC,t)}}function TC(e,t,r){e==="focusin"?(I0(),ei=t,ki=r,ei.attachEvent("onpropertychange",bw)):e==="focusout"&&I0()}function AC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ru(ki)}function RC(e,t){if(e==="click")return Ru(t)}function MC(e,t){if(e==="input"||e==="change")return Ru(t)}function LC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Cr=typeof Object.is=="function"?Object.is:LC;function Si(e,t){if(Cr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Gf.call(t,s)||!Cr(e[s],t[s]))return!1}return!0}function F0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $0(e,t){var r=F0(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=F0(r)}}function ww(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ww(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function _w(){for(var e=window,t=Ec();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ec(e.document)}return t}function ag(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function DC(e){var t=_w(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&ww(r.ownerDocument.documentElement,r)){if(n!==null&&ag(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,o=Math.min(n.start,s);n=n.end===void 0?o:Math.min(n.end,s),!e.extend&&o>n&&(s=n,n=o,o=s),s=$0(r,o);var i=$0(r,n);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var OC=an&&"documentMode"in document&&11>=document.documentMode,yo=null,ch=null,ti=null,uh=!1;function U0(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;uh||yo==null||yo!==Ec(n)||(n=yo,"selectionStart"in n&&ag(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ti&&Si(ti,n)||(ti=n,n=Dc(ch,"onSelect"),0<n.length&&(t=new ng("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=yo)))}function Tl(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var vo={animationend:Tl("Animation","AnimationEnd"),animationiteration:Tl("Animation","AnimationIteration"),animationstart:Tl("Animation","AnimationStart"),transitionend:Tl("Transition","TransitionEnd")},Od={},kw={};an&&(kw=document.createElement("div").style,"AnimationEvent"in window||(delete vo.animationend.animation,delete vo.animationiteration.animation,delete vo.animationstart.animation),"TransitionEvent"in window||delete vo.transitionend.transition);function Mu(e){if(Od[e])return Od[e];if(!vo[e])return e;var t=vo[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in kw)return Od[e]=t[r];return e}var Sw=Mu("animationend"),jw=Mu("animationiteration"),Nw=Mu("animationstart"),Cw=Mu("transitionend"),Ew=new Map,z0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function es(e,t){Ew.set(e,t),Vs(t,[e])}for(var Id=0;Id<z0.length;Id++){var Fd=z0[Id],IC=Fd.toLowerCase(),FC=Fd[0].toUpperCase()+Fd.slice(1);es(IC,"on"+FC)}es(Sw,"onAnimationEnd");es(jw,"onAnimationIteration");es(Nw,"onAnimationStart");es("dblclick","onDoubleClick");es("focusin","onFocus");es("focusout","onBlur");es(Cw,"onTransitionEnd");zo("onMouseEnter",["mouseout","mouseover"]);zo("onMouseLeave",["mouseout","mouseover"]);zo("onPointerEnter",["pointerout","pointerover"]);zo("onPointerLeave",["pointerout","pointerover"]);Vs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ga="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$C=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ga));function B0(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,IN(n,t,void 0,e),e.currentTarget=null}function Pw(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;B0(s,l,u),o=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;B0(s,l,u),o=c}}}if(Tc)throw e=oh,Tc=!1,oh=null,e}function Ue(e,t){var r=t[gh];r===void 0&&(r=t[gh]=new Set);var n=e+"__bubble";r.has(n)||(Tw(t,e,2,!1),r.add(n))}function $d(e,t,r){var n=0;t&&(n|=4),Tw(r,e,n,t)}var Al="_reactListening"+Math.random().toString(36).slice(2);function ji(e){if(!e[Al]){e[Al]=!0,Ib.forEach(function(r){r!=="selectionchange"&&($C.has(r)||$d(r,!1,e),$d(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Al]||(t[Al]=!0,$d("selectionchange",!1,t))}}function Tw(e,t,r,n){switch(hw(t)){case 1:var s=ZN;break;case 4:s=eC;break;default:s=tg}r=s.bind(null,t,r,e),s=void 0,!sh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Ud(e,t,r,n,s){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=bs(l),i===null)return;if(c=i.tag,c===5||c===6){n=o=i;continue e}l=l.parentNode}}n=n.return}Zb(function(){var u=o,d=Xm(r),f=[];e:{var h=Ew.get(e);if(h!==void 0){var g=ng,b=e;switch(e){case"keypress":if(uc(r)===0)break e;case"keydown":case"keyup":g=gC;break;case"focusin":b="focus",g=Md;break;case"focusout":b="blur",g=Md;break;case"beforeblur":case"afterblur":g=Md;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=T0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=nC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=vC;break;case Sw:case jw:case Nw:g=aC;break;case Cw:g=bC;break;case"scroll":g=tC;break;case"wheel":g=_C;break;case"copy":case"cut":case"paste":g=lC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=R0}var v=(t&4)!==0,w=!v&&e==="scroll",p=v?h!==null?h+"Capture":null:h;v=[];for(var y=u,x;y!==null;){x=y;var _=x.stateNode;if(x.tag===5&&_!==null&&(x=_,p!==null&&(_=xi(y,p),_!=null&&v.push(Ni(y,_,x)))),w)break;y=y.return}0<v.length&&(h=new g(h,b,null,r,d),f.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",h&&r!==rh&&(b=r.relatedTarget||r.fromElement)&&(bs(b)||b[ln]))break e;if((g||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,g?(b=r.relatedTarget||r.toElement,g=u,b=b?bs(b):null,b!==null&&(w=Gs(b),b!==w||b.tag!==5&&b.tag!==6)&&(b=null)):(g=null,b=u),g!==b)){if(v=T0,_="onMouseLeave",p="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(v=R0,_="onPointerLeave",p="onPointerEnter",y="pointer"),w=g==null?h:xo(g),x=b==null?h:xo(b),h=new v(_,y+"leave",g,r,d),h.target=w,h.relatedTarget=x,_=null,bs(d)===u&&(v=new v(p,y+"enter",b,r,d),v.target=x,v.relatedTarget=w,_=v),w=_,g&&b)t:{for(v=g,p=b,y=0,x=v;x;x=Xs(x))y++;for(x=0,_=p;_;_=Xs(_))x++;for(;0<y-x;)v=Xs(v),y--;for(;0<x-y;)p=Xs(p),x--;for(;y--;){if(v===p||p!==null&&v===p.alternate)break t;v=Xs(v),p=Xs(p)}v=null}else v=null;g!==null&&V0(f,h,g,v,!1),b!==null&&w!==null&&V0(f,w,b,v,!0)}}e:{if(h=u?xo(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var k=PC;else if(D0(h))if(xw)k=MC;else{k=AC;var j=TC}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=RC);if(k&&(k=k(e,u))){vw(f,k,r,d);break e}j&&j(e,h,u),e==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&Xf(h,"number",h.value)}switch(j=u?xo(u):window,e){case"focusin":(D0(j)||j.contentEditable==="true")&&(yo=j,ch=u,ti=null);break;case"focusout":ti=ch=yo=null;break;case"mousedown":uh=!0;break;case"contextmenu":case"mouseup":case"dragend":uh=!1,U0(f,r,d);break;case"selectionchange":if(OC)break;case"keydown":case"keyup":U0(f,r,d)}var E;if(og)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else po?pw(e,r)&&(N="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(gw&&r.locale!=="ko"&&(po||N!=="onCompositionStart"?N==="onCompositionEnd"&&po&&(E=mw()):(Mn=d,rg="value"in Mn?Mn.value:Mn.textContent,po=!0)),j=Dc(u,N),0<j.length&&(N=new A0(N,e,null,r,d),f.push({event:N,listeners:j}),E?N.data=E:(E=yw(r),E!==null&&(N.data=E)))),(E=SC?jC(e,r):NC(e,r))&&(u=Dc(u,"onBeforeInput"),0<u.length&&(d=new A0("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=E))}Pw(f,t)})}function Ni(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Dc(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=xi(e,r),o!=null&&n.unshift(Ni(e,o,s)),o=xi(e,t),o!=null&&n.push(Ni(e,o,s))),e=e.return}return n}function Xs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function V0(e,t,r,n,s){for(var o=t._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=xi(r,o),c!=null&&i.unshift(Ni(r,c,l))):s||(c=xi(r,o),c!=null&&i.push(Ni(r,c,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var UC=/\r\n?/g,zC=/\u0000|\uFFFD/g;function G0(e){return(typeof e=="string"?e:""+e).replace(UC,`
`).replace(zC,"")}function Rl(e,t,r){if(t=G0(t),G0(e)!==t&&r)throw Error(te(425))}function Oc(){}var dh=null,fh=null;function hh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var mh=typeof setTimeout=="function"?setTimeout:void 0,BC=typeof clearTimeout=="function"?clearTimeout:void 0,q0=typeof Promise=="function"?Promise:void 0,VC=typeof queueMicrotask=="function"?queueMicrotask:typeof q0<"u"?function(e){return q0.resolve(null).then(e).catch(GC)}:mh;function GC(e){setTimeout(function(){throw e})}function zd(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),_i(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);_i(t)}function $n(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function W0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var la=Math.random().toString(36).slice(2),Fr="__reactFiber$"+la,Ci="__reactProps$"+la,ln="__reactContainer$"+la,gh="__reactEvents$"+la,qC="__reactListeners$"+la,WC="__reactHandles$"+la;function bs(e){var t=e[Fr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ln]||r[Fr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=W0(e);e!==null;){if(r=e[Fr])return r;e=W0(e)}return t}e=r,r=e.parentNode}return null}function sl(e){return e=e[Fr]||e[ln],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function xo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(te(33))}function Lu(e){return e[Ci]||null}var ph=[],bo=-1;function ts(e){return{current:e}}function ze(e){0>bo||(e.current=ph[bo],ph[bo]=null,bo--)}function Ie(e,t){bo++,ph[bo]=e.current,e.current=t}var Hn={},Ct=ts(Hn),zt=ts(!1),Rs=Hn;function Bo(e,t){var r=e.type.contextTypes;if(!r)return Hn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Bt(e){return e=e.childContextTypes,e!=null}function Ic(){ze(zt),ze(Ct)}function H0(e,t,r){if(Ct.current!==Hn)throw Error(te(168));Ie(Ct,t),Ie(zt,r)}function Aw(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(te(108,TN(e)||"Unknown",s));return Je({},r,n)}function Fc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Hn,Rs=Ct.current,Ie(Ct,e),Ie(zt,zt.current),!0}function K0(e,t,r){var n=e.stateNode;if(!n)throw Error(te(169));r?(e=Aw(e,t,Rs),n.__reactInternalMemoizedMergedChildContext=e,ze(zt),ze(Ct),Ie(Ct,e)):ze(zt),Ie(zt,r)}var tn=null,Du=!1,Bd=!1;function Rw(e){tn===null?tn=[e]:tn.push(e)}function HC(e){Du=!0,Rw(e)}function rs(){if(!Bd&&tn!==null){Bd=!0;var e=0,t=Re;try{var r=tn;for(Re=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}tn=null,Du=!1}catch(s){throw tn!==null&&(tn=tn.slice(e+1)),nw(Qm,rs),s}finally{Re=t,Bd=!1}}return null}var wo=[],_o=0,$c=null,Uc=0,or=[],ar=0,Ms=null,rn=1,nn="";function ms(e,t){wo[_o++]=Uc,wo[_o++]=$c,$c=e,Uc=t}function Mw(e,t,r){or[ar++]=rn,or[ar++]=nn,or[ar++]=Ms,Ms=e;var n=rn;e=nn;var s=32-jr(n)-1;n&=~(1<<s),r+=1;var o=32-jr(t)+s;if(30<o){var i=s-s%5;o=(n&(1<<i)-1).toString(32),n>>=i,s-=i,rn=1<<32-jr(t)+s|r<<s|n,nn=o+e}else rn=1<<o|r<<s|n,nn=e}function ig(e){e.return!==null&&(ms(e,1),Mw(e,1,0))}function lg(e){for(;e===$c;)$c=wo[--_o],wo[_o]=null,Uc=wo[--_o],wo[_o]=null;for(;e===Ms;)Ms=or[--ar],or[ar]=null,nn=or[--ar],or[ar]=null,rn=or[--ar],or[ar]=null}var Yt=null,Kt=null,qe=!1,kr=null;function Lw(e,t){var r=ir(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Y0(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Yt=e,Kt=$n(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Yt=e,Kt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ms!==null?{id:rn,overflow:nn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ir(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Yt=e,Kt=null,!0):!1;default:return!1}}function yh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function vh(e){if(qe){var t=Kt;if(t){var r=t;if(!Y0(e,t)){if(yh(e))throw Error(te(418));t=$n(r.nextSibling);var n=Yt;t&&Y0(e,t)?Lw(n,r):(e.flags=e.flags&-4097|2,qe=!1,Yt=e)}}else{if(yh(e))throw Error(te(418));e.flags=e.flags&-4097|2,qe=!1,Yt=e}}}function J0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Yt=e}function Ml(e){if(e!==Yt)return!1;if(!qe)return J0(e),qe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!hh(e.type,e.memoizedProps)),t&&(t=Kt)){if(yh(e))throw Dw(),Error(te(418));for(;t;)Lw(e,t),t=$n(t.nextSibling)}if(J0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(te(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Kt=$n(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Kt=null}}else Kt=Yt?$n(e.stateNode.nextSibling):null;return!0}function Dw(){for(var e=Kt;e;)e=$n(e.nextSibling)}function Vo(){Kt=Yt=null,qe=!1}function cg(e){kr===null?kr=[e]:kr.push(e)}var KC=pn.ReactCurrentBatchConfig;function Ta(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(te(309));var n=r.stateNode}if(!n)throw Error(te(147,e));var s=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var l=s.refs;i===null?delete l[o]:l[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(te(284));if(!r._owner)throw Error(te(290,e))}return e}function Ll(e,t){throw e=Object.prototype.toString.call(t),Error(te(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function X0(e){var t=e._init;return t(e._payload)}function Ow(e){function t(p,y){if(e){var x=p.deletions;x===null?(p.deletions=[y],p.flags|=16):x.push(y)}}function r(p,y){if(!e)return null;for(;y!==null;)t(p,y),y=y.sibling;return null}function n(p,y){for(p=new Map;y!==null;)y.key!==null?p.set(y.key,y):p.set(y.index,y),y=y.sibling;return p}function s(p,y){return p=Vn(p,y),p.index=0,p.sibling=null,p}function o(p,y,x){return p.index=x,e?(x=p.alternate,x!==null?(x=x.index,x<y?(p.flags|=2,y):x):(p.flags|=2,y)):(p.flags|=1048576,y)}function i(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,y,x,_){return y===null||y.tag!==6?(y=Yd(x,p.mode,_),y.return=p,y):(y=s(y,x),y.return=p,y)}function c(p,y,x,_){var k=x.type;return k===go?d(p,y,x.props.children,_,x.key):y!==null&&(y.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Nn&&X0(k)===y.type)?(_=s(y,x.props),_.ref=Ta(p,y,x),_.return=p,_):(_=yc(x.type,x.key,x.props,null,p.mode,_),_.ref=Ta(p,y,x),_.return=p,_)}function u(p,y,x,_){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=Jd(x,p.mode,_),y.return=p,y):(y=s(y,x.children||[]),y.return=p,y)}function d(p,y,x,_,k){return y===null||y.tag!==7?(y=Cs(x,p.mode,_,k),y.return=p,y):(y=s(y,x),y.return=p,y)}function f(p,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Yd(""+y,p.mode,x),y.return=p,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case kl:return x=yc(y.type,y.key,y.props,null,p.mode,x),x.ref=Ta(p,null,y),x.return=p,x;case mo:return y=Jd(y,p.mode,x),y.return=p,y;case Nn:var _=y._init;return f(p,_(y._payload),x)}if(Ba(y)||ja(y))return y=Cs(y,p.mode,x,null),y.return=p,y;Ll(p,y)}return null}function h(p,y,x,_){var k=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return k!==null?null:l(p,y,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case kl:return x.key===k?c(p,y,x,_):null;case mo:return x.key===k?u(p,y,x,_):null;case Nn:return k=x._init,h(p,y,k(x._payload),_)}if(Ba(x)||ja(x))return k!==null?null:d(p,y,x,_,null);Ll(p,x)}return null}function g(p,y,x,_,k){if(typeof _=="string"&&_!==""||typeof _=="number")return p=p.get(x)||null,l(y,p,""+_,k);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case kl:return p=p.get(_.key===null?x:_.key)||null,c(y,p,_,k);case mo:return p=p.get(_.key===null?x:_.key)||null,u(y,p,_,k);case Nn:var j=_._init;return g(p,y,x,j(_._payload),k)}if(Ba(_)||ja(_))return p=p.get(x)||null,d(y,p,_,k,null);Ll(y,_)}return null}function b(p,y,x,_){for(var k=null,j=null,E=y,N=y=0,I=null;E!==null&&N<x.length;N++){E.index>N?(I=E,E=null):I=E.sibling;var C=h(p,E,x[N],_);if(C===null){E===null&&(E=I);break}e&&E&&C.alternate===null&&t(p,E),y=o(C,y,N),j===null?k=C:j.sibling=C,j=C,E=I}if(N===x.length)return r(p,E),qe&&ms(p,N),k;if(E===null){for(;N<x.length;N++)E=f(p,x[N],_),E!==null&&(y=o(E,y,N),j===null?k=E:j.sibling=E,j=E);return qe&&ms(p,N),k}for(E=n(p,E);N<x.length;N++)I=g(E,p,N,x[N],_),I!==null&&(e&&I.alternate!==null&&E.delete(I.key===null?N:I.key),y=o(I,y,N),j===null?k=I:j.sibling=I,j=I);return e&&E.forEach(function(L){return t(p,L)}),qe&&ms(p,N),k}function v(p,y,x,_){var k=ja(x);if(typeof k!="function")throw Error(te(150));if(x=k.call(x),x==null)throw Error(te(151));for(var j=k=null,E=y,N=y=0,I=null,C=x.next();E!==null&&!C.done;N++,C=x.next()){E.index>N?(I=E,E=null):I=E.sibling;var L=h(p,E,C.value,_);if(L===null){E===null&&(E=I);break}e&&E&&L.alternate===null&&t(p,E),y=o(L,y,N),j===null?k=L:j.sibling=L,j=L,E=I}if(C.done)return r(p,E),qe&&ms(p,N),k;if(E===null){for(;!C.done;N++,C=x.next())C=f(p,C.value,_),C!==null&&(y=o(C,y,N),j===null?k=C:j.sibling=C,j=C);return qe&&ms(p,N),k}for(E=n(p,E);!C.done;N++,C=x.next())C=g(E,p,N,C.value,_),C!==null&&(e&&C.alternate!==null&&E.delete(C.key===null?N:C.key),y=o(C,y,N),j===null?k=C:j.sibling=C,j=C);return e&&E.forEach(function(P){return t(p,P)}),qe&&ms(p,N),k}function w(p,y,x,_){if(typeof x=="object"&&x!==null&&x.type===go&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case kl:e:{for(var k=x.key,j=y;j!==null;){if(j.key===k){if(k=x.type,k===go){if(j.tag===7){r(p,j.sibling),y=s(j,x.props.children),y.return=p,p=y;break e}}else if(j.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Nn&&X0(k)===j.type){r(p,j.sibling),y=s(j,x.props),y.ref=Ta(p,j,x),y.return=p,p=y;break e}r(p,j);break}else t(p,j);j=j.sibling}x.type===go?(y=Cs(x.props.children,p.mode,_,x.key),y.return=p,p=y):(_=yc(x.type,x.key,x.props,null,p.mode,_),_.ref=Ta(p,y,x),_.return=p,p=_)}return i(p);case mo:e:{for(j=x.key;y!==null;){if(y.key===j)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){r(p,y.sibling),y=s(y,x.children||[]),y.return=p,p=y;break e}else{r(p,y);break}else t(p,y);y=y.sibling}y=Jd(x,p.mode,_),y.return=p,p=y}return i(p);case Nn:return j=x._init,w(p,y,j(x._payload),_)}if(Ba(x))return b(p,y,x,_);if(ja(x))return v(p,y,x,_);Ll(p,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(r(p,y.sibling),y=s(y,x),y.return=p,p=y):(r(p,y),y=Yd(x,p.mode,_),y.return=p,p=y),i(p)):r(p,y)}return w}var Go=Ow(!0),Iw=Ow(!1),zc=ts(null),Bc=null,ko=null,ug=null;function dg(){ug=ko=Bc=null}function fg(e){var t=zc.current;ze(zc),e._currentValue=t}function xh(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Do(e,t){Bc=e,ug=ko=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&($t=!0),e.firstContext=null)}function mr(e){var t=e._currentValue;if(ug!==e)if(e={context:e,memoizedValue:t,next:null},ko===null){if(Bc===null)throw Error(te(308));ko=e,Bc.dependencies={lanes:0,firstContext:e}}else ko=ko.next=e;return t}var ws=null;function hg(e){ws===null?ws=[e]:ws.push(e)}function Fw(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,hg(t)):(r.next=s.next,s.next=r),t.interleaved=r,cn(e,n)}function cn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Cn=!1;function mg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $w(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function sn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Un(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ne&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,cn(e,r)}return s=n.interleaved,s===null?(t.next=t,hg(n)):(t.next=s.next,s.next=t),n.interleaved=t,cn(e,r)}function dc(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Zm(e,r)}}function Q0(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?s=o=t:o=o.next=t}else s=o=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Vc(e,t,r,n){var s=e.updateQueue;Cn=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(o!==null){var f=s.baseState;i=0,d=u=c=null,l=o;do{var h=l.lane,g=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=e,v=l;switch(h=t,g=r,v.tag){case 1:if(b=v.payload,typeof b=="function"){f=b.call(g,f,h);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=v.payload,h=typeof b=="function"?b.call(g,f,h):b,h==null)break e;f=Je({},f,h);break e;case 2:Cn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else g={eventTime:g,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=g,c=f):d=d.next=g,i|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);Ds|=i,e.lanes=i,e.memoizedState=f}}function Z0(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(te(191,s));s.call(n)}}}var ol={},Br=ts(ol),Ei=ts(ol),Pi=ts(ol);function _s(e){if(e===ol)throw Error(te(174));return e}function gg(e,t){switch(Ie(Pi,t),Ie(Ei,e),Ie(Br,ol),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Zf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Zf(t,e)}ze(Br),Ie(Br,t)}function qo(){ze(Br),ze(Ei),ze(Pi)}function Uw(e){_s(Pi.current);var t=_s(Br.current),r=Zf(t,e.type);t!==r&&(Ie(Ei,e),Ie(Br,r))}function pg(e){Ei.current===e&&(ze(Br),ze(Ei))}var We=ts(0);function Gc(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vd=[];function yg(){for(var e=0;e<Vd.length;e++)Vd[e]._workInProgressVersionPrimary=null;Vd.length=0}var fc=pn.ReactCurrentDispatcher,Gd=pn.ReactCurrentBatchConfig,Ls=0,Ke=null,ct=null,ht=null,qc=!1,ri=!1,Ti=0,YC=0;function _t(){throw Error(te(321))}function vg(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Cr(e[r],t[r]))return!1;return!0}function xg(e,t,r,n,s,o){if(Ls=o,Ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fc.current=e===null||e.memoizedState===null?ZC:e3,e=r(n,s),ri){o=0;do{if(ri=!1,Ti=0,25<=o)throw Error(te(301));o+=1,ht=ct=null,t.updateQueue=null,fc.current=t3,e=r(n,s)}while(ri)}if(fc.current=Wc,t=ct!==null&&ct.next!==null,Ls=0,ht=ct=Ke=null,qc=!1,t)throw Error(te(300));return e}function bg(){var e=Ti!==0;return Ti=0,e}function Or(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?Ke.memoizedState=ht=e:ht=ht.next=e,ht}function gr(){if(ct===null){var e=Ke.alternate;e=e!==null?e.memoizedState:null}else e=ct.next;var t=ht===null?Ke.memoizedState:ht.next;if(t!==null)ht=t,ct=e;else{if(e===null)throw Error(te(310));ct=e,e={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},ht===null?Ke.memoizedState=ht=e:ht=ht.next=e}return ht}function Ai(e,t){return typeof t=="function"?t(e):t}function qd(e){var t=gr(),r=t.queue;if(r===null)throw Error(te(311));r.lastRenderedReducer=e;var n=ct,s=n.baseQueue,o=r.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}n.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,n=n.baseState;var l=i=null,c=null,u=o;do{var d=u.lane;if((Ls&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=n):c=c.next=f,Ke.lanes|=d,Ds|=d}u=u.next}while(u!==null&&u!==o);c===null?i=n:c.next=l,Cr(n,t.memoizedState)||($t=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do o=s.lane,Ke.lanes|=o,Ds|=o,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Wd(e){var t=gr(),r=t.queue;if(r===null)throw Error(te(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,o=t.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);Cr(o,t.memoizedState)||($t=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function zw(){}function Bw(e,t){var r=Ke,n=gr(),s=t(),o=!Cr(n.memoizedState,s);if(o&&(n.memoizedState=s,$t=!0),n=n.queue,wg(qw.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||ht!==null&&ht.memoizedState.tag&1){if(r.flags|=2048,Ri(9,Gw.bind(null,r,n,s,t),void 0,null),gt===null)throw Error(te(349));Ls&30||Vw(r,t,s)}return s}function Vw(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ke.updateQueue,t===null?(t={lastEffect:null,stores:null},Ke.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Gw(e,t,r,n){t.value=r,t.getSnapshot=n,Ww(t)&&Hw(e)}function qw(e,t,r){return r(function(){Ww(t)&&Hw(e)})}function Ww(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Cr(e,r)}catch{return!0}}function Hw(e){var t=cn(e,1);t!==null&&Nr(t,e,1,-1)}function ey(e){var t=Or();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:e},t.queue=e,e=e.dispatch=QC.bind(null,Ke,e),[t.memoizedState,e]}function Ri(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ke.updateQueue,t===null?(t={lastEffect:null,stores:null},Ke.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Kw(){return gr().memoizedState}function hc(e,t,r,n){var s=Or();Ke.flags|=e,s.memoizedState=Ri(1|t,r,void 0,n===void 0?null:n)}function Ou(e,t,r,n){var s=gr();n=n===void 0?null:n;var o=void 0;if(ct!==null){var i=ct.memoizedState;if(o=i.destroy,n!==null&&vg(n,i.deps)){s.memoizedState=Ri(t,r,o,n);return}}Ke.flags|=e,s.memoizedState=Ri(1|t,r,o,n)}function ty(e,t){return hc(8390656,8,e,t)}function wg(e,t){return Ou(2048,8,e,t)}function Yw(e,t){return Ou(4,2,e,t)}function Jw(e,t){return Ou(4,4,e,t)}function Xw(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Qw(e,t,r){return r=r!=null?r.concat([e]):null,Ou(4,4,Xw.bind(null,t,e),r)}function _g(){}function Zw(e,t){var r=gr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&vg(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function e1(e,t){var r=gr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&vg(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function t1(e,t,r){return Ls&21?(Cr(r,t)||(r=aw(),Ke.lanes|=r,Ds|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,$t=!0),e.memoizedState=r)}function JC(e,t){var r=Re;Re=r!==0&&4>r?r:4,e(!0);var n=Gd.transition;Gd.transition={};try{e(!1),t()}finally{Re=r,Gd.transition=n}}function r1(){return gr().memoizedState}function XC(e,t,r){var n=Bn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},n1(e))s1(t,r);else if(r=Fw(e,t,r,n),r!==null){var s=Rt();Nr(r,e,n,s),o1(r,t,n)}}function QC(e,t,r){var n=Bn(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(n1(e))s1(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,l=o(i,r);if(s.hasEagerState=!0,s.eagerState=l,Cr(l,i)){var c=t.interleaved;c===null?(s.next=s,hg(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=Fw(e,t,s,n),r!==null&&(s=Rt(),Nr(r,e,n,s),o1(r,t,n))}}function n1(e){var t=e.alternate;return e===Ke||t!==null&&t===Ke}function s1(e,t){ri=qc=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function o1(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Zm(e,r)}}var Wc={readContext:mr,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useInsertionEffect:_t,useLayoutEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useMutableSource:_t,useSyncExternalStore:_t,useId:_t,unstable_isNewReconciler:!1},ZC={readContext:mr,useCallback:function(e,t){return Or().memoizedState=[e,t===void 0?null:t],e},useContext:mr,useEffect:ty,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,hc(4194308,4,Xw.bind(null,t,e),r)},useLayoutEffect:function(e,t){return hc(4194308,4,e,t)},useInsertionEffect:function(e,t){return hc(4,2,e,t)},useMemo:function(e,t){var r=Or();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Or();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=XC.bind(null,Ke,e),[n.memoizedState,e]},useRef:function(e){var t=Or();return e={current:e},t.memoizedState=e},useState:ey,useDebugValue:_g,useDeferredValue:function(e){return Or().memoizedState=e},useTransition:function(){var e=ey(!1),t=e[0];return e=JC.bind(null,e[1]),Or().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ke,s=Or();if(qe){if(r===void 0)throw Error(te(407));r=r()}else{if(r=t(),gt===null)throw Error(te(349));Ls&30||Vw(n,t,r)}s.memoizedState=r;var o={value:r,getSnapshot:t};return s.queue=o,ty(qw.bind(null,n,o,e),[e]),n.flags|=2048,Ri(9,Gw.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=Or(),t=gt.identifierPrefix;if(qe){var r=nn,n=rn;r=(n&~(1<<32-jr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ti++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=YC++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},e3={readContext:mr,useCallback:Zw,useContext:mr,useEffect:wg,useImperativeHandle:Qw,useInsertionEffect:Yw,useLayoutEffect:Jw,useMemo:e1,useReducer:qd,useRef:Kw,useState:function(){return qd(Ai)},useDebugValue:_g,useDeferredValue:function(e){var t=gr();return t1(t,ct.memoizedState,e)},useTransition:function(){var e=qd(Ai)[0],t=gr().memoizedState;return[e,t]},useMutableSource:zw,useSyncExternalStore:Bw,useId:r1,unstable_isNewReconciler:!1},t3={readContext:mr,useCallback:Zw,useContext:mr,useEffect:wg,useImperativeHandle:Qw,useInsertionEffect:Yw,useLayoutEffect:Jw,useMemo:e1,useReducer:Wd,useRef:Kw,useState:function(){return Wd(Ai)},useDebugValue:_g,useDeferredValue:function(e){var t=gr();return ct===null?t.memoizedState=e:t1(t,ct.memoizedState,e)},useTransition:function(){var e=Wd(Ai)[0],t=gr().memoizedState;return[e,t]},useMutableSource:zw,useSyncExternalStore:Bw,useId:r1,unstable_isNewReconciler:!1};function xr(e,t){if(e&&e.defaultProps){t=Je({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function bh(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Je({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Iu={isMounted:function(e){return(e=e._reactInternals)?Gs(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Rt(),s=Bn(e),o=sn(n,s);o.payload=t,r!=null&&(o.callback=r),t=Un(e,o,s),t!==null&&(Nr(t,e,s,n),dc(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Rt(),s=Bn(e),o=sn(n,s);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=Un(e,o,s),t!==null&&(Nr(t,e,s,n),dc(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Rt(),n=Bn(e),s=sn(r,n);s.tag=2,t!=null&&(s.callback=t),t=Un(e,s,n),t!==null&&(Nr(t,e,n,r),dc(t,e,n))}};function ry(e,t,r,n,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,i):t.prototype&&t.prototype.isPureReactComponent?!Si(r,n)||!Si(s,o):!0}function a1(e,t,r){var n=!1,s=Hn,o=t.contextType;return typeof o=="object"&&o!==null?o=mr(o):(s=Bt(t)?Rs:Ct.current,n=t.contextTypes,o=(n=n!=null)?Bo(e,s):Hn),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Iu,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function ny(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Iu.enqueueReplaceState(t,t.state,null)}function wh(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},mg(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=mr(o):(o=Bt(t)?Rs:Ct.current,s.context=Bo(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(bh(e,t,o,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Iu.enqueueReplaceState(s,s.state,null),Vc(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Wo(e,t){try{var r="",n=t;do r+=PN(n),n=n.return;while(n);var s=r}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Hd(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function _h(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var r3=typeof WeakMap=="function"?WeakMap:Map;function i1(e,t,r){r=sn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Kc||(Kc=!0,Rh=n),_h(e,t)},r}function l1(e,t,r){r=sn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){_h(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){_h(e,t),typeof n!="function"&&(zn===null?zn=new Set([this]):zn.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function sy(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new r3;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=p3.bind(null,e,t,r),t.then(e,e))}function oy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ay(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=sn(-1,1),t.tag=2,Un(r,t,1))),r.lanes|=1),e)}var n3=pn.ReactCurrentOwner,$t=!1;function Tt(e,t,r,n){t.child=e===null?Iw(t,null,r,n):Go(t,e.child,r,n)}function iy(e,t,r,n,s){r=r.render;var o=t.ref;return Do(t,s),n=xg(e,t,r,n,o,s),r=bg(),e!==null&&!$t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,un(e,t,s)):(qe&&r&&ig(t),t.flags|=1,Tt(e,t,n,s),t.child)}function ly(e,t,r,n,s){if(e===null){var o=r.type;return typeof o=="function"&&!Tg(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,c1(e,t,o,n,s)):(e=yc(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:Si,r(i,n)&&e.ref===t.ref)return un(e,t,s)}return t.flags|=1,e=Vn(o,n),e.ref=t.ref,e.return=t,t.child=e}function c1(e,t,r,n,s){if(e!==null){var o=e.memoizedProps;if(Si(o,n)&&e.ref===t.ref)if($t=!1,t.pendingProps=n=o,(e.lanes&s)!==0)e.flags&131072&&($t=!0);else return t.lanes=e.lanes,un(e,t,s)}return kh(e,t,r,n,s)}function u1(e,t,r){var n=t.pendingProps,s=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ie(jo,Wt),Wt|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ie(jo,Wt),Wt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Ie(jo,Wt),Wt|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,Ie(jo,Wt),Wt|=n;return Tt(e,t,s,r),t.child}function d1(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function kh(e,t,r,n,s){var o=Bt(r)?Rs:Ct.current;return o=Bo(t,o),Do(t,s),r=xg(e,t,r,n,o,s),n=bg(),e!==null&&!$t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,un(e,t,s)):(qe&&n&&ig(t),t.flags|=1,Tt(e,t,r,s),t.child)}function cy(e,t,r,n,s){if(Bt(r)){var o=!0;Fc(t)}else o=!1;if(Do(t,s),t.stateNode===null)mc(e,t),a1(t,r,n),wh(t,r,n,s),n=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=mr(u):(u=Bt(r)?Rs:Ct.current,u=Bo(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&ny(t,i,n,u),Cn=!1;var h=t.memoizedState;i.state=h,Vc(t,n,i,s),c=t.memoizedState,l!==n||h!==c||zt.current||Cn?(typeof d=="function"&&(bh(t,r,d,n),c=t.memoizedState),(l=Cn||ry(t,r,l,n,h,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,$w(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:xr(t.type,l),i.props=u,f=t.pendingProps,h=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=mr(c):(c=Bt(r)?Rs:Ct.current,c=Bo(t,c));var g=r.getDerivedStateFromProps;(d=typeof g=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||h!==c)&&ny(t,i,n,c),Cn=!1,h=t.memoizedState,i.state=h,Vc(t,n,i,s);var b=t.memoizedState;l!==f||h!==b||zt.current||Cn?(typeof g=="function"&&(bh(t,r,g,n),b=t.memoizedState),(u=Cn||ry(t,r,u,n,h,b,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,b,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,b,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=b),i.props=n,i.state=b,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Sh(e,t,r,n,o,s)}function Sh(e,t,r,n,s,o){d1(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return s&&K0(t,r,!1),un(e,t,o);n=t.stateNode,n3.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Go(t,e.child,null,o),t.child=Go(t,null,l,o)):Tt(e,t,l,o),t.memoizedState=n.state,s&&K0(t,r,!0),t.child}function f1(e){var t=e.stateNode;t.pendingContext?H0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&H0(e,t.context,!1),gg(e,t.containerInfo)}function uy(e,t,r,n,s){return Vo(),cg(s),t.flags|=256,Tt(e,t,r,n),t.child}var jh={dehydrated:null,treeContext:null,retryLane:0};function Nh(e){return{baseLanes:e,cachePool:null,transitions:null}}function h1(e,t,r){var n=t.pendingProps,s=We.current,o=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ie(We,s&1),e===null)return vh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,o?(n=t.mode,o=t.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Uu(i,n,0,null),e=Cs(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Nh(r),t.memoizedState=jh,e):kg(t,i));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return s3(e,t,i,n,l,s,r);if(o){o=n.fallback,i=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Vn(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=Vn(l,o):(o=Cs(o,i,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,i=e.child.memoizedState,i=i===null?Nh(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=jh,n}return o=e.child,e=o.sibling,n=Vn(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function kg(e,t){return t=Uu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Dl(e,t,r,n){return n!==null&&cg(n),Go(t,e.child,null,r),e=kg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function s3(e,t,r,n,s,o,i){if(r)return t.flags&256?(t.flags&=-257,n=Hd(Error(te(422))),Dl(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,s=t.mode,n=Uu({mode:"visible",children:n.children},s,0,null),o=Cs(o,s,i,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&Go(t,e.child,null,i),t.child.memoizedState=Nh(i),t.memoizedState=jh,o);if(!(t.mode&1))return Dl(e,t,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,o=Error(te(419)),n=Hd(o,n,void 0),Dl(e,t,i,n)}if(l=(i&e.childLanes)!==0,$t||l){if(n=gt,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,cn(e,s),Nr(n,e,s,-1))}return Pg(),n=Hd(Error(te(421))),Dl(e,t,i,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=y3.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,Kt=$n(s.nextSibling),Yt=t,qe=!0,kr=null,e!==null&&(or[ar++]=rn,or[ar++]=nn,or[ar++]=Ms,rn=e.id,nn=e.overflow,Ms=t),t=kg(t,n.children),t.flags|=4096,t)}function dy(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),xh(e.return,t,r)}function Kd(e,t,r,n,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=s)}function m1(e,t,r){var n=t.pendingProps,s=n.revealOrder,o=n.tail;if(Tt(e,t,n.children,r),n=We.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dy(e,r,t);else if(e.tag===19)dy(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ie(We,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Gc(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Kd(t,!1,s,r,o);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Gc(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Kd(t,!0,r,null,o);break;case"together":Kd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function mc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function un(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ds|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(te(153));if(t.child!==null){for(e=t.child,r=Vn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Vn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function o3(e,t,r){switch(t.tag){case 3:f1(t),Vo();break;case 5:Uw(t);break;case 1:Bt(t.type)&&Fc(t);break;case 4:gg(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Ie(zc,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ie(We,We.current&1),t.flags|=128,null):r&t.child.childLanes?h1(e,t,r):(Ie(We,We.current&1),e=un(e,t,r),e!==null?e.sibling:null);Ie(We,We.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return m1(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ie(We,We.current),n)break;return null;case 22:case 23:return t.lanes=0,u1(e,t,r)}return un(e,t,r)}var g1,Ch,p1,y1;g1=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ch=function(){};p1=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,_s(Br.current);var o=null;switch(r){case"input":s=Yf(e,s),n=Yf(e,n),o=[];break;case"select":s=Je({},s,{value:void 0}),n=Je({},n,{value:void 0}),o=[];break;case"textarea":s=Qf(e,s),n=Qf(e,n),o=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Oc)}eh(r,n);var i;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(yi.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(o||(o=[]),o.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(yi.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ue("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};y1=function(e,t,r,n){r!==n&&(t.flags|=4)};function Aa(e,t){if(!qe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function kt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function a3(e,t,r){var n=t.pendingProps;switch(lg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(t),null;case 1:return Bt(t.type)&&Ic(),kt(t),null;case 3:return n=t.stateNode,qo(),ze(zt),ze(Ct),yg(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ml(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,kr!==null&&(Dh(kr),kr=null))),Ch(e,t),kt(t),null;case 5:pg(t);var s=_s(Pi.current);if(r=t.type,e!==null&&t.stateNode!=null)p1(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(te(166));return kt(t),null}if(e=_s(Br.current),Ml(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[Fr]=t,n[Ci]=o,e=(t.mode&1)!==0,r){case"dialog":Ue("cancel",n),Ue("close",n);break;case"iframe":case"object":case"embed":Ue("load",n);break;case"video":case"audio":for(s=0;s<Ga.length;s++)Ue(Ga[s],n);break;case"source":Ue("error",n);break;case"img":case"image":case"link":Ue("error",n),Ue("load",n);break;case"details":Ue("toggle",n);break;case"input":b0(n,o),Ue("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Ue("invalid",n);break;case"textarea":_0(n,o),Ue("invalid",n)}eh(r,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?n.textContent!==l&&(o.suppressHydrationWarning!==!0&&Rl(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Rl(n.textContent,l,e),s=["children",""+l]):yi.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Ue("scroll",n)}switch(r){case"input":Sl(n),w0(n,o,!0);break;case"textarea":Sl(n),k0(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Oc)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=qb(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Fr]=t,e[Ci]=n,g1(e,t,!1,!1),t.stateNode=e;e:{switch(i=th(r,n),r){case"dialog":Ue("cancel",e),Ue("close",e),s=n;break;case"iframe":case"object":case"embed":Ue("load",e),s=n;break;case"video":case"audio":for(s=0;s<Ga.length;s++)Ue(Ga[s],e);s=n;break;case"source":Ue("error",e),s=n;break;case"img":case"image":case"link":Ue("error",e),Ue("load",e),s=n;break;case"details":Ue("toggle",e),s=n;break;case"input":b0(e,n),s=Yf(e,n),Ue("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Je({},n,{value:void 0}),Ue("invalid",e);break;case"textarea":_0(e,n),s=Qf(e,n),Ue("invalid",e);break;default:s=n}eh(r,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?Kb(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Wb(e,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&vi(e,c):typeof c=="number"&&vi(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(yi.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Ue("scroll",e):c!=null&&Hm(e,o,c,i))}switch(r){case"input":Sl(e),w0(e,n,!1);break;case"textarea":Sl(e),k0(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Wn(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?Ao(e,!!n.multiple,o,!1):n.defaultValue!=null&&Ao(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Oc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return kt(t),null;case 6:if(e&&t.stateNode!=null)y1(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(te(166));if(r=_s(Pi.current),_s(Br.current),Ml(t)){if(n=t.stateNode,r=t.memoizedProps,n[Fr]=t,(o=n.nodeValue!==r)&&(e=Yt,e!==null))switch(e.tag){case 3:Rl(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Rl(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Fr]=t,t.stateNode=n}return kt(t),null;case 13:if(ze(We),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(qe&&Kt!==null&&t.mode&1&&!(t.flags&128))Dw(),Vo(),t.flags|=98560,o=!1;else if(o=Ml(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(te(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(te(317));o[Fr]=t}else Vo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;kt(t),o=!1}else kr!==null&&(Dh(kr),kr=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||We.current&1?ut===0&&(ut=3):Pg())),t.updateQueue!==null&&(t.flags|=4),kt(t),null);case 4:return qo(),Ch(e,t),e===null&&ji(t.stateNode.containerInfo),kt(t),null;case 10:return fg(t.type._context),kt(t),null;case 17:return Bt(t.type)&&Ic(),kt(t),null;case 19:if(ze(We),o=t.memoizedState,o===null)return kt(t),null;if(n=(t.flags&128)!==0,i=o.rendering,i===null)if(n)Aa(o,!1);else{if(ut!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Gc(e),i!==null){for(t.flags|=128,Aa(o,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ie(We,We.current&1|2),t.child}e=e.sibling}o.tail!==null&&et()>Ho&&(t.flags|=128,n=!0,Aa(o,!1),t.lanes=4194304)}else{if(!n)if(e=Gc(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Aa(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!qe)return kt(t),null}else 2*et()-o.renderingStartTime>Ho&&r!==1073741824&&(t.flags|=128,n=!0,Aa(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(r=o.last,r!==null?r.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=et(),t.sibling=null,r=We.current,Ie(We,n?r&1|2:r&1),t):(kt(t),null);case 22:case 23:return Eg(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Wt&1073741824&&(kt(t),t.subtreeFlags&6&&(t.flags|=8192)):kt(t),null;case 24:return null;case 25:return null}throw Error(te(156,t.tag))}function i3(e,t){switch(lg(t),t.tag){case 1:return Bt(t.type)&&Ic(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return qo(),ze(zt),ze(Ct),yg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return pg(t),null;case 13:if(ze(We),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(te(340));Vo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ze(We),null;case 4:return qo(),null;case 10:return fg(t.type._context),null;case 22:case 23:return Eg(),null;case 24:return null;default:return null}}var Ol=!1,jt=!1,l3=typeof WeakSet=="function"?WeakSet:Set,ae=null;function So(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Qe(e,t,n)}else r.current=null}function Eh(e,t,r){try{r()}catch(n){Qe(e,t,n)}}var fy=!1;function c3(e,t){if(dh=Mc,e=_w(),ag(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var g;f!==r||s!==0&&f.nodeType!==3||(l=i+s),f!==o||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===e)break t;if(h===r&&++u===s&&(l=i),h===o&&++d===n&&(c=i),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(fh={focusedElem:e,selectionRange:r},Mc=!1,ae=t;ae!==null;)if(t=ae,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ae=e;else for(;ae!==null;){t=ae;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var v=b.memoizedProps,w=b.memoizedState,p=t.stateNode,y=p.getSnapshotBeforeUpdate(t.elementType===t.type?v:xr(t.type,v),w);p.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(_){Qe(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,ae=e;break}ae=t.return}return b=fy,fy=!1,b}function ni(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&Eh(t,r,o)}s=s.next}while(s!==n)}}function Fu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Ph(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function v1(e){var t=e.alternate;t!==null&&(e.alternate=null,v1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Fr],delete t[Ci],delete t[gh],delete t[qC],delete t[WC])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function x1(e){return e.tag===5||e.tag===3||e.tag===4}function hy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||x1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Th(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Oc));else if(n!==4&&(e=e.child,e!==null))for(Th(e,t,r),e=e.sibling;e!==null;)Th(e,t,r),e=e.sibling}function Ah(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Ah(e,t,r),e=e.sibling;e!==null;)Ah(e,t,r),e=e.sibling}var vt=null,wr=!1;function xn(e,t,r){for(r=r.child;r!==null;)b1(e,t,r),r=r.sibling}function b1(e,t,r){if(zr&&typeof zr.onCommitFiberUnmount=="function")try{zr.onCommitFiberUnmount(Tu,r)}catch{}switch(r.tag){case 5:jt||So(r,t);case 6:var n=vt,s=wr;vt=null,xn(e,t,r),vt=n,wr=s,vt!==null&&(wr?(e=vt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):vt.removeChild(r.stateNode));break;case 18:vt!==null&&(wr?(e=vt,r=r.stateNode,e.nodeType===8?zd(e.parentNode,r):e.nodeType===1&&zd(e,r),_i(e)):zd(vt,r.stateNode));break;case 4:n=vt,s=wr,vt=r.stateNode.containerInfo,wr=!0,xn(e,t,r),vt=n,wr=s;break;case 0:case 11:case 14:case 15:if(!jt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&Eh(r,t,i),s=s.next}while(s!==n)}xn(e,t,r);break;case 1:if(!jt&&(So(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Qe(r,t,l)}xn(e,t,r);break;case 21:xn(e,t,r);break;case 22:r.mode&1?(jt=(n=jt)||r.memoizedState!==null,xn(e,t,r),jt=n):xn(e,t,r);break;default:xn(e,t,r)}}function my(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new l3),t.forEach(function(n){var s=v3.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function pr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var o=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:vt=l.stateNode,wr=!1;break e;case 3:vt=l.stateNode.containerInfo,wr=!0;break e;case 4:vt=l.stateNode.containerInfo,wr=!0;break e}l=l.return}if(vt===null)throw Error(te(160));b1(o,i,s),vt=null,wr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Qe(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)w1(t,e),t=t.sibling}function w1(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pr(t,e),Mr(e),n&4){try{ni(3,e,e.return),Fu(3,e)}catch(v){Qe(e,e.return,v)}try{ni(5,e,e.return)}catch(v){Qe(e,e.return,v)}}break;case 1:pr(t,e),Mr(e),n&512&&r!==null&&So(r,r.return);break;case 5:if(pr(t,e),Mr(e),n&512&&r!==null&&So(r,r.return),e.flags&32){var s=e.stateNode;try{vi(s,"")}catch(v){Qe(e,e.return,v)}}if(n&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=r!==null?r.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Vb(s,o),th(l,i);var u=th(l,o);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?Kb(s,f):d==="dangerouslySetInnerHTML"?Wb(s,f):d==="children"?vi(s,f):Hm(s,d,f,u)}switch(l){case"input":Jf(s,o);break;case"textarea":Gb(s,o);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?Ao(s,!!o.multiple,g,!1):h!==!!o.multiple&&(o.defaultValue!=null?Ao(s,!!o.multiple,o.defaultValue,!0):Ao(s,!!o.multiple,o.multiple?[]:"",!1))}s[Ci]=o}catch(v){Qe(e,e.return,v)}}break;case 6:if(pr(t,e),Mr(e),n&4){if(e.stateNode===null)throw Error(te(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(v){Qe(e,e.return,v)}}break;case 3:if(pr(t,e),Mr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{_i(t.containerInfo)}catch(v){Qe(e,e.return,v)}break;case 4:pr(t,e),Mr(e);break;case 13:pr(t,e),Mr(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Ng=et())),n&4&&my(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(jt=(u=jt)||d,pr(t,e),jt=u):pr(t,e),Mr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ae=e,d=e.child;d!==null;){for(f=ae=d;ae!==null;){switch(h=ae,g=h.child,h.tag){case 0:case 11:case 14:case 15:ni(4,h,h.return);break;case 1:So(h,h.return);var b=h.stateNode;if(typeof b.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(v){Qe(n,r,v)}}break;case 5:So(h,h.return);break;case 22:if(h.memoizedState!==null){py(f);continue}}g!==null?(g.return=h,ae=g):py(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Hb("display",i))}catch(v){Qe(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){Qe(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:pr(t,e),Mr(e),n&4&&my(e);break;case 21:break;default:pr(t,e),Mr(e)}}function Mr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(x1(r)){var n=r;break e}r=r.return}throw Error(te(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(vi(s,""),n.flags&=-33);var o=hy(e);Ah(e,o,s);break;case 3:case 4:var i=n.stateNode.containerInfo,l=hy(e);Th(e,l,i);break;default:throw Error(te(161))}}catch(c){Qe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function u3(e,t,r){ae=e,_1(e)}function _1(e,t,r){for(var n=(e.mode&1)!==0;ae!==null;){var s=ae,o=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||Ol;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||jt;l=Ol;var u=jt;if(Ol=i,(jt=c)&&!u)for(ae=s;ae!==null;)i=ae,c=i.child,i.tag===22&&i.memoizedState!==null?yy(s):c!==null?(c.return=i,ae=c):yy(s);for(;o!==null;)ae=o,_1(o),o=o.sibling;ae=s,Ol=l,jt=u}gy(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,ae=o):gy(e)}}function gy(e){for(;ae!==null;){var t=ae;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:jt||Fu(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!jt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:xr(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Z0(t,o,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Z0(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&_i(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}jt||t.flags&512&&Ph(t)}catch(h){Qe(t,t.return,h)}}if(t===e){ae=null;break}if(r=t.sibling,r!==null){r.return=t.return,ae=r;break}ae=t.return}}function py(e){for(;ae!==null;){var t=ae;if(t===e){ae=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ae=r;break}ae=t.return}}function yy(e){for(;ae!==null;){var t=ae;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Fu(4,t)}catch(c){Qe(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Qe(t,s,c)}}var o=t.return;try{Ph(t)}catch(c){Qe(t,o,c)}break;case 5:var i=t.return;try{Ph(t)}catch(c){Qe(t,i,c)}}}catch(c){Qe(t,t.return,c)}if(t===e){ae=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ae=l;break}ae=t.return}}var d3=Math.ceil,Hc=pn.ReactCurrentDispatcher,Sg=pn.ReactCurrentOwner,lr=pn.ReactCurrentBatchConfig,Ne=0,gt=null,st=null,bt=0,Wt=0,jo=ts(0),ut=0,Mi=null,Ds=0,$u=0,jg=0,si=null,It=null,Ng=0,Ho=1/0,Zr=null,Kc=!1,Rh=null,zn=null,Il=!1,Ln=null,Yc=0,oi=0,Mh=null,gc=-1,pc=0;function Rt(){return Ne&6?et():gc!==-1?gc:gc=et()}function Bn(e){return e.mode&1?Ne&2&&bt!==0?bt&-bt:KC.transition!==null?(pc===0&&(pc=aw()),pc):(e=Re,e!==0||(e=window.event,e=e===void 0?16:hw(e.type)),e):1}function Nr(e,t,r,n){if(50<oi)throw oi=0,Mh=null,Error(te(185));rl(e,r,n),(!(Ne&2)||e!==gt)&&(e===gt&&(!(Ne&2)&&($u|=r),ut===4&&Tn(e,bt)),Vt(e,n),r===1&&Ne===0&&!(t.mode&1)&&(Ho=et()+500,Du&&rs()))}function Vt(e,t){var r=e.callbackNode;KN(e,t);var n=Rc(e,e===gt?bt:0);if(n===0)r!==null&&N0(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&N0(r),t===1)e.tag===0?HC(vy.bind(null,e)):Rw(vy.bind(null,e)),VC(function(){!(Ne&6)&&rs()}),r=null;else{switch(iw(n)){case 1:r=Qm;break;case 4:r=sw;break;case 16:r=Ac;break;case 536870912:r=ow;break;default:r=Ac}r=T1(r,k1.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function k1(e,t){if(gc=-1,pc=0,Ne&6)throw Error(te(327));var r=e.callbackNode;if(Oo()&&e.callbackNode!==r)return null;var n=Rc(e,e===gt?bt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Jc(e,n);else{t=n;var s=Ne;Ne|=2;var o=j1();(gt!==e||bt!==t)&&(Zr=null,Ho=et()+500,Ns(e,t));do try{m3();break}catch(l){S1(e,l)}while(!0);dg(),Hc.current=o,Ne=s,st!==null?t=0:(gt=null,bt=0,t=ut)}if(t!==0){if(t===2&&(s=ah(e),s!==0&&(n=s,t=Lh(e,s))),t===1)throw r=Mi,Ns(e,0),Tn(e,n),Vt(e,et()),r;if(t===6)Tn(e,n);else{if(s=e.current.alternate,!(n&30)&&!f3(s)&&(t=Jc(e,n),t===2&&(o=ah(e),o!==0&&(n=o,t=Lh(e,o))),t===1))throw r=Mi,Ns(e,0),Tn(e,n),Vt(e,et()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(te(345));case 2:gs(e,It,Zr);break;case 3:if(Tn(e,n),(n&130023424)===n&&(t=Ng+500-et(),10<t)){if(Rc(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Rt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=mh(gs.bind(null,e,It,Zr),t);break}gs(e,It,Zr);break;case 4:if(Tn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var i=31-jr(n);o=1<<i,i=t[i],i>s&&(s=i),n&=~o}if(n=s,n=et()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*d3(n/1960))-n,10<n){e.timeoutHandle=mh(gs.bind(null,e,It,Zr),n);break}gs(e,It,Zr);break;case 5:gs(e,It,Zr);break;default:throw Error(te(329))}}}return Vt(e,et()),e.callbackNode===r?k1.bind(null,e):null}function Lh(e,t){var r=si;return e.current.memoizedState.isDehydrated&&(Ns(e,t).flags|=256),e=Jc(e,t),e!==2&&(t=It,It=r,t!==null&&Dh(t)),e}function Dh(e){It===null?It=e:It.push.apply(It,e)}function f3(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],o=s.getSnapshot;s=s.value;try{if(!Cr(o(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Tn(e,t){for(t&=~jg,t&=~$u,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-jr(t),n=1<<r;e[r]=-1,t&=~n}}function vy(e){if(Ne&6)throw Error(te(327));Oo();var t=Rc(e,0);if(!(t&1))return Vt(e,et()),null;var r=Jc(e,t);if(e.tag!==0&&r===2){var n=ah(e);n!==0&&(t=n,r=Lh(e,n))}if(r===1)throw r=Mi,Ns(e,0),Tn(e,t),Vt(e,et()),r;if(r===6)throw Error(te(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,gs(e,It,Zr),Vt(e,et()),null}function Cg(e,t){var r=Ne;Ne|=1;try{return e(t)}finally{Ne=r,Ne===0&&(Ho=et()+500,Du&&rs())}}function Os(e){Ln!==null&&Ln.tag===0&&!(Ne&6)&&Oo();var t=Ne;Ne|=1;var r=lr.transition,n=Re;try{if(lr.transition=null,Re=1,e)return e()}finally{Re=n,lr.transition=r,Ne=t,!(Ne&6)&&rs()}}function Eg(){Wt=jo.current,ze(jo)}function Ns(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,BC(r)),st!==null)for(r=st.return;r!==null;){var n=r;switch(lg(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ic();break;case 3:qo(),ze(zt),ze(Ct),yg();break;case 5:pg(n);break;case 4:qo();break;case 13:ze(We);break;case 19:ze(We);break;case 10:fg(n.type._context);break;case 22:case 23:Eg()}r=r.return}if(gt=e,st=e=Vn(e.current,null),bt=Wt=t,ut=0,Mi=null,jg=$u=Ds=0,It=si=null,ws!==null){for(t=0;t<ws.length;t++)if(r=ws[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=s,n.next=i}r.pending=n}ws=null}return e}function S1(e,t){do{var r=st;try{if(dg(),fc.current=Wc,qc){for(var n=Ke.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}qc=!1}if(Ls=0,ht=ct=Ke=null,ri=!1,Ti=0,Sg.current=null,r===null||r.return===null){ut=1,Mi=t,st=null;break}e:{var o=e,i=r.return,l=r,c=t;if(t=bt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=oy(i);if(g!==null){g.flags&=-257,ay(g,i,l,o,t),g.mode&1&&sy(o,u,t),t=g,c=u;var b=t.updateQueue;if(b===null){var v=new Set;v.add(c),t.updateQueue=v}else b.add(c);break e}else{if(!(t&1)){sy(o,u,t),Pg();break e}c=Error(te(426))}}else if(qe&&l.mode&1){var w=oy(i);if(w!==null){!(w.flags&65536)&&(w.flags|=256),ay(w,i,l,o,t),cg(Wo(c,l));break e}}o=c=Wo(c,l),ut!==4&&(ut=2),si===null?si=[o]:si.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var p=i1(o,c,t);Q0(o,p);break e;case 1:l=c;var y=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(zn===null||!zn.has(x)))){o.flags|=65536,t&=-t,o.lanes|=t;var _=l1(o,l,t);Q0(o,_);break e}}o=o.return}while(o!==null)}C1(r)}catch(k){t=k,st===r&&r!==null&&(st=r=r.return);continue}break}while(!0)}function j1(){var e=Hc.current;return Hc.current=Wc,e===null?Wc:e}function Pg(){(ut===0||ut===3||ut===2)&&(ut=4),gt===null||!(Ds&268435455)&&!($u&268435455)||Tn(gt,bt)}function Jc(e,t){var r=Ne;Ne|=2;var n=j1();(gt!==e||bt!==t)&&(Zr=null,Ns(e,t));do try{h3();break}catch(s){S1(e,s)}while(!0);if(dg(),Ne=r,Hc.current=n,st!==null)throw Error(te(261));return gt=null,bt=0,ut}function h3(){for(;st!==null;)N1(st)}function m3(){for(;st!==null&&!$N();)N1(st)}function N1(e){var t=P1(e.alternate,e,Wt);e.memoizedProps=e.pendingProps,t===null?C1(e):st=t,Sg.current=null}function C1(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=i3(r,t),r!==null){r.flags&=32767,st=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ut=6,st=null;return}}else if(r=a3(r,t,Wt),r!==null){st=r;return}if(t=t.sibling,t!==null){st=t;return}st=t=e}while(t!==null);ut===0&&(ut=5)}function gs(e,t,r){var n=Re,s=lr.transition;try{lr.transition=null,Re=1,g3(e,t,r,n)}finally{lr.transition=s,Re=n}return null}function g3(e,t,r,n){do Oo();while(Ln!==null);if(Ne&6)throw Error(te(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(te(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(YN(e,o),e===gt&&(st=gt=null,bt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Il||(Il=!0,T1(Ac,function(){return Oo(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=lr.transition,lr.transition=null;var i=Re;Re=1;var l=Ne;Ne|=4,Sg.current=null,c3(e,r),w1(r,e),DC(fh),Mc=!!dh,fh=dh=null,e.current=r,u3(r),UN(),Ne=l,Re=i,lr.transition=o}else e.current=r;if(Il&&(Il=!1,Ln=e,Yc=s),o=e.pendingLanes,o===0&&(zn=null),VN(r.stateNode),Vt(e,et()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Kc)throw Kc=!1,e=Rh,Rh=null,e;return Yc&1&&e.tag!==0&&Oo(),o=e.pendingLanes,o&1?e===Mh?oi++:(oi=0,Mh=e):oi=0,rs(),null}function Oo(){if(Ln!==null){var e=iw(Yc),t=lr.transition,r=Re;try{if(lr.transition=null,Re=16>e?16:e,Ln===null)var n=!1;else{if(e=Ln,Ln=null,Yc=0,Ne&6)throw Error(te(331));var s=Ne;for(Ne|=4,ae=e.current;ae!==null;){var o=ae,i=o.child;if(ae.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ae=u;ae!==null;){var d=ae;switch(d.tag){case 0:case 11:case 15:ni(8,d,o)}var f=d.child;if(f!==null)f.return=d,ae=f;else for(;ae!==null;){d=ae;var h=d.sibling,g=d.return;if(v1(d),d===u){ae=null;break}if(h!==null){h.return=g,ae=h;break}ae=g}}}var b=o.alternate;if(b!==null){var v=b.child;if(v!==null){b.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}ae=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,ae=i;else e:for(;ae!==null;){if(o=ae,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ni(9,o,o.return)}var p=o.sibling;if(p!==null){p.return=o.return,ae=p;break e}ae=o.return}}var y=e.current;for(ae=y;ae!==null;){i=ae;var x=i.child;if(i.subtreeFlags&2064&&x!==null)x.return=i,ae=x;else e:for(i=y;ae!==null;){if(l=ae,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Fu(9,l)}}catch(k){Qe(l,l.return,k)}if(l===i){ae=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,ae=_;break e}ae=l.return}}if(Ne=s,rs(),zr&&typeof zr.onPostCommitFiberRoot=="function")try{zr.onPostCommitFiberRoot(Tu,e)}catch{}n=!0}return n}finally{Re=r,lr.transition=t}}return!1}function xy(e,t,r){t=Wo(r,t),t=i1(e,t,1),e=Un(e,t,1),t=Rt(),e!==null&&(rl(e,1,t),Vt(e,t))}function Qe(e,t,r){if(e.tag===3)xy(e,e,r);else for(;t!==null;){if(t.tag===3){xy(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(zn===null||!zn.has(n))){e=Wo(r,e),e=l1(t,e,1),t=Un(t,e,1),e=Rt(),t!==null&&(rl(t,1,e),Vt(t,e));break}}t=t.return}}function p3(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Rt(),e.pingedLanes|=e.suspendedLanes&r,gt===e&&(bt&r)===r&&(ut===4||ut===3&&(bt&130023424)===bt&&500>et()-Ng?Ns(e,0):jg|=r),Vt(e,t)}function E1(e,t){t===0&&(e.mode&1?(t=Cl,Cl<<=1,!(Cl&130023424)&&(Cl=4194304)):t=1);var r=Rt();e=cn(e,t),e!==null&&(rl(e,t,r),Vt(e,r))}function y3(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),E1(e,r)}function v3(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(te(314))}n!==null&&n.delete(t),E1(e,r)}var P1;P1=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||zt.current)$t=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return $t=!1,o3(e,t,r);$t=!!(e.flags&131072)}else $t=!1,qe&&t.flags&1048576&&Mw(t,Uc,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;mc(e,t),e=t.pendingProps;var s=Bo(t,Ct.current);Do(t,r),s=xg(null,t,n,e,s,r);var o=bg();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Bt(n)?(o=!0,Fc(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,mg(t),s.updater=Iu,t.stateNode=s,s._reactInternals=t,wh(t,n,e,r),t=Sh(null,t,n,!0,o,r)):(t.tag=0,qe&&o&&ig(t),Tt(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(mc(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=b3(n),e=xr(n,e),s){case 0:t=kh(null,t,n,e,r);break e;case 1:t=cy(null,t,n,e,r);break e;case 11:t=iy(null,t,n,e,r);break e;case 14:t=ly(null,t,n,xr(n.type,e),r);break e}throw Error(te(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:xr(n,s),kh(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:xr(n,s),cy(e,t,n,s,r);case 3:e:{if(f1(t),e===null)throw Error(te(387));n=t.pendingProps,o=t.memoizedState,s=o.element,$w(e,t),Vc(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Wo(Error(te(423)),t),t=uy(e,t,n,r,s);break e}else if(n!==s){s=Wo(Error(te(424)),t),t=uy(e,t,n,r,s);break e}else for(Kt=$n(t.stateNode.containerInfo.firstChild),Yt=t,qe=!0,kr=null,r=Iw(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Vo(),n===s){t=un(e,t,r);break e}Tt(e,t,n,r)}t=t.child}return t;case 5:return Uw(t),e===null&&vh(t),n=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,hh(n,s)?i=null:o!==null&&hh(n,o)&&(t.flags|=32),d1(e,t),Tt(e,t,i,r),t.child;case 6:return e===null&&vh(t),null;case 13:return h1(e,t,r);case 4:return gg(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Go(t,null,n,r):Tt(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:xr(n,s),iy(e,t,n,s,r);case 7:return Tt(e,t,t.pendingProps,r),t.child;case 8:return Tt(e,t,t.pendingProps.children,r),t.child;case 12:return Tt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,Ie(zc,n._currentValue),n._currentValue=i,o!==null)if(Cr(o.value,i)){if(o.children===s.children&&!zt.current){t=un(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=sn(-1,r&-r),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),xh(o.return,r,t),l.lanes|=r;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(te(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),xh(i,r,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}Tt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Do(t,r),s=mr(s),n=n(s),t.flags|=1,Tt(e,t,n,r),t.child;case 14:return n=t.type,s=xr(n,t.pendingProps),s=xr(n.type,s),ly(e,t,n,s,r);case 15:return c1(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:xr(n,s),mc(e,t),t.tag=1,Bt(n)?(e=!0,Fc(t)):e=!1,Do(t,r),a1(t,n,s),wh(t,n,s,r),Sh(null,t,n,!0,e,r);case 19:return m1(e,t,r);case 22:return u1(e,t,r)}throw Error(te(156,t.tag))};function T1(e,t){return nw(e,t)}function x3(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ir(e,t,r,n){return new x3(e,t,r,n)}function Tg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function b3(e){if(typeof e=="function")return Tg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ym)return 11;if(e===Jm)return 14}return 2}function Vn(e,t){var r=e.alternate;return r===null?(r=ir(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function yc(e,t,r,n,s,o){var i=2;if(n=e,typeof e=="function")Tg(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case go:return Cs(r.children,s,o,t);case Km:i=8,s|=8;break;case qf:return e=ir(12,r,t,s|2),e.elementType=qf,e.lanes=o,e;case Wf:return e=ir(13,r,t,s),e.elementType=Wf,e.lanes=o,e;case Hf:return e=ir(19,r,t,s),e.elementType=Hf,e.lanes=o,e;case Ub:return Uu(r,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Fb:i=10;break e;case $b:i=9;break e;case Ym:i=11;break e;case Jm:i=14;break e;case Nn:i=16,n=null;break e}throw Error(te(130,e==null?e:typeof e,""))}return t=ir(i,r,t,s),t.elementType=e,t.type=n,t.lanes=o,t}function Cs(e,t,r,n){return e=ir(7,e,n,t),e.lanes=r,e}function Uu(e,t,r,n){return e=ir(22,e,n,t),e.elementType=Ub,e.lanes=r,e.stateNode={isHidden:!1},e}function Yd(e,t,r){return e=ir(6,e,null,t),e.lanes=r,e}function Jd(e,t,r){return t=ir(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function w3(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Td(0),this.expirationTimes=Td(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Td(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ag(e,t,r,n,s,o,i,l,c){return e=new w3(e,t,r,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=ir(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},mg(o),e}function _3(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mo,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function A1(e){if(!e)return Hn;e=e._reactInternals;e:{if(Gs(e)!==e||e.tag!==1)throw Error(te(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Bt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(te(171))}if(e.tag===1){var r=e.type;if(Bt(r))return Aw(e,r,t)}return t}function R1(e,t,r,n,s,o,i,l,c){return e=Ag(r,n,!0,e,s,o,i,l,c),e.context=A1(null),r=e.current,n=Rt(),s=Bn(r),o=sn(n,s),o.callback=t??null,Un(r,o,s),e.current.lanes=s,rl(e,s,n),Vt(e,n),e}function zu(e,t,r,n){var s=t.current,o=Rt(),i=Bn(s);return r=A1(r),t.context===null?t.context=r:t.pendingContext=r,t=sn(o,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Un(s,t,i),e!==null&&(Nr(e,s,i,o),dc(e,s,i)),i}function Xc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function by(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Rg(e,t){by(e,t),(e=e.alternate)&&by(e,t)}function k3(){return null}var M1=typeof reportError=="function"?reportError:function(e){console.error(e)};function Mg(e){this._internalRoot=e}Bu.prototype.render=Mg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(te(409));zu(e,t,null,null)};Bu.prototype.unmount=Mg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Os(function(){zu(null,e,null,null)}),t[ln]=null}};function Bu(e){this._internalRoot=e}Bu.prototype.unstable_scheduleHydration=function(e){if(e){var t=uw();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Pn.length&&t!==0&&t<Pn[r].priority;r++);Pn.splice(r,0,e),r===0&&fw(e)}};function Lg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Vu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function wy(){}function S3(e,t,r,n,s){if(s){if(typeof n=="function"){var o=n;n=function(){var u=Xc(i);o.call(u)}}var i=R1(t,n,e,0,null,!1,!1,"",wy);return e._reactRootContainer=i,e[ln]=i.current,ji(e.nodeType===8?e.parentNode:e),Os(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Xc(c);l.call(u)}}var c=Ag(e,0,!1,null,null,!1,!1,"",wy);return e._reactRootContainer=c,e[ln]=c.current,ji(e.nodeType===8?e.parentNode:e),Os(function(){zu(t,c,r,n)}),c}function Gu(e,t,r,n,s){var o=r._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var l=s;s=function(){var c=Xc(i);l.call(c)}}zu(t,i,e,s)}else i=S3(r,t,e,s,n);return Xc(i)}lw=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Va(t.pendingLanes);r!==0&&(Zm(t,r|1),Vt(t,et()),!(Ne&6)&&(Ho=et()+500,rs()))}break;case 13:Os(function(){var n=cn(e,1);if(n!==null){var s=Rt();Nr(n,e,1,s)}}),Rg(e,1)}};eg=function(e){if(e.tag===13){var t=cn(e,134217728);if(t!==null){var r=Rt();Nr(t,e,134217728,r)}Rg(e,134217728)}};cw=function(e){if(e.tag===13){var t=Bn(e),r=cn(e,t);if(r!==null){var n=Rt();Nr(r,e,t,n)}Rg(e,t)}};uw=function(){return Re};dw=function(e,t){var r=Re;try{return Re=e,t()}finally{Re=r}};nh=function(e,t,r){switch(t){case"input":if(Jf(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Lu(n);if(!s)throw Error(te(90));Bb(n),Jf(n,s)}}}break;case"textarea":Gb(e,r);break;case"select":t=r.value,t!=null&&Ao(e,!!r.multiple,t,!1)}};Xb=Cg;Qb=Os;var j3={usingClientEntryPoint:!1,Events:[sl,xo,Lu,Yb,Jb,Cg]},Ra={findFiberByHostInstance:bs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},N3={bundleType:Ra.bundleType,version:Ra.version,rendererPackageName:Ra.rendererPackageName,rendererConfig:Ra.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=tw(e),e===null?null:e.stateNode},findFiberByHostInstance:Ra.findFiberByHostInstance||k3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fl.isDisabled&&Fl.supportsFiber)try{Tu=Fl.inject(N3),zr=Fl}catch{}}Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j3;Qt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lg(t))throw Error(te(200));return _3(e,t,null,r)};Qt.createRoot=function(e,t){if(!Lg(e))throw Error(te(299));var r=!1,n="",s=M1;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Ag(e,1,!1,null,null,r,!1,n,s),e[ln]=t.current,ji(e.nodeType===8?e.parentNode:e),new Mg(t)};Qt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(te(188)):(e=Object.keys(e).join(","),Error(te(268,e)));return e=tw(t),e=e===null?null:e.stateNode,e};Qt.flushSync=function(e){return Os(e)};Qt.hydrate=function(e,t,r){if(!Vu(t))throw Error(te(200));return Gu(null,e,t,!0,r)};Qt.hydrateRoot=function(e,t,r){if(!Lg(e))throw Error(te(405));var n=r!=null&&r.hydratedSources||null,s=!1,o="",i=M1;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=R1(t,null,e,1,r??null,s,!1,o,i),e[ln]=t.current,ji(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Bu(t)};Qt.render=function(e,t,r){if(!Vu(t))throw Error(te(200));return Gu(null,e,t,!1,r)};Qt.unmountComponentAtNode=function(e){if(!Vu(e))throw Error(te(40));return e._reactRootContainer?(Os(function(){Gu(null,null,e,!1,function(){e._reactRootContainer=null,e[ln]=null})}),!0):!1};Qt.unstable_batchedUpdates=Cg;Qt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Vu(r))throw Error(te(200));if(e==null||e._reactInternals===void 0)throw Error(te(38));return Gu(e,t,r,!1,n)};Qt.version="18.3.1-next-f1338f8080-20240426";function L1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(L1)}catch(e){console.error(e)}}L1(),Lb.exports=Qt;var ca=Lb.exports;const C3=_b(ca);var D1,_y=ca;D1=_y.createRoot,_y.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Li(){return Li=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Li.apply(this,arguments)}var Dn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Dn||(Dn={}));const ky="popstate";function E3(e){e===void 0&&(e={});function t(n,s){let{pathname:o,search:i,hash:l}=n.location;return Oh("",{pathname:o,search:i,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Qc(s)}return T3(t,r,null,e)}function tt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function O1(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function P3(){return Math.random().toString(36).substr(2,8)}function Sy(e,t){return{usr:e.state,key:e.key,idx:t}}function Oh(e,t,r,n){return r===void 0&&(r=null),Li({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ua(t):t,{state:r,key:t&&t.key||n||P3()})}function Qc(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ua(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function T3(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:o=!1}=n,i=s.history,l=Dn.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(Li({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){l=Dn.Pop;let w=d(),p=w==null?null:w-u;u=w,c&&c({action:l,location:v.location,delta:p})}function h(w,p){l=Dn.Push;let y=Oh(v.location,w,p);u=d()+1;let x=Sy(y,u),_=v.createHref(y);try{i.pushState(x,"",_)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(_)}o&&c&&c({action:l,location:v.location,delta:1})}function g(w,p){l=Dn.Replace;let y=Oh(v.location,w,p);u=d();let x=Sy(y,u),_=v.createHref(y);i.replaceState(x,"",_),o&&c&&c({action:l,location:v.location,delta:0})}function b(w){let p=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof w=="string"?w:Qc(w);return y=y.replace(/ $/,"%20"),tt(p,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,p)}let v={get action(){return l},get location(){return e(s,i)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(ky,f),c=w,()=>{s.removeEventListener(ky,f),c=null}},createHref(w){return t(s,w)},createURL:b,encodeLocation(w){let p=b(w);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:h,replace:g,go(w){return i.go(w)}};return v}var jy;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(jy||(jy={}));function A3(e,t,r){return r===void 0&&(r="/"),R3(e,t,r)}function R3(e,t,r,n){let s=typeof t=="string"?ua(t):t,o=Dg(s.pathname||"/",r);if(o==null)return null;let i=I1(e);M3(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=q3(o);l=B3(i[c],u)}return l}function I1(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(o,i,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(tt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Gn([n,c.relativePath]),d=r.concat(c);o.children&&o.children.length>0&&(tt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),I1(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:U3(u,o.index),routesMeta:d})};return e.forEach((o,i)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,i);else for(let c of F1(o.path))s(o,i,c)}),t}function F1(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let i=F1(n.join("/")),l=[];return l.push(...i.map(c=>c===""?o:[o,c].join("/"))),s&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function M3(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:z3(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const L3=/^:[\w-]+$/,D3=3,O3=2,I3=1,F3=10,$3=-2,Ny=e=>e==="*";function U3(e,t){let r=e.split("/"),n=r.length;return r.some(Ny)&&(n+=$3),t&&(n+=O3),r.filter(s=>!Ny(s)).reduce((s,o)=>s+(L3.test(o)?D3:o===""?I3:F3),n)}function z3(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function B3(e,t,r){let{routesMeta:n}=e,s={},o="/",i=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=V3({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:Gn([o,f.pathname]),pathnameBase:Y3(Gn([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=Gn([o,f.pathnameBase]))}return i}function V3(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=G3(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:g}=d;if(h==="*"){let v=l[f]||"";i=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const b=l[f];return g&&!b?u[h]=void 0:u[h]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:e}}function G3(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),O1(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function q3(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return O1(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Dg(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function W3(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?ua(e):e;return{pathname:r?r.startsWith("/")?r:H3(r,t):t,search:J3(n),hash:X3(s)}}function H3(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Xd(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function K3(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Og(e,t){let r=K3(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Ig(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=ua(e):(s=Li({},e),tt(!s.pathname||!s.pathname.includes("?"),Xd("?","pathname","search",s)),tt(!s.pathname||!s.pathname.includes("#"),Xd("#","pathname","hash",s)),tt(!s.search||!s.search.includes("#"),Xd("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,l;if(i==null)l=r;else{let f=t.length-1;if(!n&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=W3(s,l),u=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Gn=e=>e.join("/").replace(/\/\/+/g,"/"),Y3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),J3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,X3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Q3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const $1=["post","put","patch","delete"];new Set($1);const Z3=["get",...$1];new Set(Z3);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Di(){return Di=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Di.apply(this,arguments)}const Fg=m.createContext(null),eE=m.createContext(null),ns=m.createContext(null),qu=m.createContext(null),Kr=m.createContext({outlet:null,matches:[],isDataRoute:!1}),U1=m.createContext(null);function tE(e,t){let{relative:r}=t===void 0?{}:t;da()||tt(!1);let{basename:n,navigator:s}=m.useContext(ns),{hash:o,pathname:i,search:l}=B1(e,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:Gn([n,i])),s.createHref({pathname:c,search:l,hash:o})}function da(){return m.useContext(qu)!=null}function er(){return da()||tt(!1),m.useContext(qu).location}function z1(e){m.useContext(ns).static||m.useLayoutEffect(e)}function ot(){let{isDataRoute:e}=m.useContext(Kr);return e?pE():rE()}function rE(){da()||tt(!1);let e=m.useContext(Fg),{basename:t,future:r,navigator:n}=m.useContext(ns),{matches:s}=m.useContext(Kr),{pathname:o}=er(),i=JSON.stringify(Og(s,r.v7_relativeSplatPath)),l=m.useRef(!1);return z1(()=>{l.current=!0}),m.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=Ig(u,JSON.parse(i),o,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Gn([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,i,o,e])}const nE=m.createContext(null);function sE(e){let t=m.useContext(Kr).outlet;return t&&m.createElement(nE.Provider,{value:e},t)}function Wu(){let{matches:e}=m.useContext(Kr),t=e[e.length-1];return t?t.params:{}}function B1(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=m.useContext(ns),{matches:s}=m.useContext(Kr),{pathname:o}=er(),i=JSON.stringify(Og(s,n.v7_relativeSplatPath));return m.useMemo(()=>Ig(e,JSON.parse(i),o,r==="path"),[e,i,o,r])}function oE(e,t){return aE(e,t)}function aE(e,t,r,n){da()||tt(!1);let{navigator:s,static:o}=m.useContext(ns),{matches:i}=m.useContext(Kr),l=i[i.length-1],c=l?l.params:{};l&&l.pathname;let u=l?l.pathnameBase:"/";l&&l.route;let d=er(),f;if(t){var h;let p=typeof t=="string"?ua(t):t;u==="/"||(h=p.pathname)!=null&&h.startsWith(u)||tt(!1),f=p}else f=d;let g=f.pathname||"/",b=g;if(u!=="/"){let p=u.replace(/^\//,"").split("/");b="/"+g.replace(/^\//,"").split("/").slice(p.length).join("/")}let v=A3(e,{pathname:b}),w=dE(v&&v.map(p=>Object.assign({},p,{params:Object.assign({},c,p.params),pathname:Gn([u,s.encodeLocation?s.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?u:Gn([u,s.encodeLocation?s.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),i,r,n);return t&&w?m.createElement(qu.Provider,{value:{location:Di({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Dn.Pop}},w):w}function iE(){let e=gE(),t=Q3(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),r?m.createElement("pre",{style:s},r):null,null)}const lE=m.createElement(iE,null);class cE extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?m.createElement(Kr.Provider,{value:this.props.routeContext},m.createElement(U1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function uE(e){let{routeContext:t,match:r,children:n}=e,s=m.useContext(Fg);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),m.createElement(Kr.Provider,{value:t},n)}function dE(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var o;if(!r)return null;if(r.errors)e=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||tt(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:g}=r,b=f.route.loader&&h[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||b){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,h)=>{let g,b=!1,v=null,w=null;r&&(g=l&&f.route.id?l[f.route.id]:void 0,v=f.route.errorElement||lE,c&&(u<0&&h===0?(yE("route-fallback"),b=!0,w=null):u===h&&(b=!0,w=f.route.hydrateFallbackElement||null)));let p=t.concat(i.slice(0,h+1)),y=()=>{let x;return g?x=v:b?x=w:f.route.Component?x=m.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=d,m.createElement(uE,{match:f,routeContext:{outlet:d,matches:p,isDataRoute:r!=null},children:x})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?m.createElement(cE,{location:r.location,revalidation:r.revalidation,component:v,error:g,children:y(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):y()},null)}var V1=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(V1||{}),G1=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(G1||{});function fE(e){let t=m.useContext(Fg);return t||tt(!1),t}function hE(e){let t=m.useContext(eE);return t||tt(!1),t}function mE(e){let t=m.useContext(Kr);return t||tt(!1),t}function q1(e){let t=mE(),r=t.matches[t.matches.length-1];return r.route.id||tt(!1),r.route.id}function gE(){var e;let t=m.useContext(U1),r=hE(),n=q1();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function pE(){let{router:e}=fE(V1.UseNavigateStable),t=q1(G1.UseNavigateStable),r=m.useRef(!1);return z1(()=>{r.current=!0}),m.useCallback(function(s,o){o===void 0&&(o={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Di({fromRouteId:t},o)))},[e,t])}const Cy={};function yE(e,t,r){Cy[e]||(Cy[e]=!0)}function vE(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function ai(e){let{to:t,replace:r,state:n,relative:s}=e;da()||tt(!1);let{future:o,static:i}=m.useContext(ns),{matches:l}=m.useContext(Kr),{pathname:c}=er(),u=ot(),d=Ig(t,Og(l,o.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return m.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:s}),[u,f,s,r,n]),null}function xE(e){return sE(e.context)}function Le(e){tt(!1)}function bE(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Dn.Pop,navigator:o,static:i=!1,future:l}=e;da()&&tt(!1);let c=t.replace(/^\/*/,"/"),u=m.useMemo(()=>({basename:c,navigator:o,static:i,future:Di({v7_relativeSplatPath:!1},l)}),[c,l,o,i]);typeof n=="string"&&(n=ua(n));let{pathname:d="/",search:f="",hash:h="",state:g=null,key:b="default"}=n,v=m.useMemo(()=>{let w=Dg(d,c);return w==null?null:{location:{pathname:w,search:f,hash:h,state:g,key:b},navigationType:s}},[c,d,f,h,g,b,s]);return v==null?null:m.createElement(ns.Provider,{value:u},m.createElement(qu.Provider,{children:r,value:v}))}function wE(e){let{children:t,location:r}=e;return oE(Ih(t),r)}new Promise(()=>{});function Ih(e,t){t===void 0&&(t=[]);let r=[];return m.Children.forEach(e,(n,s)=>{if(!m.isValidElement(n))return;let o=[...t,s];if(n.type===m.Fragment){r.push.apply(r,Ih(n.props.children,o));return}n.type!==Le&&tt(!1),!n.props.index||!n.props.children||tt(!1);let i={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=Ih(n.props.children,o)),r.push(i)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fh(){return Fh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fh.apply(this,arguments)}function _E(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,o;for(o=0;o<n.length;o++)s=n[o],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function kE(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function SE(e,t){return e.button===0&&(!t||t==="_self")&&!kE(e)}const jE=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],NE="6";try{window.__reactRouterVersion=NE}catch{}const CE="startTransition",Ey=Gm[CE];function EE(e){let{basename:t,children:r,future:n,window:s}=e,o=m.useRef();o.current==null&&(o.current=E3({window:s,v5Compat:!0}));let i=o.current,[l,c]=m.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},d=m.useCallback(f=>{u&&Ey?Ey(()=>c(f)):c(f)},[c,u]);return m.useLayoutEffect(()=>i.listen(d),[i,d]),m.useEffect(()=>vE(n),[n]),m.createElement(bE,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:i,future:n})}const PE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",TE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,we=m.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:o,replace:i,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=_E(t,jE),{basename:g}=m.useContext(ns),b,v=!1;if(typeof u=="string"&&TE.test(u)&&(b=u,PE))try{let x=new URL(window.location.href),_=u.startsWith("//")?new URL(x.protocol+u):new URL(u),k=Dg(_.pathname,g);_.origin===x.origin&&k!=null?u=k+_.search+_.hash:v=!0}catch{}let w=tE(u,{relative:s}),p=AE(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function y(x){n&&n(x),x.defaultPrevented||p(x)}return m.createElement("a",Fh({},h,{href:b||w,onClick:v||o?n:y,ref:r,target:c}))});var Py;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Py||(Py={}));var Ty;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ty||(Ty={}));function AE(e,t){let{target:r,replace:n,state:s,preventScrollReset:o,relative:i,viewTransition:l}=t===void 0?{}:t,c=ot(),u=er(),d=B1(e,{relative:i});return m.useCallback(f=>{if(SE(f,r)){f.preventDefault();let h=n!==void 0?n:Qc(u)===Qc(d);c(e,{replace:h,state:s,preventScrollReset:o,relative:i,viewTransition:l})}},[u,c,d,n,s,r,e,o,i,l])}function RE(){if(console&&console.warn){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];typeof t[0]=="string"&&(t[0]=`react-i18next:: ${t[0]}`),console.warn(...t)}}const Ay={};function $h(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];typeof t[0]=="string"&&Ay[t[0]]||(typeof t[0]=="string"&&(Ay[t[0]]=new Date),RE(...t))}const W1=(e,t)=>()=>{if(e.isInitialized)t();else{const r=()=>{setTimeout(()=>{e.off("initialized",r)},0),t()};e.on("initialized",r)}};function Ry(e,t,r){e.loadNamespaces(t,W1(e,r))}function My(e,t,r,n){typeof r=="string"&&(r=[r]),r.forEach(s=>{e.options.ns.indexOf(s)<0&&e.options.ns.push(s)}),e.loadLanguages(t,W1(e,n))}function ME(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n=t.languages[0],s=t.options?t.options.fallbackLng:!1,o=t.languages[t.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const i=(l,c)=>{const u=t.services.backendConnector.state[`${l}|${c}`];return u===-1||u===2};return r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!i(t.isLanguageChangingTo,e)?!1:!!(t.hasResourceBundle(n,e)||!t.services.backendConnector.backend||t.options.resources&&!t.options.partialBundledLanguages||i(n,e)&&(!s||i(o,e)))}function LE(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!t.languages||!t.languages.length?($h("i18n.languages were undefined or empty",t.languages),!0):t.options.ignoreJSONStructure!==void 0?t.hasLoadedNamespace(e,{lng:r.lng,precheck:(s,o)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!o(s.isLanguageChangingTo,e))return!1}}):ME(e,t,r)}const DE=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,OE={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},IE=e=>OE[e],FE=e=>e.replace(DE,IE);let Uh={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:FE};function $E(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Uh={...Uh,...e}}function UE(){return Uh}let H1;function zE(e){H1=e}function BE(){return H1}const VE={type:"3rdParty",init(e){$E(e.options.react),zE(e)}},GE=m.createContext();class qE{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const WE=(e,t)=>{const r=m.useRef();return m.useEffect(()=>{r.current=e},[e,t]),r.current};function Yr(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:r}=t,{i18n:n,defaultNS:s}=m.useContext(GE)||{},o=r||n||BE();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new qE),!o){$h("You will need to pass in an i18next instance by using initReactI18next");const x=(k,j)=>typeof j=="string"?j:j&&typeof j=="object"&&typeof j.defaultValue=="string"?j.defaultValue:Array.isArray(k)?k[k.length-1]:k,_=[x,{},!1];return _.t=x,_.i18n={},_.ready=!1,_}o.options.react&&o.options.react.wait!==void 0&&$h("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const i={...UE(),...o.options.react,...t},{useSuspense:l,keyPrefix:c}=i;let u=s||o.options&&o.options.defaultNS;u=typeof u=="string"?[u]:u||["translation"],o.reportNamespaces.addUsedNamespaces&&o.reportNamespaces.addUsedNamespaces(u);const d=(o.isInitialized||o.initializedStoreOnce)&&u.every(x=>LE(x,o,i));function f(){return o.getFixedT(t.lng||null,i.nsMode==="fallback"?u:u[0],c)}const[h,g]=m.useState(f);let b=u.join();t.lng&&(b=`${t.lng}${b}`);const v=WE(b),w=m.useRef(!0);m.useEffect(()=>{const{bindI18n:x,bindI18nStore:_}=i;w.current=!0,!d&&!l&&(t.lng?My(o,t.lng,u,()=>{w.current&&g(f)}):Ry(o,u,()=>{w.current&&g(f)})),d&&v&&v!==b&&w.current&&g(f);function k(){w.current&&g(f)}return x&&o&&o.on(x,k),_&&o&&o.store.on(_,k),()=>{w.current=!1,x&&o&&x.split(" ").forEach(j=>o.off(j,k)),_&&o&&_.split(" ").forEach(j=>o.store.off(j,k))}},[o,b]);const p=m.useRef(!0);m.useEffect(()=>{w.current&&!p.current&&g(f),p.current=!1},[o,c]);const y=[h,o,d];if(y.t=h,y.i18n=o,y.ready=d,d||!d&&!l)return y;throw new Promise(x=>{t.lng?My(o,t.lng,u,()=>x()):Ry(o,u,()=>x())})}const K1="http://localhost:3005",HE="/health",KE="/google-translate",YE=`${K1}${HE}`,JE=`${K1}${KE}`;let sr=!0,Zc=0;const $g=6e4;let us=0;const Qd=3;async function Y1(e,t={},r=2e3){const n=new AbortController,s=setTimeout(()=>n.abort(),r);try{const o=await fetch(e,{...t,signal:n.signal});return clearTimeout(s),o}catch(o){throw clearTimeout(s),o}}async function Oi(e=1,t=1e3){if(us>=Qd)return sr=!0,!1;if(sr&&Date.now()-Zc<$g)return!1;let r=0;for(Zc=Date.now();r<e;)try{const n=await Y1(YE,{headers:{"Cache-Control":"no-cache"}},1e3);if(n.ok)return sr&&(console.log("Translation service reconnected and re-enabled"),sr=!1,us=0),!0;console.warn(`Translation server health check failed (attempt ${r+1}/${e}): ${n.status}`),r++,us++,r<e&&us<Qd?await new Promise(s=>setTimeout(s,t)):sr=!0}catch(n){const s=n instanceof Error?n.message:"Unknown error";console.error(`Translation server connection error (attempt ${r+1}/${e}): ${s}`),r++,us++,r<e&&us<Qd?await new Promise(o=>setTimeout(o,t)):sr=!0}return sr=!0,console.log(`Translation service disabled due to connection issues (total attempts: ${us})`),!1}const Ly={EN:"en",RU:"ru",KK:"kk",TR:"tr"};async function Dy(e,t,r="EN"){if(t==="EN"||!e||e.trim()===""||sr)return e;try{if(Date.now()-Zc>$g&&!await Oi(1,500))return e;try{const s=await Y1(JE,{method:"POST",headers:{"Content-Type":"application/json","Cache-Control":"no-cache",Accept:"application/json"},mode:"cors",credentials:"omit",body:JSON.stringify({text:e,target:Ly[t]||t.toLowerCase(),source:Ly[r]||r.toLowerCase()})},5e3);if(!s.ok)return console.error("Translation API error:",s.status,s.statusText),e;const o=await s.json();return o.translatedText?o.translatedText:o.translations&&o.translations.length>0?o.translations[0].translatedText:(console.warn("Translation returned unexpected format:",o),e)}catch(s){const o=s instanceof Error?s.message:"Unknown error";return console.error(`Translation request error: ${o}`),e}}catch(n){const s=n instanceof Error?n.message:"Unknown error";return console.error(`Translation health check error: ${s}`),sr=!0,e}}async function zh(e,t,r="EN"){if(!e||e.length===0)return[];if(t==="EN"||sr)return e;try{if(e.length===1)return[await Dy(e[0],t,r)];if(Date.now()-Zc>$g&&!await Oi(1,500))return e;try{const o=[...e];for(let i=0;i<e.length;i+=10){const c=e.slice(i,i+10).map(d=>Dy(d,t,r).catch(f=>(console.error(`Error translating batch item: ${f}`),d))),u=await Promise.all(c);for(let d=0;d<u.length;d++)o[i+d]=u[d]}return o}catch(s){return console.error("Batch translation error:",s),e}}catch(n){return console.error("Translation batch processing error:",n),e}}let XE={data:""},QE=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||XE,ZE=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,e5=/\/\*[^]*?\*\/|  +/g,Oy=/\n+/g,An=(e,t)=>{let r="",n="",s="";for(let o in e){let i=e[o];o[0]=="@"?o[1]=="i"?r=o+" "+i+";":n+=o[1]=="f"?An(i,o):o+"{"+An(i,o[1]=="k"?"":t)+"}":typeof i=="object"?n+=An(i,t?t.replace(/([^,])+/g,l=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):o):i!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=An.p?An.p(o,i):o+":"+i+";")}return r+(t&&s?t+"{"+s+"}":s)+n},Xr={},J1=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+J1(e[r]);return t}return e},t5=(e,t,r,n,s)=>{let o=J1(e),i=Xr[o]||(Xr[o]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(o));if(!Xr[i]){let c=o!==e?e:(u=>{let d,f,h=[{}];for(;d=ZE.exec(u.replace(e5,""));)d[4]?h.shift():d[3]?(f=d[3].replace(Oy," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][d[1]]=d[2].replace(Oy," ").trim();return h[0]})(e);Xr[i]=An(s?{["@keyframes "+i]:c}:c,r?"":"."+i)}let l=r&&Xr.g?Xr.g:null;return r&&(Xr.g=Xr[i]),((c,u,d,f)=>{f?u.data=u.data.replace(f,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(Xr[i],t,n,l),i},r5=(e,t,r)=>e.reduce((n,s,o)=>{let i=t[o];if(i&&i.call){let l=i(r),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;i=c?"."+c:l&&typeof l=="object"?l.props?"":An(l,""):l===!1?"":l}return n+s+(i??"")},"");function Hu(e){let t=this||{},r=e.call?e(t.p):e;return t5(r.unshift?r.raw?r5(r,[].slice.call(arguments,1),t.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(t.p):s),{}):r,QE(t.target),t.g,t.o,t.k)}let X1,Bh,Vh;Hu.bind({g:1});let dn=Hu.bind({k:1});function n5(e,t,r,n){An.p=t,X1=e,Bh=r,Vh=n}function ss(e,t){let r=this||{};return function(){let n=arguments;function s(o,i){let l=Object.assign({},o),c=l.className||s.className;r.p=Object.assign({theme:Bh&&Bh()},l),r.o=/ *go\d+/.test(c),l.className=Hu.apply(r,n)+(c?" "+c:"");let u=e;return e[0]&&(u=l.as||e,delete l.as),Vh&&u[0]&&Vh(l),X1(u,l)}return s}}var s5=e=>typeof e=="function",eu=(e,t)=>s5(e)?e(t):e,o5=(()=>{let e=0;return()=>(++e).toString()})(),Q1=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),a5=20,Z1=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,a5)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:r}=t;return Z1(e,{type:e.toasts.find(o=>o.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map(o=>o.id===n||n===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let s=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+s}))}}},vc=[],ks={toasts:[],pausedAt:void 0},qs=e=>{ks=Z1(ks,e),vc.forEach(t=>{t(ks)})},i5={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},l5=(e={})=>{let[t,r]=m.useState(ks),n=m.useRef(ks);m.useEffect(()=>(n.current!==ks&&r(ks),vc.push(r),()=>{let o=vc.indexOf(r);o>-1&&vc.splice(o,1)}),[]);let s=t.toasts.map(o=>{var i,l,c;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((i=e[o.type])==null?void 0:i.removeDelay)||(e==null?void 0:e.removeDelay),duration:o.duration||((l=e[o.type])==null?void 0:l.duration)||(e==null?void 0:e.duration)||i5[o.type],style:{...e.style,...(c=e[o.type])==null?void 0:c.style,...o.style}}});return{...t,toasts:s}},c5=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||o5()}),al=e=>(t,r)=>{let n=c5(t,e,r);return qs({type:2,toast:n}),n.id},q=(e,t)=>al("blank")(e,t);q.error=al("error");q.success=al("success");q.loading=al("loading");q.custom=al("custom");q.dismiss=e=>{qs({type:3,toastId:e})};q.remove=e=>qs({type:4,toastId:e});q.promise=(e,t,r)=>{let n=q.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let o=t.success?eu(t.success,s):void 0;return o?q.success(o,{id:n,...r,...r==null?void 0:r.success}):q.dismiss(n),s}).catch(s=>{let o=t.error?eu(t.error,s):void 0;o?q.error(o,{id:n,...r,...r==null?void 0:r.error}):q.dismiss(n)}),e};var u5=(e,t)=>{qs({type:1,toast:{id:e,height:t}})},d5=()=>{qs({type:5,time:Date.now()})},ii=new Map,f5=1e3,h5=(e,t=f5)=>{if(ii.has(e))return;let r=setTimeout(()=>{ii.delete(e),qs({type:4,toastId:e})},t);ii.set(e,r)},m5=e=>{let{toasts:t,pausedAt:r}=l5(e);m.useEffect(()=>{if(r)return;let o=Date.now(),i=t.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(o-l.createdAt);if(c<0){l.visible&&q.dismiss(l.id);return}return setTimeout(()=>q.dismiss(l.id),c)});return()=>{i.forEach(l=>l&&clearTimeout(l))}},[t,r]);let n=m.useCallback(()=>{r&&qs({type:6,time:Date.now()})},[r]),s=m.useCallback((o,i)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:u}=i||{},d=t.filter(g=>(g.position||u)===(o.position||u)&&g.height),f=d.findIndex(g=>g.id===o.id),h=d.filter((g,b)=>b<f&&g.visible).length;return d.filter(g=>g.visible).slice(...l?[h+1]:[0,h]).reduce((g,b)=>g+(b.height||0)+c,0)},[t]);return m.useEffect(()=>{t.forEach(o=>{if(o.dismissed)h5(o.id,o.removeDelay);else{let i=ii.get(o.id);i&&(clearTimeout(i),ii.delete(o.id))}})},[t]),{toasts:t,handlers:{updateHeight:u5,startPause:d5,endPause:n,calculateOffset:s}}},g5=dn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,p5=dn`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,y5=dn`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,v5=ss("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${g5} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${p5} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${y5} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,x5=dn`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,b5=ss("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${x5} 1s linear infinite;
`,w5=dn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,_5=dn`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,k5=ss("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${w5} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${_5} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,S5=ss("div")`
  position: absolute;
`,j5=ss("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,N5=dn`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,C5=ss("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${N5} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,E5=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?m.createElement(C5,null,t):t:r==="blank"?null:m.createElement(j5,null,m.createElement(b5,{...n}),r!=="loading"&&m.createElement(S5,null,r==="error"?m.createElement(v5,{...n}):m.createElement(k5,{...n})))},P5=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,T5=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,A5="0%{opacity:0;} 100%{opacity:1;}",R5="0%{opacity:1;} 100%{opacity:0;}",M5=ss("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,L5=ss("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,D5=(e,t)=>{let r=e.includes("top")?1:-1,[n,s]=Q1()?[A5,R5]:[P5(r),T5(r)];return{animation:t?`${dn(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${dn(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},O5=m.memo(({toast:e,position:t,style:r,children:n})=>{let s=e.height?D5(e.position||t||"top-center",e.visible):{opacity:0},o=m.createElement(E5,{toast:e}),i=m.createElement(L5,{...e.ariaProps},eu(e.message,e));return m.createElement(M5,{className:e.className,style:{...s,...r,...e.style}},typeof n=="function"?n({icon:o,message:i}):m.createElement(m.Fragment,null,o,i))});n5(m.createElement);var I5=({id:e,className:t,style:r,onHeightUpdate:n,children:s})=>{let o=m.useCallback(i=>{if(i){let l=()=>{let c=i.getBoundingClientRect().height;n(e,c)};l(),new MutationObserver(l).observe(i,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return m.createElement("div",{ref:o,className:t,style:r},s)},F5=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Q1()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...s}},$5=Hu`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,$l=16,U5=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:s,containerStyle:o,containerClassName:i})=>{let{toasts:l,handlers:c}=m5(r);return m.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:$l,left:$l,right:$l,bottom:$l,pointerEvents:"none",...o},className:i,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(u=>{let d=u.position||t,f=c.calculateOffset(u,{reverseOrder:e,gutter:n,defaultPosition:t}),h=F5(d,f);return m.createElement(I5,{id:u.id,key:u.id,onHeightUpdate:c.updateHeight,className:u.visible?$5:"",style:h},u.type==="custom"?eu(u.message,u):s?s(u):m.createElement(O5,{toast:u,position:d}))}))},ee=q;const e2="app_language",Iy=()=>{if(typeof window>"u")return"EN";const e=localStorage.getItem(e2);return e&&["EN","RU","KK","TR"].includes(e)?e:"EN"},t2=m.createContext(void 0),r2=({children:e})=>{const{t,i18n:r}=Yr(),[n,s]=m.useState(Iy()),[o,i]=m.useState(!1),[l,c]=m.useState("en"),u=m.useCallback(()=>{const p=new Map;return{get:y=>p.get(y),set:(y,x)=>p.set(y,x),has:y=>p.has(y),clear:()=>p.clear()}},[])(),d=m.useCallback(async(p,y)=>{if(!p)return"";const x=y||n;if(x==="EN"||sr)return p;const _=`${p}:${x}`;if(u.has(_))return u.get(_)||p;try{const k=await zh([p],x,"EN");if(k&&k.length>0){const j=k[0];return u.set(_,j),j}return p}catch(k){return console.error("Error translating text:",k),p}},[n,u]),f=m.useCallback(async()=>{if(!(n==="EN"||sr))try{const p=document.querySelectorAll("[data-i18n]");if(p.length===0)return;const y=[],x=new Map;if(p.forEach(k=>{var E;const j=(E=k.textContent)==null?void 0:E.trim();j&&j.length>0&&(y.push(j),x.set(y.length-1,k))}),y.length===0)return;const _=await zh(y,n,"EN");_&&_.length>0&&_.forEach((k,j)=>{const E=x.get(j);E&&(E.getAttribute("data-i18n-original")||E.setAttribute("data-i18n-original",y[j]),E.textContent=k)})}catch(p){console.error("Error translating dynamic content:",p)}},[n]),h=m.useCallback(async()=>{u.clear(),await r.reloadResources(),await f(),window.dispatchEvent(new CustomEvent("languageChanged"))},[r,f,u]),g=m.useCallback(async p=>{if(p!==n){i(!0);try{s(p),localStorage.setItem(e2,p);const y=p.toLowerCase();await r.changeLanguage(y),u.clear(),p!=="EN"&&await f(),window.dispatchEvent(new CustomEvent("languageChanged"))}catch(y){console.error("Error changing language:",y),q.error("Error changing language. Some translations may be missing.")}finally{i(!1)}}},[n,r,f,u]);m.useEffect(()=>{typeof document<"u"&&(document.documentElement.lang=n.toLowerCase(),document.documentElement.dir=["AR","FA","HE","UR"].includes(n)?"rtl":"ltr",["AR","FA","HE","UR"].includes(n)?document.documentElement.classList.add("rtl"):document.documentElement.classList.remove("rtl"))},[n]),m.useEffect(()=>{(async()=>{const x=Iy();r.language!==x.toLowerCase()&&await r.changeLanguage(x.toLowerCase()),x!=="EN"&&setTimeout(()=>f(),500)})();const y=new MutationObserver(x=>{let _=!1;x.forEach(k=>{k.type==="childList"&&k.addedNodes.length>0&&k.addedNodes.forEach(j=>{if(j.nodeType===Node.ELEMENT_NODE){const E=j;(E.querySelector("[data-i18n]")||E.hasAttribute("data-i18n"))&&(_=!0)}})}),_&&n!=="EN"&&f()});return y.observe(document.body,{childList:!0,subtree:!0}),()=>{y.disconnect()}},[r,n,f]);const b=m.useCallback((p,y)=>{try{if(!p)return"";const x=t(p,y);return x===p||x.startsWith(p.charAt(0))&&x.endsWith(p.charAt(p.length-1))?p:x}catch(x){return console.error(`Error translating key: ${p}`,x),p}},[t]),w={language:n,setLanguage:g,isTranslating:o,forceRefreshTranslations:h,translateText:d,tWithTemplate:b,currentLanguage:l,setCurrentLanguage:p=>{c(p)},t};return a.jsx(t2.Provider,{value:w,children:e})},at=()=>{const e=m.useContext(t2);if(!e)throw new Error("useLanguage must be used within a LanguageProvider");return e},n2=m.createContext({isDarkMode:!1,toggleDarkMode:()=>{}}),Ug=()=>m.useContext(n2),z5=({children:e})=>{const[t,r]=m.useState(()=>{const s=localStorage.getItem("theme");return s==="dark"||!s&&window.matchMedia("(prefers-color-scheme: dark)").matches});m.useEffect(()=>{t?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[t]);const n=()=>{r(!t)};return a.jsx(n2.Provider,{value:{isDarkMode:t,toggleDarkMode:n},children:e})},B5="modulepreload",V5=function(e){return"/"+e},Fy={},Ko=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=V5(c),c in Fy)return;Fy[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":B5,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,g)=>{f.addEventListener("load",h),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return s.then(i=>{for(const l of i||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})},G5=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ko(async()=>{const{default:n}=await Promise.resolve().then(()=>fa);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class zg extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class q5 extends zg{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class W5 extends zg{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class H5 extends zg{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Gh;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Gh||(Gh={}));var K5=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class Y5{constructor(t,{headers:r={},customFetch:n,region:s=Gh.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=G5(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return K5(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:i}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=i):typeof i=="string"?(l["Content-Type"]="text/plain",u=i):typeof FormData<"u"&&i instanceof FormData?u=i:(l["Content-Type"]="application/json",u=JSON.stringify(i)));const d=yield this.fetch(`${this.url}/${t}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(b=>{throw new q5(b)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new W5(d);if(!d.ok)throw new H5(d);let h=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return h==="application/json"?g=yield d.json():h==="application/octet-stream"?g=yield d.blob():h==="text/event-stream"?g=d:h==="multipart/form-data"?g=yield d.formData():g=yield d.text(),{data:g,error:null}}catch(s){return{data:null,error:s}}})}}var Ft={},Bg={},Ku={},il={},Yu={},Ju={},J5=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Yo=J5();const X5=Yo.fetch,s2=Yo.fetch.bind(Yo),o2=Yo.Headers,Q5=Yo.Request,Z5=Yo.Response,fa=Object.freeze(Object.defineProperty({__proto__:null,Headers:o2,Request:Q5,Response:Z5,default:s2,fetch:X5},Symbol.toStringTag,{value:"Module"})),eP=tN(fa);var Xu={};Object.defineProperty(Xu,"__esModule",{value:!0});let tP=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Xu.default=tP;var a2=hr&&hr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ju,"__esModule",{value:!0});const rP=a2(eP),nP=a2(Xu);let sP=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=rP.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,l,c;let u=null,d=null,f=null,h=o.status,g=o.statusText;if(o.ok){if(this.method!=="HEAD"){const p=await o.text();p===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=p:d=JSON.parse(p))}const v=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),w=(l=o.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");v&&w&&w.length>1&&(f=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const v=await o.text();try{u=JSON.parse(v),Array.isArray(u)&&o.status===404&&(d=[],u=null,h=200,g="OK")}catch{o.status===404&&v===""?(h=204,g="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,g="OK"),u&&this.shouldThrowOnError)throw new nP.default(u)}return{error:u,data:d,count:f,status:h,statusText:g}});return this.shouldThrowOnError||(s=s.catch(o=>{var i,l,c;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(l=o==null?void 0:o.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=o==null?void 0:o.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};Ju.default=sP;var oP=hr&&hr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yu,"__esModule",{value:!0});const aP=oP(Ju);let iP=class extends aP.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:o=s}={}){const i=o?`${o}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const o=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(i,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:o=!1,format:i="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${u}"; options=${c};`,i==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Yu.default=iP;var lP=hr&&hr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(il,"__esModule",{value:!0});const cP=lP(Yu);let uP=class extends cP.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${o}fts${i}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};il.default=uP;var dP=hr&&hr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ku,"__esModule",{value:!0});const Ma=dP(il);let fP=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let o=!1;const i=(t??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",i),n&&(this.headers.Prefer=`count=${n}`),new Ma.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),r&&o.push(`count=${r}`),n||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const i=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(i.length>0){const l=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Ma.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:o=!0}={}){const i="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Ma.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Ma.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Ma.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ku.default=fP;var Qu={},Zu={};Object.defineProperty(Zu,"__esModule",{value:!0});Zu.version=void 0;Zu.version="0.0.0-automated";Object.defineProperty(Qu,"__esModule",{value:!0});Qu.DEFAULT_HEADERS=void 0;const hP=Zu;Qu.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${hP.version}`};var i2=hr&&hr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bg,"__esModule",{value:!0});const mP=i2(Ku),gP=i2(il),pP=Qu;let yP=class l2{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},pP.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new mP.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new l2(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:o}={}){let i;const l=new URL(`${this.url}/rpc/${t}`);let c;n||s?(i=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(i="POST",c=r);const u=Object.assign({},this.headers);return o&&(u.Prefer=`count=${o}`),new gP.default({method:i,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Bg.default=yP;var ha=hr&&hr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ft,"__esModule",{value:!0});Ft.PostgrestError=Ft.PostgrestBuilder=Ft.PostgrestTransformBuilder=Ft.PostgrestFilterBuilder=Ft.PostgrestQueryBuilder=Ft.PostgrestClient=void 0;const c2=ha(Bg);Ft.PostgrestClient=c2.default;const u2=ha(Ku);Ft.PostgrestQueryBuilder=u2.default;const d2=ha(il);Ft.PostgrestFilterBuilder=d2.default;const f2=ha(Yu);Ft.PostgrestTransformBuilder=f2.default;const h2=ha(Ju);Ft.PostgrestBuilder=h2.default;const m2=ha(Xu);Ft.PostgrestError=m2.default;var vP=Ft.default={PostgrestClient:c2.default,PostgrestQueryBuilder:u2.default,PostgrestFilterBuilder:d2.default,PostgrestTransformBuilder:f2.default,PostgrestBuilder:h2.default,PostgrestError:m2.default};const{PostgrestClient:xP,PostgrestQueryBuilder:AG,PostgrestFilterBuilder:RG,PostgrestTransformBuilder:MG,PostgrestBuilder:LG,PostgrestError:DG}=vP,bP="2.11.2",wP={"X-Client-Info":`realtime-js/${bP}`},_P="1.0.0",g2=1e4,kP=1e3;var Io;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Io||(Io={}));var Gt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Gt||(Gt={}));var _r;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(_r||(_r={}));var qh;(function(e){e.websocket="websocket"})(qh||(qh={}));var xs;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(xs||(xs={}));class SP{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),o=r.getUint8(2);let i=this.HEADER_LENGTH+2;const l=n.decode(t.slice(i,i+s));i=i+s;const c=n.decode(t.slice(i,i+o));i=i+o;const u=JSON.parse(n.decode(t.slice(i,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class p2{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Oe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Oe||(Oe={}));const $y=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((o,i)=>(o[i]=jP(i,e,t,s),o),{})},jP=(e,t,r,n)=>{const s=t.find(l=>l.name===e),o=s==null?void 0:s.type,i=r[e];return o&&!n.includes(o)?y2(o,i):Wh(i)},y2=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return PP(t,r)}switch(e){case Oe.bool:return NP(t);case Oe.float4:case Oe.float8:case Oe.int2:case Oe.int4:case Oe.int8:case Oe.numeric:case Oe.oid:return CP(t);case Oe.json:case Oe.jsonb:return EP(t);case Oe.timestamp:return TP(t);case Oe.abstime:case Oe.date:case Oe.daterange:case Oe.int4range:case Oe.int8range:case Oe.money:case Oe.reltime:case Oe.text:case Oe.time:case Oe.timestamptz:case Oe.timetz:case Oe.tsrange:case Oe.tstzrange:return Wh(t);default:return Wh(t)}},Wh=e=>e,NP=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},CP=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},EP=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},PP=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let o;const i=e.slice(1,r);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(l=>y2(t,l))}return e},TP=e=>typeof e=="string"?e.replace(" ","T"):e,v2=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Zd{constructor(t,r,n={},s=g2){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Uy;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Uy||(Uy={}));class li{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=li.syncState(this.state,s,o,i),this.pendingDiffs.forEach(c=>{this.state=li.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=li.syncDiff(this.state,s,o,i),l())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const o=this.cloneDeep(t),i=this.transformState(r),l={},c={};return this.map(o,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const f=o[u];if(f){const h=d.map(w=>w.presence_ref),g=f.map(w=>w.presence_ref),b=d.filter(w=>g.indexOf(w.presence_ref)<0),v=f.filter(w=>h.indexOf(w.presence_ref)<0);b.length>0&&(l[u]=b),v.length>0&&(c[u]=v)}else l[u]=d}),this.syncDiff(o,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:o,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(g=>g.presence_ref),h=d.filter(g=>f.indexOf(g.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(i,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var zy;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(zy||(zy={}));var By;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(By||(By={}));var en;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(en||(en={}));class Vg{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Gt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Zd(this,_r.join,this.params,this.timeout),this.rejoinTimer=new p2(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Gt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Gt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Gt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Gt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(_r.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new li(this),this.broadcastEndpointURL=v2(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:i,private:l}}=this.params;this._onError(d=>t==null?void 0:t(en.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(en.CLOSED));const c={},u={broadcast:o,presence:i,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(en.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,g=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,b=[];for(let v=0;v<g;v++){const w=h[v],{filter:{event:p,schema:y,table:x,filter:_}}=w,k=d&&d[v];if(k&&k.event===p&&k.schema===y&&k.table===x&&k.filter===_)b.push(Object.assign(Object.assign({},w),{id:k.id}));else{this.unsubscribe(),t==null||t(en.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(en.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(en.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(en.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Gt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(_r.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new Zd(this,_r.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Zd(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,o;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=_r;if(n&&[l,c,u,d].indexOf(i)>=0&&n!==this._joinRef())return;let h=this._onMessage(i,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var b,v,w;return((b=g.filter)===null||b===void 0?void 0:b.event)==="*"||((w=(v=g.filter)===null||v===void 0?void 0:v.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===i}).map(g=>g.callback(h,n)):(o=this.bindings[i])===null||o===void 0||o.filter(g=>{var b,v,w,p,y,x;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in g){const _=g.id,k=(b=g.filter)===null||b===void 0?void 0:b.event;return _&&((v=r.ids)===null||v===void 0?void 0:v.includes(_))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const _=(y=(p=g==null?void 0:g.filter)===null||p===void 0?void 0:p.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return _==="*"||_===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===i}).map(g=>{if(typeof h=="object"&&"ids"in h){const b=h.data,{schema:v,table:w,commit_timestamp:p,type:y,errors:x}=b;h=Object.assign(Object.assign({},{schema:v,table:w,commit_timestamp:p,eventType:y,new:{},old:{},errors:x}),this._getPayloadRecords(b))}g.callback(h,n)})}_isClosed(){return this.state===Gt.closed}_isJoined(){return this.state===Gt.joined}_isJoining(){return this.state===Gt.joining}_isLeaving(){return this.state===Gt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&Vg.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(_r.close,{},t)}_onError(t){this._on(_r.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Gt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=$y(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=$y(t.columns,t.old_record)),r}}const AP=()=>{},RP=typeof WebSocket<"u",MP=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class LP{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=wP,this.params={},this.timeout=g2,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=AP,this.conn=null,this.sendBuffer=[],this.serializer=new SP,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...l)=>Ko(async()=>{const{default:c}=await Promise.resolve().then(()=>fa);return{default:c}},void 0).then(({default:c})=>c(...l)):i=fetch,(...l)=>i(...l)},this.endPoint=`${t}/${qh.websocket}`,this.httpEndpoint=v2(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(o,i)=>i(JSON.stringify(o)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new p2(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(RP){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new DP(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Ko(async()=>{const{default:t}=await import("./browser-C-M-tJFb.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:_P}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Io.connecting:return xs.Connecting;case Io.open:return xs.Open;case Io.closing:return xs.Closing;default:return xs.Closed}}isConnected(){return this.connectionState()===xs.Open}channel(t,r={config:{}}){const n=new Vg(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:s,ref:o}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(_r.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(kP,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:o,ref:i}=r;i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${n} ${s} ${i&&"("+i+")"||""}`,o),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,o,i)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(_r.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([MP],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class DP{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Io.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class Gg extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ft(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class OP extends Gg{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Hh extends Gg{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var IP=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const x2=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ko(async()=>{const{default:n}=await Promise.resolve().then(()=>fa);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},FP=()=>IP(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ko(()=>Promise.resolve().then(()=>fa),void 0)).Response:Response}),Kh=e=>{if(Array.isArray(e))return e.map(r=>Kh(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=Kh(n)}),t};var Ws=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const ef=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),$P=(e,t,r)=>Ws(void 0,void 0,void 0,function*(){const n=yield FP();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new OP(ef(s),e.status||500))}).catch(s=>{t(new Hh(ef(s),s))}):t(new Hh(ef(e),e))}),UP=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function ll(e,t,r,n,s,o){return Ws(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(r,UP(t,n,s,o)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>$P(c,l,n))})})}function tu(e,t,r,n){return Ws(this,void 0,void 0,function*(){return ll(e,"GET",t,r,n)})}function En(e,t,r,n,s){return Ws(this,void 0,void 0,function*(){return ll(e,"POST",t,n,s,r)})}function zP(e,t,r,n,s){return Ws(this,void 0,void 0,function*(){return ll(e,"PUT",t,n,s,r)})}function BP(e,t,r,n){return Ws(this,void 0,void 0,function*(){return ll(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function b2(e,t,r,n,s){return Ws(this,void 0,void 0,function*(){return ll(e,"DELETE",t,n,s,r)})}var Ot=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const VP={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Vy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class GP{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=x2(s)}uploadOrUpdate(t,r,n,s){return Ot(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},Vy),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=n,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:o,headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(o){if(ft(o))return{data:null,error:o};throw o}})}upload(t,r,n){return Ot(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Ot(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),i=this._getFinalPath(o),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Vy.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),h=yield f.json();return f.ok?{data:{path:o,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(ft(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Ot(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const o=yield En(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(this.url+o.url),l=i.searchParams.get("token");if(!l)throw new Gg("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:l},error:null}}catch(n){if(ft(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ot(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ot(this,void 0,void 0,function*(){try{return{data:yield En(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ft(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Ot(this,void 0,void 0,function*(){try{return{data:{path:(yield En(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ft(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Ot(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield En(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(ft(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Ot(this,void 0,void 0,function*(){try{const s=yield En(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(ft(s))return{data:null,error:s};throw s}})}download(t,r){return Ot(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=o?`?${o}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield tu(this.fetch,`${this.url}/${s}/${l}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(ft(l))return{data:null,error:l};throw l}})}info(t){return Ot(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield tu(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Kh(n),error:null}}catch(n){if(ft(n))return{data:null,error:n};throw n}})}exists(t){return Ot(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield BP(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(ft(n)&&n instanceof Hh){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&s.push(o);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Ot(this,void 0,void 0,function*(){try{return{data:yield b2(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(ft(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ot(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},VP),r),{prefix:t||""});return{data:yield En(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(ft(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const qP="2.7.1",WP={"X-Client-Info":`storage-js/${qP}`};var Qs=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class HP{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},WP),r),this.fetch=x2(n)}listBuckets(){return Qs(this,void 0,void 0,function*(){try{return{data:yield tu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ft(t))return{data:null,error:t};throw t}})}getBucket(t){return Qs(this,void 0,void 0,function*(){try{return{data:yield tu(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(ft(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Qs(this,void 0,void 0,function*(){try{return{data:yield En(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ft(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Qs(this,void 0,void 0,function*(){try{return{data:yield zP(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ft(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Qs(this,void 0,void 0,function*(){try{return{data:yield En(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(ft(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Qs(this,void 0,void 0,function*(){try{return{data:yield b2(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(ft(r))return{data:null,error:r};throw r}})}}class KP extends HP{constructor(t,r={},n){super(t,r,n)}from(t){return new GP(this.url,this.headers,t,this.fetch)}}const YP="2.49.4";let qa="";typeof Deno<"u"?qa="deno":typeof document<"u"?qa="web":typeof navigator<"u"&&navigator.product==="ReactNative"?qa="react-native":qa="node";const JP={"X-Client-Info":`supabase-js-${qa}/${YP}`},XP={headers:JP},QP={schema:"public"},ZP={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e6={};var t6=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const r6=e=>{let t;return e?t=e:typeof fetch>"u"?t=s2:t=fetch,(...r)=>t(...r)},n6=()=>typeof Headers>"u"?o2:Headers,s6=(e,t,r)=>{const n=r6(r),s=n6();return(o,i)=>t6(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(o,Object.assign(Object.assign({},i),{headers:u}))})};var o6=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function a6(e){return e.replace(/\/$/,"")}function i6(e,t){const{db:r,auth:n,realtime:s,global:o}=e,{db:i,auth:l,realtime:c,global:u}=t,d={db:Object.assign(Object.assign({},i),r),auth:Object.assign(Object.assign({},l),n),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},u),o),accessToken:()=>o6(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const w2="2.69.1",ho=30*1e3,Yh=3,tf=Yh*ho,l6="http://localhost:9999",c6="supabase.auth.token",u6={"X-Client-Info":`gotrue-js/${w2}`},Jh="X-Supabase-Api-Version",_2={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},d6=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,f6=6e5;class qg extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ve(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class h6 extends qg{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function m6(e){return ve(e)&&e.name==="AuthApiError"}class k2 extends qg{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class os extends qg{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class _n extends os{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function g6(e){return ve(e)&&e.name==="AuthSessionMissingError"}class rf extends os{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ul extends os{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class zl extends os{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function p6(e){return ve(e)&&e.name==="AuthImplicitGrantRedirectError"}class Gy extends os{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Xh extends os{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function nf(e){return ve(e)&&e.name==="AuthRetryableFetchError"}class qy extends os{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class ci extends os{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Wy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Hy=` 	
\r=`.split(""),y6=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Hy.length;t+=1)e[Hy[t].charCodeAt(0)]=-2;for(let t=0;t<Wy.length;t+=1)e[Wy[t].charCodeAt(0)]=t;return e})();function S2(e,t,r){const n=y6[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Ky(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{b6(i,n,r)};for(let i=0;i<e.length;i+=1)S2(e.charCodeAt(i),s,o);return t.join("")}function v6(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function x6(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}v6(n,t)}}function b6(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function w6(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)S2(e.charCodeAt(s),r,n);return new Uint8Array(t)}function _6(e){const t=[];return x6(e,r=>t.push(r)),new Uint8Array(t)}function k6(e){return Math.round(Date.now()/1e3)+e}function S6(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Dr=()=>typeof window<"u"&&typeof document<"u",ds={tested:!1,writable:!1},ui=()=>{if(!Dr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ds.tested)return ds.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ds.tested=!0,ds.writable=!0}catch{ds.tested=!0,ds.writable=!1}return ds.writable};function j6(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const j2=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ko(async()=>{const{default:n}=await Promise.resolve().then(()=>fa);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},N6=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",N2=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Bl=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Vl=async(e,t)=>{await e.removeItem(t)};class ed{constructor(){this.promise=new ed.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}ed.promiseConstructor=Promise;function sf(e){const t=e.split(".");if(t.length!==3)throw new ci("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!d6.test(t[n]))throw new ci("JWT not in base64url format");return{header:JSON.parse(Ky(t[0])),payload:JSON.parse(Ky(t[1])),signature:w6(t[2]),raw:{header:t[0],payload:t[1]}}}async function C6(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function E6(e,t){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){n(i);return}}catch(i){if(!t(o,i)){s(i);return}}})()})}function P6(e){return("0"+e.toString(16)).substr(-2)}function T6(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,P6).join("")}async function A6(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function R6(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await A6(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Zs(e,t,r=!1){const n=T6();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await N2(e,`${t}-code-verifier`,s);const o=await R6(n);return[o,n===o?"plain":"s256"]}const M6=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function L6(e){const t=e.headers.get(Jh);if(!t||!t.match(M6))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function D6(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function O6(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var I6=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const ps=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),F6=[502,503,504];async function Yy(e){var t;if(!N6(e))throw new Xh(ps(e),0);if(F6.includes(e.status))throw new Xh(ps(e),e.status);let r;try{r=await e.json()}catch(o){throw new k2(ps(o),o)}let n;const s=L6(e);if(s&&s.getTime()>=_2["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new qy(ps(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new _n}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new qy(ps(r),e.status,r.weak_password.reasons);throw new h6(ps(r),e.status||500,n)}const $6=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function ke(e,t,r,n){var s;const o=Object.assign({},n==null?void 0:n.headers);o[Jh]||(o[Jh]=_2["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await U6(e,t,r+l,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function U6(e,t,r,n,s,o){const i=$6(t,n,s,o);let l;try{l=await e(r,Object.assign({},i))}catch(c){throw console.error(c),new Xh(ps(c),0)}if(l.ok||await Yy(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Yy(c)}}function kn(e){var t;let r=null;G6(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=k6(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Jy(e){const t=kn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Rn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function z6(e){return{data:e,error:null}}function B6(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=e,i=I6(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function V6(e){return e}function G6(e){return e.access_token&&e.refresh_token&&e.expires_in}var q6=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class W6{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=j2(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await ke(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ve(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ke(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Rn})}catch(n){if(ve(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=q6(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await ke(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:B6,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ve(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ke(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Rn})}catch(r){if(ve(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,o,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ke(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:V6});if(d.error)throw d.error;const f=await d.json(),h=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,g=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(b=>{const v=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(b.split(";")[1].split("=")[1]);u[`${w}Page`]=v}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ve(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await ke(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Rn})}catch(r){if(ve(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await ke(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Rn})}catch(n){if(ve(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await ke(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Rn})}catch(n){if(ve(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await ke(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await ke(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}}}const H6={getItem:e=>ui()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{ui()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{ui()&&globalThis.localStorage.removeItem(e)}};function Xy(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function K6(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const eo={debug:!!(globalThis&&ui()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class C2 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Y6 extends C2{}async function J6(e,t,r){eo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),eo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){eo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{eo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw eo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Y6(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(eo.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}K6();const X6={url:l6,storageKey:c6,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:u6,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Qy(e,t,r){return await r()}class Ii{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ii.nextInstanceID,Ii.nextInstanceID+=1,this.instanceID>0&&Dr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},X6),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new W6({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=j2(s.fetch),this.lock=s.lock||Qy,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Dr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=J6:this.lock=Qy,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:ui()?this.storage=H6:(this.memoryStorage={},this.storage=Xy(this.memoryStorage)):(this.memoryStorage={},this.storage=Xy(this.memoryStorage)),Dr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${w2}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=j6(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Dr()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),p6(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ve(r)?{error:r}:{error:new k2("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const o=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:kn}),{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(ve(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var r,n,s;try{let o;if("email"in t){const{email:d,password:f,options:h}=t;let g=null,b=null;this.flowType==="pkce"&&([g,b]=await Zs(this.storage,this.storageKey)),o=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:g,code_challenge_method:b},xform:kn})}else if("phone"in t){const{phone:d,password:f,options:h}=t;o=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:kn})}else throw new Ul("You must provide either an email or phone number and a password");const{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(ve(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let r;if("email"in t){const{email:o,password:i,options:l}=t;r=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Jy})}else if("phone"in t){const{phone:o,password:i,options:l}=t;r=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Jy})}else throw new Ul("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new rf}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(ve(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await Bl(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:o,error:i}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:kn});if(await Vl(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new rf}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(ve(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:o,nonce:i}=t,l=await ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:kn}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new rf}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(ve(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,o,i;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Zs(this.storage,this.storageKey));const{error:f}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Ul("You must provide either an email or phone number.")}catch(l){if(ve(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,o;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,o=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:l}=await ke(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:kn});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(ve(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await Zs(this.storage,this.storageKey)),await ke(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:z6})}catch(o){if(ve(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new _n;const{error:s}=await ke(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(ve(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:o}=t,{error:i}=await ke(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:n,type:s,options:o}=t,{data:i,error:l}=await ke(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l}}throw new Ul("You must provide either an email or phone number and a type")}catch(r){if(ve(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Bl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<tf:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Rn}):await this._useSession(async r=>{var n,s,o;const{data:i,error:l}=r;if(l)throw l;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new _n}:await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Rn})})}catch(r){if(ve(r))return g6(r)&&(await this._removeSession(),await Vl(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new _n;const i=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Zs(this.storage,this.storageKey));const{data:u,error:d}=await ke(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:Rn});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(ve(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new _n;const r=Date.now()/1e3;let n=r,s=!0,o=null;const{payload:i}=sf(t.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(ve(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:l}=r;if(l)throw l;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new _n;const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ve(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Dr())throw new zl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new zl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Gy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new zl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Gy("No code detected.");const{data:y,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:l,expires_at:c,token_type:u}=t;if(!o||!l||!i||!u)throw new zl("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const g=h-d;g*1e3<=ho&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const b=h-f;d-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,h,d):d-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,h,d);const{data:v,error:w}=await this._getUser(o);if(w)throw w;const p={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:f,expires_at:h,refresh_token:i,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:t.type},error:null}}catch(n){if(ve(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Bl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{error:o};const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!(m6(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Vl(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=S6(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Zs(this.storage,this.storageKey,!0));try{return await ke(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(ve(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var i,l,c,u,d;const{data:f,error:h}=o;if(h)throw h;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ke(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Dr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ve(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)throw i;return await ke(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await E6(async s=>(s>0&&await C6(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await ke(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:kn})),(s,o)=>{const i=200*Math.pow(2,s);return o&&nf(o)&&Date.now()+i-n<ho})}catch(n){if(this._debug(r,"error",n),ve(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Dr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Bl(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<tf;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${tf}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),nf(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new _n;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new ed;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new _n;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={session:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(s,"error",o),ve(o)){const i={session:null,error:o};return nf(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await N2(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Vl(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Dr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ho);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/ho);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ho}ms, refresh threshold is ${Yh} ticks`),s<=Yh&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof C2)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Dr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,i]=await Zs(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await ke(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)return{data:null,error:i};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await ke(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{data:null,error:o};const{data:i,error:l}=await ke(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:l})})}catch(r){if(ve(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await ke(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ve(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=n.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:n,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=sf(s.access_token);let l=null;i.aal&&(l=i.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=i.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(i=>i.kid===t);if(n||(n=this.jwks.keys.find(i=>i.kid===t),n&&this.jwks_cached_at+f6>Date.now()))return n;const{data:s,error:o}=await ke(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!s.keys||s.keys.length===0)throw new ci("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(i=>i.kid===t),!n)throw new ci("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:g,error:b}=await this.getSession();if(b||!g.session)return{data:null,error:b};n=g.session.access_token}const{header:s,payload:o,signature:i,raw:{header:l,payload:c}}=sf(n);if(D6(o.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:o,header:s,signature:i},error:null}}const u=O6(s.alg),d=await this.fetchJwk(s.kid,r),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,i,_6(`${l}.${c}`)))throw new ci("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(n){if(ve(n))return{data:null,error:n};throw n}}}Ii.nextInstanceID=0;const Q6=Ii;class Z6 extends Q6{constructor(t){super(t)}}var eT=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class tT{constructor(t,r,n){var s,o,i;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=a6(t);this.realtimeUrl=`${l}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${l}/auth/v1`,this.storageUrl=`${l}/storage/v1`,this.functionsUrl=`${l}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:QP,realtime:e6,auth:Object.assign(Object.assign({},ZP),{storageKey:c}),global:XP},d=i6(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=d.global.headers)!==null&&o!==void 0?o:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=d.auth)!==null&&i!==void 0?i:{},this.headers,d.global.fetch),this.fetch=s6(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new xP(`${l}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new Y5(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new KP(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return eT(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:o,flowType:i,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Z6({url:this.authUrl,headers:Object.assign(Object.assign({},f),u),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:i,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new LP(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const td=(e,t,r)=>new tT(e,t,r),rT="https://ohserebigziyxlxpkaib.supabase.co",nT="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9oc2VyZWJpZ3ppeXhseHBrYWliIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTI3NDk0MTAsImV4cCI6MjAyODMyNTQxMH0.2mVOdgG-4QPVjVxqKshjFmcAyVELY6KYHtqlR-KLpvw",z=td(rT,nT);z.auth.onAuthStateChange((e,t)=>{var r;console.log("[SUPABASE SERVICE] Auth state changed:",e),console.log("[SUPABASE SERVICE] Session exists:",!!t),console.log("[SUPABASE SERVICE] User ID:",(r=t==null?void 0:t.user)==null?void 0:r.id)});const sT=async(e,t)=>{console.log(`[getProfileWithConnections] Fetching profile for userId: ${e}, currentUserId: ${t}`);try{console.log("[getProfileWithConnections] Attempting to use RPC function...");try{const{data:s,error:o}=await z.rpc("get_user_profile_with_connections",{p_user_id:e,p_current_user_id:t});if(console.log("[getProfileWithConnections] RPC response:",{data:s?"data exists":"no data",error:o}),!o&&s&&s.length>0)return console.log("[getProfileWithConnections] RPC function successful, returning data"),{data:s[0],error:null};o?console.error("[getProfileWithConnections] RPC function error:",o):(!s||s.length===0)&&console.warn("[getProfileWithConnections] RPC function returned no data")}catch(s){console.error("[getProfileWithConnections] RPC function exception:",s)}console.log("[getProfileWithConnections] Falling back to manual profile fetch"),console.log(`[getProfileWithConnections] Fetching profile for userId: ${e}`);const{data:r,error:n}=await z.from("profiles").select("*").eq("id",e).single();if(n)throw console.error("[getProfileWithConnections] Profile fetch error:",n),n;if(!r)return console.warn(`[getProfileWithConnections] No profile found for userId: ${e}`),{data:null,error:new Error("Profile not found")};console.log("[getProfileWithConnections] Profile fetch successful"),console.log(`[getProfileWithConnections] Checking connection status between ${t} and ${e}`);try{const{data:s,error:o}=await z.from("user_connections").select("*").or(`and(user_id.eq.${t},friend_id.eq.${e}),and(user_id.eq.${e},friend_id.eq.${t})`).maybeSingle();o&&console.error("[getProfileWithConnections] Connection fetch error:",o),console.log("[getProfileWithConnections] Connection data:",s);const i=s?s.status:"none",l=s?s.id:null;return console.log("[getProfileWithConnections] Returning combined profile data"),{data:{...r,friend_status:i,friend_connection_id:l},error:null}}catch(s){return console.error("[getProfileWithConnections] Connection fetch exception:",s),{data:{...r,friend_status:"error",friend_connection_id:null},error:null}}}catch(r){return console.error("[getProfileWithConnections] Top-level error:",r),{data:null,error:r}}},Wg=m.createContext(void 0),oT=({children:e})=>{const[t,r]=m.useState(null),[n,s]=m.useState(!0),[o,i]=m.useState(!1),[l,c]=m.useState(null),[u,d]=m.useState(!1),f=m.useRef(!1),h=m.useRef(!1),g=m.useRef(!1),b=m.useCallback(async C=>{var L,P;if(!g.current){g.current=!0;try{if(console.log("[AuthProvider] checkProfileCompletion: Starting for user:",C==null?void 0:C.id),!C){console.log("[AuthProvider] checkProfileCompletion: No user provided to check."),i(!1),g.current=!1;return}if(((L=C.user_metadata)==null?void 0:L.profile_completed)===!0||((P=C.user_metadata)==null?void 0:P.skipped_profile_completion)===!0){console.log("[AuthProvider] checkProfileCompletion: Found profile_completed=true or skipped=true in user_metadata"),i(!0),g.current=!1;return}console.log("[AuthProvider] checkProfileCompletion: Neither profile_completed nor skipped is true in user_metadata. Checking database...");let D=0;const A=3;for(;D<A;)try{const{data:F,error:O}=await z.from("profiles").select("is_profile_completed, skipped_profile_completion").eq("id",C.id).maybeSingle();if(O){if(console.error(`[AuthProvider] checkProfileCompletion: DB Error checking profiles table (attempt ${D+1}):`,O),O.code==="PGRST116"){console.log("[AuthProvider] checkProfileCompletion: User record not found in PROFILES table (PGRST116). Assuming incomplete."),i(!1),g.current=!1;return}if(D++,D===A){console.error("[AuthProvider] checkProfileCompletion: Max retries reached checking profiles. Assuming incomplete."),i(!1),g.current=!1;return}await new Promise(U=>setTimeout(U,1e3));continue}(F==null?void 0:F.is_profile_completed)===!0||(F==null?void 0:F.skipped_profile_completion)===!0?(console.log("[AuthProvider] checkProfileCompletion: Found is_profile_completed=true or skipped=true in PROFILES table"),i(!0)):(console.log("[AuthProvider] checkProfileCompletion: Neither is_profile_completed nor skipped is true in PROFILES table"),i(!1)),g.current=!1;return}catch(F){if(console.error(`[AuthProvider] checkProfileCompletion: Unexpected DB Error checking profiles table (attempt ${D+1}):`,F),D++,D===A){console.error("[AuthProvider] checkProfileCompletion: Loop finished without success. Assuming profile incomplete."),i(!1),g.current=!1;return}await new Promise(O=>setTimeout(O,1e3))}console.error("[AuthProvider] checkProfileCompletion: Loop finished without success. Assuming profile incomplete."),i(!1)}catch(D){console.error("[AuthProvider] checkProfileCompletion: Top-level error:",D),i(!1)}finally{console.log("[AuthProvider] checkProfileCompletion: Finished check."),g.current=!1}}},[]),v=async()=>{try{const{data:C}=await z.auth.getSession(),L=!!(C!=null&&C.session);console.log("AuthContext: Starting sign out process. Active session:",L);for(let P=0;P<localStorage.length;P++){const D=localStorage.key(P);D&&(D.includes("supabase")||D.includes("auth")||D.includes("user")||D.includes("session"))&&(console.log("Removing localStorage key:",D),localStorage.removeItem(D))}if(localStorage.removeItem("supabase.auth.token"),localStorage.removeItem("sb-refresh-token"),localStorage.removeItem("sb-access-token"),document.cookie.split(";").forEach(function(P){document.cookie=P.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/")}),L){console.log("Calling supabase.auth.signOut()");const{error:P}=await z.auth.signOut({scope:"global"});P&&console.error("Supabase signOut error:",P)}else console.log("No active session, skipping Supabase signOut API call");console.log("User sign out process completed"),r(null),i(!1),console.log("Redirecting to landing page after sign out"),window.location.href="/"}catch(C){console.error("Error during sign out:",C),c(C instanceof Error?C:new Error(String(C))),setTimeout(()=>{console.log("Error during signOut, forcing redirect anyway"),window.location.replace("/")},500)}},w=m.useCallback(async(C=!1)=>{try{console.log("Checking session status...");const{data:L,error:P}=await z.auth.getSession();if(P)return console.error("Error getting session:",P),{success:!1,error:new Error(P.message||"Session error")};if(!L.session)return console.log("No active session found"),t!==null&&(r(null),i(!1)),{success:!1,error:new Error("No active session found")};const D=L.session.expires_at||0,A=Math.floor(Date.now()/1e3),F=D-A;if(console.log(`Session found. Expires in ${F} seconds`),C||F<300){console.log("Session expiring soon or force refresh requested. Refreshing now...");try{const{data:O,error:U}=await z.auth.refreshSession();return U?U.message&&U.message.includes("Auth session missing")?(console.log("Session completely expired or missing, clearing local state and signing out"),r(null),i(!1),s(!1),await v(),{success:!1,error:new Error("Your session has expired. Please log in again.")}):(console.error("Failed to refresh session:",U),{success:!1,error:new Error(U.message||"Failed to refresh session")}):O.session&&O.user?(console.log("Session refreshed successfully"),localStorage.setItem("last_session_refresh",new Date().toISOString()),O.session.expires_at&&localStorage.setItem("session_expires_at",new Date(O.session.expires_at*1e3).toISOString()),r(O.user),await b(O.user),{success:!0,session:O.session}):(console.warn("Refresh session returned no data, assuming failure."),{success:!1,error:new Error("Failed to refresh session (no data)")})}catch(O){return console.error("Exception during session refresh:",O),{success:!1,error:O instanceof Error?O:new Error("Unknown error during session refresh")}}}return(t==null?void 0:t.id)!==L.session.user.id&&(console.log("User state mismatch, updating user from current session."),r(L.session.user),await b(L.session.user)),{success:!0,session:L.session}}catch(L){return console.error("Error in checkAndRefreshSession:",L),{success:!1,error:L instanceof Error?L:new Error("Unknown error checking session")}}},[b,v,t]),p=m.useCallback(async()=>{console.log("AuthProvider: Refreshing user data explicitly...");try{const{data:{user:C},error:L}=await z.auth.getUser();if(L){console.error("AuthProvider: Error during explicit user refresh:",L);return}C?(console.log("AuthProvider: User data refreshed successfully.",C.id,C.user_metadata),r(C),await b(C)):(console.log("AuthProvider: No user found during refresh. Clearing state."),r(null),i(!1))}catch(C){console.error("AuthProvider: Unexpected error during explicit user refresh:",C)}},[b]);m.useEffect(()=>{if(f.current||h.current){console.log("[AuthProvider useEffect] initializeAuth: Skipping initialization (already running or completed).");return}f.current=!0,console.log("[AuthProvider useEffect] initializeAuth: Starting..."),(async()=>{try{s(!0),console.log("[AuthProvider useEffect] initializeAuth: Attempting to get session...");const{data:{session:P},error:D}=await z.auth.getSession();D?(console.error("[AuthProvider useEffect] initializeAuth: Error getting session:",D),c(D),r(null),i(!1)):P?(console.log("[AuthProvider useEffect] initializeAuth: Active session found:",P.user.id),r(P.user),await b(P.user)):(console.log("[AuthProvider useEffect] initializeAuth: No active session found."),r(null),i(!1))}catch(P){console.error("[AuthProvider useEffect] initializeAuth: Unexpected error:",P),c(P instanceof Error?P:new Error(String(P))),r(null),i(!1)}finally{console.log("[AuthProvider useEffect] initializeAuth: Setting loading = false (end of initialization attempt)"),s(!1),d(!0),f.current=!1,h.current=!0}})();const{data:{subscription:L}}=z.auth.onAuthStateChange(async(P,D)=>{var F;if(console.log(`[AuthProvider onAuthStateChange] Event: ${P}, Session User: ${((F=D==null?void 0:D.user)==null?void 0:F.id)??"null"}`),!h.current&&P!=="INITIAL_SESSION"){console.log("[AuthProvider onAuthStateChange] Skipping event, initialization not complete yet.");return}const A=(D==null?void 0:D.user)||null;switch(r(A),P){case"SIGNED_IN":case"USER_UPDATED":console.log(`[AuthProvider onAuthStateChange] ${P}: User state updated. Checking profile completion...`),A?await b(A):(console.warn(`[AuthProvider onAuthStateChange] ${P}: No user in session despite event.`),i(!1)),s(!1);break;case"TOKEN_REFRESHED":console.log("[AuthProvider onAuthStateChange] TOKEN_REFRESHED: Session potentially updated."),A||(console.warn("[AuthProvider onAuthStateChange] TOKEN_REFRESHED: No user in session."),i(!1)),s(!1);break;case"SIGNED_OUT":console.log("[AuthProvider onAuthStateChange] SIGNED_OUT: Resetting state."),i(!1),c(null),s(!1);break;case"PASSWORD_RECOVERY":console.log("[AuthProvider onAuthStateChange] PASSWORD_RECOVERY event."),s(!1);break;case"INITIAL_SESSION":console.log("[AuthProvider onAuthStateChange] INITIAL_SESSION event. Handled by initial useEffect.");break;default:console.warn("[AuthProvider onAuthStateChange] Unhandled auth event:",P),A||s(!1)}});return()=>{L&&(console.log("[AuthProvider useEffect] Cleaning up auth listener."),L.unsubscribe())}},[b]);const y=async(C,L,P)=>{s(!0),c(null);try{const{data:D,error:A}=await z.auth.signUp({email:C,password:L,options:{data:{full_name:P}}});if(A)throw A}catch(D){throw console.error("Sign up error:",D),c(D instanceof Error?D:new Error(String(D))),D}finally{s(!1)}},x=async(C,L)=>{s(!0),c(null);try{const{error:P}=await z.auth.signInWithPassword({email:C,password:L});if(P)throw P}catch(P){throw console.error("Sign in error:",P),c(P instanceof Error?P:new Error(String(P))),s(!1),P}},_=async C=>{s(!0),c(null);try{const{error:L}=await z.auth.resetPasswordForEmail(C,{});if(L)throw L;console.log("Password reset email sent successfully.")}catch(L){throw console.error("Reset password error:",L),c(L instanceof Error?L:new Error(String(L))),L}finally{s(!1)}},k=m.useCallback(async C=>{s(!0),c(null);try{console.log("[AuthProvider] signInWithGoogle: Initiating Google OAuth...");const L=C||window.location.origin+"/auth/callback";console.log("[AuthProvider] signInWithGoogle: Using redirect URL:",L);const{data:P,error:D}=await z.auth.signInWithOAuth({provider:"google",options:{redirectTo:L,skipBrowserRedirect:!1,queryParams:{access_type:"offline",prompt:"consent"}}});return D?(console.error("[AuthProvider] signInWithGoogle: Error initiating OAuth",D),c(new Error(D.message)),s(!1),{data:null,error:new Error(D.message)}):(console.log("[AuthProvider] signInWithGoogle: Supabase initiated redirect. URL (if available):",P==null?void 0:P.url),{data:P,error:null})}catch(L){console.error("[AuthProvider] signInWithGoogle: Exception caught",L);const P=L instanceof Error?L:new Error(String(L));return c(P),s(!1),{data:null,error:P}}},[]),j=async C=>{s(!0),c(null);try{const{data:{user:L}}=await z.auth.getUser();if(!L)throw new Error("User not authenticated. Cannot update password.");console.log("Attempting to update password for user:",L.id);const{error:P}=await z.auth.updateUser({password:C});if(P)throw console.error("Error updating password:",P),P;console.log("Password updated successfully.")}catch(L){throw console.error("Error in updatePassword:",L),c(L instanceof Error?L:new Error(String(L))),L}finally{s(!1)}},I={user:t,setUser:r,loading:n,error:l,hasCompletedProfile:o,setHasCompletedProfile:i,signUp:y,signIn:x,signOut:v,emergencySignOut:()=>{console.warn("Performing emergency sign out...");try{Object.keys(localStorage).forEach(C=>{(C.startsWith("sb-")||C.includes("supabase")||C.includes("auth"))&&(console.log("Emergency removing localStorage key:",C),localStorage.removeItem(C))}),Object.keys(sessionStorage).forEach(C=>{(C.startsWith("sb-")||C.includes("supabase")||C.includes("auth"))&&(console.log("Emergency removing sessionStorage key:",C),sessionStorage.removeItem(C))}),document.cookie.split(";").forEach(function(C){document.cookie=C.replace(/^ +/,"").replace(/=.*/,"=;expires="+new Date().toUTCString()+";path=/")})}catch(C){console.error("Error clearing storage during emergency sign out:",C)}finally{console.log("Emergency redirecting to /"),window.location.href="/"}},signInWithGoogle:k,refreshSession:w,resetPassword:_,updatePassword:(C,L)=>j(L),redirectToHome:()=>{window.location.replace("/home")},refreshUserData:p};return a.jsx(Wg.Provider,{value:I,children:e})},$e=()=>{const e=m.useContext(Wg);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e};var E2={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Zy=mt.createContext&&mt.createContext(E2),qn=function(){return qn=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},qn.apply(this,arguments)},aT=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};function P2(e){return e&&e.map(function(t,r){return mt.createElement(t.tag,qn({key:r},t.attr),P2(t.child))})}function Z(e){return function(t){return mt.createElement(iT,qn({attr:qn({},e.attr)},t),P2(e.child))}}function iT(e){var t=function(r){var n=e.attr,s=e.size,o=e.title,i=aT(e,["attr","size","title"]),l=s||r.size||"1em",c;return r.className&&(c=r.className),e.className&&(c=(c?c+" ":"")+e.className),mt.createElement("svg",qn({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,i,{className:c,style:qn(qn({color:e.color||r.color},r.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&mt.createElement("title",null,o),e.children)};return Zy!==void 0?mt.createElement(Zy.Consumer,null,function(r){return t(r)}):t(E2)}function xc(e){return Z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"}}]})(e)}function lT(e){return Z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"}},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"}}]})(e)}function T2(e){return Z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"}},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"}}]})(e)}function ru(e){return Z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"}},{tag:"polyline",attr:{points:"12 19 5 12 12 5"}}]})(e)}function Fi(e){return Z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"}}]})(e)}function cT(e){return Z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}},{tag:"path",attr:{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"}}]})(e)}function uT(e){return Z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"}}]})(e)}function cr(e){return Z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"}},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"}},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"}}]})(e)}function A2(e){return Z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"}}]})(e)}function R2(e){return Z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"}}]})(e)}function dT(e){return Z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"}}]})(e)}function fT(e){return Z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"}}]})(e)}function nu(e){return Z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"polyline",attr:{points:"12 6 12 12 16 14"}}]})(e)}function hT(e){return Z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"ellipse",attr:{cx:"12",cy:"5",rx:"9",ry:"3"}},{tag:"path",attr:{d:"M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"}},{tag:"path",attr:{d:"M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"}}]})(e)}function mT(e){return Z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"}}]})(e)}function gT(e){return Z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"}}]})(e)}function pT(e){return Z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}}]})(e)}function yT(e){return Z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"}}]})(e)}function vT(e){return Z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"}},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"}}]})(e)}function xT(e){return Z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"}},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"}},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"}},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"}}]})(e)}function M2(e){return Z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"4",y1:"9",x2:"20",y2:"9"}},{tag:"line",attr:{x1:"4",y1:"15",x2:"20",y2:"15"}},{tag:"line",attr:{x1:"10",y1:"3",x2:"8",y2:"21"}},{tag:"line",attr:{x1:"16",y1:"3",x2:"14",y2:"21"}}]})(e)}function $i(e){return Z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"}}]})(e)}function bT(e){return Z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"path",attr:{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"}},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"}}]})(e)}function Hg(e){return Z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}},{tag:"circle",attr:{cx:"8.5",cy:"8.5",r:"1.5"}},{tag:"polyline",attr:{points:"21 15 16 10 5 21"}}]})(e)}function wT(e){return Z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"}},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"}}]})(e)}function ev(e){return Z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}},{tag:"path",attr:{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"}}]})(e)}function _T(e){return Z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"}}]})(e)}function tv(e){return Z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}},{tag:"polyline",attr:{points:"16 17 21 12 16 7"}},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"}}]})(e)}function Es(e){return Z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"}},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"}}]})(e)}function kT(e){return Z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 3 21 3 21 9"}},{tag:"polyline",attr:{points:"9 21 3 21 3 15"}},{tag:"line",attr:{x1:"21",y1:"3",x2:"14",y2:"10"}},{tag:"line",attr:{x1:"3",y1:"21",x2:"10",y2:"14"}}]})(e)}function ST(e){return Z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"}},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"}},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"}}]})(e)}function Jo(e){return Z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"}}]})(e)}function rd(e){return Z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}}]})(e)}function jT(e){return Z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"4 14 10 14 10 20"}},{tag:"polyline",attr:{points:"20 10 14 10 14 4"}},{tag:"line",attr:{x1:"14",y1:"10",x2:"21",y2:"3"}},{tag:"line",attr:{x1:"3",y1:"21",x2:"10",y2:"14"}}]})(e)}function NT(e){return Z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"1"}},{tag:"circle",attr:{cx:"19",cy:"12",r:"1"}},{tag:"circle",attr:{cx:"5",cy:"12",r:"1"}}]})(e)}function nd(e){return Z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"1"}},{tag:"circle",attr:{cx:"12",cy:"5",r:"1"}},{tag:"circle",attr:{cx:"12",cy:"19",r:"1"}}]})(e)}function on(e){return Z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"}},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"}}]})(e)}function L2(e){return Z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"}},{tag:"polyline",attr:{points:"1 20 1 14 7 14"}},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"}}]})(e)}function CT(e){return Z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"}},{tag:"polyline",attr:{points:"7 3 7 8 15 8"}}]})(e)}function Kg(e){return Z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"}},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}}]})(e)}function Yg(e){return Z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"2",x2:"11",y2:"13"}},{tag:"polygon",attr:{points:"22 2 15 22 11 13 2 9 22 2"}}]})(e)}function D2(e){return Z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"}},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}}]})(e)}function O2(e){return Z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"18",cy:"5",r:"3"}},{tag:"circle",attr:{cx:"6",cy:"12",r:"3"}},{tag:"circle",attr:{cx:"18",cy:"19",r:"3"}},{tag:"line",attr:{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"}},{tag:"line",attr:{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"}}]})(e)}function I2(e){return Z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"}}]})(e)}function ET(e){return Z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"}}]})(e)}function Xo(e){return Z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"}},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"}},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"}}]})(e)}function PT(e){return Z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"}},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}}]})(e)}function of(e){return Z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"}},{tag:"polyline",attr:{points:"17 11 19 13 23 9"}}]})(e)}function Ui(e){return Z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"}},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"}},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"}}]})(e)}function F2(e){return Z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"}},{tag:"line",attr:{x1:"18",y1:"8",x2:"23",y2:"13"}},{tag:"line",attr:{x1:"23",y1:"8",x2:"18",y2:"13"}}]})(e)}function Sr(e){return Z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"}}]})(e)}function rt(e){return Z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"}},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"}},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"}}]})(e)}function rv(e){return Z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}},{tag:"line",attr:{x1:"23",y1:"9",x2:"17",y2:"15"}},{tag:"line",attr:{x1:"17",y1:"9",x2:"23",y2:"15"}}]})(e)}function Kn(e){return Z({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"}},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"}}]})(e)}function TT(e){return Z({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z"}}]})(e)}function AT(e){return Z({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"}}]})(e)}function RT(e){return Z({attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"}}]})(e)}function MT(e){return Z({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"}}]})(e)}function LT(e){return Z({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"}}]})(e)}function DT(e){return Z({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 32v448h448V32H0zm372.2 106.1l-24 23c-2.1 1.6-3.1 4.2-2.7 6.7v169.3c-.4 2.6.6 5.2 2.7 6.7l23.5 23v5.1h-118V367l24.3-23.6c2.4-2.4 2.4-3.1 2.4-6.7V199.8l-67.6 171.6h-9.1L125 199.8v115c-.7 4.8 1 9.7 4.4 13.2l31.6 38.3v5.1H71.2v-5.1l31.6-38.3c3.4-3.5 4.9-8.4 4.1-13.2v-133c.4-3.7-1-7.3-3.8-9.8L75 138.1V133h87.3l67.4 148L289 133.1h83.2v5z"}}]})(e)}function OT(e){return Z({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M496 256c0 137-111 248-248 248-25.6 0-50.2-3.9-73.4-11.1 10.1-16.5 25.2-43.5 30.8-65 3-11.6 15.4-59 15.4-59 8.1 15.4 31.7 28.5 56.8 28.5 74.8 0 128.7-68.8 128.7-154.3 0-81.9-66.9-143.2-152.9-143.2-107 0-163.9 71.8-163.9 150.1 0 36.4 19.4 81.7 50.3 96.1 4.7 2.2 7.2 1.2 8.3-3.3.8-3.4 5-20.3 6.9-28.1.6-2.5.3-4.7-1.7-7.1-10.1-12.5-18.3-35.3-18.3-56.6 0-54.7 41.4-107.6 112-107.6 60.9 0 103.6 41.5 103.6 100.9 0 67.1-33.9 113.6-78 113.6-24.3 0-42.6-20.1-36.7-44.8 7-29.5 20.5-61.3 20.5-82.6 0-19-10.2-34.9-31.4-34.9-24.9 0-44.9 25.7-44.9 60.2 0 22 7.4 36.8 7.4 36.8s-24.5 103.8-29 123.2c-5 21.4-3 51.6-.9 71.2C65.4 450.9 0 361.1 0 256 0 119 111 8 248 8s248 111 248 248z"}}]})(e)}function IT(e){return Z({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M201.5 305.5c-13.8 0-24.9-11.1-24.9-24.6 0-13.8 11.1-24.9 24.9-24.9 13.6 0 24.6 11.1 24.6 24.9 0 13.6-11.1 24.6-24.6 24.6zM504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zm-132.3-41.2c-9.4 0-17.7 3.9-23.8 10-22.4-15.5-52.6-25.5-86.1-26.6l17.4-78.3 55.4 12.5c0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.3 24.9-24.9s-11.1-24.9-24.9-24.9c-9.7 0-18 5.8-22.1 13.8l-61.2-13.6c-3-.8-6.1 1.4-6.9 4.4l-19.1 86.4c-33.2 1.4-63.1 11.3-85.5 26.8-6.1-6.4-14.7-10.2-24.1-10.2-34.9 0-46.3 46.9-14.4 62.8-1.1 5-1.7 10.2-1.7 15.5 0 52.6 59.2 95.2 132 95.2 73.1 0 132.3-42.6 132.3-95.2 0-5.3-.6-10.8-1.9-15.8 31.3-16 19.8-62.5-14.9-62.5zM302.8 331c-18.2 18.2-76.1 17.9-93.6 0-2.2-2.2-6.1-2.2-8.3 0-2.5 2.5-2.5 6.4 0 8.6 22.8 22.8 87.3 22.8 110.2 0 2.5-2.2 2.5-6.1 0-8.6-2.2-2.2-6.1-2.2-8.3 0zm7.7-75c-13.6 0-24.6 11.1-24.6 24.9 0 13.6 11.1 24.6 24.6 24.6 13.8 0 24.9-11.1 24.9-24.6 0-13.8-11-24.9-24.9-24.9z"}}]})(e)}function FT(e){return Z({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm169.5 338.9c-3.5 8.1-18.1 14-44.8 18.2-1.4 1.9-2.5 9.8-4.3 15.9-1.1 3.7-3.7 5.9-8.1 5.9h-.2c-6.2 0-12.8-2.9-25.8-2.9-17.6 0-23.7 4-37.4 13.7-14.5 10.3-28.4 19.1-49.2 18.2-21 1.6-38.6-11.2-48.5-18.2-13.8-9.7-19.8-13.7-37.4-13.7-12.5 0-20.4 3.1-25.8 3.1-5.4 0-7.5-3.3-8.3-6-1.8-6.1-2.9-14.1-4.3-16-13.8-2.1-44.8-7.5-45.5-21.4-.2-3.6 2.3-6.8 5.9-7.4 46.3-7.6 67.1-55.1 68-57.1 0-.1.1-.2.2-.3 2.5-5 3-9.2 1.6-12.5-3.4-7.9-17.9-10.7-24-13.2-15.8-6.2-18-13.4-17-18.3 1.6-8.5 14.4-13.8 21.9-10.3 5.9 2.8 11.2 4.2 15.7 4.2 3.3 0 5.5-.8 6.6-1.4-1.4-23.9-4.7-58 3.8-77.1C183.1 100 230.7 96 244.7 96c.6 0 6.1-.1 6.7-.1 34.7 0 68 17.8 84.3 54.3 8.5 19.1 5.2 53.1 3.8 77.1 1.1.6 2.9 1.3 5.7 1.4 4.3-.2 9.2-1.6 14.7-4.2 4-1.9 9.6-1.6 13.6 0 6.3 2.3 10.3 6.8 10.4 11.9.1 6.5-5.7 12.1-17.2 16.6-1.4.6-3.1 1.1-4.9 1.7-6.5 2.1-16.4 5.2-19 11.5-1.4 3.3-.8 7.5 1.6 12.5.1.1.1.2.2.3.9 2 21.7 49.5 68 57.1 4 1 7.1 5.5 4.9 10.8z"}}]})(e)}function $T(e){return Z({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111.1 8 0 119.1 0 256s111.1 248 248 248 248-111.1 248-248S384.9 8 248 8zm100.7 364.9c-4.2 0-6.8-1.3-10.7-3.6-62.4-37.6-135-39.2-206.7-24.5-3.9 1-9 2.6-11.9 2.6-9.7 0-15.8-7.7-15.8-15.8 0-10.3 6.1-15.2 13.6-16.8 81.9-18.1 165.6-16.5 237 26.2 6.1 3.9 9.7 7.4 9.7 16.5s-7.1 15.4-15.2 15.4zm26.9-65.6c-5.2 0-8.7-2.3-12.3-4.2-62.5-37-155.7-51.9-238.6-29.4-4.8 1.3-7.4 2.6-11.9 2.6-10.7 0-19.4-8.7-19.4-19.4s5.2-17.8 15.5-20.7c27.8-7.8 56.2-13.6 97.8-13.6 64.9 0 127.6 16.1 177 45.5 8.1 4.8 11.3 11 11.3 19.7-.1 10.8-8.5 19.5-19.4 19.5zm31-76.2c-5.2 0-8.4-1.3-12.9-3.9-71.2-42.5-198.5-52.7-280.9-29.7-3.6 1-8.1 2.6-12.9 2.6-13.2 0-23.3-10.3-23.3-23.6 0-13.6 8.4-21.3 17.4-23.9 35.2-10.3 74.6-15.2 117.5-15.2 73 0 149.5 15.2 205.4 47.8 7.8 4.5 12.9 10.7 12.9 22.6 0 13.6-11 23.3-23.2 23.3z"}}]})(e)}function $2(e){return Z({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm121.8 169.9l-40.7 191.8c-3 13.6-11.1 16.9-22.4 10.5l-62-45.7-29.9 28.8c-3.3 3.3-6.1 6.1-12.5 6.1l4.4-63.1 114.9-103.8c5-4.4-1.1-6.9-7.7-2.5l-142 89.4-61.2-19.1c-13.3-4.2-13.6-13.3 2.8-19.7l239.1-92.2c11.1-4 20.8 2.7 17.2 19.5z"}}]})(e)}function UT(e){return Z({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448,209.91a210.06,210.06,0,0,1-122.77-39.25V349.38A162.55,162.55,0,1,1,185,188.31V278.2a74.62,74.62,0,1,0,52.23,71.18V0l88,0a121.18,121.18,0,0,0,1.86,22.17h0A122.18,122.18,0,0,0,381,102.39a121.43,121.43,0,0,0,67,20.14Z"}}]})(e)}function zT(e){return Z({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M391.17,103.47H352.54v109.7h38.63ZM285,103H246.37V212.75H285ZM120.83,0,24.31,91.42V420.58H140.14V512l96.53-91.42h77.25L487.69,256V0ZM449.07,237.75l-77.22,73.12H294.61l-67.6,64v-64H140.14V36.58H449.07Z"}}]})(e)}function BT(e){return Z({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"}}]})(e)}function VT(e){return Z({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"}}]})(e)}function GT(e){return Z({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"}}]})(e)}function qT(e){return Z({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"}}]})(e)}function U2(e){return Z({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"}}]})(e)}function su(e){return Z({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M0 512V48C0 21.49 21.49 0 48 0h288c26.51 0 48 21.49 48 48v464L192 400 0 512z"}}]})(e)}function Qo(e){return Z({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"}}]})(e)}function WT(e){return Z({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"}}]})(e)}function z2(e){return Z({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"}}]})(e)}function HT(e){return Z({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32zM128 272c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 0c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"}}]})(e)}function zi(e){return Z({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32z"}}]})(e)}function B2(e){return Z({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"}}]})(e)}function KT(e){return Z({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M225.38 233.37c-12.5 12.5-12.5 32.76 0 45.25 12.49 12.5 32.76 12.5 45.25 0 12.5-12.5 12.5-32.76 0-45.25-12.5-12.49-32.76-12.49-45.25 0zM248 8C111.03 8 0 119.03 0 256s111.03 248 248 248 248-111.03 248-248S384.97 8 248 8zm126.14 148.05L308.17 300.4a31.938 31.938 0 0 1-15.77 15.77l-144.34 65.97c-16.65 7.61-33.81-9.55-26.2-26.2l65.98-144.35a31.938 31.938 0 0 1 15.77-15.77l144.34-65.97c16.65-7.6 33.8 9.55 26.19 26.2z"}}]})(e)}function Jg(e){return Z({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"}}]})(e)}function af(e){return Z({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"}}]})(e)}function Qh(e){return Z({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"}}]})(e)}function Zh(e){return Z({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"}}]})(e)}function YT(e){return Z({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"}}]})(e)}function nv(e){return Z({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M440.667 182.109l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l14.623-81.891C377.123 38.754 371.468 32 363.997 32h-40.632a12 12 0 0 0-11.813 9.891L296.175 128H197.54l14.623-81.891C213.477 38.754 207.822 32 200.35 32h-40.632a12 12 0 0 0-11.813 9.891L132.528 128H53.432a12 12 0 0 0-11.813 9.891l-7.143 40C33.163 185.246 38.818 192 46.289 192h74.81L98.242 320H19.146a12 12 0 0 0-11.813 9.891l-7.143 40C-1.123 377.246 4.532 384 12.003 384h74.81L72.19 465.891C70.877 473.246 76.532 480 84.003 480h40.632a12 12 0 0 0 11.813-9.891L151.826 384h98.634l-14.623 81.891C234.523 473.246 240.178 480 247.65 480h40.632a12 12 0 0 0 11.813-9.891L315.472 384h79.096a12 12 0 0 0 11.813-9.891l7.143-40c1.313-7.355-4.342-14.109-11.813-14.109h-74.81l22.857-128h79.096a12 12 0 0 0 11.813-9.891zM261.889 320h-98.634l22.857-128h98.634l-22.857 128z"}}]})(e)}function JT(e){return Z({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M192 208c0-17.67-14.33-32-32-32h-16c-35.35 0-64 28.65-64 64v48c0 35.35 28.65 64 64 64h16c17.67 0 32-14.33 32-32V208zm176 144c35.35 0 64-28.65 64-64v-48c0-35.35-28.65-64-64-64h-16c-17.67 0-32 14.33-32 32v112c0 17.67 14.33 32 32 32h16zM256 0C113.18 0 4.58 118.83 0 256v16c0 8.84 7.16 16 16 16h16c8.84 0 16-7.16 16-16v-16c0-114.69 93.31-208 208-208s208 93.31 208 208h-.12c.08 2.43.12 165.72.12 165.72 0 23.35-18.93 42.28-42.28 42.28H320c0-26.51-21.49-48-48-48h-32c-26.51 0-48 21.49-48 48s21.49 48 48 48h181.72c49.86 0 90.28-40.42 90.28-90.28V256C507.42 118.83 398.82 0 256 0z"}}]})(e)}function V2(e){return Z({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"}}]})(e)}function G2(e){return Z({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"}}]})(e)}function em(e){return Z({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"}}]})(e)}function XT(e){return Z({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"}}]})(e)}function q2(e){return Z({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"}}]})(e)}function QT(e){return Z({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M503.691 189.836L327.687 37.851C312.281 24.546 288 35.347 288 56.015v80.053C127.371 137.907 0 170.1 0 322.326c0 61.441 39.581 122.309 83.333 154.132 13.653 9.931 33.111-2.533 28.077-18.631C66.066 312.814 132.917 274.316 288 272.085V360c0 20.7 24.3 31.453 39.687 18.164l176.004-152c11.071-9.562 11.086-26.753 0-36.328z"}}]})(e)}function ZT(e){return Z({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"}}]})(e)}function e8(e){return Z({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"}}]})(e)}function t8(e){return Z({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"}}]})(e)}function W2(e){return Z({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z"}}]})(e)}function ou(e){return Z({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(e)}function Xg(e){return Z({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(e)}function Zo(e){return Z({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"}}]})(e)}function r8(e){return Z({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M336.2 64H47.8C21.4 64 0 85.4 0 111.8v288.4C0 426.6 21.4 448 47.8 448h288.4c26.4 0 47.8-21.4 47.8-47.8V111.8c0-26.4-21.4-47.8-47.8-47.8zm189.4 37.7L416 177.3v157.4l109.6 75.5c21.2 14.6 50.4-.3 50.4-25.8V127.5c0-25.4-29.1-40.4-50.4-25.8z"}}]})(e)}const n8=()=>{const{user:e}=$e(),[t,r]=m.useState([]),[n,s]=m.useState(0),[o,i]=m.useState(!1),l=m.useRef(null),[c,u]=m.useState(!0);m.useEffect(()=>{const v=w=>{l.current&&!l.current.contains(w.target)&&i(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[]),m.useEffect(()=>{if(!e)return;(async()=>{try{u(!0);const{data:p,error:y}=await z.from("notifications").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}).limit(10);if(y)throw console.error("Error fetching notifications:",y),y;console.log("Raw notifications:",p);const x=[];if(!p||p.length===0){x.push({id:"mock1",user_id:e.id,type:"friend_request",content:"Alex Johnson sent you a friend request",read:!1,created_at:new Date(Date.now()-36e5).toISOString(),related_id:"mock-user-1",related_url:"/profile/mock-user-1",sender:{id:"mock-user-1",full_name:"Alex Johnson",avatar_url:"https://randomuser.me/api/portraits/men/32.jpg"}},{id:"mock2",user_id:e.id,type:"like",content:"Maria Garcia liked your post",read:!1,created_at:new Date(Date.now()-72e5).toISOString(),related_id:"mock-post-1",related_url:"/post/mock-post-1",sender:{id:"mock-user-2",full_name:"Maria Garcia",avatar_url:"https://randomuser.me/api/portraits/women/44.jpg"}},{id:"mock3",user_id:e.id,type:"comment",content:"James Smith commented on your post",read:!0,created_at:new Date(Date.now()-864e5).toISOString(),related_id:"mock-post-2",related_url:"/post/mock-post-2",sender:{id:"mock-user-3",full_name:"James Smith",avatar_url:"https://randomuser.me/api/portraits/men/45.jpg"}},{id:"mock4",user_id:e.id,type:"group",content:"You were added to Photography Enthusiasts group",read:!0,created_at:new Date(Date.now()-1728e5).toISOString(),related_id:"mock-group-1",related_url:"/groups/mock-group-1",sender:{id:"mock-user-4",full_name:"Photography Enthusiasts",avatar_url:null}},{id:"mock5",user_id:e.id,type:"event",content:"New event: Tech Conference 2023",read:!1,created_at:new Date(Date.now()-2592e5).toISOString(),related_id:"mock-event-1",related_url:"/events/mock-event-1",sender:{id:"mock-user-5",full_name:"Tech Events",avatar_url:null}}),r(x),s(x.filter(k=>!k.read).length),u(!1);return}const _=await Promise.all((p||[]).map(async k=>{if(k.related_id)try{const{data:j,error:E}=await z.from("profiles").select("id, full_name, avatar_url").eq("id",k.related_id).single();if(!E&&j)return{...k,sender:j}}catch(j){console.error("Error fetching profile for notification:",j)}return k}));console.log("Notifications with profiles:",_),r(_),s(_.filter(k=>!k.read).length||0)}catch(p){console.error("Error fetching notifications:",p),d()}finally{u(!1)}})();const w=z.channel("notifications_changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${e.id}`},async p=>{console.log("New notification received:",p);const y=p.new;if(y.related_id){const{data:x}=await z.from("profiles").select("id, full_name, avatar_url").eq("id",y.related_id).single();x&&(y.sender=x)}console.log("Processed new notification:",y),r(x=>[y,...x].slice(0,10)),s(x=>x+1);try{new Audio("/notification.mp3").play()}catch(x){console.error("Error playing notification sound:",x)}}).subscribe();return()=>{z.removeChannel(w)}},[e]);const d=()=>{if(!e)return;const v=[{id:"mock1",user_id:e.id,type:"friend_request",content:"Alex Johnson sent you a friend request",read:!1,created_at:new Date(Date.now()-36e5).toISOString(),related_id:"mock-user-1",related_url:"/profile/mock-user-1",sender:{id:"mock-user-1",full_name:"Alex Johnson",avatar_url:"https://randomuser.me/api/portraits/men/32.jpg"}},{id:"mock2",user_id:e.id,type:"like",content:"Maria Garcia liked your post",read:!1,created_at:new Date(Date.now()-72e5).toISOString(),related_id:"mock-post-1",related_url:"/post/mock-post-1",sender:{id:"mock-user-2",full_name:"Maria Garcia",avatar_url:"https://randomuser.me/api/portraits/women/44.jpg"}},{id:"mock3",user_id:e.id,type:"comment",content:"James Smith commented on your post",read:!0,created_at:new Date(Date.now()-864e5).toISOString(),related_id:"mock-post-2",related_url:"/post/mock-post-2",sender:{id:"mock-user-3",full_name:"James Smith",avatar_url:"https://randomuser.me/api/portraits/men/45.jpg"}}];r(v),s(v.filter(w=>!w.read).length)},f=async()=>{if(!(!e||t.length===0))try{const{error:v}=await z.from("notifications").update({read:!0}).eq("user_id",e.id).eq("read",!1);if(v)throw v;r(w=>w.map(p=>({...p,read:!0}))),s(0)}catch(v){console.error("Error marking notifications as read:",v)}},h=async v=>{try{if(!v.startsWith("mock")){const{error:w}=await z.from("notifications").update({read:!0}).eq("id",v);if(w)throw w}r(w=>w.map(p=>p.id===v?{...p,read:!0}:p)),s(w=>Math.max(0,w-1))}catch(w){console.error("Error marking notification as read:",w)}},g=v=>{switch(v){case"friend_request":return a.jsx(ou,{className:"w-4 h-4 text-indigo-500"});case"friend_accepted":return a.jsx(ou,{className:"w-4 h-4 text-green-500"});case"like":return a.jsx(V2,{className:"w-4 h-4 text-rose-500"});case"comment":return a.jsx(zi,{className:"w-4 h-4 text-green-500"});case"group":return a.jsx(Zo,{className:"w-4 h-4 text-purple-500"});case"event":return a.jsx(Qo,{className:"w-4 h-4 text-yellow-500"});default:return a.jsx(zi,{className:"w-4 h-4 text-blue-500"})}},b=v=>{const w=new Date,p=new Date(v),y=Math.floor((w.getTime()-p.getTime())/1e3);if(y<60)return"just now";const x=Math.floor(y/60);if(x<60)return`${x}m ago`;const _=Math.floor(x/60);if(_<24)return`${_}h ago`;const k=Math.floor(_/24);return k<7?`${k}d ago`:p.toLocaleDateString()};return e?a.jsxs("div",{className:"relative",ref:l,children:[a.jsxs("button",{onClick:()=>i(!o),className:"relative p-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full","aria-label":"Notifications",children:[a.jsx(Fi,{className:"w-6 h-6"}),n>0&&a.jsx("span",{className:"absolute top-0 right-0 bg-rose-500 text-white text-xs w-5 h-5 flex items-center justify-center rounded-full",children:n>9?"9+":n})]}),o&&a.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white dark:bg-gray-800 rounded-md shadow-lg z-50 overflow-hidden border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b dark:border-gray-700",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Notifications"}),n>0&&a.jsx("button",{onClick:f,className:"text-sm text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-300",children:"Mark all as read"})]}),a.jsx("div",{className:"max-h-96 overflow-y-auto",children:c?a.jsx("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400",children:"Loading notifications..."}):t.length===0?a.jsxs("div",{className:"p-8 text-center text-gray-500 dark:text-gray-400",children:[a.jsx("div",{className:"flex justify-center mb-3",children:a.jsx(Fi,{className:"w-12 h-12 text-gray-300 dark:text-gray-600"})}),a.jsx("p",{children:"No notifications yet"})]}):t.map(v=>{var p,y,x;const w=v.related_url||"#";return a.jsxs("div",{className:`p-4 border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-750 transition-colors relative ${v.read?"":"bg-indigo-50 dark:bg-indigo-900/10"}`,children:[a.jsxs(we,{to:w,className:"flex items-start space-x-3",onClick:()=>{v.read||h(v.id)},children:[a.jsx("div",{className:"mt-1.5 flex-shrink-0",children:(p=v.sender)!=null&&p.avatar_url?a.jsx("img",{src:v.sender.avatar_url,alt:v.sender.full_name||"",className:"w-9 h-9 rounded-full object-cover",onError:_=>{var k,j;_.target.src="https://via.placeholder.com/40?text="+(((j=(k=v.sender)==null?void 0:k.full_name)==null?void 0:j.charAt(0))||"?")}}):a.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-r from-indigo-500 to-purple-500 flex items-center justify-center text-white",children:((x=(y=v.sender)==null?void 0:y.full_name)==null?void 0:x.charAt(0))||"?"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 leading-tight",children:v.content}),a.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 flex items-center space-x-1",children:[a.jsx("span",{className:"inline-block mr-1",children:g(v.type)}),a.jsx("span",{children:b(v.created_at)})]})]})]}),!v.read&&a.jsx("span",{className:"absolute right-3 top-3 flex-shrink-0 rounded-full w-2 h-2 bg-indigo-500"})]},v.id)})}),a.jsx("div",{className:"p-2 border-t dark:border-gray-700 bg-gray-50 dark:bg-gray-800/40",children:a.jsx(we,{to:"/notifications",className:"w-full py-2 text-sm text-center text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md block transition-colors",onClick:()=>i(!1),children:"View all notifications"})})]})]}):null},s8=()=>{const[e,t]=m.useState(!1),r=er(),{t:n}=Yr();m.useEffect(()=>{t(!1)},[r.pathname]),m.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[e]);const s=c=>r.pathname===c,o=[{path:"/",label:n("sidebar.home"),icon:a.jsx(G2,{size:20})},{path:"/profile",label:n("sidebar.profile"),icon:a.jsx(Xg,{size:20})},{path:"/groups",label:n("sidebar.groups"),icon:a.jsx(Zo,{size:20})},{path:"/events",label:n("sidebar.events"),icon:a.jsx(Qo,{size:20})}],i=[{path:"/friends",label:n("sidebar.friends"),icon:a.jsx(W2,{size:20})},{path:"/chat",label:n("sidebar.chat"),icon:a.jsx(zi,{size:20})},{path:"/messages",label:n("sidebar.messages"),icon:a.jsx(B2,{size:20})},{path:"/notifications",label:n("notifications.title"),icon:a.jsx(U2,{size:20})},{path:"/saved",label:n("sidebar.saved"),icon:a.jsx(su,{size:20})},{path:"/settings",label:n("sidebar.settings"),icon:a.jsx(z2,{size:20})}],l=()=>{t(!1),window.scrollTo(0,0)};return a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>t(!e),className:"p-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors","aria-label":"Toggle mobile menu",children:e?a.jsx(Kn,{size:24}):a.jsx(ST,{size:24})}),e&&a.jsx("div",{className:"fixed inset-0 z-50 bg-black/60 backdrop-blur-sm",onClick:()=>t(!1),children:a.jsxs("div",{className:"absolute left-0 top-0 h-full w-3/4 max-w-[280px] bg-white dark:bg-gray-800 shadow-xl p-4 overflow-y-auto",onClick:c=>c.stopPropagation(),children:[a.jsxs("div",{className:"flex justify-between items-center mb-6 pb-4 border-b border-gray-200 dark:border-gray-700",children:[a.jsx("h2",{className:"text-xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-violet-500 dark:from-indigo-400 dark:to-purple-300",children:"ConnectMe"}),a.jsx("button",{onClick:()=>t(!1),className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:a.jsx(Kn,{size:20,className:"text-gray-600 dark:text-gray-300"})})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"px-3 text-xs uppercase text-gray-500 dark:text-gray-400 font-semibold mb-2",children:n("sidebar.main")}),a.jsx("div",{className:"space-y-1",children:o.map(c=>a.jsxs(we,{to:c.path,className:`flex items-center px-3 py-2 rounded-md transition-colors ${s(c.path)?"bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 font-medium":"text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700"}`,onClick:l,children:[a.jsx("span",{className:"mr-3",children:c.icon}),a.jsx("span",{children:c.label})]},c.path))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"px-3 text-xs uppercase text-gray-500 dark:text-gray-400 font-semibold mb-2",children:n("sidebar.resources")}),a.jsx("div",{className:"space-y-1",children:i.map(c=>a.jsxs(we,{to:c.path,className:`flex items-center px-3 py-2 rounded-md transition-colors ${s(c.path)?"bg-indigo-50 dark:bg-indigo-900/30 text-indigo-700 dark:text-indigo-300 font-medium":"text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700"}`,onClick:l,children:[a.jsx("span",{className:"mr-3",children:c.icon}),a.jsx("span",{children:c.label})]},c.path))})]})]})})]})},sd=()=>{const e=m.useContext(Wg);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},H2="https://ohserebigziyxlxpkaib.supabase.co",lf="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9oc2VyZWJpZ3ppeXhseHBrYWliIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTI3NDk0MTAsImV4cCI6MjAyODMyNTQxMH0.2mVOdgG-4QPVjVxqKshjFmcAyVELY6KYHtqlR-KLpvw";console.log("[supabaseClient] Initializing Supabase Client...");console.log("[supabaseClient] VITE_SUPABASE_URL:","https://ohserebigziyxlxpkaib.supabase.co");console.log("[supabaseClient] Using URL:",H2,"Source:","env");console.log("[supabaseClient] VITE_SUPABASE_ANON_KEY status:","Loaded from env");console.log("[supabaseClient] Using key source:","env");const fe=td(H2,lf,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storageKey:"supabase.auth.token",flowType:"implicit",debug:!0},global:{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",apikey:lf},fetch:(...e)=>{try{console.log("[Supabase Fetch] Request type:",typeof e[0]);const t=e[0];if(t instanceof Request){const r=new Headers(t.headers);r.set("apikey",lf);const n=new Request(t.url,{method:t.method,headers:r,body:t.body,mode:t.mode,credentials:t.credentials,cache:t.cache,redirect:t.redirect,referrer:t.referrer,integrity:t.integrity});e[0]=n}}catch(t){console.error("[Supabase Fetch] Error processing request:",t)}return fetch(...e).then(t=>(t.ok||(console.warn(`[Supabase Fetch] Non-OK response: ${t.status} ${t.statusText}`),t.status===401&&(console.warn("[Supabase Fetch] Authentication error, attempting to refresh session"),typeof localStorage<"u"&&localStorage.removeItem("supabase.auth.token"))),t)).catch(t=>{throw console.error("[Supabase Fetch] Network error:",t),t})}},db:{schema:"public"}});fe.auth.onAuthStateChange((e,t)=>{var r,n;console.log("[Supabase Auth] State changed:",e),e==="SIGNED_IN"?console.log("[Supabase Auth] User signed in:",(r=t==null?void 0:t.user)==null?void 0:r.id):e==="SIGNED_OUT"?console.log("[Supabase Auth] User signed out"):e==="USER_UPDATED"?console.log("[Supabase Auth] User updated:",(n=t==null?void 0:t.user)==null?void 0:n.id):e==="TOKEN_REFRESHED"&&console.log("[Supabase Auth] Token refreshed successfully")});const o8=fe.functions.invoke;fe.functions.invoke=async(e,t)=>{console.log(`[Supabase Function] Invoking ${e}`,t);try{const r=await o8.call(fe.functions,e,t);return console.log(`[Supabase Function] Response from ${e}:`,r),r}catch(r){throw console.error(`[Supabase Function] Error invoking ${e}:`,r),r}};try{let e=0;const t=5e3;fe.auth.onAuthStateChange((n,s)=>{var o;console.log("[Supabase Auth] Event:",n),console.log("[Supabase Auth] Session User:",(o=s==null?void 0:s.user)==null?void 0:o.id),s!=null&&s.user?(localStorage.setItem("has_session","true"),localStorage.setItem("auth_user_id",s.user.id)):n==="SIGNED_OUT"&&(localStorage.removeItem("has_session"),localStorage.removeItem("auth_user_id"),localStorage.removeItem("supabase.auth.token"))}),setTimeout(()=>{const n=Date.now();if(n-e<t){console.log("[Supabase Auth] Skipping session check - checked recently");return}e=n,console.log("[Supabase Auth] Checking initial session..."),fe.auth.getSession().then(({data:s,error:o})=>{if(o)console.error("[Supabase Auth] Session error:",o),fe.auth.signOut().catch(i=>console.error("Error signing out:",i));else if(s!=null&&s.session){console.log("[Supabase Auth] Session exists:",s.session.user.id);const i=s.session.expires_at,l=Math.floor(Date.now()/1e3);i&&i-l<600&&(console.log("[Supabase Auth] Token expiring soon, refreshing..."),fe.auth.refreshSession().then(({data:u,error:d})=>{d?console.error("[Supabase Auth] Token refresh failed:",d):console.log("[Supabase Auth] Token refreshed successfully")})),localStorage.setItem("has_session","true"),localStorage.setItem("auth_user_id",s.session.user.id)}else console.log("[Supabase Auth] No active session found"),localStorage.removeItem("has_session"),localStorage.removeItem("auth_user_id")})},1e3)}catch(e){console.error("[Supabase Auth] Error initializing auth tracking:",e)}const a8=()=>{const{user:e}=sd(),[t,r]=m.useState([]),[n,s]=m.useState(!0),o=m.useRef(null),i=m.useRef(0),l=m.useCallback(async(d=!1)=>{const f=Date.now();if(!(!d&&f-i.current<3e4)&&e!=null&&e.id){i.current=f;try{s(!0);const{data:h,error:g}=await fe.from("notifications").select("*").eq("user_id",e.id).eq("read",!1).order("created_at",{ascending:!1}).limit(20);if(g)throw g;const b=await Promise.all((h||[]).map(async v=>{if(v.related_id)try{const{data:w,error:p}=await fe.from("profiles").select("id, full_name, avatar_url").eq("id",v.related_id).single();if(!p&&w)return{...v,sender:w}}catch(w){console.error("Error fetching profile for notification:",w)}return v}));r(b)}catch(h){console.error("Error fetching notifications:",h)}finally{s(!1)}}},[e==null?void 0:e.id]),c=m.useCallback(async d=>{if(e!=null&&e.id)try{const{error:f}=await fe.from("notifications").update({read:!0}).eq("id",d);if(f)throw f;r(h=>h.filter(g=>g.id!==d)),setTimeout(()=>{l(!0)},100)}catch(f){console.error("Error marking notification as read:",f)}},[l,e==null?void 0:e.id]),u=m.useCallback(async()=>{if(e!=null&&e.id)try{const{error:d}=await fe.from("notifications").update({read:!0}).eq("user_id",e.id).eq("read",!1);if(d)throw d;r([]),setTimeout(()=>{l(!0)},100)}catch(d){console.error("Error marking all notifications as read:",d)}},[e==null?void 0:e.id,l]);return m.useEffect(()=>{if(!e)return;l(!0);const d=fe.channel("notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${e.id}`},f=>{const h=f.new;r(g=>[h,...g])}).subscribe();return o.current=d,()=>{o.current&&o.current.unsubscribe()}},[e,l]),{notifications:t,loading:n,markAsRead:c,markAllAsRead:u,fetchNotifications:()=>l(!0)}},Qg=m.createContext({});function Zg(e){const t=m.useRef(null);return t.current===null&&(t.current=e()),t.current}const ep=typeof window<"u",K2=ep?m.useLayoutEffect:m.useEffect,od=m.createContext(null),tp=m.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class i8 extends m.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,s=n instanceof HTMLElement&&n.offsetWidth||0,o=this.props.sizeRef.current;o.height=r.offsetHeight||0,o.width=r.offsetWidth||0,o.top=r.offsetTop,o.left=r.offsetLeft,o.right=s-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function l8({children:e,isPresent:t,anchorX:r}){const n=m.useId(),s=m.useRef(null),o=m.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:i}=m.useContext(tp);return m.useInsertionEffect(()=>{const{width:l,height:c,top:u,left:d,right:f}=o.current;if(t||!s.current||!l||!c)return;const h=r==="left"?`left: ${d}`:`right: ${f}`;s.current.dataset.motionPopId=n;const g=document.createElement("style");return i&&(g.nonce=i),document.head.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            ${h}px !important;
            top: ${u}px !important;
          }
        `),()=>{document.head.removeChild(g)}},[t]),a.jsx(i8,{isPresent:t,childRef:s,sizeRef:o,children:m.cloneElement(e,{ref:s})})}const c8=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:o,mode:i,anchorX:l})=>{const c=Zg(u8),u=m.useId();let d=!0,f=m.useMemo(()=>(d=!1,{id:u,initial:t,isPresent:r,custom:s,onExitComplete:h=>{c.set(h,!0);for(const g of c.values())if(!g)return;n&&n()},register:h=>(c.set(h,!1),()=>c.delete(h))}),[r,c,n]);return o&&d&&(f={...f}),m.useMemo(()=>{c.forEach((h,g)=>c.set(g,!1))},[r]),m.useEffect(()=>{!r&&!c.size&&n&&n()},[r]),i==="popLayout"&&(e=a.jsx(l8,{isPresent:r,anchorX:l,children:e})),a.jsx(od.Provider,{value:f,children:e})};function u8(){return new Map}function Y2(e=!0){const t=m.useContext(od);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=t,o=m.useId();m.useEffect(()=>{if(e)return s(o)},[e]);const i=m.useCallback(()=>e&&n&&n(o),[o,n,e]);return!r&&n?[!1,i]:[!0]}const Gl=e=>e.key||"";function sv(e){const t=[];return m.Children.forEach(e,r=>{m.isValidElement(r)&&t.push(r)}),t}const rp=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:s=!0,mode:o="sync",propagate:i=!1,anchorX:l="left"})=>{const[c,u]=Y2(i),d=m.useMemo(()=>sv(e),[e]),f=i&&!c?[]:d.map(Gl),h=m.useRef(!0),g=m.useRef(d),b=Zg(()=>new Map),[v,w]=m.useState(d),[p,y]=m.useState(d);K2(()=>{h.current=!1,g.current=d;for(let k=0;k<p.length;k++){const j=Gl(p[k]);f.includes(j)?b.delete(j):b.get(j)!==!0&&b.set(j,!1)}},[p,f.length,f.join("-")]);const x=[];if(d!==v){let k=[...d];for(let j=0;j<p.length;j++){const E=p[j],N=Gl(E);f.includes(N)||(k.splice(j,0,E),x.push(E))}return o==="wait"&&x.length&&(k=x),y(sv(k)),w(d),null}const{forceRender:_}=m.useContext(Qg);return a.jsx(a.Fragment,{children:p.map(k=>{const j=Gl(k),E=i&&!c?!1:d===p||f.includes(j),N=()=>{if(b.has(j))b.set(j,!0);else return;let I=!0;b.forEach(C=>{C||(I=!1)}),I&&(_==null||_(),y(g.current),i&&(u==null||u()),n&&n())};return a.jsx(c8,{isPresent:E,initial:!h.current||r?void 0:!1,custom:t,presenceAffectsLayout:s,mode:o,onExitComplete:E?void 0:N,anchorX:l,children:k},j)})})};function np(e,t){e.indexOf(t)===-1&&e.push(t)}function sp(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const fn=(e,t,r)=>r>t?t:r<e?e:r;let op=()=>{};const hn={},J2=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),X2=e=>/^0[^.\s]+$/u.test(e);function ap(e){let t;return()=>(t===void 0&&(t=e()),t)}const ur=e=>e,d8=(e,t)=>r=>t(e(r)),cl=(...e)=>e.reduce(d8),Bi=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class ip{constructor(){this.subscriptions=[]}add(t){return np(this.subscriptions,t),()=>sp(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let o=0;o<s;o++){const i=this.subscriptions[o];i&&i(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Vr=e=>e*1e3,Gr=e=>e/1e3;function Q2(e,t){return t?e*(1e3/t):0}const Z2=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,f8=1e-7,h8=12;function m8(e,t,r,n,s){let o,i,l=0;do i=t+(r-t)/2,o=Z2(i,n,s)-e,o>0?r=i:t=i;while(Math.abs(o)>f8&&++l<h8);return i}function ul(e,t,r,n){if(e===t&&r===n)return ur;const s=o=>m8(o,0,1,e,r);return o=>o===0||o===1?o:Z2(s(o),t,n)}const e_=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,t_=e=>t=>1-e(1-t),r_=ul(.33,1.53,.69,.99),lp=t_(r_),n_=e_(lp),s_=e=>(e*=2)<1?.5*lp(e):.5*(2-Math.pow(2,-10*(e-1))),cp=e=>1-Math.sin(Math.acos(e)),o_=t_(cp),a_=e_(cp),g8=ul(.42,0,1,1),p8=ul(0,0,.58,1),i_=ul(.42,0,.58,1),y8=e=>Array.isArray(e)&&typeof e[0]!="number",l_=e=>Array.isArray(e)&&typeof e[0]=="number",v8={linear:ur,easeIn:g8,easeInOut:i_,easeOut:p8,circIn:cp,circInOut:a_,circOut:o_,backIn:lp,backInOut:n_,backOut:r_,anticipate:s_},x8=e=>typeof e=="string",ov=e=>{if(l_(e)){op(e.length===4);const[t,r,n,s]=e;return ul(t,r,n,s)}else if(x8(e))return v8[e];return e},ql=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],av={value:null};function b8(e,t){let r=new Set,n=new Set,s=!1,o=!1;const i=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function u(f){i.has(f)&&(d.schedule(f),e()),c++,f(l)}const d={schedule:(f,h=!1,g=!1)=>{const v=g&&s?r:n;return h&&i.add(f),v.has(f)||v.add(f),f},cancel:f=>{n.delete(f),i.delete(f)},process:f=>{if(l=f,s){o=!0;return}s=!0,[r,n]=[n,r],r.forEach(u),t&&av.value&&av.value.frameloop[t].push(c),c=0,r.clear(),s=!1,o&&(o=!1,d.process(f))}};return d}const w8=40;function c_(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>r=!0,i=ql.reduce((x,_)=>(x[_]=b8(o,t?_:void 0),x),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:f,preRender:h,render:g,postRender:b}=i,v=()=>{const x=hn.useManualTiming?s.timestamp:performance.now();r=!1,hn.useManualTiming||(s.delta=n?1e3/60:Math.max(Math.min(x-s.timestamp,w8),1)),s.timestamp=x,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),d.process(s),f.process(s),h.process(s),g.process(s),b.process(s),s.isProcessing=!1,r&&t&&(n=!1,e(v))},w=()=>{r=!0,n=!0,s.isProcessing||e(v)};return{schedule:ql.reduce((x,_)=>{const k=i[_];return x[_]=(j,E=!1,N=!1)=>(r||w(),k.schedule(j,E,N)),x},{}),cancel:x=>{for(let _=0;_<ql.length;_++)i[ql[_]].cancel(x)},state:s,steps:i}}const{schedule:Ye,cancel:Yn,state:xt,steps:cf}=c_(typeof requestAnimationFrame<"u"?requestAnimationFrame:ur,!0);let bc;function _8(){bc=void 0}const Ut={now:()=>(bc===void 0&&Ut.set(xt.isProcessing||hn.useManualTiming?xt.timestamp:performance.now()),bc),set:e=>{bc=e,queueMicrotask(_8)}},u_=e=>t=>typeof t=="string"&&t.startsWith(e),up=u_("--"),k8=u_("var(--"),dp=e=>k8(e)?S8.test(e.split("/*")[0].trim()):!1,S8=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ma={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Vi={...ma,transform:e=>fn(0,1,e)},Wl={...ma,default:1},di=e=>Math.round(e*1e5)/1e5,fp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function j8(e){return e==null}const N8=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,hp=(e,t)=>r=>!!(typeof r=="string"&&N8.test(r)&&r.startsWith(e)||t&&!j8(r)&&Object.prototype.hasOwnProperty.call(r,t)),d_=(e,t,r)=>n=>{if(typeof n!="string")return n;const[s,o,i,l]=n.match(fp);return{[e]:parseFloat(s),[t]:parseFloat(o),[r]:parseFloat(i),alpha:l!==void 0?parseFloat(l):1}},C8=e=>fn(0,255,e),uf={...ma,transform:e=>Math.round(C8(e))},Ss={test:hp("rgb","red"),parse:d_("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+uf.transform(e)+", "+uf.transform(t)+", "+uf.transform(r)+", "+di(Vi.transform(n))+")"};function E8(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const tm={test:hp("#"),parse:E8,transform:Ss.transform},dl=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Sn=dl("deg"),qr=dl("%"),me=dl("px"),P8=dl("vh"),T8=dl("vw"),iv={...qr,parse:e=>qr.parse(e)/100,transform:e=>qr.transform(e*100)},No={test:hp("hsl","hue"),parse:d_("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+qr.transform(di(t))+", "+qr.transform(di(r))+", "+di(Vi.transform(n))+")"},St={test:e=>Ss.test(e)||tm.test(e)||No.test(e),parse:e=>Ss.test(e)?Ss.parse(e):No.test(e)?No.parse(e):tm.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ss.transform(e):No.transform(e)},A8=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function R8(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(fp))==null?void 0:t.length)||0)+(((r=e.match(A8))==null?void 0:r.length)||0)>0}const f_="number",h_="color",M8="var",L8="var(",lv="${}",D8=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Gi(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},s=[];let o=0;const l=t.replace(D8,c=>(St.test(c)?(n.color.push(o),s.push(h_),r.push(St.parse(c))):c.startsWith(L8)?(n.var.push(o),s.push(M8),r.push(c)):(n.number.push(o),s.push(f_),r.push(parseFloat(c))),++o,lv)).split(lv);return{values:r,split:l,indexes:n,types:s}}function m_(e){return Gi(e).values}function g_(e){const{split:t,types:r}=Gi(e),n=t.length;return s=>{let o="";for(let i=0;i<n;i++)if(o+=t[i],s[i]!==void 0){const l=r[i];l===f_?o+=di(s[i]):l===h_?o+=St.transform(s[i]):o+=s[i]}return o}}const O8=e=>typeof e=="number"?0:e;function I8(e){const t=m_(e);return g_(e)(t.map(O8))}const Jn={test:R8,parse:m_,createTransformer:g_,getAnimatableNone:I8};function df(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function F8({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,o=0,i=0;if(!t)s=o=i=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;s=df(c,l,e+1/3),o=df(c,l,e),i=df(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(i*255),alpha:n}}function au(e,t){return r=>r>0?t:e}const He=(e,t,r)=>e+(t-e)*r,ff=(e,t,r)=>{const n=e*e,s=r*(t*t-n)+n;return s<0?0:Math.sqrt(s)},$8=[tm,Ss,No],U8=e=>$8.find(t=>t.test(e));function cv(e){const t=U8(e);if(!t)return!1;let r=t.parse(e);return t===No&&(r=F8(r)),r}const uv=(e,t)=>{const r=cv(e),n=cv(t);if(!r||!n)return au(e,t);const s={...r};return o=>(s.red=ff(r.red,n.red,o),s.green=ff(r.green,n.green,o),s.blue=ff(r.blue,n.blue,o),s.alpha=He(r.alpha,n.alpha,o),Ss.transform(s))},rm=new Set(["none","hidden"]);function z8(e,t){return rm.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function B8(e,t){return r=>He(e,t,r)}function mp(e){return typeof e=="number"?B8:typeof e=="string"?dp(e)?au:St.test(e)?uv:q8:Array.isArray(e)?p_:typeof e=="object"?St.test(e)?uv:V8:au}function p_(e,t){const r=[...e],n=r.length,s=e.map((o,i)=>mp(o)(o,t[i]));return o=>{for(let i=0;i<n;i++)r[i]=s[i](o);return r}}function V8(e,t){const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=mp(e[s])(e[s],t[s]));return s=>{for(const o in n)r[o]=n[o](s);return r}}function G8(e,t){const r=[],n={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const o=t.types[s],i=e.indexes[o][n[o]],l=e.values[i]??0;r[s]=l,n[o]++}return r}const q8=(e,t)=>{const r=Jn.createTransformer(t),n=Gi(e),s=Gi(t);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?rm.has(e)&&!s.values.length||rm.has(t)&&!n.values.length?z8(e,t):cl(p_(G8(n,s),s.values),r):au(e,t)};function y_(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?He(e,t,r):mp(e)(e,t)}const W8=e=>{const t=({timestamp:r})=>e(r);return{start:()=>Ye.update(t,!0),stop:()=>Yn(t),now:()=>xt.isProcessing?xt.timestamp:Ut.now()}},v_=(e,t,r=10)=>{let n="";const s=Math.max(Math.round(t/r),2);for(let o=0;o<s;o++)n+=e(o/(s-1))+", ";return`linear(${n.substring(0,n.length-2)})`},iu=2e4;function gp(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<iu;)t+=r,n=e.next(t);return t>=iu?1/0:t}function H8(e,t=100,r){const n=r({...e,keyframes:[0,t]}),s=Math.min(gp(n),iu);return{type:"keyframes",ease:o=>n.next(s*o).value/t,duration:Gr(s)}}const K8=5;function x_(e,t,r){const n=Math.max(t-K8,0);return Q2(r-e(n),t-n)}const Xe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},dv=.001;function Y8({duration:e=Xe.duration,bounce:t=Xe.bounce,velocity:r=Xe.velocity,mass:n=Xe.mass}){let s,o,i=1-t;i=fn(Xe.minDamping,Xe.maxDamping,i),e=fn(Xe.minDuration,Xe.maxDuration,Gr(e)),i<1?(s=u=>{const d=u*i,f=d*e,h=d-r,g=nm(u,i),b=Math.exp(-f);return dv-h/g*b},o=u=>{const f=u*i*e,h=f*r+r,g=Math.pow(i,2)*Math.pow(u,2)*e,b=Math.exp(-f),v=nm(Math.pow(u,2),i);return(-s(u)+dv>0?-1:1)*((h-g)*b)/v}):(s=u=>{const d=Math.exp(-u*e),f=(u-r)*e+1;return-.001+d*f},o=u=>{const d=Math.exp(-u*e),f=(r-u)*(e*e);return d*f});const l=5/e,c=X8(s,o,l);if(e=Vr(e),isNaN(c))return{stiffness:Xe.stiffness,damping:Xe.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:i*2*Math.sqrt(n*u),duration:e}}}const J8=12;function X8(e,t,r){let n=r;for(let s=1;s<J8;s++)n=n-e(n)/t(n);return n}function nm(e,t){return e*Math.sqrt(1-t*t)}const Q8=["duration","bounce"],Z8=["stiffness","damping","mass"];function fv(e,t){return t.some(r=>e[r]!==void 0)}function eA(e){let t={velocity:Xe.velocity,stiffness:Xe.stiffness,damping:Xe.damping,mass:Xe.mass,isResolvedFromDuration:!1,...e};if(!fv(e,Z8)&&fv(e,Q8))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,o=2*fn(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Xe.mass,stiffness:s,damping:o}}else{const r=Y8(e);t={...t,...r,mass:Xe.mass},t.isResolvedFromDuration=!0}return t}function lu(e=Xe.visualDuration,t=Xe.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:s}=r;const o=r.keyframes[0],i=r.keyframes[r.keyframes.length-1],l={done:!1,value:o},{stiffness:c,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:g}=eA({...r,velocity:-Gr(r.velocity||0)}),b=h||0,v=u/(2*Math.sqrt(c*d)),w=i-o,p=Gr(Math.sqrt(c/d)),y=Math.abs(w)<5;n||(n=y?Xe.restSpeed.granular:Xe.restSpeed.default),s||(s=y?Xe.restDelta.granular:Xe.restDelta.default);let x;if(v<1){const k=nm(p,v);x=j=>{const E=Math.exp(-v*p*j);return i-E*((b+v*p*w)/k*Math.sin(k*j)+w*Math.cos(k*j))}}else if(v===1)x=k=>i-Math.exp(-p*k)*(w+(b+p*w)*k);else{const k=p*Math.sqrt(v*v-1);x=j=>{const E=Math.exp(-v*p*j),N=Math.min(k*j,300);return i-E*((b+v*p*w)*Math.sinh(N)+k*w*Math.cosh(N))/k}}const _={calculatedDuration:g&&f||null,next:k=>{const j=x(k);if(g)l.done=k>=f;else{let E=k===0?b:0;v<1&&(E=k===0?Vr(b):x_(x,k,j));const N=Math.abs(E)<=n,I=Math.abs(i-j)<=s;l.done=N&&I}return l.value=l.done?i:j,l},toString:()=>{const k=Math.min(gp(_),iu),j=v_(E=>_.next(k*E).value,k,30);return k+"ms "+j},toTransition:()=>{}};return _}lu.applyToOptions=e=>{const t=H8(e,100,lu);return e.ease=t.ease,e.duration=Vr(t.duration),e.type="keyframes",e};function sm({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:i,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},g=N=>l!==void 0&&N<l||c!==void 0&&N>c,b=N=>l===void 0?c:c===void 0||Math.abs(l-N)<Math.abs(c-N)?l:c;let v=r*t;const w=f+v,p=i===void 0?w:i(w);p!==w&&(v=p-f);const y=N=>-v*Math.exp(-N/n),x=N=>p+y(N),_=N=>{const I=y(N),C=x(N);h.done=Math.abs(I)<=u,h.value=h.done?p:C};let k,j;const E=N=>{g(h.value)&&(k=N,j=lu({keyframes:[h.value,b(h.value)],velocity:x_(x,N,h.value),damping:s,stiffness:o,restDelta:u,restSpeed:d}))};return E(0),{calculatedDuration:null,next:N=>{let I=!1;return!j&&k===void 0&&(I=!0,_(N),E(N)),k!==void 0&&N>=k?j.next(N-k):(!I&&_(N),h)}}}function tA(e,t,r){const n=[],s=r||hn.mix||y_,o=e.length-1;for(let i=0;i<o;i++){let l=s(e[i],e[i+1]);if(t){const c=Array.isArray(t)?t[i]||ur:t;l=cl(c,l)}n.push(l)}return n}function rA(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const o=e.length;if(op(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const i=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=tA(t,n,s),c=l.length,u=d=>{if(i&&d<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const h=Bi(e[f],e[f+1],d);return l[f](h)};return r?d=>u(fn(e[0],e[o-1],d)):u}function nA(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=Bi(0,t,n);e.push(He(r,1,s))}}function sA(e){const t=[0];return nA(t,e.length-1),t}function oA(e,t){return e.map(r=>r*t)}function aA(e,t){return e.map(()=>t||i_).splice(0,e.length-1)}function fi({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=y8(n)?n.map(ov):ov(n),o={done:!1,value:t[0]},i=oA(r&&r.length===t.length?r:sA(t),e),l=rA(i,t,{ease:Array.isArray(s)?s:aA(t,s)});return{calculatedDuration:e,next:c=>(o.value=l(c),o.done=c>=e,o)}}const iA=e=>e!==null;function pp(e,{repeat:t,repeatType:r="loop"},n,s=1){const o=e.filter(iA),l=s<0||t&&r!=="loop"&&t%2===1?0:o.length-1;return!l||n===void 0?o[l]:n}const lA={decay:sm,inertia:sm,tween:fi,keyframes:fi,spring:lu};function b_(e){typeof e.type=="string"&&(e.type=lA[e.type])}class yp{constructor(){this.count=0,this.updateFinished()}get finished(){return this._finished}updateFinished(){this.count++,this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const cA=e=>e/100;class w_ extends yp{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;if(r&&r.updatedAt!==Ut.now()&&this.tick(Ut.now()),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:n}=this.options;n&&n()},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;b_(t);const{type:r=fi,repeat:n=0,repeatDelay:s=0,repeatType:o,velocity:i=0}=t;let{keyframes:l}=t;const c=r||fi;c!==fi&&typeof l[0]!="number"&&(this.mixKeyframes=cl(cA,y_(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});o==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-i})),u.calculatedDuration===null&&(u.calculatedDuration=gp(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(n+1)-s,this.generator=u}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:s,mixKeyframes:o,mirroredGenerator:i,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:d,repeat:f,repeatType:h,repeatDelay:g,type:b,onUpdate:v,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const p=this.currentTime-u*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?p<0:p>s;this.currentTime=Math.max(p,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let x=this.currentTime,_=n;if(f){const N=Math.min(this.currentTime,s)/l;let I=Math.floor(N),C=N%1;!C&&N>=1&&(C=1),C===1&&I--,I=Math.min(I,f+1),!!(I%2)&&(h==="reverse"?(C=1-C,g&&(C-=g/l)):h==="mirror"&&(_=i)),x=fn(0,1,C)*l}const k=y?{done:!1,value:d[0]}:_.next(x);o&&(k.value=o(k.value));let{done:j}=k;!y&&c!==null&&(j=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return E&&b!==sm&&(k.value=pp(d,this.options,w,this.speed)),v&&v(k.value),E&&this.finish(),k}then(t,r){return this.finished.then(t,r)}get duration(){return Gr(this.calculatedDuration)}get time(){return Gr(this.currentTime)}set time(t){t=Vr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Ut.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Gr(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=W8,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),r&&r();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ut.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown()}teardown(){this.notifyFinished(),this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),t.observe(this)}}function uA(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const js=e=>e*180/Math.PI,om=e=>{const t=js(Math.atan2(e[1],e[0]));return am(t)},dA={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:om,rotateZ:om,skewX:e=>js(Math.atan(e[1])),skewY:e=>js(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},am=e=>(e=e%360,e<0&&(e+=360),e),hv=om,mv=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),gv=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),fA={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:mv,scaleY:gv,scale:e=>(mv(e)+gv(e))/2,rotateX:e=>am(js(Math.atan2(e[6],e[5]))),rotateY:e=>am(js(Math.atan2(-e[2],e[0]))),rotateZ:hv,rotate:hv,skewX:e=>js(Math.atan(e[4])),skewY:e=>js(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function pv(e){return e.includes("scale")?1:0}function im(e,t){if(!e||e==="none")return pv(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,s;if(r)n=fA,s=r;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=dA,s=l}if(!s)return pv(t);const o=n[t],i=s[1].split(",").map(mA);return typeof o=="function"?o(i):i[o]}const hA=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return im(r,t)};function mA(e){return parseFloat(e.trim())}const ga=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],pa=new Set(ga),yv=e=>e===ma||e===me,gA=new Set(["x","y","z"]),pA=ga.filter(e=>!gA.has(e));function yA(e){const t=[];return pA.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const ea={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>im(t,"x"),y:(e,{transform:t})=>im(t,"y")};ea.translateX=ea.x;ea.translateY=ea.y;const Ps=new Set;let lm=!1,cm=!1,um=!1;function __(){if(cm){const e=Array.from(Ps).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const s=yA(n);s.length&&(r.set(n,s),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([o,i])=>{var l;(l=n.getValue(o))==null||l.set(i)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}cm=!1,lm=!1,Ps.forEach(e=>e.complete(um)),Ps.clear()}function k_(){Ps.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(cm=!0)})}function vA(){um=!0,k_(),__(),um=!1}class vp{constructor(t,r,n,s,o,i=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=s,this.element=o,this.isAsync=i}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ps.add(this),lm||(lm=!0,Ye.read(k_),Ye.resolveKeyframes(__))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:s}=this;if(t[0]===null){const o=s==null?void 0:s.get(),i=t[t.length-1];if(o!==void 0)t[0]=o;else if(n&&r){const l=n.readValue(r,i);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=i),s&&o===void 0&&s.set(t[0])}uA(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ps.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ps.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const xA=e=>e.startsWith("--");function bA(e,t,r){xA(t)?e.style.setProperty(t,r):e.style[t]=r}const wA=ap(()=>window.ScrollTimeline!==void 0),_A={};function kA(e,t){const r=ap(e);return()=>_A[t]??r()}const S_=kA(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Wa=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,vv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Wa([0,.65,.55,1]),circOut:Wa([.55,0,1,.45]),backIn:Wa([.31,.01,.66,-.59]),backOut:Wa([.33,1.53,.69,.99])};function j_(e,t){if(e)return typeof e=="function"?S_()?v_(e,t):"ease-out":l_(e)?Wa(e):Array.isArray(e)?e.map(r=>j_(r,t)||vv.easeOut):vv[e]}function SA(e,t,r,{delay:n=0,duration:s=300,repeat:o=0,repeatType:i="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[t]:r};c&&(d.offset=c);const f=j_(l,s);Array.isArray(f)&&(d.easing=f);const h={delay:n,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:o+1,direction:i==="reverse"?"alternate":"normal"};return u&&(h.pseudoElement=u),e.animate(d,h)}function N_(e){return typeof e=="function"&&"applyToOptions"in e}function jA({type:e,...t}){return N_(e)&&S_()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class NA extends yp{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:s,pseudoElement:o,allowFlatten:i=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!o,this.allowFlatten=i,this.options=t,op(typeof t.type!="string");const u=jA(t);this.animation=SA(r,n,s,u,o),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const d=pp(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):bA(r,n,d),this.animation.cancel()}c==null||c(),this.notifyFinished()},this.animation.oncancel=()=>this.notifyFinished()}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return Gr(Number(t))}get time(){return Gr(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Vr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&wA()?(this.animation.timeline=t,ur):r(this)}}const C_={anticipate:s_,backInOut:n_,circInOut:a_};function CA(e){return e in C_}function EA(e){typeof e.ease=="string"&&CA(e.ease)&&(e.ease=C_[e.ease])}const xv=10;class PA extends NA{constructor(t){EA(t),b_(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:s,element:o,...i}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const l=new w_({...i,autoplay:!1}),c=Vr(this.finishedTime??this.time);r.setWithVelocity(l.sample(c-xv).value,l.sample(c).value,xv),l.stop()}}const bv=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Jn.test(e)||e==="0")&&!e.startsWith("url("));function TA(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function AA(e,t,r,n){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],i=bv(s,t),l=bv(o,t);return!i||!l?!1:TA(e)||(r==="spring"||N_(r))&&n}const RA=new Set(["opacity","clipPath","filter","transform"]),MA=ap(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function LA(e){const{motionValue:t,name:r,repeatDelay:n,repeatType:s,damping:o,type:i}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=t.owner.getProps();return MA()&&r&&RA.has(r)&&(r!=="transform"||!c)&&!l&&!n&&s!=="mirror"&&o!==0&&i!=="inertia"}const DA=40;class OA extends yp{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:i="loop",keyframes:l,name:c,motionValue:u,element:d,...f}){var b;super(),this.stop=()=>{var v,w;this._animation?(this._animation.stop(),(v=this.stopTimeline)==null||v.call(this)):(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=Ut.now();const h={autoplay:t,delay:r,type:n,repeat:s,repeatDelay:o,repeatType:i,name:c,motionValue:u,element:d,...f},g=(d==null?void 0:d.KeyframeResolver)||vp;this.keyframeResolver=new g(l,(v,w,p)=>this.onKeyframesResolved(v,w,h,!p),c,u,d),(b=this.keyframeResolver)==null||b.scheduleResolve()}onKeyframesResolved(t,r,n,s){this.keyframeResolver=void 0;const{name:o,type:i,velocity:l,delay:c,isHandoff:u,onUpdate:d}=n;this.resolvedAt=Ut.now(),AA(t,o,i,l)||((hn.instantAnimations||!c)&&(d==null||d(pp(t,n,r))),t[0]=t[t.length-1],n.duration=0,n.repeat=0);const h={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>DA?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},g=!u&&LA(h)?new PA({...h,element:h.motionValue.owner.current}):new w_(h);g.finished.then(()=>this.notifyFinished()).catch(ur),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||vA(),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this.animation.cancel()}}const IA=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function FA(e){const t=IA.exec(e);if(!t)return[,];const[,r,n,s]=t;return[`--${r??n}`,s]}function E_(e,t,r=1){const[n,s]=FA(e);if(!n)return;const o=window.getComputedStyle(t).getPropertyValue(n);if(o){const i=o.trim();return J2(i)?parseFloat(i):i}return dp(s)?E_(s,t,r+1):s}function xp(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const P_=new Set(["width","height","top","left","right","bottom",...ga]),$A={test:e=>e==="auto",parse:e=>e},T_=e=>t=>t.test(e),A_=[ma,me,qr,Sn,T8,P8,$A],wv=e=>A_.find(T_(e));function UA(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||X2(e):!0}const zA=new Set(["brightness","contrast","saturate","opacity"]);function BA(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(fp)||[];if(!n)return e;const s=r.replace(n,"");let o=zA.has(t)?1:0;return n!==r&&(o*=100),t+"("+o+s+")"}const VA=/\b([a-z-]*)\(.*?\)/gu,dm={...Jn,getAnimatableNone:e=>{const t=e.match(VA);return t?t.map(BA).join(" "):e}},_v={...ma,transform:Math.round},GA={rotate:Sn,rotateX:Sn,rotateY:Sn,rotateZ:Sn,scale:Wl,scaleX:Wl,scaleY:Wl,scaleZ:Wl,skew:Sn,skewX:Sn,skewY:Sn,distance:me,translateX:me,translateY:me,translateZ:me,x:me,y:me,z:me,perspective:me,transformPerspective:me,opacity:Vi,originX:iv,originY:iv,originZ:me},bp={borderWidth:me,borderTopWidth:me,borderRightWidth:me,borderBottomWidth:me,borderLeftWidth:me,borderRadius:me,radius:me,borderTopLeftRadius:me,borderTopRightRadius:me,borderBottomRightRadius:me,borderBottomLeftRadius:me,width:me,maxWidth:me,height:me,maxHeight:me,top:me,right:me,bottom:me,left:me,padding:me,paddingTop:me,paddingRight:me,paddingBottom:me,paddingLeft:me,margin:me,marginTop:me,marginRight:me,marginBottom:me,marginLeft:me,backgroundPositionX:me,backgroundPositionY:me,...GA,zIndex:_v,fillOpacity:Vi,strokeOpacity:Vi,numOctaves:_v},qA={...bp,color:St,backgroundColor:St,outlineColor:St,fill:St,stroke:St,borderColor:St,borderTopColor:St,borderRightColor:St,borderBottomColor:St,borderLeftColor:St,filter:dm,WebkitFilter:dm},R_=e=>qA[e];function M_(e,t){let r=R_(e);return r!==dm&&(r=Jn),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const WA=new Set(["auto","none","0"]);function HA(e,t,r){let n=0,s;for(;n<e.length&&!s;){const o=e[n];typeof o=="string"&&!WA.has(o)&&Gi(o).values.length&&(s=e[n]),n++}if(s&&r)for(const o of t)e[o]=M_(r,s)}class KA extends vp{constructor(t,r,n,s,o){super(t,r,n,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),dp(u))){const d=E_(u,r.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!P_.has(n)||t.length!==2)return;const[s,o]=t,i=wv(s),l=wv(o);if(i!==l)if(yv(i)&&yv(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let s=0;s<t.length;s++)(t[s]===null||UA(t[s]))&&n.push(s);n.length&&HA(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ea[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&t.getValue(n,s).jump(s,!1)}measureEndState(){var l;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const s=t.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=n.length-1,i=n[o];n[o]=ea[r](t.measureViewportBox(),window.getComputedStyle(t.current)),i!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=i),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function YA(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const s=(r==null?void 0:r[e])??n.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const{schedule:wp}=c_(queueMicrotask,!1),yr={x:!1,y:!1};function L_(){return yr.x||yr.y}function JA(e){return e==="x"||e==="y"?yr[e]?null:(yr[e]=!0,()=>{yr[e]=!1}):yr.x||yr.y?null:(yr.x=yr.y=!0,()=>{yr.x=yr.y=!1})}function D_(e,t){const r=YA(e),n=new AbortController,s={passive:!0,...t,signal:n.signal};return[r,s,()=>n.abort()]}function kv(e){return!(e.pointerType==="touch"||L_())}function XA(e,t,r={}){const[n,s,o]=D_(e,r),i=l=>{if(!kv(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const d=f=>{kv(f)&&(u(f),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,s)};return n.forEach(l=>{l.addEventListener("pointerenter",i,s)}),o}const O_=(e,t)=>t?e===t?!0:O_(e,t.parentElement):!1,_p=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,QA=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ZA(e){return QA.has(e.tagName)||e.tabIndex!==-1}const Ha=new WeakSet;function Sv(e){return t=>{t.key==="Enter"&&e(t)}}function hf(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const eR=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=Sv(()=>{if(Ha.has(r))return;hf(r,"down");const s=Sv(()=>{hf(r,"up")}),o=()=>hf(r,"cancel");r.addEventListener("keyup",s,t),r.addEventListener("blur",o,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function jv(e){return _p(e)&&!L_()}function tR(e,t,r={}){const[n,s,o]=D_(e,r),i=l=>{const c=l.currentTarget;if(!jv(l)||Ha.has(c))return;Ha.add(c);const u=t(c,l),d=(g,b)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),!(!jv(g)||!Ha.has(c))&&(Ha.delete(c),typeof u=="function"&&u(g,{success:b}))},f=g=>{d(g,c===window||c===document||r.useGlobalTarget||O_(c,g.target))},h=g=>{d(g,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",h,s)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",i,s),l instanceof HTMLElement&&(l.addEventListener("focus",u=>eR(u,s)),!ZA(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),o}const Nv=30,rR=e=>!isNaN(parseFloat(e));class nR{constructor(t,r={}){this.version="12.9.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,s=!0)=>{var i,l;const o=Ut.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current)),s&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Ut.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=rR(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new ip);const n=this.events[t].add(r);return t==="change"?()=>{n(),Ye.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ut.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Nv)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,Nv);return Q2(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t;(t=this.events.destroy)==null||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function qi(e,t){return new nR(e,t)}const sR=[...A_,St,Jn],oR=e=>sR.find(T_(e)),I_=(e,t)=>t&&typeof e=="number"?t.transform(e):e,F_=m.createContext({strict:!1}),Cv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ta={};for(const e in Cv)ta[e]={isEnabled:t=>Cv[e].some(r=>!!t[r])};function aR(e){for(const t in e)ta[t]={...ta[t],...e[t]}}const iR=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function cu(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||iR.has(e)}let $_=e=>!cu(e);function lR(e){e&&($_=t=>t.startsWith("on")?!cu(t):e(t))}try{lR(require("@emotion/is-prop-valid").default)}catch{}function cR(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||($_(s)||r===!0&&cu(s)||!t&&!cu(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}function uR(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const ad=m.createContext({});function id(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Wi(e){return typeof e=="string"||Array.isArray(e)}const kp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Sp=["initial",...kp];function ld(e){return id(e.animate)||Sp.some(t=>Wi(e[t]))}function U_(e){return!!(ld(e)||e.variants)}function dR(e,t){if(ld(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Wi(r)?r:void 0,animate:Wi(n)?n:void 0}}return e.inherit!==!1?t:{}}function fR(e){const{initial:t,animate:r}=dR(e,m.useContext(ad));return m.useMemo(()=>({initial:t,animate:r}),[Ev(t),Ev(r)])}function Ev(e){return Array.isArray(e)?e.join(" "):e}const hR=Symbol.for("motionComponentSymbol");function Co(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function mR(e,t,r){return m.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Co(r)&&(r.current=n))},[t])}const jp=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),gR="framerAppearId",z_="data-"+jp(gR),B_=m.createContext({});function pR(e,t,r,n,s){var v,w;const{visualElement:o}=m.useContext(ad),i=m.useContext(F_),l=m.useContext(od),c=m.useContext(tp).reducedMotion,u=m.useRef(null);n=n||i.renderer,!u.current&&n&&(u.current=n(e,{visualState:t,parent:o,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,f=m.useContext(B_);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&yR(u.current,r,s,f);const h=m.useRef(!1);m.useInsertionEffect(()=>{d&&h.current&&d.update(r,l)});const g=r[z_],b=m.useRef(!!g&&!((v=window.MotionHandoffIsComplete)!=null&&v.call(window,g))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,g)));return K2(()=>{d&&(h.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),wp.render(d.render),b.current&&d.animationState&&d.animationState.animateChanges())}),m.useEffect(()=>{d&&(!b.current&&d.animationState&&d.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{var p;(p=window.MotionHandoffMarkAsComplete)==null||p.call(window,g)}),b.current=!1))}),d}function yR(e,t,r,n){const{layoutId:s,layout:o,drag:i,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:V_(e.parent)),e.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!i||l&&Co(l),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:c,layoutRoot:u})}function V_(e){if(e)return e.options.allowProjection!==!1?e.projection:V_(e.parent)}function vR({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:s}){e&&aR(e);function o(l,c){let u;const d={...m.useContext(tp),...l,layoutId:xR(l)},{isStatic:f}=d,h=fR(l),g=n(l,f);if(!f&&ep){bR();const b=wR(d);u=b.MeasureLayout,h.visualElement=pR(s,g,d,t,b.ProjectionNode)}return a.jsxs(ad.Provider,{value:h,children:[u&&h.visualElement?a.jsx(u,{visualElement:h.visualElement,...d}):null,r(s,l,mR(g,h.visualElement,c),g,f,h.visualElement)]})}o.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const i=m.forwardRef(o);return i[hR]=s,i}function xR({layoutId:e}){const t=m.useContext(Qg).id;return t&&e!==void 0?t+"-"+e:e}function bR(e,t){m.useContext(F_).strict}function wR(e){const{drag:t,layout:r}=ta;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const Hi={};function _R(e){for(const t in e)Hi[t]=e[t],up(t)&&(Hi[t].isCSSVariable=!0)}function G_(e,{layout:t,layoutId:r}){return pa.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Hi[e]||e==="opacity")}const Nt=e=>!!(e&&e.getVelocity),kR={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},SR=ga.length;function jR(e,t,r){let n="",s=!0;for(let o=0;o<SR;o++){const i=ga[o],l=e[i];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(i.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=I_(l,bp[i]);if(!c){s=!1;const d=kR[i]||i;n+=`${d}(${u}) `}r&&(t[i]=u)}}return n=n.trim(),r?n=r(t,s?"":n):s&&(n="none"),n}function Np(e,t,r){const{style:n,vars:s,transformOrigin:o}=e;let i=!1,l=!1;for(const c in t){const u=t[c];if(pa.has(c)){i=!0;continue}else if(up(c)){s[c]=u;continue}else{const d=I_(u,bp[c]);c.startsWith("origin")?(l=!0,o[c]=d):n[c]=d}}if(t.transform||(i||r?n.transform=jR(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=o;n.transformOrigin=`${c} ${u} ${d}`}}const Cp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function q_(e,t,r){for(const n in t)!Nt(t[n])&&!G_(n,r)&&(e[n]=t[n])}function NR({transformTemplate:e},t){return m.useMemo(()=>{const r=Cp();return Np(r,t,e),Object.assign({},r.vars,r.style)},[t])}function CR(e,t){const r=e.style||{},n={};return q_(n,r,e),Object.assign(n,NR(e,t)),n}function ER(e,t){const r={},n=CR(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const PR=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ep(e){return typeof e!="string"||e.includes("-")?!1:!!(PR.indexOf(e)>-1||/[A-Z]/u.test(e))}const TR={offset:"stroke-dashoffset",array:"stroke-dasharray"},AR={offset:"strokeDashoffset",array:"strokeDasharray"};function RR(e,t,r=1,n=0,s=!0){e.pathLength=1;const o=s?TR:AR;e[o.offset]=me.transform(-n);const i=me.transform(t),l=me.transform(r);e[o.array]=`${i} ${l}`}function W_(e,{attrX:t,attrY:r,attrScale:n,pathLength:s,pathSpacing:o=1,pathOffset:i=0,...l},c,u){if(Np(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:d,style:f}=e;d.transform&&(f.transform=d.transform,delete d.transform),(f.transform||d.transformOrigin)&&(f.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),f.transform&&(f.transformBox="fill-box",delete d.transformBox),t!==void 0&&(d.x=t),r!==void 0&&(d.y=r),n!==void 0&&(d.scale=n),s!==void 0&&RR(d,s,o,i,!1)}const H_=()=>({...Cp(),attrs:{}}),K_=e=>typeof e=="string"&&e.toLowerCase()==="svg";function MR(e,t,r,n){const s=m.useMemo(()=>{const o=H_();return W_(o,t,K_(n),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};q_(o,e.style,e),s.style={...o,...s.style}}return s}function LR(e=!1){return(r,n,s,{latestValues:o},i)=>{const c=(Ep(r)?MR:ER)(n,o,i,r),u=cR(n,typeof r=="string",e),d=r!==m.Fragment?{...u,...c,ref:s}:{},{children:f}=n,h=m.useMemo(()=>Nt(f)?f.get():f,[f]);return m.createElement(r,{...d,children:h})}}function Pv(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function Pp(e,t,r,n){if(typeof t=="function"){const[s,o]=Pv(n);t=t(r!==void 0?r:e.custom,s,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,o]=Pv(n);t=t(r!==void 0?r:e.custom,s,o)}return t}function wc(e){return Nt(e)?e.get():e}function DR({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,s){return{latestValues:OR(r,n,s,e),renderState:t()}}const Y_=e=>(t,r)=>{const n=m.useContext(ad),s=m.useContext(od),o=()=>DR(e,t,n,s);return r?o():Zg(o)};function OR(e,t,r,n){const s={},o=n(e,{});for(const h in o)s[h]=wc(o[h]);let{initial:i,animate:l}=e;const c=ld(e),u=U_(e);t&&u&&!c&&e.inherit!==!1&&(i===void 0&&(i=t.initial),l===void 0&&(l=t.animate));let d=r?r.initial===!1:!1;d=d||i===!1;const f=d?l:i;if(f&&typeof f!="boolean"&&!id(f)){const h=Array.isArray(f)?f:[f];for(let g=0;g<h.length;g++){const b=Pp(e,h[g]);if(b){const{transitionEnd:v,transition:w,...p}=b;for(const y in p){let x=p[y];if(Array.isArray(x)){const _=d?x.length-1:0;x=x[_]}x!==null&&(s[y]=x)}for(const y in v)s[y]=v[y]}}}return s}function Tp(e,t,r){var o;const{style:n}=e,s={};for(const i in n)(Nt(n[i])||t.style&&Nt(t.style[i])||G_(i,e)||((o=r==null?void 0:r.getValue(i))==null?void 0:o.liveStyle)!==void 0)&&(s[i]=n[i]);return s}const IR={useVisualState:Y_({scrapeMotionValuesFromProps:Tp,createRenderState:Cp})};function J_(e,t,r){const n=Tp(e,t,r);for(const s in e)if(Nt(e[s])||Nt(t[s])){const o=ga.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[o]=e[s]}return n}const FR={useVisualState:Y_({scrapeMotionValuesFromProps:J_,createRenderState:H_})};function $R(e,t){return function(n,{forwardMotionProps:s}={forwardMotionProps:!1}){const i={...Ep(n)?FR:IR,preloadedFeatures:e,useRender:LR(s),createVisualElement:t,Component:n};return vR(i)}}function Ki(e,t,r){const n=e.getProps();return Pp(n,t,r!==void 0?r:n.custom,e)}const fm=e=>Array.isArray(e);function UR(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,qi(r))}function zR(e){return fm(e)?e[e.length-1]||0:e}function BR(e,t){const r=Ki(e,t);let{transitionEnd:n={},transition:s={},...o}=r||{};o={...o,...n};for(const i in o){const l=zR(o[i]);UR(e,i,l)}}function VR(e){return!!(Nt(e)&&e.add)}function hm(e,t){const r=e.getValue("willChange");if(VR(r))return r.add(t);if(!r&&hn.WillChange){const n=new hn.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function X_(e){return e.props[z_]}const GR=e=>e!==null;function qR(e,{repeat:t,repeatType:r="loop"},n){const s=e.filter(GR),o=t&&r!=="loop"&&t%2===1?0:s.length-1;return s[o]}const WR={type:"spring",stiffness:500,damping:25,restSpeed:10},HR=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),KR={type:"keyframes",duration:.8},YR={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},JR=(e,{keyframes:t})=>t.length>2?KR:pa.has(e)?e.startsWith("scale")?HR(t[1]):WR:YR;function XR({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:o,repeatType:i,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const Ap=(e,t,r,n={},s,o)=>i=>{const l=xp(n,e)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-Vr(c);const d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{i(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:o?void 0:s};XR(l)||Object.assign(d,JR(e,d)),d.duration&&(d.duration=Vr(d.duration)),d.repeatDelay&&(d.repeatDelay=Vr(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),(hn.instantAnimations||hn.skipAnimations)&&(f=!0,d.duration=0,d.delay=0),d.allowFlatten=!l.type&&!l.ease,f&&!o&&t.get()!==void 0){const h=qR(d.keyframes,l);if(h!==void 0){Ye.update(()=>{d.onUpdate(h),d.onComplete()});return}}return new OA(d)};function QR({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function Q_(e,t,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:i,...l}=t;n&&(o=n);const c=[],u=s&&e.animationState&&e.animationState.getState()[s];for(const d in l){const f=e.getValue(d,e.latestValues[d]??null),h=l[d];if(h===void 0||u&&QR(u,d))continue;const g={delay:r,...xp(o||{},d)},b=f.get();if(b!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===b&&!g.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const p=X_(e);if(p){const y=window.MotionHandoffAnimation(p,d,Ye);y!==null&&(g.startTime=y,v=!0)}}hm(e,d),f.start(Ap(d,f,h,e.shouldReduceMotion&&P_.has(d)?{type:!1}:g,e,v));const w=f.animation;w&&c.push(w)}return i&&Promise.all(c).then(()=>{Ye.update(()=>{i&&BR(e,i)})}),c}function mm(e,t,r={}){var c;const n=Ki(e,t,r.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const o=n?()=>Promise.all(Q_(e,n,r)):()=>Promise.resolve(),i=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=s;return ZR(e,t,d+u,f,h,r)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,d]=l==="beforeChildren"?[o,i]:[i,o];return u().then(()=>d())}else return Promise.all([o(),i(r.delay)])}function ZR(e,t,r=0,n=0,s=1,o){const i=[],l=(e.variantChildren.size-1)*n,c=s===1?(u=0)=>u*n:(u=0)=>l-u*n;return Array.from(e.variantChildren).sort(eM).forEach((u,d)=>{u.notify("AnimationStart",t),i.push(mm(u,t,{...o,delay:r+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(i)}function eM(e,t){return e.sortNodePosition(t)}function tM(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(o=>mm(e,o,r));n=Promise.all(s)}else if(typeof t=="string")n=mm(e,t,r);else{const s=typeof t=="function"?Ki(e,t,r.custom):t;n=Promise.all(Q_(e,s,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function Z_(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const rM=Sp.length;function ek(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?ek(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<rM;r++){const n=Sp[r],s=e.props[n];(Wi(s)||s===!1)&&(t[n]=s)}return t}const nM=[...kp].reverse(),sM=kp.length;function oM(e){return t=>Promise.all(t.map(({animation:r,options:n})=>tM(e,r,n)))}function aM(e){let t=oM(e),r=Tv(),n=!0;const s=c=>(u,d)=>{var h;const f=Ki(e,d,c==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:g,transitionEnd:b,...v}=f;u={...u,...v,...b}}return u};function o(c){t=c(e)}function i(c){const{props:u}=e,d=ek(e.parent)||{},f=[],h=new Set;let g={},b=1/0;for(let w=0;w<sM;w++){const p=nM[w],y=r[p],x=u[p]!==void 0?u[p]:d[p],_=Wi(x),k=p===c?y.isActive:null;k===!1&&(b=w);let j=x===d[p]&&x!==u[p]&&_;if(j&&n&&e.manuallyAnimateOnMount&&(j=!1),y.protectedKeys={...g},!y.isActive&&k===null||!x&&!y.prevProp||id(x)||typeof x=="boolean")continue;const E=iM(y.prevProp,x);let N=E||p===c&&y.isActive&&!j&&_||w>b&&_,I=!1;const C=Array.isArray(x)?x:[x];let L=C.reduce(s(p),{});k===!1&&(L={});const{prevResolvedValues:P={}}=y,D={...P,...L},A=U=>{N=!0,h.has(U)&&(I=!0,h.delete(U)),y.needsAnimating[U]=!0;const S=e.getValue(U);S&&(S.liveStyle=!1)};for(const U in D){const S=L[U],M=P[U];if(g.hasOwnProperty(U))continue;let T=!1;fm(S)&&fm(M)?T=!Z_(S,M):T=S!==M,T?S!=null?A(U):h.add(U):S!==void 0&&h.has(U)?A(U):y.protectedKeys[U]=!0}y.prevProp=x,y.prevResolvedValues=L,y.isActive&&(g={...g,...L}),n&&e.blockInitialAnimation&&(N=!1),N&&(!(j&&E)||I)&&f.push(...C.map(U=>({animation:U,options:{type:p}})))}if(h.size){const w={};if(typeof u.initial!="boolean"){const p=Ki(e,Array.isArray(u.initial)?u.initial[0]:u.initial);p&&p.transition&&(w.transition=p.transition)}h.forEach(p=>{const y=e.getBaseTarget(p),x=e.getValue(p);x&&(x.liveStyle=!0),w[p]=y??null}),f.push({animation:w})}let v=!!f.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(v=!1),n=!1,v?t(f):Promise.resolve()}function l(c,u){var f;if(r[c].isActive===u)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var g;return(g=h.animationState)==null?void 0:g.setActive(c,u)}),r[c].isActive=u;const d=i(c);for(const h in r)r[h].protectedKeys={};return d}return{animateChanges:i,setActive:l,setAnimateFunction:o,getState:()=>r,reset:()=>{r=Tv(),n=!0}}}function iM(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Z_(t,e):!1}function fs(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Tv(){return{animate:fs(!0),whileInView:fs(),whileHover:fs(),whileTap:fs(),whileDrag:fs(),whileFocus:fs(),exit:fs()}}class as{constructor(t){this.isMounted=!1,this.node=t}update(){}}class lM extends as{constructor(t){super(t),t.animationState||(t.animationState=aM(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();id(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let cM=0;class uM extends as{constructor(){super(...arguments),this.id=cM++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const s=this.node.animationState.setActive("exit",!t);r&&!t&&s.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const dM={animation:{Feature:lM},exit:{Feature:uM}};function Yi(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function fl(e){return{point:{x:e.pageX,y:e.pageY}}}const fM=e=>t=>_p(t)&&e(t,fl(t));function hi(e,t,r,n){return Yi(e,t,fM(r),n)}function tk({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function hM({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function mM(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}const rk=1e-4,gM=1-rk,pM=1+rk,nk=.01,yM=0-nk,vM=0+nk;function At(e){return e.max-e.min}function xM(e,t,r){return Math.abs(e-t)<=r}function Av(e,t,r,n=.5){e.origin=n,e.originPoint=He(t.min,t.max,e.origin),e.scale=At(r)/At(t),e.translate=He(r.min,r.max,e.origin)-e.originPoint,(e.scale>=gM&&e.scale<=pM||isNaN(e.scale))&&(e.scale=1),(e.translate>=yM&&e.translate<=vM||isNaN(e.translate))&&(e.translate=0)}function mi(e,t,r,n){Av(e.x,t.x,r.x,n?n.originX:void 0),Av(e.y,t.y,r.y,n?n.originY:void 0)}function Rv(e,t,r){e.min=r.min+t.min,e.max=e.min+At(t)}function bM(e,t,r){Rv(e.x,t.x,r.x),Rv(e.y,t.y,r.y)}function Mv(e,t,r){e.min=t.min-r.min,e.max=e.min+At(t)}function gi(e,t,r){Mv(e.x,t.x,r.x),Mv(e.y,t.y,r.y)}const Lv=()=>({translate:0,scale:1,origin:0,originPoint:0}),Eo=()=>({x:Lv(),y:Lv()}),Dv=()=>({min:0,max:0}),Ze=()=>({x:Dv(),y:Dv()});function nr(e){return[e("x"),e("y")]}function mf(e){return e===void 0||e===1}function gm({scale:e,scaleX:t,scaleY:r}){return!mf(e)||!mf(t)||!mf(r)}function ys(e){return gm(e)||sk(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function sk(e){return Ov(e.x)||Ov(e.y)}function Ov(e){return e&&e!=="0%"}function uu(e,t,r){const n=e-r,s=t*n;return r+s}function Iv(e,t,r,n,s){return s!==void 0&&(e=uu(e,s,n)),uu(e,r,n)+t}function pm(e,t=0,r=1,n,s){e.min=Iv(e.min,t,r,n,s),e.max=Iv(e.max,t,r,n,s)}function ok(e,{x:t,y:r}){pm(e.x,t.translate,t.scale,t.originPoint),pm(e.y,r.translate,r.scale,r.originPoint)}const Fv=.999999999999,$v=1.0000000000001;function wM(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let o,i;for(let l=0;l<s;l++){o=r[l],i=o.projectionDelta;const{visualElement:c}=o.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&o.options.layoutScroll&&o.scroll&&o!==o.root&&To(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,ok(e,i)),n&&ys(o.latestValues)&&To(e,o.latestValues))}t.x<$v&&t.x>Fv&&(t.x=1),t.y<$v&&t.y>Fv&&(t.y=1)}function Po(e,t){e.min=e.min+t,e.max=e.max+t}function Uv(e,t,r,n,s=.5){const o=He(e.min,e.max,s);pm(e,t,r,o,n)}function To(e,t){Uv(e.x,t.x,t.scaleX,t.scale,t.originX),Uv(e.y,t.y,t.scaleY,t.scale,t.originY)}function ak(e,t){return tk(mM(e.getBoundingClientRect(),t))}function _M(e,t,r){const n=ak(e,r),{scroll:s}=t;return s&&(Po(n.x,s.offset.x),Po(n.y,s.offset.y)),n}const ik=({current:e})=>e?e.ownerDocument.defaultView:null,zv=(e,t)=>Math.abs(e-t);function kM(e,t){const r=zv(e.x,t.x),n=zv(e.y,t.y);return Math.sqrt(r**2+n**2)}class lk{constructor(t,r,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=pf(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,g=kM(f.offset,{x:0,y:0})>=3;if(!h&&!g)return;const{point:b}=f,{timestamp:v}=xt;this.history.push({...b,timestamp:v});const{onStart:w,onMove:p}=this.handlers;h||(w&&w(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),p&&p(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=gf(h,this.transformPagePoint),Ye.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:g,onSessionEnd:b,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=pf(f.type==="pointercancel"?this.lastMoveEventInfo:gf(h,this.transformPagePoint),this.history);this.startEvent&&g&&g(f,w),b&&b(f,w)},!_p(t))return;this.dragSnapToOrigin=o,this.handlers=r,this.transformPagePoint=n,this.contextWindow=s||window;const i=fl(t),l=gf(i,this.transformPagePoint),{point:c}=l,{timestamp:u}=xt;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=r;d&&d(t,pf(l,this.history)),this.removeListeners=cl(hi(this.contextWindow,"pointermove",this.handlePointerMove),hi(this.contextWindow,"pointerup",this.handlePointerUp),hi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Yn(this.updatePoint)}}function gf(e,t){return t?{point:t(e.point)}:e}function Bv(e,t){return{x:e.x-t.x,y:e.y-t.y}}function pf({point:e},t){return{point:e,delta:Bv(e,ck(t)),offset:Bv(e,SM(t)),velocity:jM(t,.1)}}function SM(e){return e[0]}function ck(e){return e[e.length-1]}function jM(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=ck(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>Vr(t)));)r--;if(!n)return{x:0,y:0};const o=Gr(s.timestamp-n.timestamp);if(o===0)return{x:0,y:0};const i={x:(s.x-n.x)/o,y:(s.y-n.y)/o};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function NM(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?He(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?He(r,e,n.max):Math.min(e,r)),e}function Vv(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function CM(e,{top:t,left:r,bottom:n,right:s}){return{x:Vv(e.x,r,s),y:Vv(e.y,t,n)}}function Gv(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function EM(e,t){return{x:Gv(e.x,t.x),y:Gv(e.y,t.y)}}function PM(e,t){let r=.5;const n=At(e),s=At(t);return s>n?r=Bi(t.min,t.max-n,e.min):n>s&&(r=Bi(e.min,e.max-s,t.min)),fn(0,1,r)}function TM(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const ym=.35;function AM(e=ym){return e===!1?e=0:e===!0&&(e=ym),{x:qv(e,"left","right"),y:qv(e,"top","bottom")}}function qv(e,t,r){return{min:Wv(e,t),max:Wv(e,r)}}function Wv(e,t){return typeof e=="number"?e:e[t]||0}const RM=new WeakMap;class MM{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ze(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(fl(d).point)},o=(d,f)=>{const{drag:h,dragPropagation:g,onDragStart:b}=this.getProps();if(h&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=JA(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),nr(w=>{let p=this.getAxisMotionValue(w).get()||0;if(qr.test(p)){const{projection:y}=this.visualElement;if(y&&y.layout){const x=y.layout.layoutBox[w];x&&(p=At(x)*(parseFloat(p)/100))}}this.originPoint[w]=p}),b&&Ye.postRender(()=>b(d,f)),hm(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},i=(d,f)=>{const{dragPropagation:h,dragDirectionLock:g,onDirectionLock:b,onDrag:v}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:w}=f;if(g&&this.currentDirection===null){this.currentDirection=LM(w),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",f.point,w),this.updateAxis("y",f.point,w),this.visualElement.render(),v&&v(d,f)},l=(d,f)=>this.stop(d,f),c=()=>nr(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)==null?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new lk(t,{onSessionStart:s,onStart:o,onMove:i,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:ik(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&Ye.postRender(()=>o(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!Hl(t,s,this.currentDirection))return;const o=this.getAxisMotionValue(t);let i=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(i=NM(i,this.constraints[t],this.elastic[t])),o.set(i)}resolveConstraints(){var o;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,s=this.constraints;t&&Co(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=CM(n.layoutBox,t):this.constraints=!1,this.elastic=AM(r),s!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&nr(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=TM(n.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Co(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=_M(n,s.root,this.visualElement.getTransformPagePoint());let i=EM(s.layout.layoutBox,o);if(r){const l=r(hM(i));this.hasMutatedConstraints=!!l,l&&(i=tk(l))}return i}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:o,dragSnapToOrigin:i,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=nr(d=>{if(!Hl(d,r,this.currentDirection))return;let f=c&&c[d]||{};i&&(f={min:0,max:0});const h=s?200:1e6,g=s?40:1e7,b={type:"inertia",velocity:n?t[d]:0,bounceStiffness:h,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...o,...f};return this.startAxisValueAnimation(d,b)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return hm(this.visualElement,t),n.start(Ap(t,n,0,r,this.visualElement,!1))}stopAnimation(){nr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){nr(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){nr(r=>{const{drag:n}=this.getProps();if(!Hl(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(r);if(s&&s.layout){const{min:i,max:l}=s.layout.layoutBox[r];o.set(t[r]-He(i,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Co(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};nr(i=>{const l=this.getAxisMotionValue(i);if(l&&this.constraints!==!1){const c=l.get();s[i]=PM({min:c,max:c},this.constraints[i])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),nr(i=>{if(!Hl(i,t,null))return;const l=this.getAxisMotionValue(i),{min:c,max:u}=this.constraints[i];l.set(He(c,u,s[i]))})}addListeners(){if(!this.visualElement.current)return;RM.set(this.visualElement,this);const t=this.visualElement.current,r=hi(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Co(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Ye.read(n);const i=Yi(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(nr(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{i(),r(),o(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:i=ym,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:o,dragElastic:i,dragMomentum:l}}}function Hl(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function LM(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class DM extends as{constructor(t){super(t),this.removeGroupControls=ur,this.removeListeners=ur,this.controls=new MM(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ur}unmount(){this.removeGroupControls(),this.removeListeners()}}const Hv=e=>(t,r)=>{e&&Ye.postRender(()=>e(t,r))};class OM extends as{constructor(){super(...arguments),this.removePointerDownListener=ur}onPointerDown(t){this.session=new lk(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ik(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:Hv(t),onStart:Hv(r),onMove:n,onEnd:(o,i)=>{delete this.session,s&&Ye.postRender(()=>s(o,i))}}}mount(){this.removePointerDownListener=hi(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const _c={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Kv(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const La={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(me.test(e))e=parseFloat(e);else return e;const r=Kv(e,t.target.x),n=Kv(e,t.target.y);return`${r}% ${n}%`}},IM={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=Jn.parse(e);if(s.length>5)return n;const o=Jn.createTransformer(e),i=typeof s[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;s[0+i]/=l,s[1+i]/=c;const u=He(l,c,.5);return typeof s[2+i]=="number"&&(s[2+i]/=u),typeof s[3+i]=="number"&&(s[3+i]/=u),o(s)}};class FM extends m.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:o}=t;_R($M),o&&(r.group&&r.group.add(o),n&&n.register&&s&&n.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),_c.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:o}=this.props,i=n.projection;return i&&(i.isPresent=o,s||t.layoutDependency!==r||r===void 0||t.isPresent!==o?i.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?i.promote():i.relegate()||Ye.postRender(()=>{const l=i.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),wp.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function uk(e){const[t,r]=Y2(),n=m.useContext(Qg);return a.jsx(FM,{...e,layoutGroup:n,switchLayoutGroup:m.useContext(B_),isPresent:t,safeToRemove:r})}const $M={borderRadius:{...La,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:La,borderTopRightRadius:La,borderBottomLeftRadius:La,borderBottomRightRadius:La,boxShadow:IM};function UM(e,t,r){const n=Nt(e)?e:qi(e);return n.start(Ap("",n,t,r)),n.animation}function zM(e){return e instanceof SVGElement&&e.tagName!=="svg"}const BM=(e,t)=>e.depth-t.depth;class VM{constructor(){this.children=[],this.isDirty=!1}add(t){np(this.children,t),this.isDirty=!0}remove(t){sp(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(BM),this.isDirty=!1,this.children.forEach(t)}}function GM(e,t){const r=Ut.now(),n=({timestamp:s})=>{const o=s-r;o>=t&&(Yn(n),e(o-t))};return Ye.setup(n,!0),()=>Yn(n)}const dk=["TopLeft","TopRight","BottomLeft","BottomRight"],qM=dk.length,Yv=e=>typeof e=="string"?parseFloat(e):e,Jv=e=>typeof e=="number"||me.test(e);function WM(e,t,r,n,s,o){s?(e.opacity=He(0,r.opacity??1,HM(n)),e.opacityExit=He(t.opacity??1,0,KM(n))):o&&(e.opacity=He(t.opacity??1,r.opacity??1,n));for(let i=0;i<qM;i++){const l=`border${dk[i]}Radius`;let c=Xv(t,l),u=Xv(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Jv(c)===Jv(u)?(e[l]=Math.max(He(Yv(c),Yv(u),n),0),(qr.test(u)||qr.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=He(t.rotate||0,r.rotate||0,n))}function Xv(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const HM=fk(0,.5,o_),KM=fk(.5,.95,ur);function fk(e,t,r){return n=>n<e?0:n>t?1:r(Bi(e,t,n))}function Qv(e,t){e.min=t.min,e.max=t.max}function tr(e,t){Qv(e.x,t.x),Qv(e.y,t.y)}function Zv(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function ex(e,t,r,n,s){return e-=t,e=uu(e,1/r,n),s!==void 0&&(e=uu(e,1/s,n)),e}function YM(e,t=0,r=1,n=.5,s,o=e,i=e){if(qr.test(t)&&(t=parseFloat(t),t=He(i.min,i.max,t/100)-i.min),typeof t!="number")return;let l=He(o.min,o.max,n);e===o&&(l-=t),e.min=ex(e.min,t,r,l,s),e.max=ex(e.max,t,r,l,s)}function tx(e,t,[r,n,s],o,i){YM(e,t[r],t[n],t[s],t.scale,o,i)}const JM=["x","scaleX","originX"],XM=["y","scaleY","originY"];function rx(e,t,r,n){tx(e.x,t,JM,r?r.x:void 0,n?n.x:void 0),tx(e.y,t,XM,r?r.y:void 0,n?n.y:void 0)}function nx(e){return e.translate===0&&e.scale===1}function hk(e){return nx(e.x)&&nx(e.y)}function sx(e,t){return e.min===t.min&&e.max===t.max}function QM(e,t){return sx(e.x,t.x)&&sx(e.y,t.y)}function ox(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function mk(e,t){return ox(e.x,t.x)&&ox(e.y,t.y)}function ax(e){return At(e.x)/At(e.y)}function ix(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class ZM{constructor(){this.members=[]}add(t){np(this.members,t),t.scheduleRender()}remove(t){if(sp(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){n=o;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function eL(e,t,r){let n="";const s=e.x.translate/t.x,o=e.y.translate/t.y,i=(r==null?void 0:r.z)||0;if((s||o||i)&&(n=`translate3d(${s}px, ${o}px, ${i}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:g,skewY:b}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),g&&(n+=`skewX(${g}deg) `),b&&(n+=`skewY(${b}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const yf=["","X","Y","Z"],tL={visibility:"hidden"},lx=1e3;let rL=0;function vf(e,t,r,n){const{latestValues:s}=t;s[e]&&(r[e]=s[e],t.setStaticValue(e,0),n&&(n[e]=0))}function gk(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=X_(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Ye,!(s||o))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&gk(n)}function pk({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(i={},l=t==null?void 0:t()){this.id=rL++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(oL),this.nodes.forEach(uL),this.nodes.forEach(dL),this.nodes.forEach(aL)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new VM)}addEventListener(i,l){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new ip),this.eventHandlers.get(i).add(l)}notifyListeners(i,...l){const c=this.eventHandlers.get(i);c&&c.notify(...l)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=zM(i),this.instance=i;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(i,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=GM(h,250),_c.hasAnimatedSinceResize&&(_c.hasAnimatedSinceResize=!1,this.nodes.forEach(ux))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeLayoutChanged:g,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||pL,{onLayoutAnimationStart:w,onLayoutAnimationComplete:p}=d.getProps(),y=!this.targetLayout||!mk(this.targetLayout,b),x=!h&&g;if(this.options.layoutRoot||this.resumeFrom||x||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,x);const _={...xp(v,"layout"),onPlay:w,onComplete:p};(d.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_)}else h||ux(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Yn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(fL),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&gk(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(cx);return}this.isUpdating||this.nodes.forEach(lL),this.isUpdating=!1,this.nodes.forEach(cL),this.nodes.forEach(nL),this.nodes.forEach(sL),this.clearAllSnapshots();const l=Ut.now();xt.delta=fn(0,1e3/60,l-xt.timestamp),xt.timestamp=l,xt.isProcessing=!0,cf.update.process(xt),cf.preRender.process(xt),cf.render.process(xt),xt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,wp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(iL),this.sharedNodes.forEach(hL)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ye.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ye.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!At(this.snapshot.measuredBox.x)&&!At(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ze(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(l=!1),l){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!hk(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;i&&(l||ys(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return i&&(c=this.removeTransform(c)),yL(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:i}=this.options;if(!i)return Ze();const l=i.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(vL))){const{scroll:d}=this.root;d&&(Po(l.x,d.offset.x),Po(l.y,d.offset.y))}return l}removeElementScroll(i){var c;const l=Ze();if(tr(l,i),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&tr(l,i),Po(l.x,f.offset.x),Po(l.y,f.offset.y))}return l}applyTransform(i,l=!1){const c=Ze();tr(c,i);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&To(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),ys(d.latestValues)&&To(c,d.latestValues)}return ys(this.latestValues)&&To(c,this.latestValues),c}removeTransform(i){const l=Ze();tr(l,i);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!ys(u.latestValues))continue;gm(u.latestValues)&&u.updateSnapshot();const d=Ze(),f=u.measurePageBox();tr(d,f),rx(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return ys(this.latestValues)&&rx(l,this.latestValues),l}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==xt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var h;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(i||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=xt.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ze(),this.relativeTargetOrigin=Ze(),gi(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),tr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ze(),this.targetWithTransforms=Ze()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),bM(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):tr(this.target,this.layout.layoutBox),ok(this.target,this.targetDelta)):tr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ze(),this.relativeTargetOrigin=Ze(),gi(this.relativeTargetOrigin,this.target,g.target),tr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||gm(this.parent.latestValues)||sk(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var b;const i=this.getLead(),l=!!this.resumingFrom||this!==i;let c=!0;if((this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===xt.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;tr(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;wM(this.layoutCorrected,this.treeScale,this.path,l),i.layout&&!i.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(i.target=i.layout.layoutBox,i.targetWithTransforms=Ze());const{target:g}=i;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Zv(this.prevProjectionDelta.x,this.projectionDelta.x),Zv(this.prevProjectionDelta.y,this.projectionDelta.y)),mi(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!ix(this.projectionDelta.x,this.prevProjectionDelta.x)||!ix(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),i){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Eo(),this.projectionDelta=Eo(),this.projectionDeltaWithTransform=Eo()}setAnimationOrigin(i,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Eo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=Ze(),g=c?c.source:void 0,b=this.layout?this.layout.source:void 0,v=g!==b,w=this.getStack(),p=!w||w.members.length<=1,y=!!(v&&!p&&this.options.crossfade===!0&&!this.path.some(gL));this.animationProgress=0;let x;this.mixTargetDelta=_=>{const k=_/1e3;dx(f.x,i.x,k),dx(f.y,i.y,k),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(gi(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mL(this.relativeTarget,this.relativeTargetOrigin,h,k),x&&QM(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=Ze()),tr(x,this.relativeTarget)),v&&(this.animationValues=d,WM(d,u,this.latestValues,k,y,p)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Yn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ye.update(()=>{_c.hasAnimatedSinceResize=!0,this.currentAnimation=UM(0,lx,{...i,onUpdate:l=>{this.mixTargetDelta(l),i.onUpdate&&i.onUpdate(l)},onStop:()=>{},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(lx),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=i;if(!(!l||!c||!u)){if(this!==i&&this.layout&&u&&yk(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Ze();const f=At(this.layout.layoutBox.x);c.x.min=i.target.x.min,c.x.max=c.x.min+f;const h=At(this.layout.layoutBox.y);c.y.min=i.target.y.min,c.y.max=c.y.min+h}tr(l,c),To(l,d),mi(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(i,l){this.sharedNodes.has(i)||this.sharedNodes.set(i,new ZM),this.sharedNodes.get(i).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var l;const{layoutId:i}=this.options;return i?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:i}=this.options;return i?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),i&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let l=!1;const{latestValues:c}=i;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&vf("z",i,u,this.animationValues);for(let d=0;d<yf.length;d++)vf(`rotate${yf[d]}`,i,u,this.animationValues),vf(`skew${yf[d]}`,i,u,this.animationValues);i.render();for(const d in u)i.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);i.scheduleRender()}getProjectionStyles(i){if(!this.instance||this.isSVG)return;if(!this.isVisible)return tL;const l={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=wc(i==null?void 0:i.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none",l;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=wc(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!ys(this.latestValues)&&(g.transform=c?c({},""):"none",this.hasProjected=!1),g}const d=u.animationValues||u.latestValues;this.applyTransformsToTarget(),l.transform=eL(this.projectionDeltaWithTransform,this.treeScale,d),c&&(l.transform=c(d,l.transform));const{x:f,y:h}=this.projectionDelta;l.transformOrigin=`${f.origin*100}% ${h.origin*100}% 0`,u.animationValues?l.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:l.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const g in Hi){if(d[g]===void 0)continue;const{correct:b,applyTo:v,isCSSVariable:w}=Hi[g],p=l.transform==="none"?d[g]:b(d[g],u);if(v){const y=v.length;for(let x=0;x<y;x++)l[v[x]]=p}else w?this.options.visualElement.renderState.vars[g]=p:l[g]=p}return this.options.layoutId&&(l.pointerEvents=u===this?wc(i==null?void 0:i.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var l;return(l=i.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(cx),this.root.sharedNodes.clear()}}}function nL(e){e.updateLayout()}function sL(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:o}=e.options,i=t.source!==e.layout.source;o==="size"?nr(f=>{const h=i?t.measuredBox[f]:t.layoutBox[f],g=At(h);h.min=n[f].min,h.max=h.min+g}):yk(o,t.layoutBox,n)&&nr(f=>{const h=i?t.measuredBox[f]:t.layoutBox[f],g=At(n[f]);h.max=h.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+g)});const l=Eo();mi(l,n,t.layoutBox);const c=Eo();i?mi(c,e.applyTransform(s,!0),t.measuredBox):mi(c,n,t.layoutBox);const u=!hk(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:g}=f;if(h&&g){const b=Ze();gi(b,t.layoutBox,h.layoutBox);const v=Ze();gi(v,n,g.layoutBox),mk(b,v)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=b,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function oL(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function aL(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function iL(e){e.clearSnapshot()}function cx(e){e.clearMeasurements()}function lL(e){e.isLayoutDirty=!1}function cL(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function ux(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function uL(e){e.resolveTargetDelta()}function dL(e){e.calcProjection()}function fL(e){e.resetSkewAndRotation()}function hL(e){e.removeLeadSnapshot()}function dx(e,t,r){e.translate=He(t.translate,0,r),e.scale=He(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function fx(e,t,r,n){e.min=He(t.min,r.min,n),e.max=He(t.max,r.max,n)}function mL(e,t,r,n){fx(e.x,t.x,r.x,n),fx(e.y,t.y,r.y,n)}function gL(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const pL={duration:.45,ease:[.4,0,.1,1]},hx=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),mx=hx("applewebkit/")&&!hx("chrome/")?Math.round:ur;function gx(e){e.min=mx(e.min),e.max=mx(e.max)}function yL(e){gx(e.x),gx(e.y)}function yk(e,t,r){return e==="position"||e==="preserve-aspect"&&!xM(ax(t),ax(r),.2)}function vL(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const xL=pk({attachResizeListener:(e,t)=>Yi(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),xf={current:void 0},vk=pk({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!xf.current){const e=new xL({});e.mount(window),e.setOptions({layoutScroll:!0}),xf.current=e}return xf.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),bL={pan:{Feature:OM},drag:{Feature:DM,ProjectionNode:vk,MeasureLayout:uk}};function px(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,o=n[s];o&&Ye.postRender(()=>o(t,fl(t)))}class wL extends as{mount(){const{current:t}=this.node;t&&(this.unmount=XA(t,(r,n)=>(px(this.node,n,"Start"),s=>px(this.node,s,"End"))))}unmount(){}}class _L extends as{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=cl(Yi(this.node.current,"focus",()=>this.onFocus()),Yi(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function yx(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),o=n[s];o&&Ye.postRender(()=>o(t,fl(t)))}class kL extends as{mount(){const{current:t}=this.node;t&&(this.unmount=tR(t,(r,n)=>(yx(this.node,n,"Start"),(s,{success:o})=>yx(this.node,s,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const vm=new WeakMap,bf=new WeakMap,SL=e=>{const t=vm.get(e.target);t&&t(e)},jL=e=>{e.forEach(SL)};function NL({root:e,...t}){const r=e||document;bf.has(r)||bf.set(r,{});const n=bf.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(jL,{root:e,...t})),n[s]}function CL(e,t,r){const n=NL(t);return vm.set(e,r),n.observe(e),()=>{vm.delete(e),n.unobserve(e)}}const EL={some:0,all:1};class PL extends as{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:o}=t,i={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:EL[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return CL(this.node.current,i,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(TL(t,r))&&this.startObserver()}unmount(){}}function TL({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const AL={inView:{Feature:PL},tap:{Feature:kL},focus:{Feature:_L},hover:{Feature:wL}},RL={layout:{ProjectionNode:vk,MeasureLayout:uk}},xm={current:null},xk={current:!1};function ML(){if(xk.current=!0,!!ep)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>xm.current=e.matches;e.addListener(t),t()}else xm.current=!1}const LL=new WeakMap;function DL(e,t,r){for(const n in t){const s=t[n],o=r[n];if(Nt(s))e.addValue(n,s);else if(Nt(o))e.addValue(n,qi(s,{owner:e}));else if(o!==s)if(e.hasValue(n)){const i=e.getValue(n);i.liveStyle===!0?i.jump(s):i.hasAnimated||i.set(s)}else{const i=e.getStaticValue(n);e.addValue(n,qi(i!==void 0?i:s,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const vx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class OL{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:o,visualState:i},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=vp,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Ut.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Ye.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=i;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!o,this.isControllingVariants=ld(r),this.isVariantNode=U_(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in f){const g=f[h];c[h]!==void 0&&Nt(g)&&g.set(c[h],!1)}}mount(t){this.current=t,LL.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),xk.current||ML(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:xm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Yn(this.notifyUpdate),Yn(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=pa.has(t);n&&this.onBindTransform&&this.onBindTransform();const s=r.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Ye.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),o=r.on("renderRequest",this.scheduleRender);let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{s(),o(),i&&i(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ta){const r=ta[t];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[t]&&s&&n(this.props)&&(this.features[t]=new s(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ze()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<vx.length;n++){const s=vx[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,i=t[o];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=DL(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=qi(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(J2(n)||X2(n))?n=parseFloat(n):!oR(n)&&Jn.test(r)&&(n=M_(t,r)),this.setBaseTarget(t,Nt(n)?n.get():n)),Nt(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var o;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const i=Pp(this.props,r,(o=this.presenceContext)==null?void 0:o.custom);i&&(n=i[t])}if(r&&n!==void 0)return n;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Nt(s)?s:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new ip),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class bk extends OL{constructor(){super(...arguments),this.KeyframeResolver=KA}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Nt(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function wk(e,{style:t,vars:r},n,s){Object.assign(e.style,t,s&&s.getProjectionStyles(n));for(const o in r)e.style.setProperty(o,r[o])}function IL(e){return window.getComputedStyle(e)}class FL extends bk{constructor(){super(...arguments),this.type="html",this.renderInstance=wk}readValueFromInstance(t,r){if(pa.has(r))return hA(t,r);{const n=IL(t),s=(up(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return ak(t,r)}build(t,r,n){Np(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return Tp(t,r,n)}}const _k=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function $L(e,t,r,n){wk(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(_k.has(s)?s:jp(s),t.attrs[s])}class UL extends bk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ze}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(pa.has(r)){const n=R_(r);return n&&n.default||0}return r=_k.has(r)?r:jp(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return J_(t,r,n)}build(t,r,n){W_(t,r,this.isSVGTag,n.transformTemplate)}renderInstance(t,r,n,s){$L(t,r,n,s)}mount(t){this.isSVGTag=K_(t.tagName),super.mount(t)}}const zL=(e,t)=>Ep(e)?new UL(t):new FL(t,{allowProjection:e!==m.Fragment}),BL=$R({...dM,...AL,...bL,...RL},zL),dr=uR(BL);function xx(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Rp(...e){return t=>{let r=!1;const n=e.map(s=>{const o=xx(s,t);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let s=0;s<n.length;s++){const o=n[s];typeof o=="function"?o():xx(e[s],null)}}}}function De(...e){return m.useCallback(Rp(...e),e)}function Is(e){const t=GL(e),r=m.forwardRef((n,s)=>{const{children:o,...i}=n,l=m.Children.toArray(o),c=l.find(WL);if(c){const u=c.props.children,d=l.map(f=>f===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...i,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return a.jsx(t,{...i,ref:s,children:o})});return r.displayName=`${e}.Slot`,r}var VL=Is("Slot");function GL(e){const t=m.forwardRef((r,n)=>{const{children:s,...o}=r;if(m.isValidElement(s)){const i=KL(s),l=HL(o,s.props);return s.type!==m.Fragment&&(l.ref=n?Rp(n,i):i),m.cloneElement(s,l)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var qL=Symbol("radix.slottable");function WL(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===qL}function HL(e,t){const r={...t};for(const n in t){const s=e[n],o=t[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...l)=>{o(...l),s(...l)}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...e,...r}}function KL(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function kk(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=kk(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Sk(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=kk(e))&&(n&&(n+=" "),n+=t);return n}const bx=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,wx=Sk,jk=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return wx(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=o==null?void 0:o[u];if(d===null)return null;const h=bx(d)||bx(f);return s[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...g}=d;return Object.entries(g).every(b=>{let[v,w]=b;return Array.isArray(w)?w.includes({...o,...l}[v]):{...o,...l}[v]===w})?[...u,f,h]:u},[]);return wx(e,i,c,r==null?void 0:r.class,r==null?void 0:r.className)},Mp="-",YL=e=>{const t=XL(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const l=i.split(Mp);return l[0]===""&&l.length!==1&&l.shift(),Nk(l,t)||JL(i)},getConflictingClassGroupIds:(i,l)=>{const c=r[i]||[];return l&&n[i]?[...c,...n[i]]:c}}},Nk=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?Nk(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(Mp);return(i=t.validators.find(({validator:l})=>l(o)))==null?void 0:i.classGroupId},_x=/^\[(.+)\]$/,JL=e=>{if(_x.test(e)){const t=_x.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},XL=e=>{const{theme:t,classGroups:r}=e,n={nextPart:new Map,validators:[]};for(const s in r)bm(r[s],n,s,t);return n},bm=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:kx(t,s);o.classGroupId=r;return}if(typeof s=="function"){if(QL(s)){bm(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([o,i])=>{bm(i,kx(t,o),r,n)})})},kx=(e,t)=>{let r=e;return t.split(Mp).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},QL=e=>e.isThemeGetter,ZL=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(o,i)=>{r.set(o,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(o){let i=r.get(o);if(i!==void 0)return i;if((i=n.get(o))!==void 0)return s(o,i),i},set(o,i){r.has(o)?r.set(o,i):s(o,i)}}},wm="!",_m=":",eD=_m.length,tD=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=s=>{const o=[];let i=0,l=0,c=0,u;for(let b=0;b<s.length;b++){let v=s[b];if(i===0&&l===0){if(v===_m){o.push(s.slice(c,b)),c=b+eD;continue}if(v==="/"){u=b;continue}}v==="["?i++:v==="]"?i--:v==="("?l++:v===")"&&l--}const d=o.length===0?s:s.substring(c),f=rD(d),h=f!==d,g=u&&u>c?u-c:void 0;return{modifiers:o,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:g}};if(t){const s=t+_m,o=n;n=i=>i.startsWith(s)?o(i.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:i,maybePostfixModifierPosition:void 0}}if(r){const s=n;n=o=>r({className:o,parseClassName:s})}return n},rD=e=>e.endsWith(wm)?e.substring(0,e.length-1):e.startsWith(wm)?e.substring(1):e,nD=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const s=[];let o=[];return n.forEach(i=>{i[0]==="["||t[i]?(s.push(...o.sort(),i),o=[]):o.push(i)}),s.push(...o.sort()),s}},sD=e=>({cache:ZL(e.cacheSize),parseClassName:tD(e),sortModifiers:nD(e),...YL(e)}),oD=/\s+/,aD=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s,sortModifiers:o}=t,i=[],l=e.trim().split(oD);let c="";for(let u=l.length-1;u>=0;u-=1){const d=l[u],{isExternal:f,modifiers:h,hasImportantModifier:g,baseClassName:b,maybePostfixModifierPosition:v}=r(d);if(f){c=d+(c.length>0?" "+c:c);continue}let w=!!v,p=n(w?b.substring(0,v):b);if(!p){if(!w){c=d+(c.length>0?" "+c:c);continue}if(p=n(b),!p){c=d+(c.length>0?" "+c:c);continue}w=!1}const y=o(h).join(":"),x=g?y+wm:y,_=x+p;if(i.includes(_))continue;i.push(_);const k=s(p,w);for(let j=0;j<k.length;++j){const E=k[j];i.push(x+E)}c=d+(c.length>0?" "+c:c)}return c};function iD(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=Ck(t))&&(n&&(n+=" "),n+=r);return n}const Ck=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Ck(e[n]))&&(r&&(r+=" "),r+=t);return r};function lD(e,...t){let r,n,s,o=i;function i(c){const u=t.reduce((d,f)=>f(d),e());return r=sD(u),n=r.cache.get,s=r.cache.set,o=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=aD(c,r);return s(c,d),d}return function(){return o(iD.apply(null,arguments))}}const lt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Ek=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Pk=/^\((?:(\w[\w-]*):)?(.+)\)$/i,cD=/^\d+\/\d+$/,uD=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,dD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,fD=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,hD=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,mD=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,to=e=>cD.test(e),be=e=>!!e&&!Number.isNaN(Number(e)),bn=e=>!!e&&Number.isInteger(Number(e)),wf=e=>e.endsWith("%")&&be(e.slice(0,-1)),Qr=e=>uD.test(e),gD=()=>!0,pD=e=>dD.test(e)&&!fD.test(e),Tk=()=>!1,yD=e=>hD.test(e),vD=e=>mD.test(e),xD=e=>!le(e)&&!ce(e),bD=e=>ya(e,Mk,Tk),le=e=>Ek.test(e),hs=e=>ya(e,Lk,pD),_f=e=>ya(e,jD,be),Sx=e=>ya(e,Ak,Tk),wD=e=>ya(e,Rk,vD),Kl=e=>ya(e,Dk,yD),ce=e=>Pk.test(e),Da=e=>va(e,Lk),_D=e=>va(e,ND),jx=e=>va(e,Ak),kD=e=>va(e,Mk),SD=e=>va(e,Rk),Yl=e=>va(e,Dk,!0),ya=(e,t,r)=>{const n=Ek.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},va=(e,t,r=!1)=>{const n=Pk.exec(e);return n?n[1]?t(n[1]):r:!1},Ak=e=>e==="position"||e==="percentage",Rk=e=>e==="image"||e==="url",Mk=e=>e==="length"||e==="size"||e==="bg-size",Lk=e=>e==="length",jD=e=>e==="number",ND=e=>e==="family-name",Dk=e=>e==="shadow",CD=()=>{const e=lt("color"),t=lt("font"),r=lt("text"),n=lt("font-weight"),s=lt("tracking"),o=lt("leading"),i=lt("breakpoint"),l=lt("container"),c=lt("spacing"),u=lt("radius"),d=lt("shadow"),f=lt("inset-shadow"),h=lt("text-shadow"),g=lt("drop-shadow"),b=lt("blur"),v=lt("perspective"),w=lt("aspect"),p=lt("ease"),y=lt("animate"),x=()=>["auto","avoid","all","avoid-page","page","left","right","column"],_=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],k=()=>[..._(),ce,le],j=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto","contain","none"],N=()=>[ce,le,c],I=()=>[to,"full","auto",...N()],C=()=>[bn,"none","subgrid",ce,le],L=()=>["auto",{span:["full",bn,ce,le]},bn,ce,le],P=()=>[bn,"auto",ce,le],D=()=>["auto","min","max","fr",ce,le],A=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],F=()=>["start","end","center","stretch","center-safe","end-safe"],O=()=>["auto",...N()],U=()=>[to,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...N()],S=()=>[e,ce,le],M=()=>[..._(),jx,Sx,{position:[ce,le]}],T=()=>["no-repeat",{repeat:["","x","y","space","round"]}],B=()=>["auto","cover","contain",kD,bD,{size:[ce,le]}],V=()=>[wf,Da,hs],re=()=>["","none","full",u,ce,le],se=()=>["",be,Da,hs],de=()=>["solid","dashed","dotted","double"],oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>[be,wf,jx,Sx],G=()=>["","none",b,ce,le],Q=()=>["none",be,ce,le],W=()=>["none",be,ce,le],K=()=>[be,ce,le],H=()=>[to,"full",...N()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Qr],breakpoint:[Qr],color:[gD],container:[Qr],"drop-shadow":[Qr],ease:["in","out","in-out"],font:[xD],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Qr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Qr],shadow:[Qr],spacing:["px",be],text:[Qr],"text-shadow":[Qr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",to,le,ce,w]}],container:["container"],columns:[{columns:[be,le,ce,l]}],"break-after":[{"break-after":x()}],"break-before":[{"break-before":x()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:k()}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:I()}],"inset-x":[{"inset-x":I()}],"inset-y":[{"inset-y":I()}],start:[{start:I()}],end:[{end:I()}],top:[{top:I()}],right:[{right:I()}],bottom:[{bottom:I()}],left:[{left:I()}],visibility:["visible","invisible","collapse"],z:[{z:[bn,"auto",ce,le]}],basis:[{basis:[to,"full","auto",l,...N()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[be,to,"auto","initial","none",le]}],grow:[{grow:["",be,ce,le]}],shrink:[{shrink:["",be,ce,le]}],order:[{order:[bn,"first","last","none",ce,le]}],"grid-cols":[{"grid-cols":C()}],"col-start-end":[{col:L()}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":C()}],"row-start-end":[{row:L()}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":D()}],"auto-rows":[{"auto-rows":D()}],gap:[{gap:N()}],"gap-x":[{"gap-x":N()}],"gap-y":[{"gap-y":N()}],"justify-content":[{justify:[...A(),"normal"]}],"justify-items":[{"justify-items":[...F(),"normal"]}],"justify-self":[{"justify-self":["auto",...F()]}],"align-content":[{content:["normal",...A()]}],"align-items":[{items:[...F(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...F(),{baseline:["","last"]}]}],"place-content":[{"place-content":A()}],"place-items":[{"place-items":[...F(),"baseline"]}],"place-self":[{"place-self":["auto",...F()]}],p:[{p:N()}],px:[{px:N()}],py:[{py:N()}],ps:[{ps:N()}],pe:[{pe:N()}],pt:[{pt:N()}],pr:[{pr:N()}],pb:[{pb:N()}],pl:[{pl:N()}],m:[{m:O()}],mx:[{mx:O()}],my:[{my:O()}],ms:[{ms:O()}],me:[{me:O()}],mt:[{mt:O()}],mr:[{mr:O()}],mb:[{mb:O()}],ml:[{ml:O()}],"space-x":[{"space-x":N()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":N()}],"space-y-reverse":["space-y-reverse"],size:[{size:U()}],w:[{w:[l,"screen",...U()]}],"min-w":[{"min-w":[l,"screen","none",...U()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[i]},...U()]}],h:[{h:["screen",...U()]}],"min-h":[{"min-h":["screen","none",...U()]}],"max-h":[{"max-h":["screen",...U()]}],"font-size":[{text:["base",r,Da,hs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,ce,_f]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",wf,le]}],"font-family":[{font:[_D,le,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,ce,le]}],"line-clamp":[{"line-clamp":[be,"none",ce,_f]}],leading:[{leading:[o,...N()]}],"list-image":[{"list-image":["none",ce,le]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ce,le]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:S()}],"text-color":[{text:S()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...de(),"wavy"]}],"text-decoration-thickness":[{decoration:[be,"from-font","auto",ce,hs]}],"text-decoration-color":[{decoration:S()}],"underline-offset":[{"underline-offset":[be,"auto",ce,le]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ce,le]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ce,le]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:M()}],"bg-repeat":[{bg:T()}],"bg-size":[{bg:B()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},bn,ce,le],radial:["",ce,le],conic:[bn,ce,le]},SD,wD]}],"bg-color":[{bg:S()}],"gradient-from-pos":[{from:V()}],"gradient-via-pos":[{via:V()}],"gradient-to-pos":[{to:V()}],"gradient-from":[{from:S()}],"gradient-via":[{via:S()}],"gradient-to":[{to:S()}],rounded:[{rounded:re()}],"rounded-s":[{"rounded-s":re()}],"rounded-e":[{"rounded-e":re()}],"rounded-t":[{"rounded-t":re()}],"rounded-r":[{"rounded-r":re()}],"rounded-b":[{"rounded-b":re()}],"rounded-l":[{"rounded-l":re()}],"rounded-ss":[{"rounded-ss":re()}],"rounded-se":[{"rounded-se":re()}],"rounded-ee":[{"rounded-ee":re()}],"rounded-es":[{"rounded-es":re()}],"rounded-tl":[{"rounded-tl":re()}],"rounded-tr":[{"rounded-tr":re()}],"rounded-br":[{"rounded-br":re()}],"rounded-bl":[{"rounded-bl":re()}],"border-w":[{border:se()}],"border-w-x":[{"border-x":se()}],"border-w-y":[{"border-y":se()}],"border-w-s":[{"border-s":se()}],"border-w-e":[{"border-e":se()}],"border-w-t":[{"border-t":se()}],"border-w-r":[{"border-r":se()}],"border-w-b":[{"border-b":se()}],"border-w-l":[{"border-l":se()}],"divide-x":[{"divide-x":se()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":se()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...de(),"hidden","none"]}],"divide-style":[{divide:[...de(),"hidden","none"]}],"border-color":[{border:S()}],"border-color-x":[{"border-x":S()}],"border-color-y":[{"border-y":S()}],"border-color-s":[{"border-s":S()}],"border-color-e":[{"border-e":S()}],"border-color-t":[{"border-t":S()}],"border-color-r":[{"border-r":S()}],"border-color-b":[{"border-b":S()}],"border-color-l":[{"border-l":S()}],"divide-color":[{divide:S()}],"outline-style":[{outline:[...de(),"none","hidden"]}],"outline-offset":[{"outline-offset":[be,ce,le]}],"outline-w":[{outline:["",be,Da,hs]}],"outline-color":[{outline:S()}],shadow:[{shadow:["","none",d,Yl,Kl]}],"shadow-color":[{shadow:S()}],"inset-shadow":[{"inset-shadow":["none",f,Yl,Kl]}],"inset-shadow-color":[{"inset-shadow":S()}],"ring-w":[{ring:se()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:S()}],"ring-offset-w":[{"ring-offset":[be,hs]}],"ring-offset-color":[{"ring-offset":S()}],"inset-ring-w":[{"inset-ring":se()}],"inset-ring-color":[{"inset-ring":S()}],"text-shadow":[{"text-shadow":["none",h,Yl,Kl]}],"text-shadow-color":[{"text-shadow":S()}],opacity:[{opacity:[be,ce,le]}],"mix-blend":[{"mix-blend":[...oe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":oe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[be]}],"mask-image-linear-from-pos":[{"mask-linear-from":R()}],"mask-image-linear-to-pos":[{"mask-linear-to":R()}],"mask-image-linear-from-color":[{"mask-linear-from":S()}],"mask-image-linear-to-color":[{"mask-linear-to":S()}],"mask-image-t-from-pos":[{"mask-t-from":R()}],"mask-image-t-to-pos":[{"mask-t-to":R()}],"mask-image-t-from-color":[{"mask-t-from":S()}],"mask-image-t-to-color":[{"mask-t-to":S()}],"mask-image-r-from-pos":[{"mask-r-from":R()}],"mask-image-r-to-pos":[{"mask-r-to":R()}],"mask-image-r-from-color":[{"mask-r-from":S()}],"mask-image-r-to-color":[{"mask-r-to":S()}],"mask-image-b-from-pos":[{"mask-b-from":R()}],"mask-image-b-to-pos":[{"mask-b-to":R()}],"mask-image-b-from-color":[{"mask-b-from":S()}],"mask-image-b-to-color":[{"mask-b-to":S()}],"mask-image-l-from-pos":[{"mask-l-from":R()}],"mask-image-l-to-pos":[{"mask-l-to":R()}],"mask-image-l-from-color":[{"mask-l-from":S()}],"mask-image-l-to-color":[{"mask-l-to":S()}],"mask-image-x-from-pos":[{"mask-x-from":R()}],"mask-image-x-to-pos":[{"mask-x-to":R()}],"mask-image-x-from-color":[{"mask-x-from":S()}],"mask-image-x-to-color":[{"mask-x-to":S()}],"mask-image-y-from-pos":[{"mask-y-from":R()}],"mask-image-y-to-pos":[{"mask-y-to":R()}],"mask-image-y-from-color":[{"mask-y-from":S()}],"mask-image-y-to-color":[{"mask-y-to":S()}],"mask-image-radial":[{"mask-radial":[ce,le]}],"mask-image-radial-from-pos":[{"mask-radial-from":R()}],"mask-image-radial-to-pos":[{"mask-radial-to":R()}],"mask-image-radial-from-color":[{"mask-radial-from":S()}],"mask-image-radial-to-color":[{"mask-radial-to":S()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":_()}],"mask-image-conic-pos":[{"mask-conic":[be]}],"mask-image-conic-from-pos":[{"mask-conic-from":R()}],"mask-image-conic-to-pos":[{"mask-conic-to":R()}],"mask-image-conic-from-color":[{"mask-conic-from":S()}],"mask-image-conic-to-color":[{"mask-conic-to":S()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:M()}],"mask-repeat":[{mask:T()}],"mask-size":[{mask:B()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ce,le]}],filter:[{filter:["","none",ce,le]}],blur:[{blur:G()}],brightness:[{brightness:[be,ce,le]}],contrast:[{contrast:[be,ce,le]}],"drop-shadow":[{"drop-shadow":["","none",g,Yl,Kl]}],"drop-shadow-color":[{"drop-shadow":S()}],grayscale:[{grayscale:["",be,ce,le]}],"hue-rotate":[{"hue-rotate":[be,ce,le]}],invert:[{invert:["",be,ce,le]}],saturate:[{saturate:[be,ce,le]}],sepia:[{sepia:["",be,ce,le]}],"backdrop-filter":[{"backdrop-filter":["","none",ce,le]}],"backdrop-blur":[{"backdrop-blur":G()}],"backdrop-brightness":[{"backdrop-brightness":[be,ce,le]}],"backdrop-contrast":[{"backdrop-contrast":[be,ce,le]}],"backdrop-grayscale":[{"backdrop-grayscale":["",be,ce,le]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[be,ce,le]}],"backdrop-invert":[{"backdrop-invert":["",be,ce,le]}],"backdrop-opacity":[{"backdrop-opacity":[be,ce,le]}],"backdrop-saturate":[{"backdrop-saturate":[be,ce,le]}],"backdrop-sepia":[{"backdrop-sepia":["",be,ce,le]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":N()}],"border-spacing-x":[{"border-spacing-x":N()}],"border-spacing-y":[{"border-spacing-y":N()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ce,le]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[be,"initial",ce,le]}],ease:[{ease:["linear","initial",p,ce,le]}],delay:[{delay:[be,ce,le]}],animate:[{animate:["none",y,ce,le]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[v,ce,le]}],"perspective-origin":[{"perspective-origin":k()}],rotate:[{rotate:Q()}],"rotate-x":[{"rotate-x":Q()}],"rotate-y":[{"rotate-y":Q()}],"rotate-z":[{"rotate-z":Q()}],scale:[{scale:W()}],"scale-x":[{"scale-x":W()}],"scale-y":[{"scale-y":W()}],"scale-z":[{"scale-z":W()}],"scale-3d":["scale-3d"],skew:[{skew:K()}],"skew-x":[{"skew-x":K()}],"skew-y":[{"skew-y":K()}],transform:[{transform:[ce,le,"","none","gpu","cpu"]}],"transform-origin":[{origin:k()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:H()}],"translate-x":[{"translate-x":H()}],"translate-y":[{"translate-y":H()}],"translate-z":[{"translate-z":H()}],"translate-none":["translate-none"],accent:[{accent:S()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:S()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ce,le]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ce,le]}],fill:[{fill:["none",...S()]}],"stroke-w":[{stroke:[be,Da,hs,_f]}],stroke:[{stroke:["none",...S()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},ED=lD(CD);function je(...e){return ED(Sk(e))}const PD=jk("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-gradient-to-r from-slate-400 to-rose-300 hover:from-slate-500 hover:to-rose-400 text-white",ghost:"hover:bg-gradient-to-r hover:from-slate-500 hover:to-rose-400 hover:text-white",outline:"border border-input bg-background hover:bg-gradient-to-r hover:from-slate-500 hover:to-rose-400 hover:text-white",secondary:"bg-gradient-to-r from-slate-400 to-rose-300 hover:from-slate-500 hover:to-rose-400 text-white",destructive:"bg-red-500 text-white hover:bg-red-600",primary:"bg-blue-600 text-white hover:bg-blue-700"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),xe=m.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},o)=>{const i=n?VL:"button";return a.jsx(i,{className:je(PD({variant:t,size:r,className:e})),ref:o,...s})});xe.displayName="Button";const TD=["EN","RU","KK","TR"],AD=()=>{const{language:e,setLanguage:t,isTranslating:r}=at(),[n,s]=m.useState(!1),[o,i]=m.useState(null),[l,c]=m.useState("unavailable"),[u,d]=m.useState("Translation disabled - working in fallback mode"),f=m.useRef(null),[h,g]=m.useState(0);m.useEffect(()=>{b()},[]);const b=async()=>{if(!(h>=3)){g(w=>w+1),c("checking");try{const w=await Oi();c(w?"available":"unavailable"),d(w?null:"Translation server is offline - using fallback mode")}catch(w){console.error("Error checking translation server:",w),c("unavailable"),d("Error connecting to translation service")}}};m.useEffect(()=>{const w=p=>{f.current&&!f.current.contains(p.target)&&s(!1)};return document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}},[]),m.useEffect(()=>{n&&i({EN:{hello:"Hello",welcome:"Welcome",button_example:"Submit"},RU:{hello:"",welcome:" ",button_example:""},KK:{hello:"",welcome:" ",button_example:""},TR:{hello:"Merhaba",welcome:"Ho geldiniz",button_example:"Gnder"}}[e])},[n,e]);const v=async w=>{if(e===w){s(!1);return}if(l==="unavailable"){t(w),s(!1),q.success(`Language changed to ${w} (translations disabled)`,{icon:"",duration:2e3});return}try{const p=await Oi();c(p?"available":"unavailable"),p||q("Translation server is offline. Using original text.",{icon:"",duration:3e3})}catch(p){console.error("Error checking translation server:",p)}t(w),s(!1),q.success(`Language changed to ${w}`,{icon:"",duration:2e3})};return a.jsxs("div",{className:"relative",ref:f,children:[a.jsx("button",{onClick:()=>s(!n),className:"flex items-center justify-center text-gray-600 dark:text-white/70 hover:text-gray-800 dark:hover:text-white transition-colors duration-200","aria-label":"Change Language",title:`Change Language (${l==="available"?"Online":"Offline mode"})`,children:r?a.jsx(ZT,{className:"w-5 h-5 animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsx(YT,{className:"w-5 h-5"}),a.jsx("span",{className:`absolute top-0 right-0 block w-2 h-2 rounded-full ${l==="available"?"bg-green-400":l==="unavailable"?"bg-red-400":"bg-yellow-400 animate-pulse"}`})]})}),n&&a.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-[#121212] border border-gray-200 dark:border-white/10 rounded-xl shadow-lg py-1 z-50",children:[u&&a.jsx("div",{className:"px-4 py-2 text-xs text-red-500 border-b border-gray-200 dark:border-gray-700",children:u}),a.jsxs("div",{className:"px-4 py-2 border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Translation server"}),a.jsxs("span",{className:`flex items-center text-xs ${l==="available"?"text-green-500 dark:text-green-400":l==="unavailable"?"text-red-500 dark:text-red-400":"text-yellow-500 dark:text-yellow-400"}`,children:[a.jsx("span",{className:`inline-block w-2 h-2 rounded-full mr-1 ${l==="available"?"bg-green-500 dark:bg-green-400":l==="unavailable"?"bg-red-500 dark:bg-red-400":"bg-yellow-500 dark:bg-yellow-400 animate-pulse"}`}),l==="available"?"Online":l==="unavailable"?"Offline":"Checking..."]})]}),h<3&&a.jsx("div",{className:"mt-1 text-xs text-gray-500",children:a.jsx("button",{onClick:b,className:"text-blue-500 hover:underline",children:"Test connection"})})]}),a.jsxs("div",{className:"px-4 py-2 border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:["Current: ",e.toUpperCase()]}),o&&a.jsxs("div",{className:"text-xs",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Hello:"})," ",o.hello]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Welcome:"})," ",o.welcome]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Button:"})," ",o.button_example]})]})]}),a.jsx("div",{className:"py-1",children:TD.map(w=>a.jsxs("button",{onClick:()=>v(w),className:`block w-full text-left px-4 py-2 text-sm ${e===w?"bg-blue-50 text-blue-600 dark:bg-blue-900/20 dark:text-blue-400":"text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-800/80"}`,disabled:r,children:[w==="EN"&&"English ",w==="RU"&&" ",w==="KK"&&" ",w==="TR"&&"Trke "]},w))}),a.jsx("div",{className:"px-4 py-2 border-t border-gray-200 dark:border-gray-700",children:a.jsx("button",{onClick:()=>{window.location.reload()},className:"w-full text-xs text-center text-gray-500 dark:text-gray-400 hover:text-blue-500 dark:hover:text-blue-400",children:"Reload app"})})]})]})},RD=()=>{var b,v;const{user:e,signOut:t}=$e(),{isDarkMode:r,toggleDarkMode:n}=Ug();er();const s=ot(),[o,i]=m.useState(!1),[l,c]=m.useState(!1),u=m.useRef(null),d=m.useRef(null),{fetchNotifications:f}=a8();m.useEffect(()=>{e&&l&&f()},[e,l,f]);const h=()=>{n()},g=async()=>{try{await t(),ee.success("Logged out successfully"),s("/login")}catch(w){console.error("Logout Error:",w),ee.error("Logout failed. Please try again.")}};return m.useEffect(()=>{const w=p=>{u.current&&!u.current.contains(p.target)&&i(!1)};return document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}},[]),a.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-white dark:bg-neutral-800 shadow-md border-b border-gray-200 dark:border-gray-700",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsx("div",{className:"flex items-center",children:a.jsx(we,{to:"/",className:"flex-shrink-0 flex items-center",children:a.jsx("span",{className:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-indigo-500 to-rose-500",children:"ConnectMe"})})}),a.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[a.jsx("div",{className:"hidden md:block flex-1 max-w-xs"}),a.jsxs("div",{className:"flex items-center space-x-4 md:space-x-5",children:[a.jsx(AD,{}),a.jsx("button",{onClick:h,className:"p-2 rounded-full text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none","aria-label":"Toggle dark mode",children:r?a.jsx(t8,{className:"h-5 w-5"}):a.jsx(XT,{className:"h-5 w-5"})}),a.jsx(we,{to:"/messages",className:"p-2 rounded-full text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none","aria-label":"Messages",children:a.jsx(HT,{className:"h-5 w-5"})}),e?a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{ref:d,className:"relative",children:a.jsx(n8,{})}),a.jsxs("div",{ref:u,className:"relative",children:[a.jsxs("button",{onClick:()=>i(!o),className:"flex items-center text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500",children:[a.jsx("img",{className:"h-8 w-8 rounded-full object-cover border-2 border-gray-300 dark:border-gray-600",src:((b=e.user_metadata)==null?void 0:b.avatar_url)||"/default-avatar.png",alt:"User profile"}),a.jsx("span",{onClick:w=>{w.stopPropagation(),s("/profile")},className:"ml-2 text-gray-700 dark:text-gray-300 hidden sm:inline cursor-pointer hover:text-rose-500 dark:hover:text-rose-400 transition-colors",children:((v=e.user_metadata)==null?void 0:v.username)||e.email})]}),a.jsx(rp,{children:o&&a.jsxs(dr.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white dark:bg-gray-800 ring-1 ring-black ring-opacity-5 focus:outline-none z-[60]",children:[a.jsx("button",{onClick:()=>{s("/settings"),i(!1)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",children:"Settings"}),a.jsx("button",{onClick:()=>{g(),i(!1)},className:"block w-full text-left px-4 py-2 text-sm text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",children:"Sign Out"})]})})]})]}):a.jsx(xe,{onClick:()=>s("/login"),className:"px-5 py-2 rounded-lg text-sm",children:"Sign In"})]})]}),a.jsx("div",{className:"-mr-2 flex md:hidden",children:a.jsx(s8,{})})]})})})};/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ok=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var LD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:i,...l},c)=>m.createElement("svg",{ref:c,...LD,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Ok("lucide",s),...l},[...i.map(([u,d])=>m.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=(e,t)=>{const r=m.forwardRef(({className:n,...s},o)=>m.createElement(DD,{ref:o,iconNode:t,className:Ok(`lucide-${MD(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ik=Hs("Check",OD);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Fk=Hs("ChevronDown",ID);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],$D=Hs("ChevronRight",FD);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],zD=Hs("ChevronUp",UD);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],$k=Hs("Circle",BD);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],GD=Hs("Menu",VD);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Uk=Hs("X",qD),zk=m.createContext(void 0),Bk=()=>{const e=m.useContext(zk);if(!e)throw new Error("useSidebar must be used within a SidebarProvider");return e},WD=({children:e,open:t,setOpen:r,animate:n=!0})=>{const[s,o]=m.useState(!1),i=t!==void 0?t:s,l=r!==void 0?r:o;return a.jsx(zk.Provider,{value:{open:i,setOpen:l,animate:n},children:e})};function HD({children:e,open:t,setOpen:r,animate:n}){return a.jsx(WD,{open:t,setOpen:r,animate:n,children:e})}const KD=e=>{const{className:t,children:r}=e;return a.jsxs(a.Fragment,{children:[a.jsx(YD,{className:t,children:r}),a.jsx(JD,{className:t,children:r})]})},YD=e=>{const{className:t,children:r}=e;return a.jsx(dr.div,{className:je("h-full px-4 py-4 hidden md:flex md:flex-col bg-neutral-100 dark:bg-neutral-800 w-[300px] flex-shrink-0",t),children:r})},JD=e=>{const{className:t,children:r}=e,{open:n,setOpen:s}=Bk();return a.jsx(a.Fragment,{children:a.jsxs("div",{className:je("h-10 px-4 py-4 flex flex-row md:hidden items-center justify-between bg-neutral-100 dark:bg-neutral-800 w-full"),children:[a.jsx("div",{className:"flex justify-end z-20 w-full",children:a.jsx(GD,{className:"text-neutral-800 dark:text-neutral-200 cursor-pointer",onClick:()=>s(!n)})}),a.jsx(rp,{children:n&&a.jsxs(dr.div,{initial:{x:"-100%",opacity:0},animate:{x:0,opacity:1},exit:{x:"-100%",opacity:0},transition:{duration:.3,ease:"easeInOut"},className:je("fixed h-full w-full inset-0 bg-white dark:bg-neutral-800 p-10 z-[100] flex flex-col justify-between",t),children:[a.jsx("div",{className:"absolute right-10 top-10 z-50 text-neutral-800 dark:text-neutral-200 cursor-pointer",onClick:()=>s(!n),children:a.jsx(Uk,{})}),r]})})]})})},kf=({link:e,className:t,...r})=>{const{open:n,animate:s}=Bk(),[o,i]=m.useState(!1);return m.useEffect(()=>{const l=()=>{const c=window.location.pathname;c===e.href||c.startsWith(`${e.href}/`)?i(!0):i(!1)};return l(),window.addEventListener("popstate",l),()=>window.removeEventListener("popstate",l)},[e.href]),a.jsxs(we,{to:e.href,className:je("flex items-center justify-start gap-2 group/sidebar py-2 px-3 rounded-lg",o?"bg-gradient-to-r from-gray-200 to-rose-200 dark:from-gray-800 dark:to-rose-900 text-gray-800 dark:text-rose-100 font-medium":"text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-800 hover:bg-gradient-to-r hover:from-gray-100 hover:to-rose-100 dark:hover:from-black dark:hover:to-rose-900/40",t),...r,children:[a.jsx("div",{className:o?"text-rose-600 dark:text-rose-300":"",children:e.icon}),a.jsx(dr.span,{animate:{display:s?n?"inline-block":"none":"inline-block",opacity:s?n?1:0:1},className:"text-neutral-700 dark:text-neutral-200 text-sm group-hover/sidebar:translate-x-1 transition duration-150 whitespace-pre inline-block !p-0 !m-0",children:e.label})]})},XD=()=>{const[e,t]=m.useState(!0),r=er(),n=ot(),{t:s}=Yr();m.useEffect(()=>{window.scrollTo(0,0),window.dispatchEvent(new Event("routeChange"))},[r.pathname]);const o=[{href:"/home",label:"nav.home",icon:a.jsx(G2,{size:18})},{href:"/profile",label:"nav.profile",icon:a.jsx(Xg,{size:18})},{href:"/groups",label:"nav.groups",icon:a.jsx(Zo,{size:18})},{href:"/events",label:"nav.events",icon:a.jsx(Qo,{size:18})}],i=[{href:"/friends",label:"nav.friends",icon:a.jsx(W2,{size:18})},{href:"/notifications",label:"nav.notifications",icon:a.jsx(U2,{size:18})},{href:"/messages",label:"nav.messages",icon:a.jsx(B2,{size:18})}],l=[{href:"/discover",label:"nav.discover",icon:a.jsx(KT,{size:18})},{href:"/saved",label:"nav.saved",icon:a.jsx(su,{size:18})},{href:"/favorites",label:"nav.favorites",icon:a.jsx(e8,{size:18})},{href:"/settings",label:"nav.settings",icon:a.jsx(z2,{size:18})}],c=u=>{r.pathname!==u&&(n(u),window.dispatchEvent(new Event("routeChange")))};return a.jsxs("div",{className:"min-h-screen bg-white dark:bg-neutral-800",children:[a.jsx("header",{className:"sticky top-0 z-50 w-full",children:a.jsx(RD,{})}),a.jsxs("div",{className:"flex min-h-[calc(100vh-4rem)]",children:[a.jsx("aside",{className:"hidden lg:block flex-shrink-0 w-[240px] sticky top-16 h-[calc(100vh-4rem)] overflow-hidden",children:a.jsx(HD,{open:e,setOpen:t,children:a.jsxs(KD,{className:"flex flex-col h-full py-4 overflow-y-auto border-r border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"px-4 text-xs uppercase text-gray-500 dark:text-gray-400 font-semibold mb-2",children:s("nav.main")}),a.jsx("div",{className:"space-y-1",children:o.map(u=>a.jsx(kf,{link:u,onClick:()=>c(u.href)},u.href))})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"px-4 text-xs uppercase text-gray-500 dark:text-gray-400 font-semibold mb-2",children:s("nav.shortcuts")}),a.jsx("div",{className:"space-y-1",children:i.map(u=>a.jsx(kf,{link:u,onClick:()=>c(u.href)},u.href))})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"px-4 text-xs uppercase text-gray-500 dark:text-gray-400 font-semibold mb-2",children:s("nav.resources")}),a.jsx("div",{className:"space-y-1",children:l.map(u=>a.jsx(kf,{link:u,onClick:()=>c(u.href)},u.href))})]})]})})}),a.jsx("main",{className:"flex-1 p-6",children:a.jsx(xE,{})})]})]})},QD={user:null,loading:!0,hasCompletedProfile:!1},kc=({children:e})=>{var u,d;const{user:t,loading:r,hasCompletedProfile:n=!1}=$e()||QD,s=er(),[o,i]=m.useState(0);m.useEffect(()=>{const f=parseInt(sessionStorage.getItem("last_redirect_time")||"0",10),h=Date.now();h-f<1e3?i(g=>g+1):i(0),o===0&&sessionStorage.setItem("last_redirect_time",h.toString()),o>5&&console.error("RequireAuth: Muhtemelen bir ynlendirme dngsne girildi!")},[s.pathname]),console.log("RequireAuth State:",{path:s.pathname,user:!!t,loading:r,hasCompletedProfile:n,redirectCount:o});const l=["/","/login","/register","/callback","/reset-password"].includes(s.pathname)||s.pathname.startsWith("/callback"),c=s.pathname==="/complete-profile";if(o>5)return console.log("RequireAuth: Too many redirects detected."),sessionStorage.removeItem("last_redirect_time"),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-black",children:a.jsxs("div",{className:"text-center p-8 bg-white dark:bg-gray-800 rounded-lg shadow-lg max-w-md",children:[a.jsx("h2",{className:"text-xl font-bold text-red-600 dark:text-red-400 mb-4",children:"Authentication Error"}),a.jsx("p",{className:"mb-4 text-gray-700 dark:text-gray-300",children:"An authentication loop was detected. Please try clearing your browser cache and cookies, then sign in again."}),a.jsx("a",{href:"/login",className:"inline-block px-4 py-2 bg-gradient-to-r from-indigo-500 to-rose-500 text-white rounded hover:from-indigo-600 hover:to-rose-600 transition-all",onClick:()=>{localStorage.clear(),sessionStorage.clear(),window.location.href="/login"},children:"Go to Login"})]})});if(r)return console.log("RequireAuth: AuthContext is loading..."),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-black",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-rose-500"}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-lg",children:"Loading..."})]})});if(!t)return l?(console.log("RequireAuth: Not authenticated, on public path."),o>0&&i(0),sessionStorage.removeItem("last_redirect_time"),a.jsx(a.Fragment,{children:e})):(console.log("RequireAuth: Not authenticated (after load), redirecting to login."),a.jsx(ai,{to:"/login",state:{from:s},replace:!0}));if(n&&(s.pathname==="/login"||s.pathname==="/register")){console.log("RequireAuth: Authenticated and profile complete, redirecting from login/register.");const f=((d=(u=s.state)==null?void 0:u.from)==null?void 0:d.pathname)||"/home";return a.jsx(ai,{to:f,replace:!0})}return!n&&!c&&!l?(console.log("RequireAuth: Authenticated but profile incomplete, redirecting to /complete-profile."),a.jsx(ai,{to:"/complete-profile",state:{from:s},replace:!0})):(console.log("RequireAuth: All checks passed, allowing access."),o>0&&i(0),sessionStorage.removeItem("last_redirect_time"),a.jsx(a.Fragment,{children:e}))},km=({children:e})=>{const{user:t,loading:r,hasCompletedProfile:n}=$e(),s=er();return console.log("RequireProfileCompletion: Current path:",s.pathname),console.log("RequireProfileCompletion: Profile completed:",n),s.pathname==="/complete-profile"?a.jsx(a.Fragment,{children:e}):r&&!t?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-black",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-rose-500"}),a.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-lg",children:"Loading profile..."})]})}):t&&n===!1&&s.pathname!=="/complete-profile"?(console.log("RequireProfileCompletion: Redirecting to complete profile"),a.jsx(ai,{to:"/complete-profile",state:{from:s},replace:!0})):a.jsx(a.Fragment,{children:e})},ZD=({onEmergencySignOut:e})=>{const{search:t}=er(),r=new URLSearchParams(t);return r.has("emergency_logout")||r.has("session_expired")||r.has("auth_error")?a.jsxs("div",{className:"mt-6 p-4 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:[a.jsx("h3",{className:"text-sm font-semibold text-red-800 dark:text-red-200 mb-2",children:"Authentication Issues?"}),a.jsx("p",{className:"text-xs text-red-700 dark:text-red-300 mb-3",children:"If you're stuck in a login loop or experiencing authentication problems, use the emergency sign-out button to clear all session data."}),a.jsx("button",{onClick:e,className:"w-full py-2 px-3 bg-red-600 hover:bg-red-700 text-white text-sm font-medium rounded-md transition-colors",children:"Emergency Sign Out"})]}):null},eO=()=>{const{signIn:e,signInWithGoogle:t,emergencySignOut:r}=$e(),{language:n,translateText:s}=at();ot(),er();const o="/connect-me-logo.png",[i,l]=m.useState({email:"",password:""}),[c,u]=m.useState(!1),[d,f]=m.useState(""),[h,g]=m.useState(!1),[b,v]=m.useState({welcomeBack:"Welcome Back",dontHaveAccount:"Don't have an account?",register:"Register",signInWithGoogle:"Sign in with Google",orContinueWithEmail:"Or continue with email",emailAddress:"Email address",emailPlaceholder:"you@example.com",password:"Password",passwordPlaceholder:"",rememberMe:"Remember me",forgotPassword:"Forgot password?",signIn:"Sign In",signingIn:"Signing in...",back:"Back to Landing Page"});m.useEffect(()=>{(async()=>{if(n!=="EN")try{const _=Object.keys(b).map(N=>b[N]),k=await Promise.all(_.map(N=>s(N))),j=Object.keys(b),E={...b};j.forEach((N,I)=>{E[N]=k[I]}),v(E)}catch(_){console.error("Error translating login texts:",_)}})()},[n,s,b]);const w=x=>{const{name:_,value:k}=x.target;l(j=>({...j,[_]:k})),f("")},p=async x=>{var _;if(x.preventDefault(),f(""),!i.email||!i.password){const k=await s("Please fill in all fields");f(k);return}try{g(!0),console.log("[LOGIN] Attempting to sign in with email..."),localStorage.removeItem("supabase.auth.token");let k=0;const j=2;let E=!1;for(;k<j&&!E;)try{k++,await e(i.email,i.password),console.log("[LOGIN] Sign in successful"),E=!0}catch(C){if(console.error(`[LOGIN] Sign in attempt ${k} failed:`,C),k>=j)throw C;await new Promise(L=>setTimeout(L,1e3)),console.log(`[LOGIN] Retrying sign in (attempt ${k+1})...`)}const N=await s("Successfully signed in!");ee.success(N);const{data:I}=await z.from("profiles").select("is_profile_complete").eq("id",(_=(await z.auth.getUser()).data.user)==null?void 0:_.id).single();I&&!I.is_profile_complete?window.location.href="/complete-profile":window.location.href="/home"}catch(k){console.error("[LOGIN] Final sign in error:",k),g(!1);let j="";k instanceof Error?(console.error("[LOGIN] Error details:",k.message),k.message.includes("Invalid login credentials")?j=await s("Invalid email or password"):k.message.includes("rate limit")?j=await s("Too many login attempts. Please try again later"):j=await s("Failed to sign in")):j=await s("An unknown error occurred"),f(j),ee.error(j)}},y=async()=>{try{g(!0),console.log("[LoginPage] Environment vars:",{supabaseUrl:"Set",supabaseKey:"Not set",port:window.location.port,host:window.location.host});const x=`${window.location.origin}/callback`;localStorage.setItem("redirectUrl",x),console.log("[LoginPage] Stored redirect URL:",x);const{data:_,error:k}=await z.auth.signInWithOAuth({provider:"google",options:{redirectTo:x,queryParams:{access_type:"offline",prompt:"select_account"}}});if(k)throw k;console.log("[LoginPage] OAuth response received:",_?"Success":"No data"),_!=null&&_.url?(console.log("[LoginPage] Redirecting to provider URL:",_.url),window.location.href=_.url):(console.error("[LoginPage] No redirect URL provided by Supabase"),ee.error("Authentication failed. Please try again."))}catch(x){console.error("[LoginPage] Google login error:",x),ee.error(`Failed to log in: ${x.message}`)}finally{g(!1)}};return a.jsxs("div",{className:"min-h-screen flex",children:[a.jsx("div",{className:"hidden lg:flex w-1/2 flex-col items-center justify-center bg-white dark:bg-gray-900",children:a.jsxs("div",{className:"p-12 flex flex-col items-center justify-center h-full w-full",children:[a.jsx("div",{className:"flex-grow flex items-center justify-center w-full",children:a.jsx("img",{src:o,alt:"ConnectMe",className:"w-full max-w-md object-contain",onError:x=>{console.error("Logo failed to load"),x.currentTarget.onerror=null,x.currentTarget.src="https://via.placeholder.com/300x300?text=ConnectMe"}})}),a.jsx("p",{className:"mt-8 text-center text-xl max-w-md bg-clip-text text-transparent bg-gradient-to-r from-gray-400 via-indigo-500 to-rose-500 dark:from-gray-300 dark:via-indigo-400 dark:to-rose-400 font-medium",children:"Connect with friends, share moments, and build your network"})]})}),a.jsxs("div",{className:"w-full lg:w-1/2 flex flex-col bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900",children:[a.jsxs("div",{className:"p-4 flex justify-between items-center",children:[a.jsxs(we,{to:"/",className:"flex items-center text-gray-700 dark:text-gray-300 hover:text-indigo-600 dark:hover:text-white",children:[a.jsx(qT,{className:"mr-2"}),a.jsx("span",{"data-i18n":!0,children:b.back})]}),a.jsx("div",{className:"lg:hidden flex items-center",children:a.jsx("img",{src:o,alt:"ConnectMe",className:"h-10 w-auto",onError:x=>{console.error("Small logo failed to load"),x.currentTarget.onerror=null,x.currentTarget.src="https://via.placeholder.com/40x40?text=CM"}})})]}),a.jsx("div",{className:"flex-grow flex items-center justify-center px-4 sm:px-6 lg:px-8 py-12",children:a.jsx("div",{className:"max-w-md w-full space-y-8",children:a.jsxs("div",{className:"bg-white dark:bg-slate-800 p-8 rounded-xl shadow-lg border border-gray-200 dark:border-slate-700",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-center text-3xl font-extrabold bg-clip-text text-transparent bg-gradient-to-r from-gray-700 via-indigo-500 to-rose-500 dark:from-gray-200 dark:via-indigo-400 dark:to-rose-400 mb-6","data-i18n":!0,children:b.welcomeBack}),a.jsxs("p",{className:"text-center text-gray-600 dark:text-gray-400 text-sm",children:[a.jsx("span",{"data-i18n":!0,children:b.dontHaveAccount})," ",a.jsx(we,{to:"/register",className:"font-medium text-indigo-600 hover:text-rose-500 dark:text-indigo-400 dark:hover:text-rose-400","data-i18n":!0,children:b.register})]})]}),a.jsxs("div",{className:"mt-8",children:[a.jsxs(xe,{onClick:y,disabled:h,className:"w-full flex items-center justify-center",children:[a.jsx(RT,{className:"mr-2"}),a.jsx("span",{"data-i18n":!0,children:b.signInWithGoogle})]}),a.jsx("div",{className:"mt-6",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:"w-full border-t border-gray-300 dark:border-gray-700"})}),a.jsx("div",{className:"relative flex justify-center text-sm",children:a.jsx("span",{className:"px-2 bg-white dark:bg-slate-800 text-gray-500 dark:text-gray-400","data-i18n":!0,children:b.orContinueWithEmail})})]})}),a.jsxs("form",{className:"mt-6 space-y-6",onSubmit:p,children:[d&&a.jsx("div",{className:"rounded-md bg-red-50 dark:bg-red-900/30 p-4",children:a.jsx("div",{className:"text-sm text-red-700 dark:text-red-300",children:d})}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300","data-i18n":!0,children:b.emailAddress}),a.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Jg,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:i.email,onChange:w,placeholder:b.emailPlaceholder,className:"block w-full pl-10 pr-3 py-2 placeholder-gray-400 border border-gray-300 dark:border-gray-700 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 bg-white dark:bg-slate-900 text-gray-900 dark:text-white sm:text-sm"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300","data-i18n":!0,children:b.password}),a.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(em,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"password",name:"password",type:c?"text":"password",autoComplete:"current-password",required:!0,value:i.password,onChange:w,placeholder:b.passwordPlaceholder,className:"block w-full pl-10 pr-10 py-2 placeholder-gray-400 border border-gray-300 dark:border-gray-700 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 bg-white dark:bg-slate-900 text-gray-900 dark:text-white sm:text-sm"}),a.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:a.jsx("button",{type:"button",onClick:()=>u(!c),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 focus:outline-none",children:c?a.jsx(Qh,{className:"h-5 w-5"}):a.jsx(Zh,{className:"h-5 w-5"})})})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300","data-i18n":!0,children:b.rememberMe})]}),a.jsx("div",{className:"text-sm",children:a.jsx(we,{to:"/forgot-password",className:"font-medium text-indigo-600 hover:text-rose-500 dark:text-indigo-400 dark:hover:text-rose-400","data-i18n":!0,children:b.forgotPassword})})]}),a.jsx("div",{children:a.jsx(xe,{type:"submit",disabled:h,className:"w-full",children:h?a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),a.jsx("span",{"data-i18n":!0,children:b.signingIn})]}):a.jsx("span",{"data-i18n":!0,children:b.signIn})})})]})]})]})})})]}),a.jsx(ZD,{onEmergencySignOut:r})]})},tO=()=>{const{tWithTemplate:e}=at(),{signUp:t}=$e(),r=ot(),[n,s]=m.useState({fullName:"",email:"",password:"",confirmPassword:""}),[o,i]=m.useState(!1),[l,c]=m.useState(!1),[u,d]=m.useState(""),[f,h]=m.useState(!1),g=w=>{const{name:p,value:y}=w.target;s(x=>({...x,[p]:y})),d("")},b=()=>{if(!n.fullName.trim())return d("Full name is required"),!1;if(!n.email.trim())return d("Email is required"),!1;if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email))return d("Invalid email format"),!1;const p=["gmail.com","yahoo.com","hotmail.com","outlook.com"],y=n.email.split("@")[1];return p.includes(y)?n.password.length<6?(d("Password must be at least 6 characters"),!1):n.password!==n.confirmPassword?(d("Passwords do not match"),!1):!0:(d("Please use a valid email from Gmail, Yahoo, Hotmail, or Outlook"),!1)},v=async w=>{if(w.preventDefault(),!!b())try{h(!0),await t(n.email,n.password,n.fullName),ee.success("Registration successful! Please check your email to verify your account."),r("/login")}catch(p){console.error("Registration error:",p),p instanceof Error?p.message.includes("is invalid")?d("Please use a valid email address from Gmail, Yahoo, Hotmail, or Outlook"):d(p.message):d("Failed to create account")}finally{h(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs(we,{to:"/",className:"inline-flex items-center text-sm font-medium text-indigo-600 hover:text-indigo-500 dark:text-indigo-400 dark:hover:text-indigo-300",children:[a.jsx(WT,{className:"mr-2 h-4 w-4"}),"Back to Home"]})}),a.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-white",children:"Create your account"}),a.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600 dark:text-gray-400",children:["Already have an account?"," ",a.jsx(we,{to:"/login",className:"font-medium text-indigo-600 hover:text-indigo-500 dark:text-indigo-400 dark:hover:text-indigo-300",children:"Sign in"})]})]}),a.jsxs("form",{className:"mt-8 space-y-6",onSubmit:v,children:[u&&a.jsx("div",{className:"rounded-md bg-red-50 dark:bg-red-900/50 p-4",children:a.jsx("div",{className:"text-sm text-red-700 dark:text-red-200",children:u})}),a.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[a.jsxs("div",{className:"relative",children:[a.jsx("label",{htmlFor:"full-name",className:"sr-only",children:"Full Name"}),a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Xg,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"full-name",name:"fullName",type:"text",required:!0,value:n.fullName,onChange:g,className:"appearance-none rounded-none relative block w-full px-3 py-2 pl-10 border border-gray-300 dark:border-gray-700 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm bg-white dark:bg-gray-800",placeholder:"Full Name"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Jg,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,value:n.email,onChange:g,className:"appearance-none rounded-none relative block w-full px-3 py-2 pl-10 border border-gray-300 dark:border-gray-700 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm bg-white dark:bg-gray-800",placeholder:"Email address (use Gmail, Yahoo, Hotmail, or Outlook)"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(em,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"password",name:"password",type:o?"text":"password",autoComplete:"new-password",required:!0,value:n.password,onChange:g,className:"appearance-none rounded-none relative block w-full px-3 py-2 pl-10 border border-gray-300 dark:border-gray-700 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm bg-white dark:bg-gray-800",placeholder:"Password (min. 6 characters)"}),a.jsx("button",{type:"button",onClick:()=>i(!o),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:o?a.jsx(Qh,{className:"h-5 w-5 text-gray-400"}):a.jsx(Zh,{className:"h-5 w-5 text-gray-400"})})]}),a.jsxs("div",{className:"relative",children:[a.jsx("label",{htmlFor:"confirm-password",className:"sr-only",children:"Confirm Password"}),a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(em,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"confirm-password",name:"confirmPassword",type:l?"text":"password",autoComplete:"new-password",required:!0,value:n.confirmPassword,onChange:g,className:"appearance-none rounded-none relative block w-full px-3 py-2 pl-10 border border-gray-300 dark:border-gray-700 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm bg-white dark:bg-gray-800",placeholder:"Confirm Password"}),a.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:l?a.jsx(Qh,{className:"h-5 w-5 text-gray-400"}):a.jsx(Zh,{className:"h-5 w-5 text-gray-400"})})]})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:f,className:`group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white ${f?"bg-indigo-400 dark:bg-indigo-600 cursor-not-allowed":"bg-gradient-to-r from-indigo-500 to-rose-500 hover:opacity-90 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}`,children:f?a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating account..."]}):"Create Account"})})]})]})})},Vk=()=>{const{user:e}=sd(),[t,r]=m.useState(!1),[n,s]=m.useState(!0);m.useEffect(()=>{o()},[e]);const o=async()=>{var i,l;try{if(!e){r(!1);return}s(!0);const{data:c,error:u}=await fe.from("profiles").select("full_name, bio, interests").eq("id",e.id).single();if(u)throw u;const d=c&&((i=c.full_name)==null?void 0:i.trim())&&((l=c.bio)==null?void 0:l.trim())&&Array.isArray(c.interests)&&c.interests.length>0;r(!!d)}catch(c){console.error("Error checking profile completion:",c),r(!1)}finally{s(!1)}};return{isProfileComplete:t,loading:n,checkProfileCompletion:o}},yt=[];for(let e=0;e<256;++e)yt.push((e+256).toString(16).slice(1));function rO(e,t=0){return(yt[e[t+0]]+yt[e[t+1]]+yt[e[t+2]]+yt[e[t+3]]+"-"+yt[e[t+4]]+yt[e[t+5]]+"-"+yt[e[t+6]]+yt[e[t+7]]+"-"+yt[e[t+8]]+yt[e[t+9]]+"-"+yt[e[t+10]]+yt[e[t+11]]+yt[e[t+12]]+yt[e[t+13]]+yt[e[t+14]]+yt[e[t+15]]).toLowerCase()}let Sf;const nO=new Uint8Array(16);function sO(){if(!Sf){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Sf=crypto.getRandomValues.bind(crypto)}return Sf(nO)}const oO=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Nx={randomUUID:oO};function aO(e,t,r){var s;if(Nx.randomUUID&&!e)return Nx.randomUUID();e=e||{};const n=e.random??((s=e.rng)==null?void 0:s.call(e))??sO();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,rO(n)}function ue(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function iO(e,t){const r=m.createContext(t),n=o=>{const{children:i,...l}=o,c=m.useMemo(()=>l,Object.values(l));return a.jsx(r.Provider,{value:c,children:i})};n.displayName=e+"Provider";function s(o){const i=m.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[n,s]}function Ks(e,t=[]){let r=[];function n(o,i){const l=m.createContext(i),c=r.length;r=[...r,i];const u=f=>{var p;const{scope:h,children:g,...b}=f,v=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,w=m.useMemo(()=>b,Object.values(b));return a.jsx(v.Provider,{value:w,children:g})};u.displayName=o+"Provider";function d(f,h){var v;const g=((v=h==null?void 0:h[e])==null?void 0:v[c])||l,b=m.useContext(g);if(b)return b;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=r.map(i=>m.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,lO(s,...t)]}function lO(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...l,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var Et=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},cO=Gm[" useId ".trim().toString()]||(()=>{}),uO=0;function Ts(e){const[t,r]=m.useState(cO());return Et(()=>{r(n=>n??String(uO++))},[e]),t?`radix-${t}`:""}var dO=Gm[" useInsertionEffect ".trim().toString()]||Et;function du({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,o,i]=fO({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const d=m.useRef(e!==void 0);m.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=m.useCallback(d=>{var f;if(l){const h=hO(d)?d(e):d;h!==e&&((f=i.current)==null||f.call(i,h))}else o(d)},[l,e,o,i]);return[c,u]}function fO({defaultProp:e,onChange:t}){const[r,n]=m.useState(e),s=m.useRef(r),o=m.useRef(t);return dO(()=>{o.current=t},[t]),m.useEffect(()=>{var i;s.current!==r&&((i=o.current)==null||i.call(o,r),s.current=r)},[r,s]),[r,n,o]}function hO(e){return typeof e=="function"}var mO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Se=mO.reduce((e,t)=>{const r=Is(`Primitive.${t}`),n=m.forwardRef((s,o)=>{const{asChild:i,...l}=s,c=i?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Gk(e,t){e&&ca.flushSync(()=>e.dispatchEvent(t))}function Er(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function gO(e,t=globalThis==null?void 0:globalThis.document){const r=Er(e);m.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var pO="DismissableLayer",Sm="dismissableLayer.update",yO="dismissableLayer.pointerDownOutside",vO="dismissableLayer.focusOutside",Cx,qk=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),cd=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...c}=e,u=m.useContext(qk),[d,f]=m.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=m.useState({}),b=De(t,E=>f(E)),v=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),p=v.indexOf(w),y=d?v.indexOf(d):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,_=y>=p,k=wO(E=>{const N=E.target,I=[...u.branches].some(C=>C.contains(N));!_||I||(s==null||s(E),i==null||i(E),E.defaultPrevented||l==null||l())},h),j=_O(E=>{const N=E.target;[...u.branches].some(C=>C.contains(N))||(o==null||o(E),i==null||i(E),E.defaultPrevented||l==null||l())},h);return gO(E=>{y===u.layers.size-1&&(n==null||n(E),!E.defaultPrevented&&l&&(E.preventDefault(),l()))},h),m.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Cx=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Ex(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Cx)}},[d,h,r,u]),m.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Ex())},[d,u]),m.useEffect(()=>{const E=()=>g({});return document.addEventListener(Sm,E),()=>document.removeEventListener(Sm,E)},[]),a.jsx(Se.div,{...c,ref:b,style:{pointerEvents:x?_?"auto":"none":void 0,...e.style},onFocusCapture:ue(e.onFocusCapture,j.onFocusCapture),onBlurCapture:ue(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:ue(e.onPointerDownCapture,k.onPointerDownCapture)})});cd.displayName=pO;var xO="DismissableLayerBranch",bO=m.forwardRef((e,t)=>{const r=m.useContext(qk),n=m.useRef(null),s=De(t,n);return m.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),a.jsx(Se.div,{...e,ref:s})});bO.displayName=xO;function wO(e,t=globalThis==null?void 0:globalThis.document){const r=Er(e),n=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const o=l=>{if(l.target&&!n.current){let c=function(){Wk(yO,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function _O(e,t=globalThis==null?void 0:globalThis.document){const r=Er(e),n=m.useRef(!1);return m.useEffect(()=>{const s=o=>{o.target&&!n.current&&Wk(vO,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Ex(){const e=new CustomEvent(Sm);document.dispatchEvent(e)}function Wk(e,t,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Gk(s,o):s.dispatchEvent(o)}var jf="focusScope.autoFocusOnMount",Nf="focusScope.autoFocusOnUnmount",Px={bubbles:!1,cancelable:!0},kO="FocusScope",ud=m.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[l,c]=m.useState(null),u=Er(s),d=Er(o),f=m.useRef(null),h=De(t,v=>c(v)),g=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(n){let v=function(x){if(g.paused||!l)return;const _=x.target;l.contains(_)?f.current=_:jn(f.current,{select:!0})},w=function(x){if(g.paused||!l)return;const _=x.relatedTarget;_!==null&&(l.contains(_)||jn(f.current,{select:!0}))},p=function(x){if(document.activeElement===document.body)for(const k of x)k.removedNodes.length>0&&jn(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",w);const y=new MutationObserver(p);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",w),y.disconnect()}}},[n,l,g.paused]),m.useEffect(()=>{if(l){Ax.add(g);const v=document.activeElement;if(!l.contains(v)){const p=new CustomEvent(jf,Px);l.addEventListener(jf,u),l.dispatchEvent(p),p.defaultPrevented||(SO(PO(Hk(l)),{select:!0}),document.activeElement===v&&jn(l))}return()=>{l.removeEventListener(jf,u),setTimeout(()=>{const p=new CustomEvent(Nf,Px);l.addEventListener(Nf,d),l.dispatchEvent(p),p.defaultPrevented||jn(v??document.body,{select:!0}),l.removeEventListener(Nf,d),Ax.remove(g)},0)}}},[l,u,d,g]);const b=m.useCallback(v=>{if(!r&&!n||g.paused)return;const w=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,p=document.activeElement;if(w&&p){const y=v.currentTarget,[x,_]=jO(y);x&&_?!v.shiftKey&&p===_?(v.preventDefault(),r&&jn(x,{select:!0})):v.shiftKey&&p===x&&(v.preventDefault(),r&&jn(_,{select:!0})):p===y&&v.preventDefault()}},[r,n,g.paused]);return a.jsx(Se.div,{tabIndex:-1,...i,ref:h,onKeyDown:b})});ud.displayName=kO;function SO(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(jn(n,{select:t}),document.activeElement!==r)return}function jO(e){const t=Hk(e),r=Tx(t,e),n=Tx(t.reverse(),e);return[r,n]}function Hk(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Tx(e,t){for(const r of e)if(!NO(r,{upTo:t}))return r}function NO(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function CO(e){return e instanceof HTMLInputElement&&"select"in e}function jn(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&CO(e)&&t&&e.select()}}var Ax=EO();function EO(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Rx(e,t),e.unshift(t)},remove(t){var r;e=Rx(e,t),(r=e[0])==null||r.resume()}}}function Rx(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function PO(e){return e.filter(t=>t.tagName!=="A")}var TO="Portal",dd=m.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,o]=m.useState(!1);Et(()=>o(!0),[]);const i=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?C3.createPortal(a.jsx(Se.div,{...n,ref:t}),i):null});dd.displayName=TO;function AO(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var is=e=>{const{present:t,children:r}=e,n=RO(t),s=typeof r=="function"?r({present:n.isPresent}):m.Children.only(r),o=De(n.ref,MO(s));return typeof r=="function"||n.isPresent?m.cloneElement(s,{ref:o}):null};is.displayName="Presence";function RO(e){const[t,r]=m.useState(),n=m.useRef(null),s=m.useRef(e),o=m.useRef("none"),i=e?"mounted":"unmounted",[l,c]=AO(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=Jl(n.current);o.current=l==="mounted"?u:"none"},[l]),Et(()=>{const u=n.current,d=s.current;if(d!==e){const h=o.current,g=Jl(u);e?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Et(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=g=>{const v=Jl(n.current).includes(g.animationName);if(g.target===t&&v&&(c("ANIMATION_END"),!s.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},h=g=>{g.target===t&&(o.current=Jl(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Jl(e){return(e==null?void 0:e.animationName)||"none"}function MO(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Cf=0;function Lp(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Mx()),document.body.insertAdjacentElement("beforeend",e[1]??Mx()),Cf++,()=>{Cf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Cf--}},[])}function Mx(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var $r=function(){return $r=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},$r.apply(this,arguments)};function Kk(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function LO(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,o;n<s;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var Sc="right-scroll-bar-position",jc="width-before-scroll-bar",DO="with-scroll-bars-hidden",OO="--removed-body-scroll-bar-size";function Ef(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function IO(e,t){var r=m.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var FO=typeof window<"u"?m.useLayoutEffect:m.useEffect,Lx=new WeakMap;function $O(e,t){var r=IO(null,function(n){return e.forEach(function(s){return Ef(s,n)})});return FO(function(){var n=Lx.get(r);if(n){var s=new Set(n),o=new Set(e),i=r.current;s.forEach(function(l){o.has(l)||Ef(l,null)}),o.forEach(function(l){s.has(l)||Ef(l,i)})}Lx.set(r,e)},[e]),r}function UO(e){return e}function zO(e,t){t===void 0&&(t=UO);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(o){var i=t(o,n);return r.push(i),function(){r=r.filter(function(l){return l!==i})}},assignSyncMedium:function(o){for(n=!0;r.length;){var i=r;r=[],i.forEach(o)}r={push:function(l){return o(l)},filter:function(){return r}}},assignMedium:function(o){n=!0;var i=[];if(r.length){var l=r;r=[],l.forEach(o),i=r}var c=function(){var d=i;i=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),r}}}};return s}function BO(e){e===void 0&&(e={});var t=zO(null);return t.options=$r({async:!0,ssr:!1},e),t}var Yk=function(e){var t=e.sideCar,r=Kk(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return m.createElement(n,$r({},r))};Yk.isSideCarExport=!0;function VO(e,t){return e.useMedium(t),Yk}var Jk=BO(),Pf=function(){},fd=m.forwardRef(function(e,t){var r=m.useRef(null),n=m.useState({onScrollCapture:Pf,onWheelCapture:Pf,onTouchMoveCapture:Pf}),s=n[0],o=n[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,g=e.noIsolation,b=e.inert,v=e.allowPinchZoom,w=e.as,p=w===void 0?"div":w,y=e.gapMode,x=Kk(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,k=$O([r,t]),j=$r($r({},x),s);return m.createElement(m.Fragment,null,d&&m.createElement(_,{sideCar:Jk,removeScrollBar:u,shards:f,noIsolation:g,inert:b,setCallbacks:o,allowPinchZoom:!!v,lockRef:r,gapMode:y}),i?m.cloneElement(m.Children.only(l),$r($r({},j),{ref:k})):m.createElement(p,$r({},j,{className:c,ref:k}),l))});fd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};fd.classNames={fullWidth:jc,zeroRight:Sc};var GO=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function qO(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=GO();return t&&e.setAttribute("nonce",t),e}function WO(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function HO(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var KO=function(){var e=0,t=null;return{add:function(r){e==0&&(t=qO())&&(WO(t,r),HO(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},YO=function(){var e=KO();return function(t,r){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Xk=function(){var e=YO(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},JO={left:0,top:0,right:0,gap:0},Tf=function(e){return parseInt(e||"",10)||0},XO=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Tf(r),Tf(n),Tf(s)]},QO=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return JO;var t=XO(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},ZO=Xk(),Fo="data-scroll-locked",eI=function(e,t,r,n){var s=e.left,o=e.top,i=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(DO,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Fo,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Sc,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(jc,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Sc," .").concat(Sc,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(jc," .").concat(jc,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Fo,`] {
    `).concat(OO,": ").concat(l,`px;
  }
`)},Dx=function(){var e=parseInt(document.body.getAttribute(Fo)||"0",10);return isFinite(e)?e:0},tI=function(){m.useEffect(function(){return document.body.setAttribute(Fo,(Dx()+1).toString()),function(){var e=Dx()-1;e<=0?document.body.removeAttribute(Fo):document.body.setAttribute(Fo,e.toString())}},[])},rI=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;tI();var o=m.useMemo(function(){return QO(s)},[s]);return m.createElement(ZO,{styles:eI(o,!t,s,r?"":"!important")})},jm=!1;if(typeof window<"u")try{var Xl=Object.defineProperty({},"passive",{get:function(){return jm=!0,!0}});window.addEventListener("test",Xl,Xl),window.removeEventListener("test",Xl,Xl)}catch{jm=!1}var ro=jm?{passive:!1}:!1,nI=function(e){return e.tagName==="TEXTAREA"},Qk=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!nI(e)&&r[t]==="visible")},sI=function(e){return Qk(e,"overflowY")},oI=function(e){return Qk(e,"overflowX")},Ox=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=Zk(e,n);if(s){var o=eS(e,n),i=o[1],l=o[2];if(i>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},aI=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},iI=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},Zk=function(e,t){return e==="v"?sI(t):oI(t)},eS=function(e,t){return e==="v"?aI(t):iI(t)},lI=function(e,t){return e==="h"&&t==="rtl"?-1:1},cI=function(e,t,r,n,s){var o=lI(e,window.getComputedStyle(t).direction),i=o*n,l=r.target,c=t.contains(l),u=!1,d=i>0,f=0,h=0;do{var g=eS(e,l),b=g[0],v=g[1],w=g[2],p=v-w-o*b;(b||p)&&Zk(e,l)&&(f+=p,h+=b),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},Ql=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Ix=function(e){return[e.deltaX,e.deltaY]},Fx=function(e){return e&&"current"in e?e.current:e},uI=function(e,t){return e[0]===t[0]&&e[1]===t[1]},dI=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},fI=0,no=[];function hI(e){var t=m.useRef([]),r=m.useRef([0,0]),n=m.useRef(),s=m.useState(fI++)[0],o=m.useState(Xk)[0],i=m.useRef(e);m.useEffect(function(){i.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var v=LO([e.lockRef.current],(e.shards||[]).map(Fx),!0).filter(Boolean);return v.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(v,w){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!i.current.allowPinchZoom;var p=Ql(v),y=r.current,x="deltaX"in v?v.deltaX:y[0]-p[0],_="deltaY"in v?v.deltaY:y[1]-p[1],k,j=v.target,E=Math.abs(x)>Math.abs(_)?"h":"v";if("touches"in v&&E==="h"&&j.type==="range")return!1;var N=Ox(E,j);if(!N)return!0;if(N?k=E:(k=E==="v"?"h":"v",N=Ox(E,j)),!N)return!1;if(!n.current&&"changedTouches"in v&&(x||_)&&(n.current=k),!k)return!0;var I=n.current||k;return cI(I,w,v,I==="h"?x:_)},[]),c=m.useCallback(function(v){var w=v;if(!(!no.length||no[no.length-1]!==o)){var p="deltaY"in w?Ix(w):Ql(w),y=t.current.filter(function(k){return k.name===w.type&&(k.target===w.target||w.target===k.shadowParent)&&uI(k.delta,p)})[0];if(y&&y.should){w.cancelable&&w.preventDefault();return}if(!y){var x=(i.current.shards||[]).map(Fx).filter(Boolean).filter(function(k){return k.contains(w.target)}),_=x.length>0?l(w,x[0]):!i.current.noIsolation;_&&w.cancelable&&w.preventDefault()}}},[]),u=m.useCallback(function(v,w,p,y){var x={name:v,delta:w,target:p,should:y,shadowParent:mI(p)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(_){return _!==x})},1)},[]),d=m.useCallback(function(v){r.current=Ql(v),n.current=void 0},[]),f=m.useCallback(function(v){u(v.type,Ix(v),v.target,l(v,e.lockRef.current))},[]),h=m.useCallback(function(v){u(v.type,Ql(v),v.target,l(v,e.lockRef.current))},[]);m.useEffect(function(){return no.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,ro),document.addEventListener("touchmove",c,ro),document.addEventListener("touchstart",d,ro),function(){no=no.filter(function(v){return v!==o}),document.removeEventListener("wheel",c,ro),document.removeEventListener("touchmove",c,ro),document.removeEventListener("touchstart",d,ro)}},[]);var g=e.removeScrollBar,b=e.inert;return m.createElement(m.Fragment,null,b?m.createElement(o,{styles:dI(s)}):null,g?m.createElement(rI,{gapMode:e.gapMode}):null)}function mI(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const gI=VO(Jk,hI);var hd=m.forwardRef(function(e,t){return m.createElement(fd,$r({},e,{ref:t,sideCar:gI}))});hd.classNames=fd.classNames;var pI=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},so=new WeakMap,Zl=new WeakMap,ec={},Af=0,tS=function(e){return e&&(e.host||tS(e.parentNode))},yI=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=tS(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},vI=function(e,t,r,n){var s=yI(t,Array.isArray(e)?e:[e]);ec[r]||(ec[r]=new WeakMap);var o=ec[r],i=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var g=h.getAttribute(n),b=g!==null&&g!=="false",v=(so.get(h)||0)+1,w=(o.get(h)||0)+1;so.set(h,v),o.set(h,w),i.push(h),v===1&&b&&Zl.set(h,!0),w===1&&h.setAttribute(r,"true"),b||h.setAttribute(n,"true")}catch(p){console.error("aria-hidden: cannot operate on ",h,p)}})};return d(t),l.clear(),Af++,function(){i.forEach(function(f){var h=so.get(f)-1,g=o.get(f)-1;so.set(f,h),o.set(f,g),h||(Zl.has(f)||f.removeAttribute(n),Zl.delete(f)),g||f.removeAttribute(r)}),Af--,Af||(so=new WeakMap,so=new WeakMap,Zl=new WeakMap,ec={})}},Dp=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=pI(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),vI(n,s,r,"aria-hidden")):function(){return null}},md="Dialog",[rS,IG]=Ks(md),[xI,Ar]=rS(md),nS=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,l=m.useRef(null),c=m.useRef(null),[u,d]=du({prop:n,defaultProp:s??!1,onChange:o,caller:md});return a.jsx(xI,{scope:t,triggerRef:l,contentRef:c,contentId:Ts(),titleId:Ts(),descriptionId:Ts(),open:u,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(f=>!f),[d]),modal:i,children:r})};nS.displayName=md;var sS="DialogTrigger",bI=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Ar(sS,r),o=De(t,s.triggerRef);return a.jsx(Se.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Fp(s.open),...n,ref:o,onClick:ue(e.onClick,s.onOpenToggle)})});bI.displayName=sS;var Op="DialogPortal",[wI,oS]=rS(Op,{forceMount:void 0}),aS=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,o=Ar(Op,t);return a.jsx(wI,{scope:t,forceMount:r,children:m.Children.map(n,i=>a.jsx(is,{present:r||o.open,children:a.jsx(dd,{asChild:!0,container:s,children:i})}))})};aS.displayName=Op;var fu="DialogOverlay",iS=m.forwardRef((e,t)=>{const r=oS(fu,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=Ar(fu,e.__scopeDialog);return o.modal?a.jsx(is,{present:n||o.open,children:a.jsx(kI,{...s,ref:t})}):null});iS.displayName=fu;var _I=Is("DialogOverlay.RemoveScroll"),kI=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Ar(fu,r);return a.jsx(hd,{as:_I,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(Se.div,{"data-state":Fp(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Fs="DialogContent",lS=m.forwardRef((e,t)=>{const r=oS(Fs,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=Ar(Fs,e.__scopeDialog);return a.jsx(is,{present:n||o.open,children:o.modal?a.jsx(SI,{...s,ref:t}):a.jsx(jI,{...s,ref:t})})});lS.displayName=Fs;var SI=m.forwardRef((e,t)=>{const r=Ar(Fs,e.__scopeDialog),n=m.useRef(null),s=De(t,r.contentRef,n);return m.useEffect(()=>{const o=n.current;if(o)return Dp(o)},[]),a.jsx(cS,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ue(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:ue(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&o.preventDefault()}),onFocusOutside:ue(e.onFocusOutside,o=>o.preventDefault())})}),jI=m.forwardRef((e,t)=>{const r=Ar(Fs,e.__scopeDialog),n=m.useRef(!1),s=m.useRef(!1);return a.jsx(cS,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),cS=m.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,l=Ar(Fs,r),c=m.useRef(null),u=De(t,c);return Lp(),a.jsxs(a.Fragment,{children:[a.jsx(ud,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:a.jsx(cd,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Fp(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(NI,{titleId:l.titleId}),a.jsx(EI,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Ip="DialogTitle",uS=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Ar(Ip,r);return a.jsx(Se.h2,{id:s.titleId,...n,ref:t})});uS.displayName=Ip;var dS="DialogDescription",fS=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Ar(dS,r);return a.jsx(Se.p,{id:s.descriptionId,...n,ref:t})});fS.displayName=dS;var hS="DialogClose",mS=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Ar(hS,r);return a.jsx(Se.button,{type:"button",...n,ref:t,onClick:ue(e.onClick,()=>s.onOpenChange(!1))})});mS.displayName=hS;function Fp(e){return e?"open":"closed"}var gS="DialogTitleWarning",[FG,pS]=iO(gS,{contentName:Fs,titleName:Ip,docsSlug:"dialog"}),NI=({titleId:e})=>{const t=pS(gS),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},CI="DialogDescriptionWarning",EI=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${pS(CI).contentName}}.`;return m.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},PI=nS,TI=aS,yS=iS,vS=lS,xS=uS,bS=fS,AI=mS;const $p=PI,RI=TI,wS=m.forwardRef(({className:e,...t},r)=>a.jsx(yS,{ref:r,className:je("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));wS.displayName=yS.displayName;const Up=m.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(RI,{children:[a.jsx(wS,{}),a.jsxs(vS,{ref:n,className:je("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,a.jsxs(AI,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(Uk,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Up.displayName=vS.displayName;const zp=({className:e,...t})=>a.jsx("div",{className:je("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});zp.displayName="DialogHeader";const _S=({className:e,...t})=>a.jsx("div",{className:je("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});_S.displayName="DialogFooter";const Bp=m.forwardRef(({className:e,...t},r)=>a.jsx(xS,{ref:r,className:je("text-lg font-semibold leading-none tracking-tight",e),...t}));Bp.displayName=xS.displayName;const MI=m.forwardRef(({className:e,...t},r)=>a.jsx(bS,{ref:r,className:je("text-sm text-muted-foreground",e),...t}));MI.displayName=bS.displayName;const $x=({emoji:e,size:t="md",className:r="",fallbackInitials:n="",onClick:s})=>{const o={sm:"w-8 h-8 text-base",md:"w-12 h-12 text-xl",lg:"w-16 h-16 text-2xl",xl:"w-24 h-24 text-3xl"},i=o[t]||o.md,l=n.split(" ").map(c=>c[0]).join("").toUpperCase().substring(0,2);return a.jsx("div",{className:`${i} rounded-full overflow-hidden flex-shrink-0 flex items-center justify-center ${e?"bg-gradient-to-br from-pink-100 to-rose-200 dark:from-rose-900 dark:to-pink-800":"bg-blue-500"} ${r}`,onClick:s,children:e?a.jsx("span",{className:"select-none",children:e}):a.jsx("span",{className:"text-white font-semibold",children:l||"?"})})},Ux={faces:["","","","","","","","","","","","","","","","","","","","","","","",""],animals:["","","","","","","","","","","","","","","","","","","","","","","",""],food:["","","","","","","","","","","","","","","","","","","","","","","",""],activities:["","","","","","","","","","","","","","","","","","","","","","","",""],travel:["","","","","","","","","","","","","","","","","","","","","","","",""],objects:["","","","","","","","","","","","","","","","","","","","","","","",""],symbols:["","","","","","","","","","","","","","","","","","","","","","","",""]},LI=({onSelect:e,selectedEmoji:t})=>{const[r,n]=m.useState("faces"),[s,o]=m.useState([]);m.useEffect(()=>{const l=localStorage.getItem("recentEmojis");l&&o(JSON.parse(l).slice(0,24))},[]);const i=l=>{e(l);const c=[l,...s.filter(u=>u!==l)].slice(0,24);o(c),localStorage.setItem("recentEmojis",JSON.stringify(c))};return a.jsxs("div",{className:"border dark:border-gray-700 rounded-lg overflow-hidden bg-white dark:bg-gray-800 shadow-lg",children:[a.jsxs("div",{className:"flex border-b dark:border-gray-700 overflow-x-auto",children:[a.jsx("button",{className:`px-3 py-2 text-sm flex-shrink-0 ${s.length>0&&r==="faces"?"text-rose-600 border-b-2 border-rose-600":"text-gray-500 dark:text-gray-400"}`,onClick:()=>n("faces"),children:"Recent"}),Object.keys(Ux).map(l=>a.jsx("button",{className:`px-3 py-2 text-sm flex-shrink-0 ${r===l?"text-rose-600 border-b-2 border-rose-600":"text-gray-500 dark:text-gray-400"}`,onClick:()=>n(l),children:l.charAt(0).toUpperCase()+l.slice(1)},l))]}),a.jsx("div",{className:"p-2 max-h-60 overflow-y-auto",children:a.jsx("div",{className:"grid grid-cols-8 gap-1",children:(s.length>0&&r==="faces"?s:Ux[r]).map((l,c)=>a.jsx("button",{className:`w-8 h-8 flex items-center justify-center text-xl hover:bg-gray-100 dark:hover:bg-gray-700 rounded ${t===l?"bg-rose-100 dark:bg-rose-900":""}`,onClick:()=>i(l),children:l},`${l}-${c}`))})}),a.jsx("div",{className:"p-2 border-t dark:border-gray-700 text-xs text-center text-gray-500 dark:text-gray-400",children:"Select an emoji as your avatar"})]})},ra=({userId:e,avatarUrl:t=null,avatarEmoji:r=null,fullName:n="",size:s="md",editable:o=!1,onAvatarChange:i,suggestedEmojis:l})=>{const{user:c}=$e(),{t:u}=Yr(),[d,f]=m.useState(!1),[h,g]=m.useState(!1),b=!e||c&&c.id===e,v=o&&b,w=async y=>{if(i)i("emoji",y);else if(c&&v){g(!0);try{await z.auth.updateUser({data:{avatar_emoji:y,avatar_url:null}}),await z.from("users").update({avatar_emoji:y,avatar_url:null}).eq("id",c.id),q.success("Avatar updated successfully")}catch(x){console.error("Error updating avatar emoji:",x),q.error("Failed to update avatar")}finally{g(!1),f(!1)}}},p=async y=>{if(!(!c||!v||!y.target.files||!y.target.files[0]))try{g(!0);const x=y.target.files[0],_=x.name.split(".").pop(),k=`${c.id}-${Date.now()}.${_}`,j=`${c.id}/${k}`,{error:E}=await z.storage.from("avatars").upload(j,x);if(E)throw E;const{data:{publicUrl:N}}=z.storage.from("avatars").getPublicUrl(j);i?i("url",N):(await z.auth.updateUser({data:{avatar_url:N,avatar_emoji:null}}),await z.from("users").update({avatar_url:N,avatar_emoji:null}).eq("id",c.id)),q.success("Avatar uploaded successfully")}catch(x){console.error("Error uploading avatar:",x),q.error("Failed to upload avatar")}finally{g(!1),f(!1)}};return a.jsxs("div",{className:"relative",children:[r?a.jsx($x,{emoji:r,size:s,fallbackInitials:n,className:v?"cursor-pointer":"",onClick:v?()=>f(!0):void 0}):t?a.jsx("div",{className:`overflow-hidden rounded-full ${s==="sm"?"w-8 h-8":s==="md"?"w-12 h-12":s==="lg"?"w-16 h-16":"w-24 h-24"} ${v?"cursor-pointer":""}`,onClick:v?()=>f(!0):void 0,children:a.jsx("img",{src:t,alt:n,className:"w-full h-full object-cover"})}):a.jsx($x,{fallbackInitials:n,size:s,className:v?"cursor-pointer":"",onClick:v?()=>f(!0):void 0}),v&&a.jsx("button",{type:"button",onClick:()=>f(!0),disabled:h,className:"absolute bottom-0 right-0 bg-rose-500 text-white p-1 rounded-full shadow-md hover:bg-rose-600 disabled:opacity-50",children:h?a.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:a.jsx("path",{d:"M12 5v14M5 12h14"})})}),d&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-4 max-w-md w-full",children:[a.jsxs("div",{className:"flex justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Choose your avatar"}),a.jsx("button",{type:"button",onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-500",children:a.jsx("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Use an emoji"}),a.jsx(LI,{onSelect:w,selectedEmoji:r||void 0})]}),a.jsxs("div",{className:"border-t dark:border-gray-700 pt-4",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Or upload an image"}),a.jsxs("label",{className:"flex items-center justify-center w-full h-12 px-4 transition bg-white dark:bg-gray-700 border-2 border-gray-300 dark:border-gray-600 border-dashed rounded-md appearance-none cursor-pointer hover:border-gray-400 focus:outline-none",children:[a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Choose a file"}),a.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:p,disabled:h})]})]})]})]})})]})},DI=["tech","gaming","travel","food","music","art","fashion","fitness","health","books","movies","nature","photography","sports","science"],kS=({onPostCreated:e})=>{var K,H,$,X,ne,ie;const{t}=at(),r=ot(),{user:n}=$e(),{isProfileComplete:s}=Vk(),[o,i]=m.useState(""),[l,c]=m.useState([]),[u,d]=m.useState([]),[f,h]=m.useState([]),[g,b]=m.useState([]),[v,w]=m.useState(!1),[p,y]=m.useState([]),[x,_]=m.useState([]),[k,j]=m.useState([]),[E,N]=m.useState(null),[I,C]=m.useState(null),[L,P]=m.useState(null),[D,A]=m.useState(!1),[F,O]=m.useState(!1),[U,S]=m.useState(!1),[M,T]=m.useState(!1),[B,V]=m.useState(!1);m.useEffect(()=>{n&&(re(),se(),de())},[n]);const re=async()=>{if(n)try{const{data:J,error:he}=await z.from("group_members").select(`
          group_id,
          groups:group_id (
            id,
            name
          )
        `).eq("user_id",n.id);if(he){console.error("Error fetching user groups:",he),y([]);return}if(!J||J.length===0){y([]);return}const Ce=J.filter(Pe=>Pe.groups).map(Pe=>({id:Pe.groups.id,name:Pe.groups.name}));y(Ce)}catch(J){console.error("Error fetching user groups:",J),y([])}},se=async()=>{if(n)try{const{data:J,error:he}=await z.from("event_attendees").select("events(id, title)").eq("user_id",n.id);if(he)throw he;if(!J||J.length===0){_([]);return}const Ce=J.map(Pe=>Pe.events?{id:Pe.events.id,title:Pe.events.title}:null).filter(Pe=>Pe!==null);_(Ce)}catch(J){console.error("Error fetching user events:",J),_([])}},de=async()=>{if(n)try{const{data:J,error:he}=await z.from("relationships").select(`
          requester_id,
          addressee_id,
          profile_requester:profiles!relationships_requester_id_fkey(id, full_name, avatar_url, avatar_emoji),
          profile_addressee:profiles!relationships_addressee_id_fkey(id, full_name, avatar_url, avatar_emoji)
        `).eq("status","accepted").or(`requester_id.eq.${n.id},addressee_id.eq.${n.id}`);if(he){console.error("Error fetching user friends:",he),j([]);return}if(!J||J.length===0){j([]);return}const Pe=J.map(nt=>{const ye=nt.requester_id===n.id?nt.profile_addressee:nt.profile_requester;return ye?{id:ye.id,full_name:ye.full_name,...ye.avatar_url&&{avatar_url:ye.avatar_url}}:null}).filter(nt=>nt!==null),it=Array.from(new Map(Pe.map(nt=>[nt.id,nt])).values());j(it)}catch(J){console.error("Error processing user friends:",J),j([])}},oe=J=>{const he=J.target.value;i(he);const pe=he.match(/#[a-zA-Z0-9_]+/g)||[];h(pe);const Ce=pe.map(it=>it.substring(1).toLowerCase()),Pe=DI.filter(it=>!Ce.includes(it.toLowerCase()));b(Pe)},R=J=>{i(he=>`${he} #${J}`),T(!1)},G=J=>{const he=Array.from(J.target.files||[]);c(Ce=>[...Ce,...he]);const pe=he.map(Ce=>URL.createObjectURL(Ce));d(Ce=>[...Ce,...pe])},Q=J=>{c(he=>he.filter((pe,Ce)=>Ce!==J)),d(he=>he.filter((pe,Ce)=>Ce!==J))},W=async J=>{if(J.preventDefault(),!s){V(!0);return}if(!o.trim()&&l.length===0){q.error("Please enter some content or select images to post.");return}w(!0);try{const he=[];for(const it of l){const nt=`${aO()}-${it.name}`,{data:Y,error:ye}=await z.storage.from("post-images").upload(`public/${nt}`,it);if(ye){console.error("Error uploading image:",ye),q.error("Error uploading image."),w(!1);return}const Ve=Y==null?void 0:Y.path;if(Ve){const{data:pt}=z.storage.from("post-images").getPublicUrl(Ve);pt!=null&&pt.publicUrl?he.push(pt.publicUrl):console.warn(`Could not get public URL for uploaded file: ${Ve}`)}else console.warn(`Upload successful but path not found in response for file: ${it.name}`)}const pe=o.match(/#[a-zA-Z0-9_]+/g)||[],{data:Ce,error:Pe}=await z.from("posts").insert({user_id:n==null?void 0:n.id,content:o.trim(),image_url:he.length>0?he[0]:null,hashtags:pe.length>0?pe:null,group_id:E,event_id:I,tagged_user_id:L,created_at:new Date().toISOString(),like_count:0,comment_count:0,share_count:0,save_count:0}).select(`
          *,
          profiles:user_id (
            full_name,
            avatar_url,
            avatar_emoji
          )
        `).single();if(Pe){console.error("Error creating post:",Pe),q.error("Error creating post."),w(!1);return}i(""),c([]),d([]),h([]),b([]),N(null),C(null),P(null),Ce?e(Ce):console.warn("Post created but data not returned from insert."),q.success("Post created successfully!")}catch(he){console.error("Error creating post:",he),q.error("Error creating post.")}finally{w(!1)}};return a.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow mb-4 border border-gray-200 dark:border-gray-700",children:[a.jsx($p,{open:B,onOpenChange:V}),a.jsxs("form",{onSubmit:W,children:[a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(ra,{userId:n==null?void 0:n.id,avatarUrl:(K=n==null?void 0:n.user_metadata)==null?void 0:K.avatar_url,avatarEmoji:(H=n==null?void 0:n.user_metadata)==null?void 0:H.avatar_emoji,fullName:($=n==null?void 0:n.user_metadata)==null?void 0:$.full_name,size:"sm"}),a.jsx("textarea",{value:o,onChange:oe,onClick:()=>!s&&V(!0),placeholder:t("post.placeholder")||"What's on your mind?",className:"flex-1 p-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-rose-500 focus:border-rose-500 dark:bg-gray-700 dark:text-white resize-none min-h-[60px]",rows:3,disabled:!s||v})]}),M&&g.length>0&&a.jsxs("div",{className:"mt-2 ml-12 p-2 bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 rounded-lg shadow-md max-h-32 overflow-y-auto z-10",children:[a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:[t("post.suggestedHashtags")||"Suggested Hashtags",":"]}),g.map(J=>a.jsxs("button",{type:"button",onClick:()=>R(J),className:"block w-full text-left px-2 py-1 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600 rounded",children:["#",J]},J))]}),u.length>0&&a.jsx("div",{className:"mt-3 ml-12 grid grid-cols-3 gap-2",children:u.map((J,he)=>a.jsxs("div",{className:"relative group",children:[a.jsx("img",{src:J,alt:`Preview ${he}`,className:"w-full h-24 object-cover rounded-lg"}),a.jsx("button",{type:"button",onClick:()=>Q(he),className:"absolute top-1 right-1 bg-black bg-opacity-50 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity","aria-label":"Remove image",children:a.jsx(Kn,{size:14})})]},he))}),a.jsxs("div",{className:"flex justify-between items-center mt-3 ml-12",children:[a.jsxs("div",{className:"flex space-x-2 text-gray-500 dark:text-gray-400",children:[a.jsx("label",{htmlFor:"image-upload",className:`cursor-pointer p-2 rounded-full hover:bg-green-100 dark:hover:bg-green-900/30 ${s?"":"opacity-50 cursor-not-allowed"}`,children:a.jsx(Hg,{className:"text-green-600 dark:text-green-400"})}),a.jsx("input",{id:"image-upload",type:"file",accept:"image/*",multiple:!0,onChange:G,className:"hidden",disabled:!s||v}),a.jsx("button",{type:"button",onClick:()=>T(!M),className:`p-2 rounded-full hover:bg-blue-100 dark:hover:bg-blue-900/30 ${s?"":"opacity-50 cursor-not-allowed"}`,disabled:!s,children:a.jsx(M2,{className:"text-blue-600 dark:text-blue-400"})}),a.jsx("button",{type:"button",onClick:()=>{A(!D),O(!1),S(!1)},className:`p-2 rounded-full hover:bg-purple-100 dark:hover:bg-purple-900/30 ${s?"":"opacity-50 cursor-not-allowed"}`,disabled:!s,children:a.jsx(rt,{className:"text-purple-600 dark:text-purple-400"})}),a.jsx("button",{type:"button",onClick:()=>{O(!F),A(!1),S(!1)},className:`p-2 rounded-full hover:bg-orange-100 dark:hover:bg-orange-900/30 ${s?"":"opacity-50 cursor-not-allowed"}`,disabled:!s,children:a.jsx(cr,{className:"text-orange-600 dark:text-orange-400"})}),a.jsx("button",{type:"button",onClick:()=>{S(!U),A(!1),O(!1)},className:`p-2 rounded-full hover:bg-teal-100 dark:hover:bg-teal-900/30 ${s?"":"opacity-50 cursor-not-allowed"}`,disabled:!s,children:a.jsx(Ui,{className:"text-teal-600 dark:text-teal-400"})})]}),a.jsx(xe,{type:"submit",disabled:!o.trim()&&l.length===0||v||!s,className:"min-w-[100px]",children:v?a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),t("buttons.posting")||"Posting..."]}):t("buttons.post")||"Post"})]}),(E||I||L)&&a.jsxs("div",{className:"mt-2 ml-12 text-xs text-gray-600 dark:text-gray-400 flex items-center",children:[a.jsxs("span",{children:[t("post.postingTo")||"Posting to",": "]}),a.jsxs("span",{className:"ml-1 font-medium bg-gray-100 dark:bg-gray-700 px-2 py-0.5 rounded",children:[E&&((X=p.find(J=>J.id===E))==null?void 0:X.name),I&&((ne=x.find(J=>J.id===I))==null?void 0:ne.title),L&&((ie=k.find(J=>J.id===L))==null?void 0:ie.full_name)]}),a.jsx("button",{type:"button",onClick:()=>{N(null),C(null),P(null)},className:"ml-1 text-red-500 hover:text-red-700","aria-label":"Clear destination",children:a.jsx(Kn,{size:12})})]}),D&&p.length>0&&a.jsxs("div",{className:"mt-2 ml-12 p-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg max-h-48 overflow-y-auto z-10",children:[a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:[t("post.selectGroup")||"Share in group",":"]}),a.jsx("div",{className:"space-y-1",children:p.map(J=>a.jsx("button",{type:"button",onClick:()=>{N(J.id),C(null),P(null),A(!1)},className:"w-full text-left px-3 py-2 hover:bg-purple-50 dark:hover:bg-purple-900/30 rounded-lg text-gray-800 dark:text-gray-200",children:J.name},J.id))})]}),D&&p.length===0&&a.jsxs("div",{className:"mt-2 ml-12 p-4 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg text-center",children:[a.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:t("groups.no_groups_message")||"You haven't joined any groups yet."}),a.jsx("button",{type:"button",onClick:()=>r("/groups"),className:"mt-2 px-4 py-2 bg-purple-500 text-white rounded-lg text-sm hover:bg-purple-600",children:t("groups.buttons.findGroups")||"Find Groups"})]}),F&&x.length>0&&a.jsxs("div",{className:"mt-2 ml-12 p-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg max-h-48 overflow-y-auto z-10",children:[a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:[t("post.selectEvent")||"Share to event",":"]}),a.jsx("div",{className:"space-y-1",children:x.map(J=>a.jsx("button",{type:"button",onClick:()=>{C(J.id),N(null),P(null),O(!1)},className:"w-full text-left px-3 py-2 hover:bg-orange-50 dark:hover:bg-orange-900/30 rounded-lg text-gray-800 dark:text-gray-200",children:J.title},J.id))})]}),F&&x.length===0&&a.jsxs("div",{className:"mt-2 ml-12 p-4 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg text-center",children:[a.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:t("events.no_events_message")||"You haven't joined any events yet."}),a.jsx("button",{type:"button",onClick:()=>r("/events"),className:"mt-2 px-4 py-2 bg-orange-500 text-white rounded-lg text-sm hover:bg-orange-600",children:t("events.buttons.findEvents")||"Find Events"})]}),U&&k.length>0&&a.jsxs("div",{className:"mt-2 ml-12 p-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg max-h-48 overflow-y-auto z-10",children:[a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:[t("post.selectFriend")||"Share with friend",":"]}),a.jsx("div",{className:"space-y-1",children:k.map(J=>a.jsxs("button",{type:"button",onClick:()=>{P(J.id),N(null),C(null),S(!1)},className:"w-full text-left px-3 py-2 hover:bg-teal-50 dark:hover:bg-teal-900/30 rounded-lg flex items-center text-gray-800 dark:text-gray-200",children:[a.jsx(ra,{userId:J.id,avatarUrl:J.avatar_url,fullName:J.full_name,size:"sm"}),a.jsx("span",{className:"ml-2",children:J.full_name})]},J.id))})]}),U&&k.length===0&&a.jsxs("div",{className:"mt-2 ml-12 p-4 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg shadow-lg text-center",children:[a.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:t("friends.no_friends_message")||"You haven't added any friends yet."}),a.jsx("button",{type:"button",onClick:()=>r("/friends"),className:"mt-2 px-4 py-2 bg-teal-500 text-white rounded-lg text-sm hover:bg-teal-600",children:t("friends.buttons.findPeople")||"Find People"})]})]})]})},na=({message:e,className:t=""})=>e?a.jsxs("div",{className:`bg-red-50 border border-red-200 text-red-800 rounded-lg p-4 flex items-start ${t}`,children:[a.jsx(T2,{className:"h-5 w-5 text-red-600 mr-3 mt-0.5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium",children:"Error"}),a.jsx("p",{className:"text-sm",children:e})]})]}):null;function hu(e){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hu(e)}function $s(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Be(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Fe(e){Be(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||hu(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function OI(e,t){Be(2,arguments);var r=Fe(e).getTime(),n=$s(t);return new Date(r+n)}var II={};function hl(){return II}function Nm(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function Nc(e,t){Be(2,arguments);var r=Fe(e),n=Fe(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function FI(e){return Be(1,arguments),e instanceof Date||hu(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function $I(e){if(Be(1,arguments),!FI(e)&&typeof e!="number")return!1;var t=Fe(e);return!isNaN(Number(t))}function UI(e,t){Be(2,arguments);var r=Fe(e),n=Fe(t),s=r.getFullYear()-n.getFullYear(),o=r.getMonth()-n.getMonth();return s*12+o}function zI(e,t){return Be(2,arguments),Fe(e).getTime()-Fe(t).getTime()}var BI={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},VI="trunc";function GI(e){return BI[VI]}function qI(e){Be(1,arguments);var t=Fe(e);return t.setHours(23,59,59,999),t}function WI(e){Be(1,arguments);var t=Fe(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function HI(e){Be(1,arguments);var t=Fe(e);return qI(t).getTime()===WI(t).getTime()}function KI(e,t){Be(2,arguments);var r=Fe(e),n=Fe(t),s=Nc(r,n),o=Math.abs(UI(r,n)),i;if(o<1)i=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*o);var l=Nc(r,n)===-s;HI(Fe(e))&&o===1&&Nc(e,n)===1&&(l=!1),i=s*(o-Number(l))}return i===0?0:i}function YI(e,t,r){Be(2,arguments);var n=zI(e,t)/1e3;return GI()(n)}function JI(e,t){Be(2,arguments);var r=$s(t);return OI(e,-r)}var XI=864e5;function QI(e){Be(1,arguments);var t=Fe(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),s=r-n;return Math.floor(s/XI)+1}function mu(e){Be(1,arguments);var t=1,r=Fe(e),n=r.getUTCDay(),s=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-s),r.setUTCHours(0,0,0,0),r}function SS(e){Be(1,arguments);var t=Fe(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var s=mu(n),o=new Date(0);o.setUTCFullYear(r,0,4),o.setUTCHours(0,0,0,0);var i=mu(o);return t.getTime()>=s.getTime()?r+1:t.getTime()>=i.getTime()?r:r-1}function ZI(e){Be(1,arguments);var t=SS(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=mu(r);return n}var e7=6048e5;function t7(e){Be(1,arguments);var t=Fe(e),r=mu(t).getTime()-ZI(t).getTime();return Math.round(r/e7)+1}function gu(e,t){var r,n,s,o,i,l,c,u;Be(1,arguments);var d=hl(),f=$s((r=(n=(s=(o=t==null?void 0:t.weekStartsOn)!==null&&o!==void 0?o:t==null||(i=t.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:d.weekStartsOn)!==null&&n!==void 0?n:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Fe(e),g=h.getUTCDay(),b=(g<f?7:0)+g-f;return h.setUTCDate(h.getUTCDate()-b),h.setUTCHours(0,0,0,0),h}function jS(e,t){var r,n,s,o,i,l,c,u;Be(1,arguments);var d=Fe(e),f=d.getUTCFullYear(),h=hl(),g=$s((r=(n=(s=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(i=t.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:h.firstWeekContainsDate)!==null&&n!==void 0?n:(c=h.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(g>=1&&g<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var b=new Date(0);b.setUTCFullYear(f+1,0,g),b.setUTCHours(0,0,0,0);var v=gu(b,t),w=new Date(0);w.setUTCFullYear(f,0,g),w.setUTCHours(0,0,0,0);var p=gu(w,t);return d.getTime()>=v.getTime()?f+1:d.getTime()>=p.getTime()?f:f-1}function r7(e,t){var r,n,s,o,i,l,c,u;Be(1,arguments);var d=hl(),f=$s((r=(n=(s=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(i=t.locale)===null||i===void 0||(l=i.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:d.firstWeekContainsDate)!==null&&n!==void 0?n:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1),h=jS(e,t),g=new Date(0);g.setUTCFullYear(h,0,f),g.setUTCHours(0,0,0,0);var b=gu(g,t);return b}var n7=6048e5;function s7(e,t){Be(1,arguments);var r=Fe(e),n=gu(r,t).getTime()-r7(r,t).getTime();return Math.round(n/n7)+1}function Ae(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var wn={y:function(t,r){var n=t.getUTCFullYear(),s=n>0?n:1-n;return Ae(r==="yy"?s%100:s,r.length)},M:function(t,r){var n=t.getUTCMonth();return r==="M"?String(n+1):Ae(n+1,2)},d:function(t,r){return Ae(t.getUTCDate(),r.length)},a:function(t,r){var n=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,r){return Ae(t.getUTCHours()%12||12,r.length)},H:function(t,r){return Ae(t.getUTCHours(),r.length)},m:function(t,r){return Ae(t.getUTCMinutes(),r.length)},s:function(t,r){return Ae(t.getUTCSeconds(),r.length)},S:function(t,r){var n=r.length,s=t.getUTCMilliseconds(),o=Math.floor(s*Math.pow(10,n-3));return Ae(o,r.length)}},oo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},o7={G:function(t,r,n){var s=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){var s=t.getUTCFullYear(),o=s>0?s:1-s;return n.ordinalNumber(o,{unit:"year"})}return wn.y(t,r)},Y:function(t,r,n,s){var o=jS(t,s),i=o>0?o:1-o;if(r==="YY"){var l=i%100;return Ae(l,2)}return r==="Yo"?n.ordinalNumber(i,{unit:"year"}):Ae(i,r.length)},R:function(t,r){var n=SS(t);return Ae(n,r.length)},u:function(t,r){var n=t.getUTCFullYear();return Ae(n,r.length)},Q:function(t,r,n){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(s);case"QQ":return Ae(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,r,n){var s=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(s);case"qq":return Ae(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,r,n){var s=t.getUTCMonth();switch(r){case"M":case"MM":return wn.M(t,r);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(t,r,n){var s=t.getUTCMonth();switch(r){case"L":return String(s+1);case"LL":return Ae(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(t,r,n,s){var o=s7(t,s);return r==="wo"?n.ordinalNumber(o,{unit:"week"}):Ae(o,r.length)},I:function(t,r,n){var s=t7(t);return r==="Io"?n.ordinalNumber(s,{unit:"week"}):Ae(s,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):wn.d(t,r)},D:function(t,r,n){var s=QI(t);return r==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):Ae(s,r.length)},E:function(t,r,n){var s=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(t,r,n,s){var o=t.getUTCDay(),i=(o-s.weekStartsOn+8)%7||7;switch(r){case"e":return String(i);case"ee":return Ae(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(t,r,n,s){var o=t.getUTCDay(),i=(o-s.weekStartsOn+8)%7||7;switch(r){case"c":return String(i);case"cc":return Ae(i,r.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(t,r,n){var s=t.getUTCDay(),o=s===0?7:s;switch(r){case"i":return String(o);case"ii":return Ae(o,r.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(t,r,n){var s=t.getUTCHours(),o=s/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,r,n){var s=t.getUTCHours(),o;switch(s===12?o=oo.noon:s===0?o=oo.midnight:o=s/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,r,n){var s=t.getUTCHours(),o;switch(s>=17?o=oo.evening:s>=12?o=oo.afternoon:s>=4?o=oo.morning:o=oo.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){var s=t.getUTCHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return wn.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):wn.H(t,r)},K:function(t,r,n){var s=t.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(s,{unit:"hour"}):Ae(s,r.length)},k:function(t,r,n){var s=t.getUTCHours();return s===0&&(s=24),r==="ko"?n.ordinalNumber(s,{unit:"hour"}):Ae(s,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):wn.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):wn.s(t,r)},S:function(t,r){return wn.S(t,r)},X:function(t,r,n,s){var o=s._originalDate||t,i=o.getTimezoneOffset();if(i===0)return"Z";switch(r){case"X":return Bx(i);case"XXXX":case"XX":return vs(i);case"XXXXX":case"XXX":default:return vs(i,":")}},x:function(t,r,n,s){var o=s._originalDate||t,i=o.getTimezoneOffset();switch(r){case"x":return Bx(i);case"xxxx":case"xx":return vs(i);case"xxxxx":case"xxx":default:return vs(i,":")}},O:function(t,r,n,s){var o=s._originalDate||t,i=o.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+zx(i,":");case"OOOO":default:return"GMT"+vs(i,":")}},z:function(t,r,n,s){var o=s._originalDate||t,i=o.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+zx(i,":");case"zzzz":default:return"GMT"+vs(i,":")}},t:function(t,r,n,s){var o=s._originalDate||t,i=Math.floor(o.getTime()/1e3);return Ae(i,r.length)},T:function(t,r,n,s){var o=s._originalDate||t,i=o.getTime();return Ae(i,r.length)}};function zx(e,t){var r=e>0?"-":"+",n=Math.abs(e),s=Math.floor(n/60),o=n%60;if(o===0)return r+String(s);var i=t;return r+String(s)+i+Ae(o,2)}function Bx(e,t){if(e%60===0){var r=e>0?"-":"+";return r+Ae(Math.abs(e)/60,2)}return vs(e,t)}function vs(e,t){var r=t||"",n=e>0?"-":"+",s=Math.abs(e),o=Ae(Math.floor(s/60),2),i=Ae(s%60,2);return n+o+r+i}var Vx=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},NS=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},a7=function(t,r){var n=t.match(/(P+)(p+)?/)||[],s=n[1],o=n[2];if(!o)return Vx(t,r);var i;switch(s){case"P":i=r.dateTime({width:"short"});break;case"PP":i=r.dateTime({width:"medium"});break;case"PPP":i=r.dateTime({width:"long"});break;case"PPPP":default:i=r.dateTime({width:"full"});break}return i.replace("{{date}}",Vx(s,r)).replace("{{time}}",NS(o,r))},i7={p:NS,P:a7},l7=["D","DD"],c7=["YY","YYYY"];function u7(e){return l7.indexOf(e)!==-1}function d7(e){return c7.indexOf(e)!==-1}function Gx(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var f7={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},h7=function(t,r,n){var s,o=f7[t];return typeof o=="string"?s=o:r===1?s=o.one:s=o.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function Rf(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var m7={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},g7={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},p7={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},y7={date:Rf({formats:m7,defaultWidth:"full"}),time:Rf({formats:g7,defaultWidth:"full"}),dateTime:Rf({formats:p7,defaultWidth:"full"})},v7={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},x7=function(t,r,n,s){return v7[t]};function Oa(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",s;if(n==="formatting"&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,i=r!=null&&r.width?String(r.width):o;s=e.formattingValues[i]||e.formattingValues[o]}else{var l=e.defaultWidth,c=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[c]||e.values[l]}var u=e.argumentCallback?e.argumentCallback(t):t;return s[u]}}var b7={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},w7={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},_7={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},k7={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},S7={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},j7={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},N7=function(t,r){var n=Number(t),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},C7={ordinalNumber:N7,era:Oa({values:b7,defaultWidth:"wide"}),quarter:Oa({values:w7,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Oa({values:_7,defaultWidth:"wide"}),day:Oa({values:k7,defaultWidth:"wide"}),dayPeriod:Oa({values:S7,defaultWidth:"wide",formattingValues:j7,defaultFormattingWidth:"wide"})};function Ia(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(s);if(!o)return null;var i=o[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?P7(l,function(f){return f.test(i)}):E7(l,function(f){return f.test(i)}),u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;var d=t.slice(i.length);return{value:u,rest:d}}}function E7(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function P7(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function T7(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var s=n[0],o=t.match(e.parsePattern);if(!o)return null;var i=e.valueCallback?e.valueCallback(o[0]):o[0];i=r.valueCallback?r.valueCallback(i):i;var l=t.slice(s.length);return{value:i,rest:l}}}var A7=/^(\d+)(th|st|nd|rd)?/i,R7=/\d+/i,M7={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},L7={any:[/^b/i,/^(a|c)/i]},D7={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},O7={any:[/1/i,/2/i,/3/i,/4/i]},I7={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},F7={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},$7={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},U7={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},z7={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},B7={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},V7={ordinalNumber:T7({matchPattern:A7,parsePattern:R7,valueCallback:function(t){return parseInt(t,10)}}),era:Ia({matchPatterns:M7,defaultMatchWidth:"wide",parsePatterns:L7,defaultParseWidth:"any"}),quarter:Ia({matchPatterns:D7,defaultMatchWidth:"wide",parsePatterns:O7,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Ia({matchPatterns:I7,defaultMatchWidth:"wide",parsePatterns:F7,defaultParseWidth:"any"}),day:Ia({matchPatterns:$7,defaultMatchWidth:"wide",parsePatterns:U7,defaultParseWidth:"any"}),dayPeriod:Ia({matchPatterns:z7,defaultMatchWidth:"any",parsePatterns:B7,defaultParseWidth:"any"})},CS={code:"en-US",formatDistance:h7,formatLong:y7,formatRelative:x7,localize:C7,match:V7,options:{weekStartsOn:0,firstWeekContainsDate:1}},G7=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,q7=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,W7=/^'([^]*?)'?$/,H7=/''/g,K7=/[a-zA-Z]/;function ml(e,t,r){var n,s,o,i,l,c,u,d,f,h,g,b,v,w;Be(2,arguments);var p=String(t),y=hl(),x=(n=(s=void 0)!==null&&s!==void 0?s:y.locale)!==null&&n!==void 0?n:CS,_=$s((o=(i=(l=(c=void 0)!==null&&c!==void 0?c:void 0)!==null&&l!==void 0?l:y.firstWeekContainsDate)!==null&&i!==void 0?i:(u=y.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(_>=1&&_<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var k=$s((f=(h=(g=(b=void 0)!==null&&b!==void 0?b:void 0)!==null&&g!==void 0?g:y.weekStartsOn)!==null&&h!==void 0?h:(v=y.locale)===null||v===void 0||(w=v.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&f!==void 0?f:0);if(!(k>=0&&k<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!x.localize)throw new RangeError("locale must contain localize property");if(!x.formatLong)throw new RangeError("locale must contain formatLong property");var j=Fe(e);if(!$I(j))throw new RangeError("Invalid time value");var E=Nm(j),N=JI(j,E),I={firstWeekContainsDate:_,weekStartsOn:k,locale:x,_originalDate:j},C=p.match(q7).map(function(L){var P=L[0];if(P==="p"||P==="P"){var D=i7[P];return D(L,x.formatLong)}return L}).join("").match(G7).map(function(L){if(L==="''")return"'";var P=L[0];if(P==="'")return Y7(L);var D=o7[P];if(D)return d7(L)&&Gx(L,t,String(e)),u7(L)&&Gx(L,t,String(e)),D(N,L,x.localize,I);if(P.match(K7))throw new RangeError("Format string contains an unescaped latin alphabet character `"+P+"`");return L}).join("");return C}function Y7(e){var t=e.match(W7);return t?t[1].replace(H7,"'"):e}function ES(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function J7(e){return ES({},e)}var qx=1440,X7=2520,Mf=43200,Q7=86400;function Z7(e,t,r){var n,s;Be(2,arguments);var o=hl(),i=(n=(s=r==null?void 0:r.locale)!==null&&s!==void 0?s:o.locale)!==null&&n!==void 0?n:CS;if(!i.formatDistance)throw new RangeError("locale must contain formatDistance property");var l=Nc(e,t);if(isNaN(l))throw new RangeError("Invalid time value");var c=ES(J7(r),{addSuffix:!!(r!=null&&r.addSuffix),comparison:l}),u,d;l>0?(u=Fe(t),d=Fe(e)):(u=Fe(e),d=Fe(t));var f=YI(d,u),h=(Nm(d)-Nm(u))/1e3,g=Math.round((f-h)/60),b;if(g<2)return r!=null&&r.includeSeconds?f<5?i.formatDistance("lessThanXSeconds",5,c):f<10?i.formatDistance("lessThanXSeconds",10,c):f<20?i.formatDistance("lessThanXSeconds",20,c):f<40?i.formatDistance("halfAMinute",0,c):f<60?i.formatDistance("lessThanXMinutes",1,c):i.formatDistance("xMinutes",1,c):g===0?i.formatDistance("lessThanXMinutes",1,c):i.formatDistance("xMinutes",g,c);if(g<45)return i.formatDistance("xMinutes",g,c);if(g<90)return i.formatDistance("aboutXHours",1,c);if(g<qx){var v=Math.round(g/60);return i.formatDistance("aboutXHours",v,c)}else{if(g<X7)return i.formatDistance("xDays",1,c);if(g<Mf){var w=Math.round(g/qx);return i.formatDistance("xDays",w,c)}else if(g<Q7)return b=Math.round(g/Mf),i.formatDistance("aboutXMonths",b,c)}if(b=KI(d,u),b<12){var p=Math.round(g/Mf);return i.formatDistance("xMonths",p,c)}else{var y=b%12,x=Math.floor(b/12);return y<3?i.formatDistance("aboutXYears",x,c):y<9?i.formatDistance("overXYears",x,c):i.formatDistance("almostXYears",x+1,c)}}function Vp(e,t){return Be(1,arguments),Z7(e,Date.now(),t)}const e9=({post:e,onLike:t,onSave:r,onCommentClick:n,onShare:s,onDelete:o,currentUserId:i})=>{const{t:l}=at(),[c,u]=m.useState(!1),[d,f]=m.useState(!1),h=150,g=()=>{u(!c)},b=c||e.content.length<=h?e.content:`${e.content.substring(0,h)}...`;return a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow mb-4 overflow-hidden border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-shadow duration-300",children:[a.jsxs("div",{className:"p-3 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("img",{src:e.profile.avatar_url||"/default-avatar.png",alt:e.profile.full_name,className:"w-8 h-8 rounded-full border border-gray-300 dark:border-gray-600 object-cover"}),a.jsxs("div",{children:[a.jsx(we,{to:`/profile/${e.user_id}`,className:"font-semibold text-sm text-gray-900 dark:text-white hover:underline",children:e.profile.full_name}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:Vp(new Date(e.created_at),{addSuffix:!0})})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:()=>f(!d),className:"text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full p-1 focus:outline-none","aria-label":l("common.more_options")||"More options",children:a.jsx(NT,{size:16})}),d&&a.jsxs("div",{className:"absolute right-0 mt-2 w-32 bg-white dark:bg-gray-700 rounded-md shadow-lg py-1 z-10 border border-gray-200 dark:border-gray-600",onMouseLeave:()=>f(!1),children:[i&&i===e.user_id&&a.jsxs("button",{onClick:()=>{o(e.id),f(!1)},className:"flex items-center w-full px-3 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-gray-100 dark:hover:bg-gray-600",children:[a.jsx(Xo,{className:"mr-2",size:14}),l("buttons.delete")||"Delete"]}),a.jsx("button",{onClick:()=>f(!1),className:"flex items-center w-full px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600",children:l("actions.report")||"Report"})]})]})]}),a.jsxs("div",{className:"px-3 pb-2",children:[a.jsx("p",{className:"text-sm text-gray-800 dark:text-gray-200 whitespace-pre-wrap",children:b}),e.content.length>h&&a.jsx("button",{onClick:g,className:"text-xs text-rose-600 dark:text-rose-400 hover:underline mt-1",children:c?l("actions.showLess")||"Show Less":l("actions.showMore")||"Show More"})]}),e.images&&e.images.length>0&&a.jsx("div",{className:"bg-gray-100 dark:bg-gray-700",children:a.jsx("img",{src:e.images[0],alt:"Post media",className:"w-full h-auto max-h-[40vh] object-contain"})}),(e.likes_count>0||e.comments_count>0||e.shares>0)&&a.jsx("div",{className:"px-3 py-1 border-t border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400",children:[e.likes_count>0&&a.jsxs("span",{children:[e.likes_count," Likes"]}),a.jsxs("div",{className:"flex space-x-2",children:[e.comments_count>0&&a.jsxs("span",{children:[e.comments_count," Comments"]}),e.shares>0&&a.jsxs("span",{children:[e.shares," Shares"]})]})]})}),a.jsxs("div",{className:"flex justify-around items-center px-2 py-1 border-t border-gray-200 dark:border-gray-700 gap-1",children:[a.jsxs(xe,{onClick:()=>t(e.id),className:`h-8 w-1/3 ${e.is_liked?"ring-1 ring-rose-500":""}`,variant:"ghost",children:[a.jsx($i,{className:`w-4 h-4 ${e.is_liked?"fill-rose-500 text-rose-500":""}`}),a.jsx("span",{className:"text-xs",children:l("buttons.like")||"Like"})]}),a.jsxs(xe,{onClick:()=>n(e),className:"h-8 w-1/3",variant:"ghost",children:[a.jsx(rd,{className:"w-4 h-4"}),a.jsx("span",{className:"text-xs",children:l("buttons.comment")||"Comment"})]}),a.jsxs(xe,{onClick:()=>s(e.id),className:"h-8 w-1/3",variant:"ghost",children:[a.jsx(O2,{className:"w-4 h-4"}),a.jsx("span",{className:"text-xs",children:l("buttons.share")||"Share"})]}),a.jsxs(xe,{onClick:()=>r(e.id),title:e.is_saved?l("buttons.unsave")||"Unsave":l("buttons.save")||"Save",className:`h-8 w-1/3 ${e.is_saved?"ring-1 ring-amber-500":""}`,variant:"ghost",children:[a.jsx(uT,{className:`w-4 h-4 ${e.is_saved?"fill-amber-500 text-amber-500":""}`}),a.jsx("span",{className:"text-xs",children:e.is_saved?l("buttons.saved")||"Saved":l("buttons.save")||"Save"})]})]})]})},t9=()=>{const{user:e}=$e(),{t}=at(),[r,n]=m.useState([]),[s,o]=m.useState(!0),[i,l]=m.useState(null),[c,u]=m.useState(null),[d,f]=m.useState([]),[h,g]=m.useState(""),[b,v]=m.useState(!1),[w,p]=m.useState("all"),[y,x]=m.useState(""),[_,k]=m.useState(!1),j=m.useCallback(async()=>{var A,F,O;if(!(e!=null&&e.id)){console.log("HomePage: User not available yet, skipping post fetch."),o(!1);return}console.log("HomePage: Fetching posts for user",e.id),o(!0),l(null);try{let U=z.from("posts").select(`
          *,
          profile:profiles!user_id(full_name, avatar_url)
        `).order("created_at",{ascending:!1}).limit(30);w==="my"&&(U=U.eq("user_id",e.id));let{data:S,error:M}=await U;if(M)throw M;const T=(S==null?void 0:S.map(K=>K.id))||[],[B,V,re]=await Promise.all([z.from("post_likes").select("post_id").eq("user_id",e.id).in("post_id",T),z.from("post_comments").select("post_id, id",{count:"exact"}).in("post_id",T),z.from("saved_posts").select("post_id").eq("user_id",e.id).in("post_id",T)]);B.error&&console.error("Error fetching likes:",B.error),V.error&&console.error("Error fetching comments count:",V.error),re.error&&console.error("Error fetching saves:",re.error);const se=new Set((A=B.data)==null?void 0:A.map(K=>K.post_id)),de=new Set((F=re.data)==null?void 0:F.map(K=>K.post_id)),oe=new Map;(O=V.data)==null||O.forEach(K=>{oe.set(K.post_id,(oe.get(K.post_id)||0)+1)});const{data:R,error:G}=await z.from("post_likes").select("post_id").in("post_id",T);G&&console.error("Error fetching all likes:",G);const Q=new Map;R==null||R.forEach(K=>{Q.set(K.post_id,(Q.get(K.post_id)||0)+1)});const W=(S==null?void 0:S.map(K=>({...K,likes_count:Q.get(K.id)||0,comments_count:oe.get(K.id)||0,shares:K.shares||0,is_liked:se.has(K.id),is_saved:de.has(K.id),profile:K.profile||{full_name:"Unknown User",avatar_url:null}})))||[];n(W)}catch(U){console.error("Error fetching posts:",U),l("Error fetching posts. Please try again later.")}finally{o(!1)}},[e,w]);m.useEffect(()=>{j()},[j]);const E=m.useCallback(async A=>{if(A){v(!0),f([]);try{const{data:F,error:O}=await z.from("post_comments").select(`
          *,
          profiles:user_id (
            full_name,
            avatar_url
          )
        `).eq("post_id",A).order("created_at",{ascending:!0});if(O)throw O;f(F||[])}catch(F){console.error("Error fetching comments:",F),q.error("Error fetching comments. Please try again later.")}finally{v(!1)}}},[]);m.useEffect(()=>{c&&E(c.id)},[c,E]);const N=async A=>{if(!e)return q.error("Login required");const F=[...r];n(O=>O.map(U=>{if(U.id===A){const S=!U.is_liked,M=U.is_liked?U.likes_count-1:U.likes_count+1;return{...U,is_liked:S,likes_count:Math.max(0,M)}}return U}));try{const O=F.find(U=>U.id===A);if(!O)return;if(O.is_liked){const{error:U}=await z.from("post_likes").delete().eq("post_id",A).eq("user_id",e.id);if(U)throw U}else{const{error:U}=await z.from("post_likes").insert({post_id:A,user_id:e.id});if(U)throw U}}catch(O){console.error("Error toggling like:",O),q.error("Action failed. Please try again later."),n(F)}},I=async A=>{if(!e)return q.error("Login required");const F=[...r];n(O=>O.map(U=>U.id===A?{...U,is_saved:!U.is_saved}:U));try{const O=F.find(U=>U.id===A);if(!O)return;if(O.is_saved){const{error:U}=await z.from("saved_posts").delete().eq("post_id",A).eq("user_id",e.id);if(U)throw U;q.success("Post unsaved")}else{const{error:U}=await z.from("saved_posts").insert([{post_id:A,user_id:e.id}]);if(U)throw U;q.success("Post saved")}}catch(O){console.error("Error toggling save:",O),q.error("Action failed. Please try again later."),n(F)}},C=async()=>{var S,M;if(!h.trim()||!c||!e){q.error("Comment error");return}const A=`temp-${Date.now()}`,F={id:A,content:h,created_at:new Date().toISOString(),user_id:e.id,profiles:{full_name:((S=e.user_metadata)==null?void 0:S.full_name)||"You",avatar_url:((M=e.user_metadata)==null?void 0:M.avatar_url)||null}};f(T=>[...T,F]);const O=[...r];n(T=>T.map(B=>B.id===c.id?{...B,comments_count:B.comments_count+1}:B));const U=h;g("");try{const{data:T,error:B}=await z.from("post_comments").insert({content:U,post_id:c.id,user_id:e.id}).select(`
          *,
            profiles:user_id (full_name, avatar_url)
        `).single();if(B)throw B;f(V=>V.map(re=>re.id===A?{...T,profiles:T.profiles}:re)),q.success("Comment added")}catch(T){console.error("Error adding comment:",T),q.error("Action failed. Please try again later."),f(B=>B.filter(V=>V.id!==A)),n(O),g(U)}},L=A=>{const F=`${window.location.origin}/posts/${A}`;navigator.share?navigator.share({title:"Share Post",text:"Check out this post!",url:F}).catch(O=>console.log("Error sharing:",O)):navigator.clipboard.writeText(F).then(()=>{q.success("Link copied")}).catch(O=>{console.error("Failed to copy link:",O),q.error("Link copy failed")})},P=async A=>{if(!e)return q.error("Login required");if(!confirm(t("confirm.deletePost")||"Are you sure you want to delete this post?"))return;const F=[...r];n(O=>O.filter(U=>U.id!==A));try{const{error:O}=await z.from("posts").delete().eq("id",A).eq("user_id",e.id);if(O)throw O;q.success(t("success.postDeleted")||"Post deleted successfully")}catch(O){console.error("Error deleting post:",O),q.error(t("errors.postDeleteFailed")||"Failed to delete post"),n(F)}},D=()=>{k(!1),j(),q.success(t("success.postCreated")||"Post created successfully")};return s&&r.length===0?a.jsxs("div",{className:"flex flex-col",children:[a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Feed"}),a.jsxs(xe,{onClick:()=>k(!0),className:"flex items-center shadow-sm",children:[a.jsx(on,{className:"mr-2"}),"Create Post"]})]}),a.jsx("div",{className:"max-w-xl mx-auto w-full",children:[1,2,3].map(A=>a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 mb-6 animate-pulse border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-300 dark:bg-gray-700"}),a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx("div",{className:"h-4 bg-gray-300 dark:bg-gray-700 rounded w-1/4"}),a.jsx("div",{className:"h-3 bg-gray-300 dark:bg-gray-700 rounded w-1/6"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"h-4 bg-gray-300 dark:bg-gray-700 rounded w-full"}),a.jsx("div",{className:"h-4 bg-gray-300 dark:bg-gray-700 rounded w-5/6"})]})]},A))})]}):i?a.jsx(na,{message:i}):e?a.jsxs("div",{className:"pt-20 pb-10 px-4 md:px-8 max-w-5xl mx-auto",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex space-x-2",style:{display:"none"},children:[a.jsx("button",{onClick:()=>p("all"),className:`px-4 py-2 rounded-lg ${w==="all"?"bg-rose-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200"}`,children:"All Posts"}),a.jsx("button",{onClick:()=>p("my"),className:`px-4 py-2 rounded-lg ${w==="my"?"bg-rose-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200"}`,children:"My Posts"})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",placeholder:t("home.search_placeholder")||"Search posts...",value:y,onChange:A=>x(A.target.value),className:"pl-9 pr-4 py-2 w-48 md:w-64 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-1 focus:ring-rose-500 focus:border-rose-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100"}),a.jsx(Kg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]})})]}),a.jsxs(xe,{onClick:()=>k(!0),className:"mb-6 w-full flex items-center justify-center shadow",children:[a.jsx(on,{className:"mr-2"}),t("buttons.createPost")||"Create Post"]}),_&&a.jsxs("div",{className:"mb-6",children:[a.jsx(kS,{onPostCreated:()=>{D(),k(!1)}}),a.jsx("button",{onClick:()=>k(!1),className:"w-full mt-3 py-2 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:t("buttons.cancel")||"Cancel"})]}),i&&a.jsx(na,{message:i}),s&&a.jsx("div",{className:"flex justify-center py-10",children:a.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-rose-500"})}),!s&&r.length===0?a.jsxs("div",{className:"text-center py-10 bg-white dark:bg-gray-800 rounded-lg shadow border border-gray-200 dark:border-gray-700",children:[a.jsx(rd,{className:"mx-auto h-10 w-10 text-gray-400 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t("home.no_posts_title")||"No posts found"}),a.jsx("p",{className:"mt-1 text-gray-500 dark:text-gray-400",children:w==="my"?t("home.no_my_posts_message")||"You haven't created any posts yet.":t("home.no_all_posts_message")||"There are no posts to display."}),a.jsx("button",{onClick:()=>k(!0),className:"mt-4 px-4 py-2 bg-rose-500 text-white rounded-lg hover:bg-rose-600 transition-colors",children:t("home.create_first_post")||"Create your first post"})]}):a.jsx("div",{children:r.filter(A=>A.content.toLowerCase().includes(y.toLowerCase())).map(A=>a.jsx(e9,{post:A,onLike:N,onSave:I,onCommentClick:F=>{u(F),E(F.id)},onShare:L,onDelete:P,currentUserId:e==null?void 0:e.id},A.id))}),c&&a.jsx("div",{className:"fixed inset-0 z-50 overflow-auto bg-black bg-opacity-50 flex",children:a.jsxs("div",{className:"relative p-4 w-full max-w-2xl m-auto bg-white dark:bg-gray-800 rounded-lg shadow-xl",children:[a.jsx("button",{onClick:()=>u(null),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700 dark:text-gray-300 dark:hover:text-gray-100",children:""}),a.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-900 dark:text-white",children:t("comments.title")||"Comments"}),a.jsx("div",{className:"mb-4 max-h-96 overflow-y-auto",children:b?a.jsx("div",{className:"flex justify-center py-4",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-rose-500"})}):d.length===0?a.jsx("p",{className:"text-center py-4 text-gray-500 dark:text-gray-400",children:"No comments yet"}):d.map(A=>a.jsx("div",{className:"mb-3 p-3 bg-gray-50 dark:bg-gray-700 rounded",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("img",{src:A.profiles.avatar_url||"/default-avatar.png",alt:A.profiles.full_name,className:"w-8 h-8 rounded-full mr-3 border border-gray-300 dark:border-gray-600"}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-baseline space-x-2",children:[a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:A.profiles.full_name}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:Vp(new Date(A.created_at),{addSuffix:!0})})]}),a.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mt-1",children:A.content})]})]})},A.id))}),a.jsxs("div",{className:"flex",children:[a.jsx("input",{type:"text",placeholder:t("comments.writeCommentPlaceholder")||"Write a comment...",value:h,onChange:A=>g(A.target.value),className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-l-lg focus:ring-1 focus:ring-rose-500 focus:border-rose-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"}),a.jsx("button",{onClick:C,disabled:!h.trim(),className:"px-4 py-2 bg-rose-500 text-white rounded-r-lg hover:bg-rose-600 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:t("buttons.send")||"Send"})]})]})})]}):a.jsxs("div",{className:"max-w-xl mx-auto py-6 px-4 text-center",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Welcome"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Please log in to see your feed"}),a.jsx(we,{to:"/login",children:a.jsx(xe,{children:"Log In"})})]})},Ee=({size:e="md",className:t=""})=>{const r={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"};return a.jsx("div",{className:`flex items-center justify-center ${t}`,children:a.jsxs("svg",{className:`animate-spin ${r[e]} text-blue-600`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})},r9=({post:e,isOwner:t,onDelete:r})=>{var u,d,f,h,g;const{t:n}=Yr(),[s,o]=m.useState(!1),[i,l]=m.useState(!1),c=async()=>{try{l(!0),await r()}catch(b){console.error("Error deleting post:",b)}finally{l(!1),o(!1)}};return a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:[a.jsxs("div",{className:"p-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(ra,{userId:(u=e.user)==null?void 0:u.id,avatarUrl:(d=e.user)==null?void 0:d.avatar_url,avatarEmoji:(f=e.user)==null?void 0:f.avatar_emoji,fullName:(h=e.user)==null?void 0:h.full_name,size:"sm"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:(g=e.user)==null?void 0:g.full_name}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:ml(new Date(e.created_at||""),"MMM d, yyyy")})]})]}),t&&a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:()=>o(!s),className:"p-2 text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",children:a.jsx(nd,{className:"w-5 h-5"})}),s&&a.jsx("div",{className:"absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-white dark:bg-gray-700 ring-1 ring-black ring-opacity-5",children:a.jsx("div",{className:"py-1",children:a.jsxs("button",{onClick:c,disabled:i,className:"w-full text-left px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-gray-100 dark:hover:bg-gray-600 flex items-center",children:[a.jsx(Xo,{className:"w-4 h-4 mr-2"}),n(i?"post.deleting":"post.delete")]})})})]})]}),a.jsx("div",{className:"px-4 pb-4",children:a.jsx("p",{className:"text-gray-900 dark:text-white whitespace-pre-wrap",children:e.content})}),e.image_url&&a.jsx("div",{className:"relative",children:a.jsx("img",{src:e.image_url,alt:"Post",className:"w-full object-cover max-h-96"})}),a.jsx("div",{className:"px-4 py-3 border-t border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex space-x-6",children:[a.jsxs("button",{className:"flex items-center text-gray-600 hover:text-primary-600 dark:text-gray-300 dark:hover:text-primary-400",children:[a.jsx($i,{className:"w-5 h-5 mr-1.5"}),a.jsx("span",{className:"text-sm",children:"0"})]}),a.jsxs("button",{className:"flex items-center text-gray-600 hover:text-primary-600 dark:text-gray-300 dark:hover:text-primary-400",children:[a.jsx(rd,{className:"w-5 h-5 mr-1.5"}),a.jsx("span",{className:"text-sm",children:"0"})]}),a.jsx("button",{className:"flex items-center text-gray-600 hover:text-primary-600 dark:text-gray-300 dark:hover:text-primary-400",children:a.jsx(O2,{className:"w-5 h-5 mr-1.5"})})]})})]})},sa=({src:e,name:t="",size:r="md",className:n=""})=>{const s={sm:"w-8 h-8 text-xs",md:"w-12 h-12 text-sm",lg:"w-16 h-16 text-base"},o=s[r]||s.md,i=t.split(" ").map(l=>l[0]).join("").toUpperCase().substring(0,2);return a.jsx("div",{className:`${o} rounded-full overflow-hidden bg-gray-200 flex-shrink-0 ${n}`,children:e?a.jsx("img",{src:e,alt:t||"Avatar",className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full bg-blue-500 flex items-center justify-center",children:a.jsx("span",{className:"text-white font-semibold",children:i||"?"})})})},n9={technology:["Programming","Artificial Intelligence","Web Development","Mobile Apps","Cybersecurity","Data Science","Cloud Computing","Blockchain","IoT","Gaming"],arts:["Visual Arts","Music","Photography","Design","Writing","Film","Theater","Dance","Fashion","Crafts"],lifestyle:["Travel","Fitness","Food","Health","Sports","Meditation","Yoga","Reading","Cooking","Outdoor Activities"],business:["Entrepreneurship","Marketing","Finance","Leadership","Innovation","Strategy","Management","Sales","Consulting","E-commerce"],education:["Teaching","Learning","Research","Academic Writing","STEM","Languages","History","Philosophy","Psychology","Literature"]},PS=Object.values(n9).flat(),s9=({profile:e,onProfileUpdated:t})=>{const{tWithTemplate:r}=at(),[n,s]=m.useState(!1),[o,i]=m.useState({full_name:"",headline:"",bio:"",location:"",website:"",interests:[]}),[l,c]=m.useState(null),[u,d]=m.useState(null),[f,h]=m.useState(null),[g,b]=m.useState(""),[v,w]=m.useState(!0);m.useEffect(()=>{e&&(i({full_name:e.full_name||"",headline:e.headline||"",bio:e.bio||"",location:e.location||"",website:e.website||"",interests:e.interests||[]}),c(e.avatar_url||null),d(e.avatar_emoji||null),b(e.cover_url||""))},[e]);const p=N=>{const{name:I,value:C}=N.target;i(L=>({...L,[I]:C}))},y=N=>{i(I=>{const C=[...I.interests];return C.includes(N)?{...I,interests:C.filter(L=>L!==N)}:C.length<10?{...I,interests:[...C,N]}:(q.error(r("profile.error.maxTags")),I)})},x=(N,I)=>{N==="url"&&typeof I=="string"?c(I):N==="emoji"&&typeof I=="string"&&d(I)},_=N=>{if(N.target.files&&N.target.files[0]){const I=N.target.files[0];h(I),b(URL.createObjectURL(I))}},k=async(N,I,C)=>{const L=N.name.split(".").pop(),P=`${C}.${L}`,{error:D}=await z.storage.from(I).upload(P,N,{upsert:!0});if(D)throw D;const{data:A}=z.storage.from(I).getPublicUrl(P);return A.publicUrl},j=async N=>{if(N.preventDefault(),!o.full_name.trim()){q.error(r("profile.error.fullNameRequired"));return}try{s(!0);let I={full_name:o.full_name,headline:o.headline,bio:o.bio,location:o.location,website:o.website,interests:o.interests,updated_at:new Date().toISOString(),avatar_url:l||e.avatar_url};if(console.log("Updating profile with:",I),f)try{const A=await k(f,"covers",e.id);I.cover_url=A}catch(A){throw console.error("Cover upload error:",A),new Error("Failed to upload cover image")}const{data:C,error:L}=await z.from("profiles").update(I).eq("id",e.id).select();if(L)throw console.error("Profile update error:",L),L;console.log("Profile updated successfully:",C);const{data:P,error:D}=await z.auth.updateUser({data:{avatar_url:l||e.avatar_url,avatar_emoji:u}});if(D)throw console.error("Auth metadata update error:",D),D;if(console.log("Auth metadata updated successfully:",P),o.interests&&o.interests.length>0)try{const{error:A}=await z.from("user_interests").delete().eq("user_id",e.id);if(A)throw console.error("Error deleting existing interests:",A),A;const F=o.interests.map(U=>({user_id:e.id,interest:U})),{error:O}=await z.from("user_interests").insert(F);if(O)throw console.error("Error inserting new interests:",O),O}catch(A){throw console.error("Interests update error:",A),new Error("Failed to update interests")}q.success(r("profile.success.updated")),t()}catch(I){console.error("Error updating profile:",I);const C=I.message||I.error_description||"Failed to update profile";q.error(C)}finally{s(!1)}},E=()=>{w(!1),setTimeout(()=>{t()},300)};return a.jsx($p,{open:v,onOpenChange:N=>{N||E()},children:a.jsxs(Up,{className:"sm:max-w-[500px]",children:[a.jsx(zp,{children:a.jsx(Bp,{children:"Edit Profile"})}),a.jsxs("form",{onSubmit:j,className:"space-y-4 py-4 max-h-[70vh] overflow-y-auto pr-2",children:[a.jsxs("div",{className:"relative h-40 rounded-lg overflow-hidden bg-gray-200 dark:bg-gray-700 mb-4",children:[g?a.jsx("img",{src:g,alt:"Cover preview",className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 dark:text-gray-500",children:"No cover image"}),a.jsxs("label",{className:"absolute bottom-2 right-2 bg-black/50 text-white p-1.5 rounded-full cursor-pointer hover:bg-black/70",children:[a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("path",{d:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"}),a.jsx("circle",{cx:"12",cy:"13",r:"4"})]}),a.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:_})]})]}),a.jsx("div",{className:"flex justify-center -mt-16 mb-4 z-10 relative",children:a.jsx(ra,{userId:e.id,avatarUrl:l,avatarEmoji:u,fullName:o.full_name,size:"xl",editable:!0,onAvatarChange:x})}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Full Name *"}),a.jsx("input",{type:"text",name:"full_name",value:o.full_name,onChange:p,className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Headline"}),a.jsx("input",{type:"text",name:"headline",value:o.headline,onChange:p,className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Bio"}),a.jsx("textarea",{name:"bio",value:o.bio,onChange:p,rows:4,className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Location"}),a.jsx("input",{type:"text",name:"location",value:o.location,onChange:p,className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Website"}),a.jsx("input",{type:"text",name:"website",value:o.website,onChange:p,className:"w-full p-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"https://example.com"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Interests (Maximum 10)"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:PS.map(N=>a.jsx("button",{type:"button",onClick:()=>y(N),className:`px-3 py-1 rounded-full text-xs transition-colors ${o.interests.includes(N)?"bg-indigo-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:N},N))})]})]}),a.jsxs(_S,{children:[a.jsx(xe,{type:"button",variant:"secondary",disabled:n,onClick:E,children:"Cancel"}),a.jsx(xe,{type:"submit",onClick:j,disabled:n,children:"Save Changes"})]})]})})},o9=async e=>{if(!e)return null;try{const{data:t,error:r}=await z.from("profiles").select("*").eq("id",e).single();if(r)throw r;return t}catch(t){return console.error("Error fetching user profile:",t),null}},a9=e=>e?e.full_name||"Unnamed User":"Unknown User",i9=async(e,t,r)=>{try{const n=await o9(t),s=a9(n);switch(e){case"friend_request":return`${s} sent you a friend request`;case"friend_accepted":return`${s} accepted your friend request`;case"like":return`${s} liked your post`;case"comment":return`${s} commented on your post`;case"group_invite":return`${s} invited you to join ${r||"a group"}`;case"group_joined":return`${s} joined ${r||"your group"}`;case"event_invite":return`${s} invited you to ${r||"an event"}`;case"event_reminder":return`Reminder: ${r||"Your event"} is coming up soon`;case"mention":return`${s} mentioned you in a ${r||"post"}`;default:return`${s} interacted with you`}}catch(n){return console.error("Error generating notification content:",n),"You have a new notification"}},pu=async(e,t,r,n)=>{try{const s=await i9(t,r,n),{error:o}=await z.from("notifications").insert({user_id:e,type:t,content:s,related_id:r,read:!1});if(o)throw o;return!0}catch(s){return console.error("Error creating notification:",s),!1}},ao="bg-rose-600 text-white hover:bg-rose-700 dark:bg-rose-500 dark:hover:bg-rose-600 px-4 py-2 rounded-md shadow-sm transition duration-150 ease-in-out",Wx="text-indigo-600 hover:text-indigo-800 dark:text-indigo-400 dark:hover:text-indigo-300 font-medium text-sm",Hx="border border-rose-500 text-rose-600 hover:bg-rose-50 dark:border-rose-400 dark:text-rose-400 dark:hover:bg-rose-900/20 px-4 py-2 rounded-md shadow-sm transition duration-150 ease-in-out",Lf=e=>e?new Date(e).toLocaleDateString():"",l9=()=>{const{user:e}=$e(),{t}=at(),{profileId:r}=Wu(),{checkProfileCompletion:n}=Vk(),[s,o]=m.useState(null),[i,l]=m.useState([]),[c,u]=m.useState([]),[d,f]=m.useState([]),[h,g]=m.useState([]),[b,v]=m.useState([]),[w,p]=m.useState("posts"),[y,x]=m.useState(!0),[_,k]=m.useState(!1),[j,E]=m.useState(!1),[N,I]=m.useState(!1),[C,L]=m.useState(!1),[P,D]=m.useState(!1),[A,F]=m.useState("loading"),[O,U]=m.useState(!1),[S,M]=m.useState(!1),[T,B]=m.useState([]),[V,re]=m.useState(!1),[se,de]=m.useState(null),oe=r||(e==null?void 0:e.id),R=[{id:"posts",label:t("profile.tabs.posts")||"Posts",icon:xT},{id:"groups",label:t("profile.tabs.groups")||"Groups",icon:rt},{id:"events",label:t("profile.tabs.events")||"Events",icon:cr},{id:"friends",label:t("profile.tabs.friends")||"Friends",icon:Sr}].filter(Y=>V||Y.id!=="saved"),G=m.useCallback(async()=>{if(console.log(`Fetching profile data for user ID: ${oe}`),!oe){console.error("No user ID available to fetch profile"),q.error(t("profile.errors.userNotFound"));return}console.log(`Current user ID: ${e==null?void 0:e.id}`);const Y=oe===(e==null?void 0:e.id);re(Y);try{x(!0);const{data:ye,error:Ve}=await sT(oe,(e==null?void 0:e.id)||"");if(Ve){console.error("Error fetching profile:",Ve),q.error(t("profile.errors.fetchFailed"));return}if(!ye){console.error("No profile data returned"),q.error(t("profile.errors.userNotFound"));return}console.log("Profile data fetched successfully:",ye),o(ye),!Y&&ye.friend_status&&(F(ye.friend_status),ye.friend_connection_id&&de(ye.friend_connection_id))}catch(ye){console.error("Unexpected error in fetchProfileData:",ye),q.error(t("profile.errors.fetchFailed"))}finally{x(!1)}},[oe,e==null?void 0:e.id,t]),Q=m.useCallback(async()=>{if(oe){k(!0);try{const{data:Y,error:ye}=await z.from("posts").select("*, profile:profiles!user_id(full_name, avatar_url)").eq("user_id",oe).order("created_at",{ascending:!1});if(ye)throw ye;l(Y||[])}catch(Y){console.error("Error fetching posts:",Y),q.error("Failed to load posts.")}finally{k(!1)}}},[oe]),W=m.useCallback(async()=>{if(oe){E(!0);try{const{data:Y,error:ye}=await z.rpc("get_user_groups",{p_user_id:oe});if(ye)throw ye;u(Y||[])}catch(Y){console.error("Error fetching groups:",Y),q.error("Failed to load groups.")}finally{E(!1)}}},[oe]),K=m.useCallback(async()=>{if(oe){I(!0);try{const{data:Y,error:ye}=await z.from("events").select("*").eq("user_id",oe).order("start_date",{ascending:!0});if(ye)throw ye;const Ve=(Y||[]).map(pt=>({...pt,is_creator:!0}));f(Ve)}catch(Y){console.error("Error fetching events:",Y),q.error(`Failed to load events: ${Y.message}`),f([])}finally{I(!1)}}},[oe]),H=m.useCallback(async()=>{if(oe){L(!0),g([]);try{const{data:Y,error:ye}=await z.from("user_connections").select("user_id, friend_id").or(`user_id.eq.${oe},friend_id.eq.${oe}`).eq("status","accepted");if(ye)throw ye;if(!Y||Y.length===0){console.log("[fetchFriends] No accepted connections found."),L(!1);return}const Ve=Y.map(yn=>yn.user_id===oe?yn.friend_id:yn.user_id);if(Ve.length===0){console.log("[fetchFriends] No valid friend IDs extracted."),L(!1);return}console.log("[fetchFriends] Friend IDs to fetch profiles for:",Ve);const{data:pt,error:_a}=await z.from("profiles").select("id, full_name, avatar_url, headline").in("id",Ve);if(_a)throw _a;console.log("[fetchFriends] Fetched friend profiles:",pt),g(pt||[])}catch(Y){console.error("[fetchFriends] Error occurred:",Y),q.error("Failed to load friends.")}finally{L(!1)}}},[oe]),$=m.useCallback(async()=>{if(!(!V||!e)){D(!0);try{const{data:Y,error:ye}=await z.from("saved_items").select("id, user_id, created_at, post_id, event_id, group_id").eq("user_id",e.id).order("created_at",{ascending:!1});if(ye)throw ye;if(!Y||Y.length===0){console.log("[fetchSavedItems] No saved items found."),v([]),D(!1);return}const Ve=Y.map(Ge=>Ge.post_id).filter(Ge=>Ge!=null),pt=Y.map(Ge=>Ge.event_id).filter(Ge=>Ge!=null),_a=Y.map(Ge=>Ge.group_id).filter(Ge=>Ge!=null),[yn,xl,bl]=await Promise.all([Ve.length?z.from("posts").select("id, content, user_id, profile:profiles(full_name, avatar_url)").in("id",Ve):Promise.resolve({data:[],error:null}),pt.length?z.from("events").select("id, title, description, user_id, profile:profiles(full_name, avatar_url)").in("id",pt):Promise.resolve({data:[],error:null}),_a.length?z.from("groups").select("id, name, description, user_id, profile:profiles(full_name, avatar_url)").in("id",_a):Promise.resolve({data:[],error:null})]);if(yn.error)throw yn.error;if(xl.error)throw xl.error;if(bl.error)throw bl.error;const Z4=Y.map(Ge=>{let Me=null,ka=null,wl={},Rr=null,vn=null;return Ge.post_id&&yn.data?(ka="post",vn=Ge.post_id,Me=yn.data.find(Sa=>Sa.id===vn),Rr=Me==null?void 0:Me.profile,wl={content:Me==null?void 0:Me.content}):Ge.event_id&&xl.data?(ka="event",vn=Ge.event_id,Me=xl.data.find(Sa=>Sa.id===vn),Rr=Me==null?void 0:Me.profile,wl={title:Me==null?void 0:Me.title,description:Me==null?void 0:Me.description}):Ge.group_id&&bl.data&&(ka="group",vn=Ge.group_id,Me=bl.data.find(Sa=>Sa.id===vn),Rr=Me==null?void 0:Me.profile,wl={title:Me==null?void 0:Me.name,description:Me==null?void 0:Me.description}),!ka||!vn?(console.warn(`[fetchSavedItems] Could not determine type, item ID, or find details for saved item ID: ${Ge.id}`),null):{id:Ge.id,user_id:Ge.user_id,created_at:Ge.created_at,type:ka,item_id:vn,...wl,author:Rr!=null&&Rr.full_name||Rr!=null&&Rr.avatar_url?Rr:void 0}}).filter(Ge=>Ge!==null);v(Z4)}catch(Y){console.error("[fetchSavedItems] Error occurred:",Y),q.error("Failed to load saved items."),v([])}finally{D(!1)}}},[V,e]),X=m.useCallback(async()=>{if(V||!e||!r){F("none");return}if(s&&s.friend_status){F(s.friend_status);return}s&&!s.friend_status&&(console.error("Profile data does not contain friend_status information"),F("error"))},[V,e,r,s]);m.useEffect(()=>{G(),!V&&(!s||!("friend_status"in s))&&X()},[oe,e==null?void 0:e.id]),m.useEffect(()=>{w==="posts"?Q():w==="groups"?W():w==="events"?K():w==="friends"?H():w==="saved"&&V&&$()},[w,Q,W,K,H,$,V]);const ne=async Y=>{if(window.confirm(t("profile.confirmDeletePost")||"Are you sure you want to delete this post?"))try{const{error:ye}=await z.from("posts").delete().eq("id",Y).eq("user_id",e==null?void 0:e.id);if(ye)throw ye;l(Ve=>Ve.filter(pt=>pt.id!==Y)),q.success(t("profile.postDeletedSuccess")||"Post deleted successfully.")}catch(ye){console.error("Error deleting post:",ye),q.error(t("profile.postDeleteFailed")||"Failed to delete post.")}},ie=async Y=>{await ne(Y)},J=async()=>{if(!(!r||!e)){U(!0);try{const{error:Y}=await z.from("user_connections").insert({user_id:e.id,friend_id:r,status:"pending"});if(Y)throw Y;console.log("Creating friend request notification for user:",r),await pu(r,"friend_request",e.id),F("pending"),q.success(t("profile.friendRequestSent")||"Friend request sent!")}catch(Y){console.error("Error sending friend request:",Y),q.error(t("profile.friendRequestFailed")||"Failed to send friend request.")}finally{U(!1)}}},he=async()=>{if(window.confirm(t("profile.confirmRemoveFriend")||"Are you sure you want to remove this friend?")&&!(!r||!e))try{await z.from("user_connections").delete().match({user_id:e.id,friend_id:r}),await z.from("user_connections").delete().match({user_id:r,friend_id:e.id}),F("none"),H(),q.success(t("profile.friendRemovedSuccess")||"Friend removed.")}catch(Y){console.error("Error removing friend:",Y),q.error(t("profile.friendRemoveFailed")||"Failed to remove friend.")}},pe=async()=>{if(!(!r||!e||A!=="pending"))try{const{error:Y}=await z.from("user_connections").update({status:"accepted"}).match({user_id:r,friend_id:e.id,status:"pending"});if(Y)throw Y;F("accepted"),H(),q.success(t("profile.friendRequestAccepted")||"Friend request accepted!")}catch(Y){console.error("Error accepting friend request:",Y),q.error(t("profile.friendRequestAcceptFailed")||"Failed to accept friend request.")}},Ce=()=>{M(!0)},Pe=()=>{M(!1),G(),n()},it=()=>{if(V||!e||A==="error")return null;switch(A){case"none":return a.jsxs(xe,{onClick:J,disabled:O,className:ao,children:[O?a.jsx(Ee,{size:"sm"}):a.jsx(Ui,{className:"mr-2"}),t("profile.buttons.addFriend")]});case"pending":return V?a.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 italic",children:t("profile.status.requestSent")}):a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(xe,{onClick:pe,className:ao,children:[a.jsx(A2,{className:"mr-2"})," ",t("profile.buttons.accept")]}),a.jsxs(xe,{variant:"outline",onClick:he,className:Hx,children:[a.jsx(Kn,{className:"mr-2"})," ",t("profile.buttons.decline")]})]});case"accepted":return a.jsxs(xe,{onClick:he,variant:"outline",className:Hx,children:[a.jsx(F2,{className:"mr-2"})," ",t("profile.buttons.removeFriend")]});default:return null}},nt=()=>{switch(w){case"posts":return a.jsxs("div",{className:"space-y-6",children:[V&&a.jsx(kS,{onPostCreated:Q}),_?a.jsx("div",{className:"flex justify-center py-10",children:a.jsx(Ee,{})}):i.length===0?a.jsx("div",{className:"text-center py-10 text-gray-500 dark:text-gray-400",children:V?t("profile.noPostsYet"):`${(s==null?void 0:s.full_name)||"User"} ${t("profile.userHasNoPostsSuffix")||"has no posts."}`}):a.jsx("div",{className:"space-y-4",children:i.map(Y=>a.jsx(r9,{post:Y,onDelete:()=>ie(Y.id),isOwner:Y.user_id===(e==null?void 0:e.id)},Y.id))})]});case"groups":return a.jsxs("div",{children:[j?a.jsx("div",{className:"flex justify-center py-10",children:a.jsx(Ee,{})}):c.length===0?a.jsx("div",{className:"text-center py-10 text-gray-500 dark:text-gray-400",children:V?t("profile.noGroupsJoined"):`${(s==null?void 0:s.full_name)||"User"} ${t("profile.userNotInGroupsSuffix")||"isn't part of any groups."}`}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(Y=>a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:[a.jsx("div",{className:"h-32 bg-gradient-to-r from-blue-400 to-indigo-500 relative",children:Y.banner_url&&a.jsx("img",{src:Y.banner_url,alt:Y.name,className:"w-full h-full object-cover"})}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1 truncate",children:Y.name||"Unnamed Group"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-3 line-clamp-2",children:Y.description||"No description available."}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[Y.member_count||0," ",t("groups.members")]}),a.jsx(we,{to:`/groups/${Y.id}`,className:Wx,children:t("profile.buttons.viewGroup")})]})]})]},Y.id))}),V&&a.jsx("div",{className:"mt-6 text-center",children:a.jsxs(we,{to:"/groups/create",className:ao,children:[a.jsx(on,{className:"mr-2 inline"})," ",t("profile.buttons.createGroup")]})})]});case"events":return a.jsxs("div",{children:[N?a.jsx("div",{className:"flex justify-center py-10",children:a.jsx(Ee,{})}):d.length===0?a.jsx("div",{className:"text-center py-10 text-gray-500 dark:text-gray-400",children:V?t("profile.noEventsJoined"):`${(s==null?void 0:s.full_name)||"User"} ${t("profile.userNotInEventsSuffix")||"isn't associated with any events."}`}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:d.map(Y=>a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"h-32 bg-gradient-to-r from-purple-400 to-pink-500 relative flex-shrink-0",children:[Y.banner_url&&a.jsx("img",{src:Y.banner_url,alt:Y.title,className:"w-full h-full object-cover"}),a.jsxs("div",{className:"absolute top-2 right-2 space-x-1",children:[Y.is_creator&&a.jsx("span",{className:"px-2 py-0.5 text-xs bg-yellow-500 text-white rounded-full font-medium shadow",children:"Creator"}),Y.is_attending&&!Y.is_creator&&a.jsx("span",{className:"px-2 py-0.5 text-xs bg-green-500 text-white rounded-full font-medium shadow",children:"Attending"})]})]}),a.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[a.jsxs("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400 mb-2",children:[a.jsx(cr,{className:"mr-1.5 flex-shrink-0",size:12}),a.jsx("span",{children:Lf(Y.start_date)}),Y.end_date&&a.jsxs("span",{className:"ml-1",children:[" - ",Lf(Y.end_date)]})]}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1 truncate",children:Y.title}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-3 line-clamp-2 flex-grow",children:Y.description||"No description available."}),Y.location&&a.jsxs("div",{className:"flex items-center text-xs text-gray-500 dark:text-gray-400 mb-3",children:[a.jsx(Es,{className:"mr-1.5 flex-shrink-0",size:12}),a.jsx("span",{className:"truncate",children:Y.location})]}),a.jsx("div",{className:"flex justify-end mt-auto",children:a.jsx(we,{to:`/events/${Y.id}`,className:`${Wx} text-xs px-3 py-1`,children:t("profile.buttons.viewDetails")})})]})]},Y.id))}),V&&a.jsx("div",{className:"mt-6 text-center",children:a.jsxs(we,{to:"/events/create",className:ao,children:[a.jsx(on,{className:"mr-2 inline"})," ",t("profile.buttons.createEvent")]})})]});case"friends":return a.jsxs("div",{children:[C?a.jsx("div",{className:"flex justify-center py-10",children:a.jsx(Ee,{})}):h.length===0?a.jsx("div",{className:"text-center py-10 text-gray-500 dark:text-gray-400",children:V?t("profile.noFriendsYet"):`${(s==null?void 0:s.full_name)||"User"} ${t("profile.userHasNoFriendsSuffix")||"has no friends to display."}`}):a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:h.map(Y=>a.jsxs(we,{to:`/profile/${Y.id}`,className:"flex flex-col items-center p-4 bg-white dark:bg-gray-800 rounded-lg shadow hover:shadow-md transition-shadow",children:[a.jsx(sa,{src:Y.avatar_url??void 0,name:Y.full_name??"",size:"lg"}),a.jsx("span",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white truncate w-full text-center",children:Y.full_name}),Y.headline&&a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 truncate w-full text-center",children:Y.headline})]},Y.id))}),V&&a.jsx("div",{className:"mt-6 text-center",children:a.jsxs(we,{to:"/friends",className:ao,children:[a.jsx(on,{className:"mr-2 inline"})," ",t("profile.buttons.findFriends")]})})]});case"saved":return V?a.jsx("div",{children:P?a.jsx("div",{className:"flex justify-center py-10",children:a.jsx(Ee,{})}):b.length===0?a.jsx("div",{className:"text-center py-10 text-gray-500 dark:text-gray-400",children:t("profile.noSavedItems")}):a.jsx("div",{className:"space-y-4",children:b.map(Y=>{var ye,Ve,pt;return a.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg shadow",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(sa,{src:((ye=Y.author)==null?void 0:ye.avatar_url)??void 0,name:((Ve=Y.author)==null?void 0:Ve.full_name)??"",size:"sm"}),a.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:((pt=Y.author)==null?void 0:pt.full_name)||"Unknown Author"})]}),Y.type==="post"&&Y.content&&a.jsx("p",{children:Y.content}),(Y.type==="event"||Y.type==="group")&&Y.title&&a.jsx("p",{className:"font-semibold",children:Y.title}),(Y.type==="event"||Y.type==="group")&&Y.description&&a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:Y.description})]},Y.id)})})}):null;case"about":return a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[a.jsxs("h3",{className:"text-xl font-semibold mb-4 text-gray-900 dark:text-white",children:["About ",(s==null?void 0:s.full_name)||"User"]}),y?a.jsx(Ee,{}):s?a.jsxs("div",{className:"space-y-4 text-gray-700 dark:text-gray-300",children:[s.bio&&a.jsx("p",{className:"text-lg italic",children:s.bio}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4 pt-4 border-t border-gray-200 dark:border-gray-700 mt-4",children:[s.location&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Es,{className:"text-gray-500"}),a.jsx("span",{children:s.location})]}),s.website&&a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ev,{className:"text-gray-500"}),a.jsx("a",{href:s.website.startsWith("http")?s.website:`//${s.website}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline truncate",children:s.website})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(cr,{className:"text-gray-500"}),a.jsxs("span",{children:["Joined on ",Lf(s==null?void 0:s.created_at)]})]})]})]}):a.jsx("p",{className:"text-center py-10 text-gray-500 dark:text-gray-400",children:"Could not load profile information."})]});default:return null}};return y&&!s?a.jsx("div",{className:"flex justify-center items-center h-screen",children:a.jsx(Ee,{size:"lg"})}):s?a.jsxs("div",{className:"min-h-screen",children:[y?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx(Ee,{size:"lg"})}):s?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"bg-white dark:bg-gray-800 shadow",children:a.jsxs("div",{className:"max-w-4xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(ra,{avatarUrl:s.avatar_url,fullName:s.full_name||"",size:"lg"}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:s.full_name}),s.headline&&a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:s.headline}),a.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[s.location&&a.jsxs("span",{className:"inline-flex items-center text-sm text-gray-500 dark:text-gray-400",children:[a.jsx(Es,{className:"mr-1"})," ",s.location]}),s.website&&a.jsxs("a",{href:s.website.startsWith("http")?s.website:`https://${s.website}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-sm text-blue-500 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300",children:[a.jsx(ev,{className:"mr-1"})," ",s.website]})]})]})]}),a.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2",children:V?a.jsxs(xe,{onClick:Ce,className:"inline-flex items-center",children:[a.jsx(gT,{className:"mr-2"})," ",t("profile.buttons.editProfile")]}):it()})]}),s.bio&&a.jsx("div",{className:"mt-6",children:a.jsx("p",{className:"text-gray-700 dark:text-gray-300 whitespace-pre-line",children:s.bio})}),a.jsx("div",{className:"mt-6 border-b border-gray-200 dark:border-gray-700",children:a.jsx("nav",{className:"-mb-px flex space-x-8",children:R.map(Y=>a.jsxs("button",{onClick:()=>p(Y.id),className:`${w===Y.id?"border-rose-500 text-rose-600 dark:text-rose-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"} whitespace-nowrap flex pb-4 pt-2 px-1 border-b-2 font-medium text-sm`,children:[a.jsx(Y.icon,{className:"mr-2 h-5 w-5"}),Y.label]},Y.id))})})]})}),a.jsx("div",{className:"max-w-4xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:nt()})]}):a.jsx("div",{className:"max-w-4xl mx-auto mt-8 py-6 px-4 bg-white dark:bg-gray-800 rounded-lg shadow",children:a.jsxs("div",{className:"text-center py-10",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-100 mb-2",children:t("profile.notFound")||"Profile not found"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"This profile doesn't exist or you don't have permission to view it."}),a.jsxs(we,{to:"/",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-rose-600 hover:bg-rose-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-rose-500 dark:bg-rose-500 dark:hover:bg-rose-600",children:[a.jsx(ru,{className:"mr-2"}),"Return Home"]})]})}),S&&a.jsx(s9,{profile:s,onProfileUpdated:Pe})]}):a.jsxs("div",{className:"text-center py-20",children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Profile not found"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"The profile you are looking for does not exist or could not be loaded."}),a.jsx(we,{to:"/",className:ao,children:"Go to Homepage"})]})},c9=()=>{const{user:e}=$e();return m.useEffect(()=>{e&&(console.log("NotFoundPage: User is authenticated, redirecting to /home"),window.location.replace("/home"))},[e]),a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900 flex items-center justify-center px-4",children:a.jsxs("div",{className:"max-w-md w-full text-center",children:[a.jsx("h1",{className:"text-6xl font-bold text-gray-900 dark:text-white mb-4",children:"404"}),a.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 mb-8",children:"Oops! The page you're looking for doesn't exist."}),a.jsx(we,{to:e?"/home":"/",className:"inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-gradient-to-r from-indigo-500 to-rose-500 hover:opacity-90 transition-opacity",children:"Go back home"})]})})};function Fa({className:e,delay:t=0,width:r=400,height:n=100,rotate:s=0,gradient:o="from-white/[0.08]"}){return a.jsx(dr.div,{initial:{opacity:0,y:-150,rotate:s-15},animate:{opacity:1,y:0,rotate:s},transition:{duration:2.4,delay:t,ease:[.23,.86,.39,.96],opacity:{duration:1.2}},className:je("absolute",e),children:a.jsx(dr.div,{animate:{y:[0,15,0]},transition:{duration:12,repeat:Number.POSITIVE_INFINITY,ease:"easeInOut"},style:{width:r,height:n},className:"relative",children:a.jsx("div",{className:je("absolute inset-0 rounded-full","bg-gradient-to-r to-transparent",o,"backdrop-blur-[2px] border-2 border-white/[0.15]","shadow-[0_8px_32px_0_rgba(255,255,255,0.1)]","after:absolute after:inset-0 after:rounded-full","after:bg-[radial-gradient(circle_at_50%_50%,rgba(255,255,255,0.2),transparent_70%)]")})})})}function u9({badge:e="Design Collective",title1:t="Elevate Your Digital Vision",title2:r="Crafting Exceptional Websites"}){const n={hidden:{opacity:0,y:30},visible:s=>({opacity:1,y:0,transition:{duration:1,delay:.5+s*.2,ease:[.25,.4,.25,1]}})};return a.jsxs("div",{className:"relative min-h-screen w-full flex items-center justify-center overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500/[0.05] via-transparent to-rose-500/[0.05] blur-3xl"}),a.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[a.jsx(Fa,{delay:.3,width:600,height:140,rotate:12,gradient:"from-indigo-500/[0.15]",className:"left-[-10%] md:left-[-5%] top-[15%] md:top-[20%]"}),a.jsx(Fa,{delay:.5,width:500,height:120,rotate:-15,gradient:"from-rose-500/[0.15]",className:"right-[-5%] md:right-[0%] top-[70%] md:top-[75%]"}),a.jsx(Fa,{delay:.4,width:300,height:80,rotate:-8,gradient:"from-violet-500/[0.15]",className:"left-[5%] md:left-[10%] bottom-[5%] md:bottom-[10%]"}),a.jsx(Fa,{delay:.6,width:200,height:60,rotate:20,gradient:"from-amber-500/[0.15]",className:"right-[15%] md:right-[20%] top-[10%] md:top-[15%]"}),a.jsx(Fa,{delay:.7,width:150,height:40,rotate:-25,gradient:"from-cyan-500/[0.15]",className:"left-[20%] md:left-[25%] top-[5%] md:top-[10%]"})]}),a.jsx("div",{className:"relative z-10 container mx-auto px-4 md:px-6",children:a.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[a.jsxs(dr.div,{custom:0,variants:n,initial:"hidden",animate:"visible",className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/[0.03] border border-white/[0.08] mb-8 md:mb-12",children:[a.jsx($k,{className:"h-2 w-2 fill-rose-500/80"}),a.jsx("span",{className:"text-sm text-white/60 tracking-wide",children:e})]}),a.jsx(dr.div,{custom:1,variants:n,initial:"hidden",animate:"visible",children:a.jsxs("h1",{className:"text-4xl sm:text-6xl md:text-8xl font-bold mb-6 md:mb-8 tracking-tight",children:[a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-b from-white to-white/80",children:t}),a.jsx("br",{}),a.jsx("span",{className:je("bg-clip-text text-transparent bg-gradient-to-r from-indigo-300 via-white/90 to-rose-300 "),children:r})]})}),a.jsx(dr.div,{custom:2,variants:n,initial:"hidden",animate:"visible",children:a.jsx("p",{className:"text-base sm:text-lg md:text-xl text-white/40 mb-8 leading-relaxed font-light tracking-wide max-w-xl mx-auto px-4",children:"Crafting exceptional digital experiences through innovative design and cutting-edge technology."})})]})})]})}const Ka=mt.forwardRef(({children:e,className:t,variant:r="default",...n},s)=>a.jsxs("button",{ref:s,className:je("relative inline-flex items-center justify-center px-6 py-3 text-lg font-medium rounded-full transition-all duration-300 overflow-hidden focus:outline-none",r==="default"&&"text-white hover:text-white bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 shadow-md hover:shadow-lg transform hover:-translate-y-1",r==="outline"&&"border-2 border-blue-500 text-blue-500 hover:text-white hover:bg-blue-500 bg-transparent",r==="transparent"&&"bg-transparent text-blue-500 hover:text-blue-700",t),...n,children:[a.jsx("span",{className:"relative z-10",children:e}),a.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-indigo-500 opacity-0 hover:opacity-100 transition-opacity duration-300"})]}));Ka.displayName="ShinyButton";const d9=()=>{const e=[{icon:a.jsx(AT,{}),color:"#1877F2"},{icon:a.jsx(BT,{}),color:"#1DA1F2"},{icon:a.jsx(MT,{}),color:"#E4405F"},{icon:a.jsx(LT,{}),color:"#0A66C2"},{icon:a.jsx(UT,{}),color:"#000000"},{icon:a.jsx(GT,{}),color:"#FF0000"},{icon:a.jsx($2,{}),color:"#0088cc"},{icon:a.jsx(TT,{}),color:"#5865F2"},{icon:a.jsx(IT,{}),color:"#FF4500"},{icon:a.jsx(FT,{}),color:"#FFFC00"},{icon:a.jsx(VT,{}),color:"#25D366"},{icon:a.jsx(OT,{}),color:"#E60023"},{icon:a.jsx($T,{}),color:"#1DB954"},{icon:a.jsx(zT,{}),color:"#9146FF"},{icon:a.jsx(DT,{}),color:"#000000"}],[t,r]=m.useState([]);return m.useEffect(()=>{const n=setInterval(()=>{const s=e[Math.floor(Math.random()*e.length)],o=24+Math.floor(Math.random()*24),i=a.jsx("div",{className:"absolute animate-float-emoji",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDuration:`${6+Math.random()*7}s`,opacity:.8,transform:`rotate(${Math.random()*30-15}deg)`,fontSize:`${o}px`,color:s.color},children:s.icon},Date.now());r(l=>[...l,i]),t.length>25&&r(l=>l.slice(l.length-25))},1500);return()=>clearInterval(n)},[t.length]),a.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-10",children:t})},f9=()=>{const e=ot();return m.useEffect(()=>(console.log("Landing page: Loaded"),()=>{}),[]),a.jsxs("div",{className:"min-h-screen flex flex-col bg-[#030303] text-white",children:[a.jsx("nav",{className:"relative z-20 px-4 sm:px-6 lg:px-8 py-6",children:a.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("img",{src:"/logo.svg",alt:"ConnectMe",className:"h-10 w-auto",onError:t=>{t.currentTarget.onerror=null,t.currentTarget.src="https://via.placeholder.com/40x40?text=CM"}}),a.jsx("span",{className:"ml-3 text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-indigo-300 via-white/90 to-rose-300",children:"ConnectMe"})]}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx(Ka,{onClick:()=>e("/login"),className:"px-5 py-2 text-sm",children:"Sign In"}),a.jsx(we,{to:"/register",children:a.jsx(Ka,{className:"px-5 py-2 text-sm",children:"Join Now"})})]})]})}),a.jsxs("div",{className:"relative",children:[a.jsx(d9,{}),a.jsx(u9,{badge:"Social Network Platform",title1:"Connect, Share",title2:"Discover Together"})]}),a.jsx("div",{className:"relative z-10 py-24 bg-[#050505]",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Everything You Need to Connect"}),a.jsx("p",{className:"text-xl text-white/40 max-w-2xl mx-auto",children:"A modern platform designed to bring people together through shared interests and experiences."})]}),a.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[a.jsx($a,{icon:a.jsx(rt,{className:"h-6 w-6"}),title:"Dynamic Communities",description:"Join interest-based groups that connect you with like-minded people who share your passions."}),a.jsx($a,{icon:a.jsx(Jo,{className:"h-6 w-6"}),title:"Real-time Conversations",description:"Stay connected with instant messaging in groups, events, and one-on-one chats."}),a.jsx($a,{icon:a.jsx(cr,{className:"h-6 w-6"}),title:"Engaging Events",description:"Discover and participate in online and in-person events with people who share your interests."}),a.jsx($a,{icon:a.jsx(CT,{className:"h-6 w-6"}),title:"Content Sharing",description:"Share posts, images, and videos with your network or within specific communities."}),a.jsx($a,{icon:a.jsx(M2,{className:"h-6 w-6"}),title:"Smart Discovery",description:"Find relevant content and connections through our intelligent recommendation system."}),a.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-indigo-500/10 to-rose-500/10 border border-white/10 p-8 h-full flex flex-col justify-center",children:[a.jsx("div",{className:"absolute -right-10 -top-10 h-40 w-40 rounded-full bg-gradient-to-br from-indigo-500/20 to-rose-500/20 blur-2xl"}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Ready to Join?"}),a.jsx("p",{className:"text-white/60 mb-6",children:"Create your account today and start connecting with a growing community."}),a.jsx(we,{to:"/register",children:a.jsx(Ka,{className:"bg-white text-indigo-900 hover:bg-white/90",children:"Get Started"})})]})]})]})]})}),a.jsx("div",{className:"py-24 bg-[#030303]",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"What Our Users Say"}),a.jsx("p",{className:"text-xl text-white/40 max-w-2xl mx-auto",children:"Join thousands of satisfied users already connecting on our platform."})]}),a.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{quote:"ConnectMe has transformed how I connect with people who share my interests. The groups and events feature is incredible!",author:"Sophia L.",role:"Photography Enthusiast"},{quote:"I've made meaningful connections and discovered new opportunities through this platform. The user experience is smooth and intuitive.",author:"Marcus T.",role:"Tech Community Leader"},{quote:"The real-time chat and content sharing capabilities make this the perfect platform for our book club to stay connected between meetings.",author:"Elena R.",role:"Book Club Organizer"}].map((t,r)=>a.jsxs("div",{className:"bg-white/5 backdrop-blur rounded-2xl p-6 border border-white/10",children:[a.jsxs("p",{className:"text-white/70 mb-6",children:['"',t.quote,'"']}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-indigo-500 to-rose-500 flex items-center justify-center text-white font-bold",children:t.author.charAt(0)}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h4",{className:"text-white font-medium",children:t.author}),a.jsx("p",{className:"text-white/50 text-sm",children:t.role})]})]})]},r))})]})}),a.jsx("div",{className:"py-24 bg-gradient-to-br from-indigo-900/20 via-[#040404] to-rose-900/20",children:a.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[a.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"Join Our Community Today"}),a.jsx("p",{className:"text-xl text-white/50 mb-10 max-w-3xl mx-auto",children:"Connect with friends, discover new interests, and build meaningful relationships in a space designed for genuine connections."}),a.jsx(we,{to:"/register",children:a.jsx(Ka,{className:"px-8 py-4 text-lg",children:"Create Your Account"})}),a.jsx("p",{className:"mt-4 text-white/30",children:"No commitment. Create your account in minutes."})]})}),a.jsx("footer",{className:"py-12 bg-[#020202] border-t border-white/5",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 mb-8",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-white/40 uppercase tracking-wider mb-4",children:"Company"}),a.jsxs("ul",{className:"space-y-3",children:[a.jsx(rr,{text:"About Us"}),a.jsx(rr,{text:"Careers"}),a.jsx(rr,{text:"Blog"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-white/40 uppercase tracking-wider mb-4",children:"Resources"}),a.jsxs("ul",{className:"space-y-3",children:[a.jsx(rr,{text:"Help Center"}),a.jsx(rr,{text:"Tutorials"}),a.jsx(rr,{text:"Developers"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-white/40 uppercase tracking-wider mb-4",children:"Legal"}),a.jsxs("ul",{className:"space-y-3",children:[a.jsx(rr,{text:"Privacy Policy"}),a.jsx(rr,{text:"Terms of Service"}),a.jsx(rr,{text:"Cookies Policy"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-white/40 uppercase tracking-wider mb-4",children:"Connect"}),a.jsxs("ul",{className:"space-y-3",children:[a.jsx(rr,{text:"Twitter"}),a.jsx(rr,{text:"Instagram"}),a.jsx(rr,{text:"Facebook"})]})]})]}),a.jsxs("div",{className:"pt-8 border-t border-white/5 flex flex-col md:flex-row justify-between items-center",children:[a.jsxs("div",{className:"flex items-center mb-4 md:mb-0",children:[a.jsx("img",{src:"/logo.svg",alt:"ConnectMe",className:"h-8 w-auto",onError:t=>{t.currentTarget.onerror=null,t.currentTarget.src="https://via.placeholder.com/32x32?text=CM"}}),a.jsx("span",{className:"ml-2 text-xl font-bold text-white/80",children:"ConnectMe"})]}),a.jsxs("p",{className:"text-white/30 text-sm",children:[" ",new Date().getFullYear()," ConnectMe. All rights reserved"]})]})]})})]})},$a=({icon:e,title:t,description:r})=>a.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-white/5 backdrop-blur p-8 border border-white/10 h-full",children:[a.jsx("div",{className:"absolute -right-10 -top-10 h-40 w-40 rounded-full bg-gradient-to-br from-indigo-500/10 to-rose-500/10 blur-2xl"}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("div",{className:"h-12 w-12 rounded-xl bg-gradient-to-br from-indigo-500/20 to-rose-500/20 flex items-center justify-center text-indigo-300 mb-6",children:e}),a.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:t}),a.jsx("p",{className:"text-white/60",children:r})]})]}),rr=({text:e})=>a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-white/60 hover:text-white transition-colors",children:e})}),h9="w-full py-2 border border-gray-400 text-gray-600 dark:text-gray-400 rounded-full hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors font-medium flex items-center justify-center",dt={discover:"Discover",searchPlaceholder:"Search people, groups, or events...",trending:"Trending",groups:"Groups",events:"Events",people:"People",posts:"posts",members:"members",joinGroup:"Join Group",joinEvent:"Join Event",attendees:"attendees",mutualFriends:"mutual friends",addFriend:"Add Friend",requestPending:"Request Pending",alreadyFriend:"Already Friends",exploreMore:"Explore More",seeAll:"See All",about:"About",location:"Location",description:"Description",eventDate:"Event Date",loading:"Loading...",noResults:"No results found",viewProfile:"View Profile",joinedGroups:"Joined Groups",joinedEvents:"Joined Events",noDescription:"No description available"},m9={technology:"",photography:"",travel:"",music:"",art:"",food:"",fashion:"",sports:"",education:"",business:"",health:"",gaming:"",movies:"",books:"",science:"",nature:""},g9=[{id:1,name:"Technology",posts:1234,emoji:""},{id:2,name:"Photography",posts:856,emoji:""},{id:3,name:"Travel",posts:743,emoji:""},{id:4,name:"Music",posts:621,emoji:""},{id:5,name:"Art",posts:589,emoji:""},{id:6,name:"Food",posts:432,emoji:""}],p9=()=>{const{currentLanguage:e}=at(),{user:t}=$e(),[r,n]=m.useState("trending"),[s,o]=m.useState(""),[i,l]=m.useState({}),[c,u]=m.useState(!1),[d,f]=m.useState({}),[h,g]=m.useState([]),[b,v]=m.useState([]);m.useEffect(()=>{e!=="en"?(async()=>{try{const M=Object.values(dt),T=await zh(M,e.toUpperCase()),B={};Object.keys(dt).forEach((V,re)=>{B[V]=T[re]}),l(B)}catch(M){console.error("Translation error:",M),l(dt)}})():l(dt)},[e]),m.useEffect(()=>{t&&(w(),L())},[t,r]);const w=async()=>{if(t){u(!0);try{if(r==="trending")u(!1);else if(r==="groups"){const{data:S}=await z.from("group_members").select("group_id").eq("user_id",t.id),M=(S==null?void 0:S.map(B=>B.group_id))||[],{data:T}=await z.from("groups").select("*").not("id","in",`(${M.length>0?M.join(","):"0"})`).order("member_count",{ascending:!1}).limit(6);T&&T.length>0&&j(T),u(!1)}else if(r==="event"){const{data:S}=await z.from("event_attendees").select("event_id").eq("user_id",t.id),M=(S==null?void 0:S.map(B=>B.event_id))||[],{data:T}=await z.from("events").select("*").not("id","in",`(${M.length>0?M.join(","):"0"})`).gte("start_date",new Date().toISOString()).order("start_date",{ascending:!0}).limit(6);T&&T.length>0&&N(T),u(!1)}else if(r==="people"){const{data:S}=await z.from("user_connections").select("friend_id").eq("user_id",t.id).eq("status","accepted"),M=(S==null?void 0:S.map(T=>T.friend_id))||[];if(M.length>0){const{data:T}=await z.from("profiles").select("*").not("id","in",`(${M.join(",")},${t.id})`).limit(6);if(T&&T.length>0){C(T);const B=T.map(async se=>{const de=await p(se.id);return{id:se.id,status:de}}),re=(await Promise.all(B)).reduce((se,de)=>(se[de.id]=de.status,se),{});f(re)}}u(!1)}}catch(S){console.error("Error fetching suggestions:",S),u(!1)}}},p=async S=>{if(!t)return"none";try{const{data:M,error:T}=await z.from("user_connections").select("status").or(`and(user_id.eq.${t.id},friend_id.eq.${S}),and(user_id.eq.${S},friend_id.eq.${t.id})`).maybeSingle();if(T)throw T;return M?M.status:"none"}catch(M){return console.error("Error checking friendship status:",M),"none"}},y=async S=>{if(t)try{const{data:M}=await z.from("user_connections").select("id, status").or(`and(user_id.eq.${t.id},friend_id.eq.${S}),and(user_id.eq.${S},friend_id.eq.${t.id})`).maybeSingle();if(M){q.error("A connection already exists with this user");return}const{error:T}=await z.from("user_connections").insert({user_id:t.id,friend_id:S,status:"pending"});if(T)throw T;console.log("Creating friend request notification for user:",S),await pu(S,"friend_request",t.id),f(B=>({...B,[S]:"pending"})),q.success("Friend request sent!")}catch(M){console.error("Error sending friend request:",M),q.error("Failed to send friend request")}},x=async S=>{if(t)try{const{data:M}=await z.from("group_members").select("id").eq("user_id",t.id).eq("group_id",S).maybeSingle();if(M){q.error("You are already a member of this group");return}const{error:T}=await z.from("group_members").insert({user_id:t.id,group_id:S});if(T)throw T;q.success("Successfully joined the group!"),w()}catch(M){console.error("Error joining group:",M),q.error("Failed to join group")}},_=async S=>{if(t)try{const{data:M}=await z.from("event_attendees").select("id").eq("user_id",t.id).eq("event_id",S).maybeSingle();if(M){q.error("You are already attending this event");return}const{error:T}=await z.from("event_attendees").insert({user_id:t.id,event_id:S});if(T)throw T;q.success("Successfully RSVP'd to the event!"),w()}catch(M){console.error("Error joining event:",M),q.error("Failed to join event")}},[k,j]=m.useState([{id:"1",name:"Tech Enthusiasts",member_count:1200,banner_url:"https://source.unsplash.com/800x600/?technology",description:"A community for tech lovers and innovators"},{id:"2",name:"Photography Club",member_count:850,banner_url:"https://source.unsplash.com/800x600/?photography",description:"Share your best shots and photography tips"},{id:"3",name:"World Travelers",member_count:3200,banner_url:"https://source.unsplash.com/800x600/?travel",description:"Explore the world together"}]),[E,N]=m.useState([{id:"1",title:"Tech Conference 2025",start_date:"2025-03-15",banner_url:"https://source.unsplash.com/800x600/?conference",attendee_count:450,location:"San Francisco, CA",description:"The biggest tech conference of the year"},{id:"2",name:"Photography Workshop",start_date:"2025-03-20",banner_url:"https://source.unsplash.com/800x600/?workshop",attendee_count:120,location:"New York, NY",description:"Learn portrait photography from experts"},{id:"3",title:"Music Festival",start_date:"2025-04-01",banner_url:"https://source.unsplash.com/800x600/?festival",attendee_count:2e3,location:"Austin, TX",description:"Three days of amazing live music"}]),[I,C]=m.useState([{id:"1",full_name:"John Smith",headline:"Software Engineer",avatar_url:"https://i.pravatar.cc/150?img=1",location:"San Francisco, CA"},{id:"2",full_name:"Emma Wilson",headline:"Photographer",avatar_url:"https://i.pravatar.cc/150?img=5",location:"New York, NY"},{id:"3",full_name:"Michael Chen",headline:"UX Designer",avatar_url:"https://i.pravatar.cc/150?img=3",location:"Seattle, WA"}]),L=async()=>{if(t){u(!0);try{const{data:S}=await z.from("group_members").select("group_id, groups(*)").eq("user_id",t.id);g((S==null?void 0:S.map(T=>({group_id:T.group_id,groups:T.groups})))||[]);const{data:M}=await z.from("event_attendees").select("event_id, events(*)").eq("user_id",t.id);v((M==null?void 0:M.map(T=>({event_id:T.event_id,events:T.events})))||[])}catch(S){console.error("Error fetching joined data:",S)}finally{u(!1)}}},P=()=>{if(c)return a.jsx("div",{className:"flex justify-center items-center py-20",children:a.jsx(Ee,{size:"lg"})});switch(r){case"trending":return D();case"groups":return A();case"event":return F();case"people":return O();default:return U()}},D=()=>a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g9.map(S=>a.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-shadow border border-gray-200 dark:border-gray-600",children:[a.jsxs("div",{className:"relative h-48 bg-gradient-to-br from-rose-400 to-red-500 flex justify-center items-center",children:[a.jsx("span",{className:"text-8xl",role:"img","aria-label":S.name,children:S.emoji}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent flex items-end",children:a.jsxs("div",{className:"p-4 text-white",children:[a.jsxs("h3",{className:"text-lg font-semibold",children:["#",S.name]}),a.jsxs("p",{className:"text-sm text-white/80",children:[S.posts," ",i.posts||dt.posts]})]})})]}),a.jsx("div",{className:"p-4",children:a.jsxs(we,{to:`/search?tag=${encodeURIComponent(S.name)}`,className:h9,children:[a.jsx(nv,{className:"mr-2"}),i.exploreMore||dt.exploreMore]})})]},S.id))}),A=()=>a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:k.map(S=>a.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-lg shadow-md overflow-hidden border border-gray-200 dark:border-gray-600 flex flex-col",children:[a.jsx("div",{className:"h-32 bg-gradient-to-br from-rose-400 to-red-500 flex justify-center items-center",children:a.jsx("span",{className:"text-6xl",role:"img","aria-label":S.name,children:m9[S.name.toLowerCase()]||""})}),a.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1 truncate",children:S.name}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-300 mb-3 line-clamp-2 flex-grow",children:S.description||i.noDescription}),a.jsxs("div",{className:"flex justify-between items-center mt-auto pt-3 border-t border-gray-100 dark:border-gray-600",children:[a.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[S.member_count||0," ",i.members]}),a.jsx("button",{onClick:()=>x(S.id),className:"px-4 py-1.5 text-xs font-medium text-white bg-gradient-to-r from-rose-500 to-red-500 rounded-full hover:from-rose-600 hover:to-red-600 transition-colors",children:i.joinGroup})]})]})]},S.id))}),F=()=>a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:E.map(S=>{const M=()=>{if(!S.title)return"";const T=S.title.toLowerCase();return T.includes("music")?"":T.includes("tech")?"":T.includes("photo")?"":""};return a.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-lg shadow-md overflow-hidden border border-gray-200 dark:border-gray-600 flex flex-col",children:[a.jsx("div",{className:"h-32 bg-gradient-to-br from-rose-400 to-red-500 flex justify-center items-center",children:a.jsx("span",{className:"text-6xl",role:"img","aria-label":S.title||"Event",children:M()})}),a.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1 truncate",children:S.title||"Event"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-300 mb-3 line-clamp-2 flex-grow",children:S.description||i.noDescription}),a.jsxs("div",{className:"flex justify-between items-center mt-auto pt-3 border-t border-gray-100 dark:border-gray-600",children:[a.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[new Date(S.start_date).toLocaleDateString()," ",i.eventDate]}),a.jsx("button",{onClick:()=>_(S.id),className:"px-4 py-1.5 text-xs font-medium text-white bg-gradient-to-r from-rose-500 to-red-500 rounded-full hover:from-rose-600 hover:to-red-600 transition-colors",children:i.joinEvent})]})]})]},S.id)})}),O=()=>a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:I.map(S=>a.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-shadow p-4 border border-gray-200 dark:border-gray-600 flex flex-col",children:[a.jsxs("div",{className:"flex flex-col items-center text-center mb-4 flex-grow",children:[a.jsx("div",{className:"mb-3",children:a.jsx(sa,{src:S.avatar_url,name:S.full_name,size:"lg"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:S.full_name}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-300",children:S.headline}),S.location&&a.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-400 mt-1 flex items-center",children:[a.jsx(Es,{className:"mr-1",size:12}),S.location]})]}),a.jsxs("div",{className:"flex flex-col gap-2 mt-auto pt-3 border-t border-gray-100 dark:border-gray-600",children:[(!d[S.id]||d[S.id]==="none")&&a.jsxs("button",{onClick:()=>y(S.id),className:"w-full py-1.5 text-sm font-medium text-white bg-gradient-to-r from-rose-500 to-red-500 rounded-full hover:from-rose-600 hover:to-red-600 transition-colors flex items-center justify-center",children:[a.jsx(on,{className:"mr-1"}),i.addFriend||dt.addFriend]}),d[S.id]==="pending"&&a.jsx("button",{disabled:!0,className:"w-full py-1.5 text-sm font-medium text-gray-500 dark:text-gray-400 rounded-full font-medium flex items-center justify-center",children:i.requestPending||dt.requestPending}),d[S.id]==="accepted"&&a.jsx("button",{disabled:!0,className:"w-full py-1.5 text-sm font-medium text-green-700 dark:text-green-400 rounded-full font-medium flex items-center justify-center",children:i.alreadyFriend||dt.alreadyFriend}),a.jsxs(we,{to:`/profile/${S.id}`,className:"w-full py-1.5 text-sm font-medium border border-gray-300 dark:border-gray-500 text-gray-600 dark:text-gray-300 rounded-full hover:bg-gray-50 dark:hover:bg-gray-600 transition-colors flex items-center justify-center",children:[a.jsx(Sr,{className:"mr-1"}),i.viewProfile||dt.viewProfile]})]})]},S.id))}),U=()=>a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[h.map(S=>a.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-shadow border border-gray-200 dark:border-gray-600",children:[a.jsxs("div",{className:"relative h-48 bg-gradient-to-br from-rose-400 to-red-500",children:[a.jsx("img",{src:S.groups.banner_url||`https://source.unsplash.com/800x600/?${encodeURIComponent(S.groups.name)}`,alt:S.groups.name,className:"w-full h-full object-cover"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent",children:a.jsxs("div",{className:"absolute top-3 right-3 bg-blue-600/90 text-white text-xs px-2 py-1 rounded-full",children:[a.jsx(Zo,{className:"inline mr-1"}),S.groups.member_count]})})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:S.groups.name}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-300 mb-4 line-clamp-2",children:S.groups.description}),a.jsx(we,{to:`/groups/${S.group_id}`,className:"text-rose-600 dark:text-rose-400 text-sm font-medium hover:underline",children:i.about||dt.about})]})]},S.group_id)),b.map(S=>a.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-shadow border border-gray-200 dark:border-gray-600",children:[a.jsxs("div",{className:"relative h-48 bg-gradient-to-br from-rose-400 to-red-500",children:[a.jsx("img",{src:S.events.banner_url||`https://source.unsplash.com/800x600/?${encodeURIComponent(S.events.title||"event")}`,alt:S.events.title,className:"w-full h-full object-cover"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent",children:a.jsxs("div",{className:"absolute bottom-3 left-3 text-white",children:[a.jsxs("div",{className:"text-xs bg-white/20 backdrop-blur-sm px-2 py-1 rounded-full mb-1",children:[a.jsx(Qo,{className:"inline mr-1"}),new Date(S.events.start_date).toLocaleDateString()]}),S.events.location&&a.jsxs("div",{className:"text-xs bg-white/20 backdrop-blur-sm px-2 py-1 rounded-full",children:[a.jsx(Es,{className:"inline mr-1"}),S.events.location]})]})})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:S.events.title}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-300 mb-4 line-clamp-2",children:S.events.description}),a.jsx(we,{to:`/events/${S.event_id}`,className:"text-rose-600 dark:text-rose-400 text-sm font-medium hover:underline",children:i.about||dt.about})]})]},S.event_id))]});return a.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8 dark:bg-neutral-800 min-h-full",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-4",children:i.discover||dt.discover}),a.jsxs("div",{className:"relative mb-6",children:[a.jsx("input",{type:"text",placeholder:i.searchPlaceholder||dt.searchPlaceholder,value:s,onChange:S=>o(S.target.value),className:"w-full pl-12 pr-4 py-3 rounded-lg bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-rose-500 focus:border-transparent dark:text-white"}),a.jsx(q2,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 dark:text-gray-500"})]}),a.jsxs("div",{className:"flex space-x-4 overflow-x-auto pb-4",children:[a.jsxs("button",{onClick:()=>n("trending"),className:`flex items-center px-6 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors ${r==="trending"?"bg-gradient-to-r from-rose-600 to-red-600 text-white shadow-md":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600 shadow-sm"}`,children:[a.jsx(nv,{className:"w-4 h-4 mr-2"}),i.trending||dt.trending]}),a.jsxs("button",{onClick:()=>n("groups"),className:`flex items-center px-6 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors ${r==="groups"?"bg-gradient-to-r from-rose-600 to-red-600 text-white shadow-md":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600 shadow-sm"}`,children:[a.jsx(Zo,{className:"w-4 h-4 mr-2"}),i.groups||dt.groups]}),a.jsxs("button",{onClick:()=>n("event"),className:`flex items-center px-6 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors ${r==="event"?"bg-gradient-to-r from-rose-600 to-red-600 text-white shadow-md":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600 shadow-sm"}`,children:[a.jsx(Qo,{className:"w-4 h-4 mr-2"}),i.events||dt.events]}),a.jsxs("button",{onClick:()=>n("people"),className:`flex items-center px-6 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors ${r==="people"?"bg-gradient-to-r from-rose-600 to-red-600 text-white shadow-md":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600 shadow-sm"}`,children:[a.jsx(Sr,{className:"w-4 h-4 mr-2"}),i.people||dt.people]})]})]}),a.jsx("div",{className:"pb-8",children:P()})]})},tc=[{id:"mock-user-1",username:"johndoe",full_name:"John Doe",avatar_url:"https://i.pravatar.cc/150?img=1",connection_status:"accepted"},{id:"mock-user-2",username:"janedoe",full_name:"Jane Doe",avatar_url:"https://i.pravatar.cc/150?img=5",connection_status:"accepted"},{id:"mock-user-3",username:"bobsmith",full_name:"Bob Smith",avatar_url:"https://i.pravatar.cc/150?img=3",connection_status:"pending",is_requester:!1},{id:"mock-user-4",username:"alicejones",full_name:"Alice Jones",avatar_url:"https://i.pravatar.cc/150?img=9",connection_status:"none",mutual_friends_count:2},{id:"mock-user-5",username:"sarahwilliams",full_name:"Sarah Williams",avatar_url:"https://i.pravatar.cc/150?img=10",connection_status:"none",mutual_friends_count:1},{id:"mock-user-6",username:"mikedavis",full_name:"Mike Davis",avatar_url:"https://i.pravatar.cc/150?img=7",connection_status:"pending",is_requester:!0}],y9=()=>{const{user:e}=$e(),t=ot(),{t:r}=Yr(),[n,s]=m.useState([]),[o,i]=m.useState([]),[l,c]=m.useState([]),[u,d]=m.useState([]),[f,h]=m.useState("friends"),[g,b]=m.useState(!0),[v,w]=m.useState(null),[p,y]=m.useState(!1),x=m.useCallback(async()=>{if(e){if(console.log("loadConnections: Starting connection fetch..."),b(!0),w(null),p){console.log("loadConnections: Using MOCK data."),s(tc.filter(T=>T.connection_status==="accepted")),c(tc.filter(T=>T.connection_status==="pending"&&!T.is_requester)),i(tc.filter(T=>T.connection_status==="pending"&&T.is_requester)),d(tc.filter(T=>T.connection_status==="none")),b(!1);return}console.log("loadConnections: Fetching REAL data for user:",e.id);try{const{data:T,error:B}=await z.from("user_connections").select("id, user_id, friend_id, status, created_at, updated_at").or(`user_id.eq.${e.id},friend_id.eq.${e.id}`);if(B)throw console.error("loadConnections: Error fetching connections",B),B;if(console.log("loadConnections: Fetched raw connections",T),!T||T.length===0)console.log("loadConnections: No connections found."),s([]),c([]),i([]);else{const R=new Set,G=[],Q=new Map,W=new Map;if(T.forEach(K=>{const H=K.user_id===e.id?K.friend_id:K.user_id;R.add(H),K.status==="accepted"?G.push(K):K.status==="pending"&&(K.user_id===e.id?W.set(H,K):Q.set(H,K))}),console.log("Friend IDs to fetch profiles for:",Array.from(R)),R.size>0){const{data:K,error:H}=await z.from("profiles").select("id, full_name, avatar_url, headline").in("id",Array.from(R));if(H)throw console.error("loadConnections: Error fetching profiles",H),H;console.log("Fetched profiles:",K);const $=new Map;(K||[]).forEach(J=>$.set(J.id,J));const X=G.map(J=>{const he=J.user_id===e.id?J.friend_id:J.user_id,pe=$.get(he);return pe?{...pe,connection_id:J.id,connection_status:"accepted"}:null}).filter(J=>J!==null),ne=Array.from(Q.entries()).map(([J,he])=>{const pe=$.get(J);return pe?{...pe,connection_id:he.id,connection_status:"pending",is_requester:!1}:null}).filter(J=>J!==null),ie=Array.from(W.entries()).map(([J,he])=>{const pe=$.get(J);return pe?{...pe,connection_id:he.id,connection_status:"pending",is_requester:!0}:null}).filter(J=>J!==null);s(X),c(ne),i(ie),console.log("Processed Friends:",X),console.log("Processed Incoming:",ne),console.log("Processed Outgoing:",ie)}else s([]),c([]),i([])}const V=new Set([e.id]);T==null||T.forEach(R=>{V.add(R.user_id===e.id?R.friend_id:R.user_id)});const re=Array.from(V);console.log("loadConnections: Fetching suggestions, excluding IDs:",re);let se=z.from("profiles").select("id, full_name, avatar_url, headline");re.length>0&&(se=se.not("id","in",`(${re.join(",")})`));const{data:de,error:oe}=await se.limit(10);if(oe)console.error("loadConnections: Error fetching suggestions",oe),q.error("Could not load friend suggestions."),d([]);else{const R=(de||[]).map(G=>({...G,connection_status:void 0,mutual_friends_count:Math.floor(Math.random()*5)}));console.log("loadConnections: Processed suggestions",R),d(R)}}catch(T){w(T.message||"Failed to load connections"),console.error("loadConnections: CATCH BLOCK - Error loading connections:",T)}finally{console.log("loadConnections: Fetch finished."),b(!1)}}},[e,p]);m.useEffect(()=>{console.log("FriendsPage useEffect triggered. User:",e==null?void 0:e.id,"UseMockData:",p),x()},[x]);const _=async T=>{if(!(!e||!T.connection_id)){console.log("handleAcceptRequest: Attempting for connection ID:",T.connection_id);try{if(p){console.log("handleAcceptRequest: Using MOCK accept."),c(V=>V.filter(re=>re.connection_id!==T.connection_id)),s(V=>[...V,{...T,connection_status:"accepted"}]),q.success("Friend request accepted! (Mock)");return}const{error:B}=await z.from("user_connections").update({status:"accepted"}).eq("id",T.connection_id).eq("friend_id",e.id);if(B)throw console.error("handleAcceptRequest: Error updating connection:",B),B;console.log(`handleAcceptRequest: Connection ${T.connection_id} updated.`),await pu(T.id,"friend_accepted",e.id),q.success("Friend request accepted!"),x()}catch(B){console.error("handleAcceptRequest: CATCH BLOCK - Error:",B),q.error("Failed to accept request")}}},k=async T=>{if(!(!e||!T.connection_id)){console.log("handleRejectRequest: Attempting for connection ID:",T.connection_id);try{if(p){console.log("handleRejectRequest: Using MOCK reject."),c(V=>V.filter(re=>re.connection_id!==T.connection_id)),d(V=>[...V,{...T,connection_status:"none"}]),q.success("Friend request rejected (Mock)");return}const{error:B}=await z.from("user_connections").delete().eq("id",T.connection_id).eq("friend_id",e.id);if(B)throw console.error("handleRejectRequest: Error deleting connection:",B),B;console.log(`handleRejectRequest: Connection ${T.connection_id} deleted.`),q.success("Friend request rejected"),x()}catch(B){console.error("handleRejectRequest: CATCH BLOCK - Error:",B),q.error("Failed to reject request")}}},j=async T=>{if(!e||e.id===T){q.error("Cannot send request to yourself.");return}if(console.log("handleSendRequest: Attempting to send to profile ID:",T),p){console.log("handleSendRequest: Using MOCK send.");const B=u.find(V=>V.id===T);B&&(d(V=>V.filter(re=>re.id!==T)),i(V=>[...V,{...B,connection_status:"pending",is_requester:!0}]),q.success("Friend request sent! (Mock)"));return}try{const{data:B,error:V}=await z.from("user_connections").select("id, status").or(`and(user_id.eq.${e.id},friend_id.eq.${T}),and(user_id.eq.${T},friend_id.eq.${e.id})`).in("status",["pending","accepted"]).maybeSingle();if(V&&console.error("handleSendRequest: Error checking existing connection:",V),B){B.status==="accepted"?q("You are already friends."):q("A friend request is already pending.");return}const{data:re,error:se}=await z.from("user_connections").insert({user_id:e.id,friend_id:T,status:"pending"}).select("id").single();if(se||!re)throw console.error("handleSendRequest: Error inserting connection:",se),se||new Error("Failed to create connection.");console.log("handleSendRequest: Connection inserted with ID:",re.id),await pu(T,"friend_request",e.id),q.success("Friend request sent!"),x()}catch(B){console.error("handleSendRequest: CATCH BLOCK - Error:",B),q.error(`Failed to send request: ${B.message||"Please try again."}`)}},E=async T=>{if(!(!e||!T.connection_id)){console.log("handleCancelRequest: Attempting for connection ID:",T.connection_id);try{if(p){console.log("handleCancelRequest: Using MOCK cancel."),i(V=>V.filter(re=>re.connection_id!==T.connection_id)),d(V=>[...V,{...T,connection_status:"none"}]),q.success("Friend request cancelled (Mock)");return}const{error:B}=await z.from("user_connections").delete().eq("id",T.connection_id).eq("user_id",e.id).eq("status","pending");if(B){console.error("handleCancelRequest: Error deleting connection:",B),q.error("Failed to cancel friend request");return}console.log(`handleCancelRequest: Connection ${T.connection_id} deleted.`),q.success("Friend request cancelled"),x()}catch(B){console.error("handleCancelRequest: CATCH BLOCK - Error:",B),q.error("Failed to cancel friend request")}}},N=async T=>{if(!(!e||!T.connection_id)&&(console.log("handleUnjoinFriend: Attempting for connection ID:",T.connection_id),!!window.confirm(`Are you sure you want to remove ${T.full_name} as a friend?`)))try{if(p){console.log("handleUnjoinFriend: Using MOCK unfriend."),s(V=>V.filter(re=>re.connection_id!==T.connection_id)),d(V=>[...V,{...T,connection_status:"none"}]),q.success("Friend removed (Mock)");return}const{error:B}=await z.from("user_connections").delete().eq("id",T.connection_id).or(`user_id.eq.${e.id},friend_id.eq.${e.id}`).eq("status","accepted");if(B){console.error("handleUnjoinFriend: Error deleting connection:",B),q.error("Failed to remove friend");return}console.log(`handleUnjoinFriend: Connection ${T.connection_id} deleted.`),q.success("Friend removed successfully"),x()}catch(B){console.error("handleUnjoinFriend: CATCH BLOCK - Error:",B),q.error("Failed to remove friend")}},I=T=>{T&&(console.log("Navigating to chat with user:",T),t(`/messages/${T}`))},C=T=>{T&&(console.log("Navigating to profile:",T),t(`/profile/${T}`))},L=(T,B)=>{const V=Math.random()>.6,re=Math.random()>.3;return a.jsxs(dr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"flex flex-col sm:flex-row items-center justify-between bg-white dark:bg-gray-800 p-4 rounded-xl shadow-sm hover:shadow-md transition-shadow duration-200 border border-gray-200 dark:border-gray-700 mb-3 group",children:[a.jsxs("div",{className:"flex items-center mb-3 sm:mb-0 w-full sm:w-auto text-center sm:text-left cursor-pointer",onClick:()=>C(T.id),children:[a.jsxs("div",{className:"relative mr-4",children:[a.jsx("div",{className:"h-16 w-16 rounded-full overflow-hidden bg-gray-100 dark:bg-gray-700",children:T.avatar_url?a.jsx("img",{src:T.avatar_url,alt:T.full_name,className:"h-full w-full object-cover"}):a.jsx("div",{className:"h-full w-full flex items-center justify-center bg-gradient-to-br from-indigo-400 to-purple-500 text-white text-xl font-semibold",children:T.full_name.charAt(0).toUpperCase()})}),a.jsx("div",{className:`absolute bottom-0 right-0 h-4 w-4 rounded-full border-2 border-white dark:border-gray-800 ${V?"bg-green-500":re?"bg-yellow-400":"bg-gray-400"}`})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors",children:T.full_name}),T.headline&&a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:T.headline}),!T.headline&&a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:V?"Online now":re?"Recently active":"Offline"}),B==="suggestion"&&T.mutual_friends_count&&T.mutual_friends_count>0&&a.jsxs("span",{className:"text-xs mt-1 text-indigo-600 dark:text-indigo-400 flex items-center",children:[a.jsx(of,{className:"mr-1",size:12}),T.mutual_friends_count," mutual ",T.mutual_friends_count===1?"friend":"friends"]})]})]}),a.jsxs("div",{className:"flex gap-2 w-full sm:w-auto justify-center sm:justify-end mt-3 sm:mt-0",children:[B==="friend"&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>I(T.id),className:"px-3 py-2 bg-indigo-50 hover:bg-indigo-100 dark:bg-indigo-900/30 dark:hover:bg-indigo-800/50 text-indigo-600 dark:text-indigo-400 rounded-lg text-sm font-medium transition duration-150 flex items-center",children:[a.jsx(Jo,{className:"mr-1.5",size:16}),r("buttons.message")||"Message"]}),a.jsxs("div",{className:"relative group",children:[a.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-white rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",children:a.jsx(nd,{size:18})}),a.jsx("div",{className:"absolute right-0 mt-1 w-40 bg-white dark:bg-gray-800 rounded-md shadow-lg py-1 hidden group-hover:block z-10 border border-gray-200 dark:border-gray-700",children:a.jsxs("button",{onClick:()=>N(T),className:"block w-full text-left px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20",children:[a.jsx(F2,{className:"inline mr-2"})," ",r("buttons.remove")||"Remove Friend"]})})]})]}),B==="incoming"&&a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>_(T),className:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-lg transition-colors",children:r("friends.buttons.accept")||"Accept"}),a.jsx("button",{onClick:()=>k(T),className:"px-4 py-2 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-lg transition-colors",children:r("friends.buttons.decline")||"Decline"})]}),B==="outgoing"&&a.jsx("div",{className:"flex space-x-2",children:a.jsx("button",{onClick:()=>E(T),className:"px-4 py-2 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-lg transition-colors",children:r("friends.buttons.cancel")||"Cancel Request"})}),B==="suggestion"&&a.jsx("div",{className:"flex space-x-2",children:a.jsxs("button",{onClick:()=>j(T.id),className:"px-4 py-2 bg-indigo-500 hover:bg-indigo-600 text-white rounded-lg transition-colors",children:[a.jsx(Ui,{className:"inline mr-1"})," Connect"]})})]})]},T.id)},[P,D]=m.useState(!1),[A,F]=m.useState([]),[O,U]=m.useState(""),S=async()=>{if(A.length<1){q.error("Please select at least 1 friend to create a group");return}if(!O.trim()){q.error("Please enter a group name");return}e&&(console.log("Creating group:",O,"with members:",[e.id,...A]),q.success(`Group "${O}" creation initiated (DB logic needed)`),F([]),U(""),D(!1))},M=T=>{F(B=>B.includes(T)?B.filter(V=>V!==T):[...B,T])};return g?a.jsx("div",{className:"flex justify-center items-center h-screen bg-gray-50 dark:bg-gray-900",children:a.jsx(Ee,{size:"lg"})}):v&&!p?a.jsx(na,{message:v}):a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 md:py-12",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8",children:[a.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center mb-4 md:mb-0",children:[a.jsx(rt,{className:"mr-3 h-8 w-8 text-indigo-500"})," ",r("friends.title")||"Connections"]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[n.length>0&&a.jsxs("button",{onClick:()=>D(!0),className:"flex items-center px-4 py-2 rounded-full bg-gradient-to-r from-indigo-500 to-purple-500 hover:from-indigo-600 hover:to-purple-600 text-white shadow-sm hover:shadow-md transition-all text-sm font-medium",children:[a.jsx(rt,{className:"mr-2"})," ",r("friends.buttons.createGroup")||"Create Group"]}),a.jsx("button",{onClick:()=>y(T=>!T),className:`px-3 py-1 rounded-full text-xs font-medium ${p?"bg-yellow-100 text-yellow-800 hover:bg-yellow-200":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:p?"Using Mock Data":"Using Real Data"})]})]}),a.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 mb-6",children:[a.jsx("button",{onClick:()=>h("friends"),className:`py-4 px-6 font-medium text-base focus:outline-none transition-colors duration-150 ${f==="friends"?"text-indigo-600 border-b-2 border-indigo-600 font-semibold":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300 border-b-2 border-transparent hover:border-gray-300 dark:hover:border-gray-600"}`,children:a.jsxs("span",{className:"flex items-center",children:[a.jsx(of,{className:"mr-2"}),r("friends.tabs.friends")||"Friends",a.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs rounded-full bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200",children:n.length})]})}),a.jsx("button",{onClick:()=>h("requests"),className:`py-4 px-6 font-medium text-base focus:outline-none transition-colors duration-150 ${f==="requests"?"text-indigo-600 border-b-2 border-indigo-600 font-semibold":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300 border-b-2 border-transparent hover:border-gray-300 dark:hover:border-gray-600"}`,children:a.jsxs("span",{className:"flex items-center",children:[a.jsx(nu,{className:"mr-2"}),r("friends.tabs.requests")||"Requests",l.length+o.length>0&&a.jsx("span",{className:`ml-2 px-2 py-0.5 text-xs rounded-full ${l.length>0?"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200":"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200"}`,children:l.length+o.length})]})}),a.jsx("button",{onClick:()=>h("suggestions"),className:`py-4 px-6 font-medium text-base focus:outline-none transition-colors duration-150 ${f==="suggestions"?"text-indigo-600 border-b-2 border-indigo-600 font-semibold":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300 border-b-2 border-transparent hover:border-gray-300 dark:hover:border-gray-600"}`,children:a.jsxs("span",{className:"flex items-center",children:[a.jsx(Ui,{className:"mr-2"}),r("friends.tabs.people")||"Suggestions",u.length>0&&a.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs rounded-full bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200",children:u.length})]})})]}),a.jsxs("div",{children:[f==="friends"&&a.jsx("div",{children:n.length===0?a.jsxs("div",{className:"text-center py-12 bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[a.jsx($i,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:r("friends.no_friends_message")||"You haven't connected with anyone yet."}),a.jsx("button",{onClick:()=>h("suggestions"),className:"mt-4 px-5 py-2 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600 transition-colors text-sm font-medium",children:r("friends.buttons.findPeople")||"Find People"})]}):a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[" ",n.map(T=>L(T,"friend"))]})}),f==="requests"&&a.jsxs("div",{children:[l.length>0&&a.jsxs("div",{className:"mb-8",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-4 border-b pb-2 border-gray-200 dark:border-gray-700",children:[r("friends.incoming_requests")||"Incoming Requests"," (",l.length,")"]}),a.jsx("div",{className:"space-y-3",children:l.map(T=>L(T,"incoming"))})]}),o.length>0&&a.jsxs("div",{className:"mb-8",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white mb-4 border-b pb-2 border-gray-200 dark:border-gray-700",children:[r("friends.sent_requests")||"Sent Requests"," (",o.length,")"]}),a.jsx("div",{className:"space-y-3",children:o.map(T=>L(T,"outgoing"))})]}),l.length===0&&o.length===0&&a.jsxs("div",{className:"text-center py-12 bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[a.jsx(of,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:r("friends.no_pending_requests")||"No pending friend requests"})]})]}),f==="suggestions"&&a.jsx("div",{children:u.length===0?a.jsxs("div",{className:"text-center py-12 bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[a.jsx(vT,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No suggestions available right now. Check back later!"})]}):a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[" ",u.map(T=>L(T,"suggestion"))]})})]}),P&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:a.jsxs(dr.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},className:"bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-lg w-full max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Create New Group"}),a.jsx("button",{onClick:()=>D(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:a.jsx(Kn,{size:20})})]}),a.jsxs("div",{className:"p-6 flex-1 overflow-y-auto",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Group Name"}),a.jsx("input",{type:"text",value:O,onChange:T=>U(T.target.value),placeholder:"Enter group name...",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Select Friends (",A.length," selected)"]}),a.jsx("div",{className:"max-h-64 overflow-y-auto rounded-lg border border-gray-200 dark:border-gray-700 divide-y divide-gray-200 dark:divide-gray-700",children:n.map(T=>a.jsxs("div",{className:`flex items-center p-3 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50 ${A.includes(T.id)?"bg-indigo-50 dark:bg-indigo-900/30":""}`,onClick:()=>M(T.id),children:[a.jsx("input",{type:"checkbox",checked:A.includes(T.id),readOnly:!0,className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 rounded border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700"}),a.jsxs("div",{className:"ml-3 flex items-center",children:[a.jsx("div",{className:"h-10 w-10 rounded-full overflow-hidden bg-gray-100 dark:bg-gray-700 mr-3",children:T.avatar_url?a.jsx("img",{src:T.avatar_url,alt:T.full_name,className:"h-full w-full object-cover"}):a.jsx("div",{className:"h-full w-full flex items-center justify-center bg-gradient-to-br from-indigo-400 to-purple-500 text-white text-lg",children:T.full_name.charAt(0).toUpperCase()})}),a.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:T.full_name})]})]},T.id))})]})]}),a.jsxs("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700 flex justify-end space-x-3 bg-gray-50 dark:bg-gray-800/50",children:[a.jsx("button",{onClick:()=>D(!1),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 text-sm font-medium",children:"Cancel"}),a.jsx("button",{onClick:S,className:"px-4 py-2 bg-gradient-to-r from-indigo-500 to-purple-500 hover:from-indigo-600 hover:to-purple-600 text-white rounded-lg text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed",disabled:A.length<1||!O.trim(),children:"Create Group"})]})]})})]})})},v9=()=>{const{t:e}=at(),{user:t}=$e(),[r,n]=m.useState("groups"),[s,o]=m.useState(!0),[i,l]=m.useState([]),[c,u]=m.useState([]);m.useEffect(()=>{t&&d()},[t,r]);const d=async()=>{if(t){o(!0);try{if(r==="groups"){const{data:y,error:x}=await z.from("group_members").select("group_id, groups(*)").eq("user_id",t.id).eq("is_favorite",!0);if(x)throw x;const _=(y==null?void 0:y.map(k=>({id:k.groups.id,name:k.groups.name,members:k.groups.member_count||0,lastActive:k.groups.last_activity||new Date().toISOString(),image:k.groups.banner_url||`https://source.unsplash.com/800x600/?${k.groups.name.toLowerCase().replace(/ /g,"-")}`,description:k.groups.description||""})))||[];l(_)}else{const{data:y,error:x}=await z.from("user_connections").select("friend_id, profiles:friend_id(*)").eq("user_id",t.id).eq("status","accepted").eq("is_favorite",!0);if(x)throw x;const _=(y==null?void 0:y.map(k=>({id:k.friend_id,name:k.profiles.full_name,role:k.profiles.headline||e("favorites.noHeadline")||"No headline",avatar:k.profiles.avatar_url||""})))||[];u(_)}}catch(y){console.error("Error fetching favorites:",y)}finally{o(!1)}}},f=async(y,x)=>{if(t)try{if(x==="group"){const{error:_}=await z.from("group_members").update({is_favorite:!1}).eq("user_id",t.id).eq("group_id",y);if(_)throw _;l(k=>k.filter(j=>j.id!==y))}else{const{error:_}=await z.from("user_connections").update({is_favorite:!1}).eq("user_id",t.id).eq("friend_id",y);if(_)throw _;u(k=>k.filter(j=>j.id!==y))}}catch(_){console.error("Error updating favorite status:",_)}},h=e("favorites.noHeadline")||"No headline",g=[{id:"1",name:e("favorites.tabs.groups")||"Groups",members:1250,lastActive:new Date(Date.now()-2*60*60*1e3).toISOString(),image:"https://source.unsplash.com/800x600/?photography",description:e("favorites.tabs.groups")||"Groups"},{id:"2",name:e("favorites.tabs.groups")||"Groups",members:3420,lastActive:new Date(Date.now()-1*60*60*1e3).toISOString(),image:"https://source.unsplash.com/800x600/?technology",description:e("favorites.tabs.groups")||"Groups"},{id:"3",name:e("favorites.tabs.groups")||"Groups",members:2150,lastActive:new Date(Date.now()-30*60*1e3).toISOString(),image:"https://source.unsplash.com/800x600/?travel",description:e("favorites.tabs.groups")||"Groups"}],b=[{id:"1",name:e("favorites.tabs.connections")||"Connections",role:h,avatar:"https://i.pravatar.cc/150?img=4"},{id:"2",name:e("favorites.tabs.connections")||"Connections",role:h,avatar:"https://i.pravatar.cc/150?img=5"},{id:"3",name:e("favorites.tabs.connections")||"Connections",role:h,avatar:"https://i.pravatar.cc/150?img=6"}],v=i.length>0?i:g,w=c.length>0?c:b,p=y=>{const x=new Date(y),k=new Date().getTime()-x.getTime(),j=Math.floor(k/6e4);if(j<60)return`${j}m ago`;const E=Math.floor(j/60);return E<24?`${E}h ago`:`${Math.floor(E/24)}d ago`};return a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 md:py-12",children:[a.jsxs("h1",{className:"text-3xl font-bold mb-8 text-gray-900 dark:text-white flex items-center",children:[a.jsx(ET,{className:"mr-3 h-6 w-6"})," ",e("favorites.title")||"Favorites"]}),a.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 mb-8",children:[a.jsx("button",{onClick:()=>n("groups"),className:`py-4 px-6 font-medium text-base focus:outline-none ${r==="groups"?"text-indigo-600 border-b-2 border-indigo-600 font-semibold":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,children:a.jsxs("span",{className:"flex items-center",children:[a.jsx(rt,{className:"mr-2"}),e("favorites.tabs.groups")||"Groups"]})}),a.jsx("button",{onClick:()=>n("connections"),className:`py-4 px-6 font-medium text-base focus:outline-none ${r==="connections"?"text-indigo-600 border-b-2 border-indigo-600 font-semibold":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,children:a.jsxs("span",{className:"flex items-center",children:[a.jsx(Sr,{className:"mr-2"}),e("favorites.tabs.connections")||"Connections"]})})]}),s?a.jsx("div",{className:"flex justify-center items-center py-12",children:a.jsx(Ee,{size:"lg"})}):r==="groups"?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:v.map(y=>a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm hover:shadow-md transition-shadow duration-200 overflow-hidden group border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:y.image,alt:y.name,className:"w-full h-48 object-cover"}),a.jsx("button",{onClick:()=>f(y.id,"group"),className:"absolute top-3 right-3 bg-white dark:bg-gray-800 p-2 rounded-full shadow-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":e("favorites.buttons.remove")||"Remove from Favorites",children:a.jsx($i,{className:"h-5 w-5 text-red-500"})})]}),a.jsxs("div",{className:"p-5",children:[a.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-900 dark:text-white",children:y.name}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4",children:y.description}),a.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-500 dark:text-gray-400",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx(rt,{className:"mr-1"})," ",y.members," ",e("groups.members")||"members"]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx(nu,{className:"mr-1"})," ",p(y.lastActive)]})]})]}),a.jsx("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-4 border-t border-gray-200 dark:border-gray-700",children:a.jsx(we,{to:`/groups/${y.id}`,className:"w-full block text-center py-2 px-4 bg-gradient-to-r from-indigo-500 to-purple-500 hover:from-indigo-600 hover:to-purple-600 text-white font-medium rounded-full hover:shadow transition-all",children:e("favorites.buttons.viewGroup")||"View Group"})})]},y.id))}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:w.map(y=>a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm hover:shadow-md transition-shadow duration-200 overflow-hidden flex flex-col group border border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"p-6 flex flex-col items-center text-center flex-grow",children:[a.jsxs("div",{className:"relative mb-4",children:[a.jsx(sa,{src:y.avatar,name:y.name,size:"lg"}),a.jsx("button",{onClick:()=>f(y.id,"connection"),className:"absolute -top-2 -right-2 bg-white dark:bg-gray-800 p-2 rounded-full shadow-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":e("favorites.buttons.remove")||"Remove from Favorites",children:a.jsx($i,{className:"h-4 w-4 text-red-500"})})]}),a.jsx("h3",{className:"text-lg font-semibold mb-1 text-gray-900 dark:text-white",children:y.name}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4",children:y.role||h})]}),a.jsx("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-4 border-t border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx(we,{to:`/profile/${y.id}`,className:"flex-1 block text-center py-2 px-4 bg-gradient-to-r from-indigo-500 to-purple-500 hover:from-indigo-600 hover:to-purple-600 text-white font-medium rounded-full hover:shadow transition-all",children:e("buttons.viewProfile")||"View Profile"}),a.jsx(we,{to:`/messages/${y.id}`,className:"w-auto block text-center py-2 px-4 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-200 font-medium rounded-full hover:shadow transition-all","aria-label":e("buttons.message")||"Message",children:a.jsx(Jo,{className:"h-5 w-5"})})]})})]},y.id))}),!s&&r==="groups"&&v.length===0&&a.jsx("div",{className:"text-center py-16",children:a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:e("favorites.no_groups")||"You haven't favorited any groups yet."})}),!s&&r==="connections"&&w.length===0&&a.jsx("div",{className:"text-center py-16",children:a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:e("favorites.no_connections")||"You haven't favorited any connections yet."})})]})})},TS="https://ohserebigziyxlxpkaib.supabase.co",AS="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9oc2VyZWJpZ3ppeXhseHBrYWliIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTI3NDk0MTAsImV4cCI6MjAyODMyNTQxMH0.2mVOdgG-4QPVjVxqKshjFmcAyVELY6KYHtqlR-KLpvw";let As="https://ohserebigziyxlxpkaib.supabase.co",$o="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9oc2VyZWJpZ3ppeXhseHBrYWliIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTI3NDk0MTAsImV4cCI6MjAyODMyNTQxMH0.2mVOdgG-4QPVjVxqKshjFmcAyVELY6KYHtqlR-KLpvw";(!As||!$o)&&(console.error("Missing Supabase environment variables"),console.warn("Using fallback Supabase credentials for development"),As=TS,$o=AS);let x9=!1;try{new URL(As),x9=!0,console.log("Initializing Supabase client with valid URL")}catch{console.error(`Invalid Supabase URL: "${As}"`),console.error("Using fallback Supabase URL for development"),As=TS,$o=AS}console.log("Using Supabase URL:",As);const Te=td(As,$o,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit",debug:!0},global:{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*",apikey:$o},fetch:(...e)=>{try{console.log("[Supabase Fetch] Request type:",typeof e[0]);const t=e[0];if(t instanceof Request){const r=new Headers(t.headers);r.set("apikey",$o);const n=new Request(t.url,{method:t.method,headers:r,body:t.body,mode:t.mode,credentials:t.credentials,cache:t.cache,redirect:t.redirect,referrer:t.referrer,integrity:t.integrity});e[0]=n}}catch(t){console.error("[Supabase Fetch] Error processing request:",t)}return fetch(...e).then(t=>(t.ok||(console.warn(`[Supabase Fetch] Non-OK response: ${t.status} ${t.statusText}`),t.status===401&&(console.warn("[Supabase Fetch] Authentication error, attempting to refresh session"),typeof localStorage<"u"&&localStorage.removeItem("supabase.auth.token"))),t)).catch(t=>{throw console.error("[Supabase Fetch] Network error:",t),t})}}});typeof window<"u"&&(Te.auth.onAuthStateChange((e,t)=>{console.log("[SUPABASE AUTH EVENT]:",e),e==="SIGNED_IN"&&(t!=null&&t.user)?(console.log("[SUPABASE AUTH]: User signed in"),localStorage.setItem("has_session","true"),localStorage.setItem("auth_user_id",t.user.id)):e==="SIGNED_OUT"?(console.log("[SUPABASE AUTH]: User signed out"),localStorage.removeItem("has_session"),localStorage.removeItem("auth_user_id"),localStorage.removeItem("supabase.auth.token")):e==="TOKEN_REFRESHED"&&console.log("[SUPABASE AUTH]: Token refreshed successfully")}),setTimeout(()=>{console.log("[SUPABASE AUTH]: Verifying initial session..."),Te.auth.getSession().then(({data:e,error:t})=>{if(t)console.error("[SUPABASE AUTH]: Session error:",t),Te.auth.signOut().catch(r=>console.error("Error signing out:",r));else if(e!=null&&e.session){console.log("[SUPABASE AUTH]: Session exists:",e.session.user.id);const r=e.session.expires_at,n=Math.floor(Date.now()/1e3);r&&r-n<600&&(console.log("[SUPABASE AUTH]: Token expiring soon, refreshing..."),Te.auth.refreshSession().then(({data:o,error:i})=>{i?console.error("[SUPABASE AUTH]: Token refresh failed:",i):console.log("[SUPABASE AUTH]: Token refreshed successfully")}))}else console.log("[SUPABASE AUTH]: No active session found")})},1e3));const Df=e=>{const t=Array.isArray(e.profiles)&&e.profiles.length>0?{id:e.profiles[0].id,full_name:e.profiles[0].full_name,avatar_url:e.profiles[0].avatar_url}:e.profiles&&!Array.isArray(e.profiles)?e.profiles:void 0;return{id:e.id,content:e.content,created_at:e.created_at,sender_id:e.sender_id,receiver_id:e.receiver_id,is_read:e.is_read||!1,profiles:t}},b9=({conversationId:e,otherUserId:t,otherUserName:r,otherUserAvatar:n})=>{const{tWithTemplate:s}=at(),{user:o}=sd(),[i,l]=m.useState([]),[c,u]=m.useState(""),[d,f]=m.useState(!0),[h,g]=m.useState(!1),b=m.useRef(null);m.useEffect(()=>{if(!e||!o||!t)return;(async()=>{try{f(!0),console.log(`Fetching messages between user ${o.id} and ${t}`);const{data:_,error:k}=await Te.from("direct_messages").select(`
            id,
            content,
            created_at,
            sender_id,
            receiver_id,
            is_read,
            profiles:sender_id(id, full_name, avatar_url)
          `).or(`and(sender_id.eq.${o.id},receiver_id.eq.${t}),and(sender_id.eq.${t},receiver_id.eq.${o.id})`).order("created_at",{ascending:!0});if(k)throw k;if(_){const j=_.map(N=>Df(N));l(j);const E=_.filter(N=>N.receiver_id===o.id&&!N.is_read).map(N=>N.id);E.length>0&&await Te.from("direct_messages").update({is_read:!0}).in("id",E)}}catch(_){console.error("Error fetching messages:",_)}finally{f(!1)}})();const x=Te.channel(`direct_messages:${o.id}_${t}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"direct_messages",filter:`or(and(sender_id=eq.${o.id},receiver_id=eq.${t}),and(sender_id=eq.${t},receiver_id=eq.${o.id}))`},async _=>{if(_.new){console.log("New message received:",_.new);const{data:k}=await Te.from("profiles").select("id, full_name, avatar_url").eq("id",_.new.sender_id).single(),j=Df({..._.new,profiles:k});l(E=>[...E,j]),_.new.sender_id===t&&await Te.from("direct_messages").update({is_read:!0}).eq("id",_.new.id),v()}}).subscribe();return()=>{Te.removeChannel(x)}},[e,o,t]),m.useEffect(()=>{v()},[i]);const v=()=>{var y;(y=b.current)==null||y.scrollIntoView({behavior:"smooth"})},w=async y=>{var _,k;if(y.preventDefault(),!c.trim()||!o||h)return;const x=c.trim();try{g(!0),u("");const j={id:`temp-${Date.now()}`,content:x,created_at:new Date().toISOString(),sender_id:o.id,receiver_id:t,is_read:!1,profiles:{id:o.id,full_name:((_=o.user_metadata)==null?void 0:_.full_name)||"You",avatar_url:(k=o.user_metadata)==null?void 0:k.avatar_url}};l(I=>[...I,j]);const{data:E,error:N}=await Te.from("direct_messages").insert({content:x,sender_id:o.id,receiver_id:t,is_read:!1}).select();if(N)throw N;if(E&&E.length>0){const I=Df(E[0]);l(C=>C.map(L=>L.id===j.id?I:L))}}catch(j){console.error("Error sending message:",j),q.error(s("failed_to_send_message")),u(x)}finally{g(!1),v()}},p=y=>{try{return new Date(y).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch{return""}};return d&&i.length===0?a.jsx("div",{className:"flex justify-center items-center h-full",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsx("div",{className:"flex-1 overflow-y-auto px-4",children:i.length===0?a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center",children:s("no_messages_start_conversation")})}):a.jsxs("div",{className:"space-y-4 py-4",children:[i.map(y=>{var _,k;const x=y.sender_id===(o==null?void 0:o.id);return y.profiles||(x&&(o==null||o.id),x&&((_=o==null?void 0:o.user_metadata)==null||_.full_name),x&&((k=o==null?void 0:o.user_metadata)==null||k.avatar_url)),a.jsx("div",{className:`flex ${x?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`max-w-xs md:max-w-md lg:max-w-lg rounded-lg px-4 py-2 ${x?"bg-blue-500 text-white rounded-br-none":"bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white rounded-bl-none"}`,children:[a.jsx("div",{className:"text-sm",children:y.content}),a.jsxs("div",{className:`text-xs mt-1 flex justify-between items-center ${x?"text-blue-100":"text-gray-500 dark:text-gray-400"}`,children:[a.jsx("span",{children:p(y.created_at)}),x&&a.jsx("span",{className:"ml-2",children:y.is_read?s("read"):""})]})]})},y.id)}),a.jsx("div",{ref:b})]})}),a.jsx("form",{onSubmit:w,className:"border-t dark:border-gray-700 p-4",children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("input",{type:"text",value:c,onChange:y=>u(y.target.value),placeholder:s("type_a_message"),className:"flex-1 px-4 py-2 bg-gray-100 dark:bg-gray-700 border-none rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.jsx("button",{type:"submit",disabled:!c.trim()||h,className:"p-2 bg-blue-500 text-white rounded-full disabled:opacity-50 transition-opacity",children:a.jsx(Yg,{size:20})})]})})]})};function Gp(e){const t=e+"CollectionProvider",[r,n]=Ks(t),[s,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=v=>{const{scope:w,children:p}=v,y=mt.useRef(null),x=mt.useRef(new Map).current;return a.jsx(s,{scope:w,itemMap:x,collectionRef:y,children:p})};i.displayName=t;const l=e+"CollectionSlot",c=Is(l),u=mt.forwardRef((v,w)=>{const{scope:p,children:y}=v,x=o(l,p),_=De(w,x.collectionRef);return a.jsx(c,{ref:_,children:y})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=Is(d),g=mt.forwardRef((v,w)=>{const{scope:p,children:y,...x}=v,_=mt.useRef(null),k=De(w,_),j=o(d,p);return mt.useEffect(()=>(j.itemMap.set(_,{ref:_,...x}),()=>void j.itemMap.delete(_))),a.jsx(h,{[f]:"",ref:k,children:y})});g.displayName=d;function b(v){const w=o(e+"CollectionConsumer",v);return mt.useCallback(()=>{const y=w.collectionRef.current;if(!y)return[];const x=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((j,E)=>x.indexOf(j.ref.current)-x.indexOf(E.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:i,Slot:u,ItemSlot:g},b,n]}var w9=m.createContext(void 0);function qp(e){const t=m.useContext(w9);return e||t||"ltr"}const _9=["top","right","bottom","left"],Xn=Math.min,Ht=Math.max,yu=Math.round,rc=Math.floor,Wr=e=>({x:e,y:e}),k9={left:"right",right:"left",bottom:"top",top:"bottom"},S9={start:"end",end:"start"};function Cm(e,t,r){return Ht(e,Xn(t,r))}function mn(e,t){return typeof e=="function"?e(t):e}function gn(e){return e.split("-")[0]}function xa(e){return e.split("-")[1]}function Wp(e){return e==="x"?"y":"x"}function Hp(e){return e==="y"?"height":"width"}function Qn(e){return["top","bottom"].includes(gn(e))?"y":"x"}function Kp(e){return Wp(Qn(e))}function j9(e,t,r){r===void 0&&(r=!1);const n=xa(e),s=Kp(e),o=Hp(s);let i=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=vu(i)),[i,vu(i)]}function N9(e){const t=vu(e);return[Em(e),t,Em(t)]}function Em(e){return e.replace(/start|end/g,t=>S9[t])}function C9(e,t,r){const n=["left","right"],s=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?o:i;default:return[]}}function E9(e,t,r,n){const s=xa(e);let o=C9(gn(e),r==="start",n);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(Em)))),o}function vu(e){return e.replace(/left|right|bottom|top/g,t=>k9[t])}function P9(e){return{top:0,right:0,bottom:0,left:0,...e}}function RS(e){return typeof e!="number"?P9(e):{top:e,right:e,bottom:e,left:e}}function xu(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function Kx(e,t,r){let{reference:n,floating:s}=e;const o=Qn(t),i=Kp(t),l=Hp(i),c=gn(t),u=o==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,h=n[l]/2-s[l]/2;let g;switch(c){case"top":g={x:d,y:n.y-s.height};break;case"bottom":g={x:d,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:f};break;case"left":g={x:n.x-s.width,y:f};break;default:g={x:n.x,y:n.y}}switch(xa(t)){case"start":g[i]-=h*(r&&u?-1:1);break;case"end":g[i]+=h*(r&&u?-1:1);break}return g}const T9=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:i}=r,l=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=Kx(u,n,c),h=n,g={},b=0;for(let v=0;v<l.length;v++){const{name:w,fn:p}=l[v],{x:y,y:x,data:_,reset:k}=await p({x:d,y:f,initialPlacement:n,placement:h,strategy:s,middlewareData:g,rects:u,platform:i,elements:{reference:e,floating:t}});d=y??d,f=x??f,g={...g,[w]:{...g[w],..._}},k&&b<=50&&(b++,typeof k=="object"&&(k.placement&&(h=k.placement),k.rects&&(u=k.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):k.rects),{x:d,y:f}=Kx(u,h,c)),v=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:g}};async function Ji(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:o,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:g=0}=mn(t,e),b=RS(g),w=l[h?f==="floating"?"reference":"floating":f],p=xu(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(w)))==null||r?w:w.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),y=f==="floating"?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,x=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),_=await(o.isElement==null?void 0:o.isElement(x))?await(o.getScale==null?void 0:o.getScale(x))||{x:1,y:1}:{x:1,y:1},k=xu(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:x,strategy:c}):y);return{top:(p.top-k.top+b.top)/_.y,bottom:(k.bottom-p.bottom+b.bottom)/_.y,left:(p.left-k.left+b.left)/_.x,right:(k.right-p.right+b.right)/_.x}}const A9=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:o,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=mn(e,t)||{};if(u==null)return{};const f=RS(d),h={x:r,y:n},g=Kp(s),b=Hp(g),v=await i.getDimensions(u),w=g==="y",p=w?"top":"left",y=w?"bottom":"right",x=w?"clientHeight":"clientWidth",_=o.reference[b]+o.reference[g]-h[g]-o.floating[b],k=h[g]-o.reference[g],j=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let E=j?j[x]:0;(!E||!await(i.isElement==null?void 0:i.isElement(j)))&&(E=l.floating[x]||o.floating[b]);const N=_/2-k/2,I=E/2-v[b]/2-1,C=Xn(f[p],I),L=Xn(f[y],I),P=C,D=E-v[b]-L,A=E/2-v[b]/2+N,F=Cm(P,A,D),O=!c.arrow&&xa(s)!=null&&A!==F&&o.reference[b]/2-(A<P?C:L)-v[b]/2<0,U=O?A<P?A-P:A-D:0;return{[g]:h[g]+U,data:{[g]:F,centerOffset:A-F-U,...O&&{alignmentOffset:U}},reset:O}}}),R9=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:o,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:v=!0,...w}=mn(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const p=gn(s),y=Qn(l),x=gn(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),k=h||(x||!v?[vu(l)]:N9(l)),j=b!=="none";!h&&j&&k.push(...E9(l,v,b,_));const E=[l,...k],N=await Ji(t,w),I=[];let C=((n=o.flip)==null?void 0:n.overflows)||[];if(d&&I.push(N[p]),f){const A=j9(s,i,_);I.push(N[A[0]],N[A[1]])}if(C=[...C,{placement:s,overflows:I}],!I.every(A=>A<=0)){var L,P;const A=(((L=o.flip)==null?void 0:L.index)||0)+1,F=E[A];if(F)return{data:{index:A,overflows:C},reset:{placement:F}};let O=(P=C.filter(U=>U.overflows[0]<=0).sort((U,S)=>U.overflows[1]-S.overflows[1])[0])==null?void 0:P.placement;if(!O)switch(g){case"bestFit":{var D;const U=(D=C.filter(S=>{if(j){const M=Qn(S.placement);return M===y||M==="y"}return!0}).map(S=>[S.placement,S.overflows.filter(M=>M>0).reduce((M,T)=>M+T,0)]).sort((S,M)=>S[1]-M[1])[0])==null?void 0:D[0];U&&(O=U);break}case"initialPlacement":O=l;break}if(s!==O)return{reset:{placement:O}}}return{}}}};function Yx(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Jx(e){return _9.some(t=>e[t]>=0)}const M9=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=mn(e,t);switch(n){case"referenceHidden":{const o=await Ji(t,{...s,elementContext:"reference"}),i=Yx(o,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Jx(i)}}}case"escaped":{const o=await Ji(t,{...s,altBoundary:!0}),i=Yx(o,r.floating);return{data:{escapedOffsets:i,escaped:Jx(i)}}}default:return{}}}}};async function L9(e,t){const{placement:r,platform:n,elements:s}=e,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=gn(r),l=xa(r),c=Qn(r)==="y",u=["left","top"].includes(i)?-1:1,d=o&&c?-1:1,f=mn(t,e);let{mainAxis:h,crossAxis:g,alignmentAxis:b}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof b=="number"&&(g=l==="end"?b*-1:b),c?{x:g*d,y:h*u}:{x:h*u,y:g*d}}const D9=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:o,placement:i,middlewareData:l}=t,c=await L9(t,e);return i===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:i}}}}},O9=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:w=>{let{x:p,y}=w;return{x:p,y}}},...c}=mn(e,t),u={x:r,y:n},d=await Ji(t,c),f=Qn(gn(s)),h=Wp(f);let g=u[h],b=u[f];if(o){const w=h==="y"?"top":"left",p=h==="y"?"bottom":"right",y=g+d[w],x=g-d[p];g=Cm(y,g,x)}if(i){const w=f==="y"?"top":"left",p=f==="y"?"bottom":"right",y=b+d[w],x=b-d[p];b=Cm(y,b,x)}const v=l.fn({...t,[h]:g,[f]:b});return{...v,data:{x:v.x-r,y:v.y-n,enabled:{[h]:o,[f]:i}}}}}},I9=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:o,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=mn(e,t),d={x:r,y:n},f=Qn(s),h=Wp(f);let g=d[h],b=d[f];const v=mn(l,t),w=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const x=h==="y"?"height":"width",_=o.reference[h]-o.floating[x]+w.mainAxis,k=o.reference[h]+o.reference[x]-w.mainAxis;g<_?g=_:g>k&&(g=k)}if(u){var p,y;const x=h==="y"?"width":"height",_=["top","left"].includes(gn(s)),k=o.reference[f]-o.floating[x]+(_&&((p=i.offset)==null?void 0:p[f])||0)+(_?0:w.crossAxis),j=o.reference[f]+o.reference[x]+(_?0:((y=i.offset)==null?void 0:y[f])||0)-(_?w.crossAxis:0);b<k?b=k:b>j&&(b=j)}return{[h]:g,[f]:b}}}},F9=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:o,platform:i,elements:l}=t,{apply:c=()=>{},...u}=mn(e,t),d=await Ji(t,u),f=gn(s),h=xa(s),g=Qn(s)==="y",{width:b,height:v}=o.floating;let w,p;f==="top"||f==="bottom"?(w=f,p=h===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(p=f,w=h==="end"?"top":"bottom");const y=v-d.top-d.bottom,x=b-d.left-d.right,_=Xn(v-d[w],y),k=Xn(b-d[p],x),j=!t.middlewareData.shift;let E=_,N=k;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(N=x),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(E=y),j&&!h){const C=Ht(d.left,0),L=Ht(d.right,0),P=Ht(d.top,0),D=Ht(d.bottom,0);g?N=b-2*(C!==0||L!==0?C+L:Ht(d.left,d.right)):E=v-2*(P!==0||D!==0?P+D:Ht(d.top,d.bottom))}await c({...t,availableWidth:N,availableHeight:E});const I=await i.getDimensions(l.floating);return b!==I.width||v!==I.height?{reset:{rects:!0}}:{}}}};function gd(){return typeof window<"u"}function ba(e){return MS(e)?(e.nodeName||"").toLowerCase():"#document"}function Jt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Jr(e){var t;return(t=(MS(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function MS(e){return gd()?e instanceof Node||e instanceof Jt(e).Node:!1}function Pr(e){return gd()?e instanceof Element||e instanceof Jt(e).Element:!1}function Hr(e){return gd()?e instanceof HTMLElement||e instanceof Jt(e).HTMLElement:!1}function Xx(e){return!gd()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Jt(e).ShadowRoot}function gl(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Tr(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function $9(e){return["table","td","th"].includes(ba(e))}function pd(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Yp(e){const t=Jp(),r=Pr(e)?Tr(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function U9(e){let t=Zn(e);for(;Hr(t)&&!oa(t);){if(Yp(t))return t;if(pd(t))return null;t=Zn(t)}return null}function Jp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function oa(e){return["html","body","#document"].includes(ba(e))}function Tr(e){return Jt(e).getComputedStyle(e)}function yd(e){return Pr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Zn(e){if(ba(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Xx(e)&&e.host||Jr(e);return Xx(t)?t.host:t}function LS(e){const t=Zn(e);return oa(t)?e.ownerDocument?e.ownerDocument.body:e.body:Hr(t)&&gl(t)?t:LS(t)}function Xi(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=LS(e),o=s===((n=e.ownerDocument)==null?void 0:n.body),i=Jt(s);if(o){const l=Pm(i);return t.concat(i,i.visualViewport||[],gl(s)?s:[],l&&r?Xi(l):[])}return t.concat(s,Xi(s,[],r))}function Pm(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function DS(e){const t=Tr(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Hr(e),o=s?e.offsetWidth:r,i=s?e.offsetHeight:n,l=yu(r)!==o||yu(n)!==i;return l&&(r=o,n=i),{width:r,height:n,$:l}}function Xp(e){return Pr(e)?e:e.contextElement}function Uo(e){const t=Xp(e);if(!Hr(t))return Wr(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:o}=DS(t);let i=(o?yu(r.width):r.width)/n,l=(o?yu(r.height):r.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const z9=Wr(0);function OS(e){const t=Jt(e);return!Jp()||!t.visualViewport?z9:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function B9(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Jt(e)?!1:t}function Us(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),o=Xp(e);let i=Wr(1);t&&(n?Pr(n)&&(i=Uo(n)):i=Uo(e));const l=B9(o,r,n)?OS(o):Wr(0);let c=(s.left+l.x)/i.x,u=(s.top+l.y)/i.y,d=s.width/i.x,f=s.height/i.y;if(o){const h=Jt(o),g=n&&Pr(n)?Jt(n):n;let b=h,v=Pm(b);for(;v&&n&&g!==b;){const w=Uo(v),p=v.getBoundingClientRect(),y=Tr(v),x=p.left+(v.clientLeft+parseFloat(y.paddingLeft))*w.x,_=p.top+(v.clientTop+parseFloat(y.paddingTop))*w.y;c*=w.x,u*=w.y,d*=w.x,f*=w.y,c+=x,u+=_,b=Jt(v),v=Pm(b)}}return xu({width:d,height:f,x:c,y:u})}function Qp(e,t){const r=yd(e).scrollLeft;return t?t.left+r:Us(Jr(e)).left+r}function IS(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:Qp(e,n)),o=n.top+t.scrollTop;return{x:s,y:o}}function V9(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const o=s==="fixed",i=Jr(n),l=t?pd(t.floating):!1;if(n===i||l&&o)return r;let c={scrollLeft:0,scrollTop:0},u=Wr(1);const d=Wr(0),f=Hr(n);if((f||!f&&!o)&&((ba(n)!=="body"||gl(i))&&(c=yd(n)),Hr(n))){const g=Us(n);u=Uo(n),d.x=g.x+n.clientLeft,d.y=g.y+n.clientTop}const h=i&&!f&&!o?IS(i,c,!0):Wr(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function G9(e){return Array.from(e.getClientRects())}function q9(e){const t=Jr(e),r=yd(e),n=e.ownerDocument.body,s=Ht(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=Ht(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+Qp(e);const l=-r.scrollTop;return Tr(n).direction==="rtl"&&(i+=Ht(t.clientWidth,n.clientWidth)-s),{width:s,height:o,x:i,y:l}}function W9(e,t){const r=Jt(e),n=Jr(e),s=r.visualViewport;let o=n.clientWidth,i=n.clientHeight,l=0,c=0;if(s){o=s.width,i=s.height;const u=Jp();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:o,height:i,x:l,y:c}}function H9(e,t){const r=Us(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,o=Hr(e)?Uo(e):Wr(1),i=e.clientWidth*o.x,l=e.clientHeight*o.y,c=s*o.x,u=n*o.y;return{width:i,height:l,x:c,y:u}}function Qx(e,t,r){let n;if(t==="viewport")n=W9(e,r);else if(t==="document")n=q9(Jr(e));else if(Pr(t))n=H9(t,r);else{const s=OS(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return xu(n)}function FS(e,t){const r=Zn(e);return r===t||!Pr(r)||oa(r)?!1:Tr(r).position==="fixed"||FS(r,t)}function K9(e,t){const r=t.get(e);if(r)return r;let n=Xi(e,[],!1).filter(l=>Pr(l)&&ba(l)!=="body"),s=null;const o=Tr(e).position==="fixed";let i=o?Zn(e):e;for(;Pr(i)&&!oa(i);){const l=Tr(i),c=Yp(i);!c&&l.position==="fixed"&&(s=null),(o?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||gl(i)&&!c&&FS(e,i))?n=n.filter(d=>d!==i):s=l,i=Zn(i)}return t.set(e,n),n}function Y9(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const i=[...r==="clippingAncestors"?pd(t)?[]:K9(t,this._c):[].concat(r),n],l=i[0],c=i.reduce((u,d)=>{const f=Qx(t,d,s);return u.top=Ht(f.top,u.top),u.right=Xn(f.right,u.right),u.bottom=Xn(f.bottom,u.bottom),u.left=Ht(f.left,u.left),u},Qx(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function J9(e){const{width:t,height:r}=DS(e);return{width:t,height:r}}function X9(e,t,r){const n=Hr(t),s=Jr(t),o=r==="fixed",i=Us(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=Wr(0);if(n||!n&&!o)if((ba(t)!=="body"||gl(s))&&(l=yd(t)),n){const h=Us(t,!0,o,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else s&&(c.x=Qp(s));const u=s&&!n&&!o?IS(s,l):Wr(0),d=i.left+l.scrollLeft-c.x-u.x,f=i.top+l.scrollTop-c.y-u.y;return{x:d,y:f,width:i.width,height:i.height}}function Of(e){return Tr(e).position==="static"}function Zx(e,t){if(!Hr(e)||Tr(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Jr(e)===r&&(r=r.ownerDocument.body),r}function $S(e,t){const r=Jt(e);if(pd(e))return r;if(!Hr(e)){let s=Zn(e);for(;s&&!oa(s);){if(Pr(s)&&!Of(s))return s;s=Zn(s)}return r}let n=Zx(e,t);for(;n&&$9(n)&&Of(n);)n=Zx(n,t);return n&&oa(n)&&Of(n)&&!Yp(n)?r:n||U9(e)||r}const Q9=async function(e){const t=this.getOffsetParent||$S,r=this.getDimensions,n=await r(e.floating);return{reference:X9(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Z9(e){return Tr(e).direction==="rtl"}const eF={convertOffsetParentRelativeRectToViewportRelativeRect:V9,getDocumentElement:Jr,getClippingRect:Y9,getOffsetParent:$S,getElementRects:Q9,getClientRects:G9,getDimensions:J9,getScale:Uo,isElement:Pr,isRTL:Z9};function US(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function tF(e,t){let r=null,n;const s=Jr(e);function o(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:g}=u;if(l||t(),!h||!g)return;const b=rc(f),v=rc(s.clientWidth-(d+h)),w=rc(s.clientHeight-(f+g)),p=rc(d),x={rootMargin:-b+"px "+-v+"px "+-w+"px "+-p+"px",threshold:Ht(0,Xn(1,c))||1};let _=!0;function k(j){const E=j[0].intersectionRatio;if(E!==c){if(!_)return i();E?i(!1,E):n=setTimeout(()=>{i(!1,1e-7)},1e3)}E===1&&!US(u,e.getBoundingClientRect())&&i(),_=!1}try{r=new IntersectionObserver(k,{...x,root:s.ownerDocument})}catch{r=new IntersectionObserver(k,x)}r.observe(e)}return i(!0),o}function rF(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Xp(e),d=s||o?[...u?Xi(u):[],...Xi(t)]:[];d.forEach(p=>{s&&p.addEventListener("scroll",r,{passive:!0}),o&&p.addEventListener("resize",r)});const f=u&&l?tF(u,r):null;let h=-1,g=null;i&&(g=new ResizeObserver(p=>{let[y]=p;y&&y.target===u&&g&&(g.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var x;(x=g)==null||x.observe(t)})),r()}),u&&!c&&g.observe(u),g.observe(t));let b,v=c?Us(e):null;c&&w();function w(){const p=Us(e);v&&!US(v,p)&&r(),v=p,b=requestAnimationFrame(w)}return r(),()=>{var p;d.forEach(y=>{s&&y.removeEventListener("scroll",r),o&&y.removeEventListener("resize",r)}),f==null||f(),(p=g)==null||p.disconnect(),g=null,c&&cancelAnimationFrame(b)}}const nF=D9,sF=O9,oF=R9,aF=F9,iF=M9,eb=A9,lF=I9,cF=(e,t,r)=>{const n=new Map,s={platform:eF,...r},o={...s.platform,_c:n};return T9(e,t,{...s,platform:o})};var Cc=typeof document<"u"?m.useLayoutEffect:m.useEffect;function bu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!bu(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const o=s[n];if(!(o==="_owner"&&e.$$typeof)&&!bu(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function zS(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function tb(e,t){const r=zS(e);return Math.round(t*r)/r}function If(e){const t=m.useRef(e);return Cc(()=>{t.current=e}),t}function uF(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=m.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,g]=m.useState(n);bu(h,n)||g(n);const[b,v]=m.useState(null),[w,p]=m.useState(null),y=m.useCallback(S=>{S!==j.current&&(j.current=S,v(S))},[]),x=m.useCallback(S=>{S!==E.current&&(E.current=S,p(S))},[]),_=o||b,k=i||w,j=m.useRef(null),E=m.useRef(null),N=m.useRef(d),I=c!=null,C=If(c),L=If(s),P=If(u),D=m.useCallback(()=>{if(!j.current||!E.current)return;const S={placement:t,strategy:r,middleware:h};L.current&&(S.platform=L.current),cF(j.current,E.current,S).then(M=>{const T={...M,isPositioned:P.current!==!1};A.current&&!bu(N.current,T)&&(N.current=T,ca.flushSync(()=>{f(T)}))})},[h,t,r,L,P]);Cc(()=>{u===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,f(S=>({...S,isPositioned:!1})))},[u]);const A=m.useRef(!1);Cc(()=>(A.current=!0,()=>{A.current=!1}),[]),Cc(()=>{if(_&&(j.current=_),k&&(E.current=k),_&&k){if(C.current)return C.current(_,k,D);D()}},[_,k,D,C,I]);const F=m.useMemo(()=>({reference:j,floating:E,setReference:y,setFloating:x}),[y,x]),O=m.useMemo(()=>({reference:_,floating:k}),[_,k]),U=m.useMemo(()=>{const S={position:r,left:0,top:0};if(!O.floating)return S;const M=tb(O.floating,d.x),T=tb(O.floating,d.y);return l?{...S,transform:"translate("+M+"px, "+T+"px)",...zS(O.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:M,top:T}},[r,l,O.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:D,refs:F,elements:O,floatingStyles:U}),[d,D,F,O,U])}const dF=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?eb({element:n.current,padding:s}).fn(r):{}:n?eb({element:n,padding:s}).fn(r):{}}}},fF=(e,t)=>({...nF(e),options:[e,t]}),hF=(e,t)=>({...sF(e),options:[e,t]}),mF=(e,t)=>({...lF(e),options:[e,t]}),gF=(e,t)=>({...oF(e),options:[e,t]}),pF=(e,t)=>({...aF(e),options:[e,t]}),yF=(e,t)=>({...iF(e),options:[e,t]}),vF=(e,t)=>({...dF(e),options:[e,t]});var xF="Arrow",BS=m.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...o}=e;return a.jsx(Se.svg,{...o,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});BS.displayName=xF;var bF=BS;function wF(e){const[t,r]=m.useState(void 0);return Et(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,l;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;r({width:i,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Zp="Popper",[VS,vd]=Ks(Zp),[_F,GS]=VS(Zp),qS=e=>{const{__scopePopper:t,children:r}=e,[n,s]=m.useState(null);return a.jsx(_F,{scope:t,anchor:n,onAnchorChange:s,children:r})};qS.displayName=Zp;var WS="PopperAnchor",HS=m.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,o=GS(WS,r),i=m.useRef(null),l=De(t,i);return m.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:a.jsx(Se.div,{...s,ref:l})});HS.displayName=WS;var e0="PopperContent",[kF,SF]=VS(e0),KS=m.forwardRef((e,t)=>{var R,G,Q,W,K,H;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:g="optimized",onPlaced:b,...v}=e,w=GS(e0,r),[p,y]=m.useState(null),x=De(t,$=>y($)),[_,k]=m.useState(null),j=wF(_),E=(j==null?void 0:j.width)??0,N=(j==null?void 0:j.height)??0,I=n+(o!=="center"?"-"+o:""),C=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},L=Array.isArray(u)?u:[u],P=L.length>0,D={padding:C,boundary:L.filter(NF),altBoundary:P},{refs:A,floatingStyles:F,placement:O,isPositioned:U,middlewareData:S}=uF({strategy:"fixed",placement:I,whileElementsMounted:(...$)=>rF(...$,{animationFrame:g==="always"}),elements:{reference:w.anchor},middleware:[fF({mainAxis:s+N,alignmentAxis:i}),c&&hF({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?mF():void 0,...D}),c&&gF({...D}),pF({...D,apply:({elements:$,rects:X,availableWidth:ne,availableHeight:ie})=>{const{width:J,height:he}=X.reference,pe=$.floating.style;pe.setProperty("--radix-popper-available-width",`${ne}px`),pe.setProperty("--radix-popper-available-height",`${ie}px`),pe.setProperty("--radix-popper-anchor-width",`${J}px`),pe.setProperty("--radix-popper-anchor-height",`${he}px`)}}),_&&vF({element:_,padding:l}),CF({arrowWidth:E,arrowHeight:N}),h&&yF({strategy:"referenceHidden",...D})]}),[M,T]=XS(O),B=Er(b);Et(()=>{U&&(B==null||B())},[U,B]);const V=(R=S.arrow)==null?void 0:R.x,re=(G=S.arrow)==null?void 0:G.y,se=((Q=S.arrow)==null?void 0:Q.centerOffset)!==0,[de,oe]=m.useState();return Et(()=>{p&&oe(window.getComputedStyle(p).zIndex)},[p]),a.jsx("div",{ref:A.setFloating,"data-radix-popper-content-wrapper":"",style:{...F,transform:U?F.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:de,"--radix-popper-transform-origin":[(W=S.transformOrigin)==null?void 0:W.x,(K=S.transformOrigin)==null?void 0:K.y].join(" "),...((H=S.hide)==null?void 0:H.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(kF,{scope:r,placedSide:M,onArrowChange:k,arrowX:V,arrowY:re,shouldHideArrow:se,children:a.jsx(Se.div,{"data-side":M,"data-align":T,...v,ref:x,style:{...v.style,animation:U?void 0:"none"}})})})});KS.displayName=e0;var YS="PopperArrow",jF={top:"bottom",right:"left",bottom:"top",left:"right"},JS=m.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,o=SF(YS,n),i=jF[o.placedSide];return a.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:a.jsx(bF,{...s,ref:r,style:{...s.style,display:"block"}})})});JS.displayName=YS;function NF(e){return e!==null}var CF=e=>({name:"transformOrigin",options:e,fn(t){var w,p,y;const{placement:r,rects:n,middlewareData:s}=t,i=((w=s.arrow)==null?void 0:w.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=XS(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((p=s.arrow)==null?void 0:p.x)??0)+l/2,g=(((y=s.arrow)==null?void 0:y.y)??0)+c/2;let b="",v="";return u==="bottom"?(b=i?f:`${h}px`,v=`${-c}px`):u==="top"?(b=i?f:`${h}px`,v=`${n.floating.height+c}px`):u==="right"?(b=`${-c}px`,v=i?f:`${g}px`):u==="left"&&(b=`${n.floating.width+c}px`,v=i?f:`${g}px`),{data:{x:b,y:v}}}});function XS(e){const[t,r="center"]=e.split("-");return[t,r]}var QS=qS,ZS=HS,ej=KS,tj=JS,Ff="rovingFocusGroup.onEntryFocus",EF={bubbles:!1,cancelable:!0},pl="RovingFocusGroup",[Tm,rj,PF]=Gp(pl),[TF,nj]=Ks(pl,[PF]),[AF,RF]=TF(pl),sj=m.forwardRef((e,t)=>a.jsx(Tm.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(Tm.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(MF,{...e,ref:t})})}));sj.displayName=pl;var MF=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=m.useRef(null),g=De(t,h),b=qp(o),[v,w]=du({prop:i,defaultProp:l??null,onChange:c,caller:pl}),[p,y]=m.useState(!1),x=Er(u),_=rj(r),k=m.useRef(!1),[j,E]=m.useState(0);return m.useEffect(()=>{const N=h.current;if(N)return N.addEventListener(Ff,x),()=>N.removeEventListener(Ff,x)},[x]),a.jsx(AF,{scope:r,orientation:n,dir:b,loop:s,currentTabStopId:v,onItemFocus:m.useCallback(N=>w(N),[w]),onItemShiftTab:m.useCallback(()=>y(!0),[]),onFocusableItemAdd:m.useCallback(()=>E(N=>N+1),[]),onFocusableItemRemove:m.useCallback(()=>E(N=>N-1),[]),children:a.jsx(Se.div,{tabIndex:p||j===0?-1:0,"data-orientation":n,...f,ref:g,style:{outline:"none",...e.style},onMouseDown:ue(e.onMouseDown,()=>{k.current=!0}),onFocus:ue(e.onFocus,N=>{const I=!k.current;if(N.target===N.currentTarget&&I&&!p){const C=new CustomEvent(Ff,EF);if(N.currentTarget.dispatchEvent(C),!C.defaultPrevented){const L=_().filter(O=>O.focusable),P=L.find(O=>O.active),D=L.find(O=>O.id===v),F=[P,D,...L].filter(Boolean).map(O=>O.ref.current);ij(F,d)}}k.current=!1}),onBlur:ue(e.onBlur,()=>y(!1))})})}),oj="RovingFocusGroupItem",aj=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:o,children:i,...l}=e,c=Ts(),u=o||c,d=RF(oj,r),f=d.currentTabStopId===u,h=rj(r),{onFocusableItemAdd:g,onFocusableItemRemove:b,currentTabStopId:v}=d;return m.useEffect(()=>{if(n)return g(),()=>b()},[n,g,b]),a.jsx(Tm.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:a.jsx(Se.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:ue(e.onMouseDown,w=>{n?d.onItemFocus(u):w.preventDefault()}),onFocus:ue(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:ue(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){d.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const p=OF(w,d.orientation,d.dir);if(p!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let x=h().filter(_=>_.focusable).map(_=>_.ref.current);if(p==="last")x.reverse();else if(p==="prev"||p==="next"){p==="prev"&&x.reverse();const _=x.indexOf(w.currentTarget);x=d.loop?IF(x,_+1):x.slice(_+1)}setTimeout(()=>ij(x))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:v!=null}):i})})});aj.displayName=oj;var LF={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function DF(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function OF(e,t,r){const n=DF(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return LF[n]}function ij(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function IF(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var FF=sj,$F=aj,Am=["Enter"," "],UF=["ArrowDown","PageUp","Home"],lj=["ArrowUp","PageDown","End"],zF=[...UF,...lj],BF={ltr:[...Am,"ArrowRight"],rtl:[...Am,"ArrowLeft"]},VF={ltr:["ArrowLeft"],rtl:["ArrowRight"]},yl="Menu",[Qi,GF,qF]=Gp(yl),[Ys,cj]=Ks(yl,[qF,vd,nj]),xd=vd(),uj=nj(),[WF,Js]=Ys(yl),[HF,vl]=Ys(yl),dj=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:o,modal:i=!0}=e,l=xd(t),[c,u]=m.useState(null),d=m.useRef(!1),f=Er(o),h=qp(s);return m.useEffect(()=>{const g=()=>{d.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>d.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),a.jsx(QS,{...l,children:a.jsx(WF,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:a.jsx(HF,{scope:t,onClose:m.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:i,children:n})})})};dj.displayName=yl;var KF="MenuAnchor",t0=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=xd(r);return a.jsx(ZS,{...s,...n,ref:t})});t0.displayName=KF;var r0="MenuPortal",[YF,fj]=Ys(r0,{forceMount:void 0}),hj=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,o=Js(r0,t);return a.jsx(YF,{scope:t,forceMount:r,children:a.jsx(is,{present:r||o.open,children:a.jsx(dd,{asChild:!0,container:s,children:n})})})};hj.displayName=r0;var fr="MenuContent",[JF,n0]=Ys(fr),mj=m.forwardRef((e,t)=>{const r=fj(fr,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,o=Js(fr,e.__scopeMenu),i=vl(fr,e.__scopeMenu);return a.jsx(Qi.Provider,{scope:e.__scopeMenu,children:a.jsx(is,{present:n||o.open,children:a.jsx(Qi.Slot,{scope:e.__scopeMenu,children:i.modal?a.jsx(XF,{...s,ref:t}):a.jsx(QF,{...s,ref:t})})})})}),XF=m.forwardRef((e,t)=>{const r=Js(fr,e.__scopeMenu),n=m.useRef(null),s=De(t,n);return m.useEffect(()=>{const o=n.current;if(o)return Dp(o)},[]),a.jsx(s0,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:ue(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),QF=m.forwardRef((e,t)=>{const r=Js(fr,e.__scopeMenu);return a.jsx(s0,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),ZF=Is("MenuContent.ScrollLock"),s0=m.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:g,disableOutsideScroll:b,...v}=e,w=Js(fr,r),p=vl(fr,r),y=xd(r),x=uj(r),_=GF(r),[k,j]=m.useState(null),E=m.useRef(null),N=De(t,E,w.onContentChange),I=m.useRef(0),C=m.useRef(""),L=m.useRef(0),P=m.useRef(null),D=m.useRef("right"),A=m.useRef(0),F=b?hd:m.Fragment,O=b?{as:ZF,allowPinchZoom:!0}:void 0,U=M=>{var R,G;const T=C.current+M,B=_().filter(Q=>!Q.disabled),V=document.activeElement,re=(R=B.find(Q=>Q.ref.current===V))==null?void 0:R.textValue,se=B.map(Q=>Q.textValue),de=d$(se,T,re),oe=(G=B.find(Q=>Q.textValue===de))==null?void 0:G.ref.current;(function Q(W){C.current=W,window.clearTimeout(I.current),W!==""&&(I.current=window.setTimeout(()=>Q(""),1e3))})(T),oe&&setTimeout(()=>oe.focus())};m.useEffect(()=>()=>window.clearTimeout(I.current),[]),Lp();const S=m.useCallback(M=>{var B,V;return D.current===((B=P.current)==null?void 0:B.side)&&h$(M,(V=P.current)==null?void 0:V.area)},[]);return a.jsx(JF,{scope:r,searchRef:C,onItemEnter:m.useCallback(M=>{S(M)&&M.preventDefault()},[S]),onItemLeave:m.useCallback(M=>{var T;S(M)||((T=E.current)==null||T.focus(),j(null))},[S]),onTriggerLeave:m.useCallback(M=>{S(M)&&M.preventDefault()},[S]),pointerGraceTimerRef:L,onPointerGraceIntentChange:m.useCallback(M=>{P.current=M},[]),children:a.jsx(F,{...O,children:a.jsx(ud,{asChild:!0,trapped:s,onMountAutoFocus:ue(o,M=>{var T;M.preventDefault(),(T=E.current)==null||T.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:a.jsx(cd,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:g,children:a.jsx(FF,{asChild:!0,...x,dir:p.dir,orientation:"vertical",loop:n,currentTabStopId:k,onCurrentTabStopIdChange:j,onEntryFocus:ue(c,M=>{p.isUsingKeyboardRef.current||M.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(ej,{role:"menu","aria-orientation":"vertical","data-state":Tj(w.open),"data-radix-menu-content":"",dir:p.dir,...y,...v,ref:N,style:{outline:"none",...v.style},onKeyDown:ue(v.onKeyDown,M=>{const B=M.target.closest("[data-radix-menu-content]")===M.currentTarget,V=M.ctrlKey||M.altKey||M.metaKey,re=M.key.length===1;B&&(M.key==="Tab"&&M.preventDefault(),!V&&re&&U(M.key));const se=E.current;if(M.target!==se||!zF.includes(M.key))return;M.preventDefault();const oe=_().filter(R=>!R.disabled).map(R=>R.ref.current);lj.includes(M.key)&&oe.reverse(),c$(oe)}),onBlur:ue(e.onBlur,M=>{M.currentTarget.contains(M.target)||(window.clearTimeout(I.current),C.current="")}),onPointerMove:ue(e.onPointerMove,Zi(M=>{const T=M.target,B=A.current!==M.clientX;if(M.currentTarget.contains(T)&&B){const V=M.clientX>A.current?"right":"left";D.current=V,A.current=M.clientX}}))})})})})})})});mj.displayName=fr;var e$="MenuGroup",o0=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(Se.div,{role:"group",...n,ref:t})});o0.displayName=e$;var t$="MenuLabel",gj=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(Se.div,{...n,ref:t})});gj.displayName=t$;var wu="MenuItem",rb="menu.itemSelect",bd=m.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,o=m.useRef(null),i=vl(wu,e.__scopeMenu),l=n0(wu,e.__scopeMenu),c=De(t,o),u=m.useRef(!1),d=()=>{const f=o.current;if(!r&&f){const h=new CustomEvent(rb,{bubbles:!0,cancelable:!0});f.addEventListener(rb,g=>n==null?void 0:n(g),{once:!0}),Gk(f,h),h.defaultPrevented?u.current=!1:i.onClose()}};return a.jsx(pj,{...s,ref:c,disabled:r,onClick:ue(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:ue(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:ue(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||Am.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});bd.displayName=wu;var pj=m.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...o}=e,i=n0(wu,r),l=uj(r),c=m.useRef(null),u=De(t,c),[d,f]=m.useState(!1),[h,g]=m.useState("");return m.useEffect(()=>{const b=c.current;b&&g((b.textContent??"").trim())},[o.children]),a.jsx(Qi.ItemSlot,{scope:r,disabled:n,textValue:s??h,children:a.jsx($F,{asChild:!0,...l,focusable:!n,children:a.jsx(Se.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...o,ref:u,onPointerMove:ue(e.onPointerMove,Zi(b=>{n?i.onItemLeave(b):(i.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ue(e.onPointerLeave,Zi(b=>i.onItemLeave(b))),onFocus:ue(e.onFocus,()=>f(!0)),onBlur:ue(e.onBlur,()=>f(!1))})})})}),r$="MenuCheckboxItem",yj=m.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return a.jsx(_j,{scope:e.__scopeMenu,checked:r,children:a.jsx(bd,{role:"menuitemcheckbox","aria-checked":_u(r)?"mixed":r,...s,ref:t,"data-state":i0(r),onSelect:ue(s.onSelect,()=>n==null?void 0:n(_u(r)?!0:!r),{checkForDefaultPrevented:!1})})})});yj.displayName=r$;var vj="MenuRadioGroup",[n$,s$]=Ys(vj,{value:void 0,onValueChange:()=>{}}),xj=m.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,o=Er(n);return a.jsx(n$,{scope:e.__scopeMenu,value:r,onValueChange:o,children:a.jsx(o0,{...s,ref:t})})});xj.displayName=vj;var bj="MenuRadioItem",wj=m.forwardRef((e,t)=>{const{value:r,...n}=e,s=s$(bj,e.__scopeMenu),o=r===s.value;return a.jsx(_j,{scope:e.__scopeMenu,checked:o,children:a.jsx(bd,{role:"menuitemradio","aria-checked":o,...n,ref:t,"data-state":i0(o),onSelect:ue(n.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,r)},{checkForDefaultPrevented:!1})})})});wj.displayName=bj;var a0="MenuItemIndicator",[_j,o$]=Ys(a0,{checked:!1}),kj=m.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,o=o$(a0,r);return a.jsx(is,{present:n||_u(o.checked)||o.checked===!0,children:a.jsx(Se.span,{...s,ref:t,"data-state":i0(o.checked)})})});kj.displayName=a0;var a$="MenuSeparator",Sj=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(Se.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});Sj.displayName=a$;var i$="MenuArrow",jj=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=xd(r);return a.jsx(tj,{...s,...n,ref:t})});jj.displayName=i$;var l$="MenuSub",[$G,Nj]=Ys(l$),Ya="MenuSubTrigger",Cj=m.forwardRef((e,t)=>{const r=Js(Ya,e.__scopeMenu),n=vl(Ya,e.__scopeMenu),s=Nj(Ya,e.__scopeMenu),o=n0(Ya,e.__scopeMenu),i=m.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=o,u={__scopeMenu:e.__scopeMenu},d=m.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return m.useEffect(()=>d,[d]),m.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),a.jsx(t0,{asChild:!0,...u,children:a.jsx(pj,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":Tj(r.open),...e,ref:Rp(t,s.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:ue(e.onPointerMove,Zi(f=>{o.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:ue(e.onPointerLeave,Zi(f=>{var g,b;d();const h=(g=r.content)==null?void 0:g.getBoundingClientRect();if(h){const v=(b=r.content)==null?void 0:b.dataset.side,w=v==="right",p=w?-5:5,y=h[w?"left":"right"],x=h[w?"right":"left"];o.onPointerGraceIntentChange({area:[{x:f.clientX+p,y:f.clientY},{x:y,y:h.top},{x,y:h.top},{x,y:h.bottom},{x:y,y:h.bottom}],side:v}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(f),f.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:ue(e.onKeyDown,f=>{var g;const h=o.searchRef.current!=="";e.disabled||h&&f.key===" "||BF[n.dir].includes(f.key)&&(r.onOpenChange(!0),(g=r.content)==null||g.focus(),f.preventDefault())})})})});Cj.displayName=Ya;var Ej="MenuSubContent",Pj=m.forwardRef((e,t)=>{const r=fj(fr,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,o=Js(fr,e.__scopeMenu),i=vl(fr,e.__scopeMenu),l=Nj(Ej,e.__scopeMenu),c=m.useRef(null),u=De(t,c);return a.jsx(Qi.Provider,{scope:e.__scopeMenu,children:a.jsx(is,{present:n||o.open,children:a.jsx(Qi.Slot,{scope:e.__scopeMenu,children:a.jsx(s0,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;i.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:ue(e.onFocusOutside,d=>{d.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:ue(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:ue(e.onKeyDown,d=>{var g;const f=d.currentTarget.contains(d.target),h=VF[i.dir].includes(d.key);f&&h&&(o.onOpenChange(!1),(g=l.trigger)==null||g.focus(),d.preventDefault())})})})})})});Pj.displayName=Ej;function Tj(e){return e?"open":"closed"}function _u(e){return e==="indeterminate"}function i0(e){return _u(e)?"indeterminate":e?"checked":"unchecked"}function c$(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function u$(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function d$(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let i=u$(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function f$(e,t){const{x:r,y:n}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o],c=t[i],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(s=!s)}return s}function h$(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return f$(r,t)}function Zi(e){return t=>t.pointerType==="mouse"?e(t):void 0}var m$=dj,g$=t0,p$=hj,y$=mj,v$=o0,x$=gj,b$=bd,w$=yj,_$=xj,k$=wj,S$=kj,j$=Sj,N$=jj,C$=Cj,E$=Pj,l0="ContextMenu",[P$,UG]=Ks(l0,[cj]),Dt=cj(),[T$,Aj]=P$(l0),Rj=e=>{const{__scopeContextMenu:t,children:r,onOpenChange:n,dir:s,modal:o=!0}=e,[i,l]=m.useState(!1),c=Dt(t),u=Er(n),d=m.useCallback(f=>{l(f),u(f)},[u]);return a.jsx(T$,{scope:t,open:i,onOpenChange:d,modal:o,children:a.jsx(m$,{...c,dir:s,open:i,onOpenChange:d,modal:o,children:r})})};Rj.displayName=l0;var Mj="ContextMenuTrigger",Lj=m.forwardRef((e,t)=>{const{__scopeContextMenu:r,disabled:n=!1,...s}=e,o=Aj(Mj,r),i=Dt(r),l=m.useRef({x:0,y:0}),c=m.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...l.current})}),u=m.useRef(0),d=m.useCallback(()=>window.clearTimeout(u.current),[]),f=h=>{l.current={x:h.clientX,y:h.clientY},o.onOpenChange(!0)};return m.useEffect(()=>d,[d]),m.useEffect(()=>void(n&&d()),[n,d]),a.jsxs(a.Fragment,{children:[a.jsx(g$,{...i,virtualRef:c}),a.jsx(Se.span,{"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,...s,ref:t,style:{WebkitTouchCallout:"none",...e.style},onContextMenu:n?e.onContextMenu:ue(e.onContextMenu,h=>{d(),f(h),h.preventDefault()}),onPointerDown:n?e.onPointerDown:ue(e.onPointerDown,nc(h=>{d(),u.current=window.setTimeout(()=>f(h),700)})),onPointerMove:n?e.onPointerMove:ue(e.onPointerMove,nc(d)),onPointerCancel:n?e.onPointerCancel:ue(e.onPointerCancel,nc(d)),onPointerUp:n?e.onPointerUp:ue(e.onPointerUp,nc(d))})]})});Lj.displayName=Mj;var A$="ContextMenuPortal",Dj=e=>{const{__scopeContextMenu:t,...r}=e,n=Dt(t);return a.jsx(p$,{...n,...r})};Dj.displayName=A$;var Oj="ContextMenuContent",Ij=m.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,s=Aj(Oj,r),o=Dt(r),i=m.useRef(!1);return a.jsx(y$,{...o,...n,ref:t,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:l=>{var c;(c=e.onCloseAutoFocus)==null||c.call(e,l),!l.defaultPrevented&&i.current&&l.preventDefault(),i.current=!1},onInteractOutside:l=>{var c;(c=e.onInteractOutside)==null||c.call(e,l),!l.defaultPrevented&&!s.modal&&(i.current=!0)},style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Ij.displayName=Oj;var R$="ContextMenuGroup",M$=m.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,s=Dt(r);return a.jsx(v$,{...s,...n,ref:t})});M$.displayName=R$;var L$="ContextMenuLabel",Fj=m.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,s=Dt(r);return a.jsx(x$,{...s,...n,ref:t})});Fj.displayName=L$;var D$="ContextMenuItem",$j=m.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,s=Dt(r);return a.jsx(b$,{...s,...n,ref:t})});$j.displayName=D$;var O$="ContextMenuCheckboxItem",Uj=m.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,s=Dt(r);return a.jsx(w$,{...s,...n,ref:t})});Uj.displayName=O$;var I$="ContextMenuRadioGroup",F$=m.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,s=Dt(r);return a.jsx(_$,{...s,...n,ref:t})});F$.displayName=I$;var $$="ContextMenuRadioItem",zj=m.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,s=Dt(r);return a.jsx(k$,{...s,...n,ref:t})});zj.displayName=$$;var U$="ContextMenuItemIndicator",Bj=m.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,s=Dt(r);return a.jsx(S$,{...s,...n,ref:t})});Bj.displayName=U$;var z$="ContextMenuSeparator",Vj=m.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,s=Dt(r);return a.jsx(j$,{...s,...n,ref:t})});Vj.displayName=z$;var B$="ContextMenuArrow",V$=m.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,s=Dt(r);return a.jsx(N$,{...s,...n,ref:t})});V$.displayName=B$;var G$="ContextMenuSubTrigger",Gj=m.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,s=Dt(r);return a.jsx(C$,{...s,...n,ref:t})});Gj.displayName=G$;var q$="ContextMenuSubContent",qj=m.forwardRef((e,t)=>{const{__scopeContextMenu:r,...n}=e,s=Dt(r);return a.jsx(E$,{...s,...n,ref:t,style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});qj.displayName=q$;function nc(e){return t=>t.pointerType!=="mouse"?e(t):void 0}var W$=Rj,H$=Lj,K$=Dj,Wj=Ij,Hj=Fj,Kj=$j,Yj=Uj,Jj=zj,Xj=Bj,Qj=Vj,Zj=Gj,e4=qj;const Rm=W$,Mm=H$,Y$=m.forwardRef(({className:e,inset:t,children:r,...n},s)=>a.jsxs(Zj,{ref:s,className:je("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",t&&"pl-8",e),...n,children:[r,a.jsx($D,{className:"ml-auto h-4 w-4"})]}));Y$.displayName=Zj.displayName;const J$=m.forwardRef(({className:e,...t},r)=>a.jsx(e4,{ref:r,className:je("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));J$.displayName=e4.displayName;const ku=m.forwardRef(({className:e,...t},r)=>a.jsx(K$,{children:a.jsx(Wj,{ref:r,className:je("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})}));ku.displayName=Wj.displayName;const br=m.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(Kj,{ref:n,className:je("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));br.displayName=Kj.displayName;const X$=m.forwardRef(({className:e,children:t,checked:r,...n},s)=>a.jsxs(Yj,{ref:s,className:je("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(Xj,{children:a.jsx(Ik,{className:"h-4 w-4"})})}),t]}));X$.displayName=Yj.displayName;const Q$=m.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(Jj,{ref:n,className:je("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(Xj,{children:a.jsx($k,{className:"h-2 w-2 fill-current"})})}),t]}));Q$.displayName=Jj.displayName;const Z$=m.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(Hj,{ref:n,className:je("px-2 py-1.5 text-sm font-semibold text-foreground",t&&"pl-8",e),...r}));Z$.displayName=Hj.displayName;const eU=m.forwardRef(({className:e,...t},r)=>a.jsx(Qj,{ref:r,className:je("-mx-1 my-1 h-px bg-border",e),...t}));eU.displayName=Qj.displayName;const tU=({children:e,className:t,...r})=>a.jsx("div",{className:`flex border-b border-gray-200 dark:border-gray-700 ${t||""}`,...r,children:e}),$f=({value:e,active:t,onSelect:r,children:n,className:s})=>a.jsx("button",{type:"button",role:"tab","aria-selected":t===e,onClick:()=>r(e),className:`px-3 py-2 text-sm font-medium border-b-2 transition-colors flex-1 ${t===e?"border-rose-500 text-rose-600 dark:text-rose-400":"border-transparent text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"} ${s||""}`,children:n}),Uf=({value:e,active:t,children:r,className:n})=>a.jsx("div",{role:"tabpanel",hidden:t!==e,className:`${n||""} ${t===e?"block":"hidden"}`,children:r}),rU=({children:e,className:t})=>a.jsx("div",{className:t,children:e}),nU=`
  .highlight-conversation {
    animation: highlight 2s ease-in-out;
  }
  
  @keyframes highlight {
    0%, 100% { background-color: transparent; }
    50% { background-color: rgba(59, 130, 246, 0.2); }
  }
  
  .highlight-conversation-target:focus-visible {
    outline: 2px solid #3b82f6;
    background-color: rgba(59, 130, 246, 0.1);
  }
`,nb=()=>{const{user:e}=sd(),t=ot(),{t:r}=Yr(),{conversationId:n}=Wu(),[s,o]=m.useState({}),[i,l]=m.useState([]),[c,u]=m.useState([]),[d,f]=m.useState("direct"),[h,g]=m.useState(null),[b,v]=m.useState(null),[w,p]=m.useState(null),[y,x]=m.useState(!0),[_,k]=m.useState(window.innerWidth<768),[j,E]=m.useState(!1);m.useEffect(()=>{const R=()=>{k(window.innerWidth<768)};return window.addEventListener("resize",R),()=>window.removeEventListener("resize",R)},[]),m.useEffect(()=>{const R=document.createElement("style");return R.textContent=nU,document.head.appendChild(R),()=>{document.head.removeChild(R)}},[]),m.useEffect(()=>{e&&(d==="direct"?C():d==="events"?A():d==="groups"&&O())},[e,d]),m.useEffect(()=>{n&&d==="direct"&&s[n]&&g(s[n])},[n,s,d]),m.useEffect(()=>{console.log("DEBUG: Component did mount - Force events tab to be active"),f("events");const R=P();console.log("Setting default sample events:",R.length),l(R),D(R)},[]);const N=()=>{const R=[{id:"sample-friend-1",user_id:(e==null?void 0:e.id)||"",other_user_id:"sample-friend-1",other_user:{id:"sample-friend-1",full_name:"Alex Johnson",avatar_url:"https://randomuser.me/api/portraits/men/32.jpg"},last_message:{content:"Hey there! How are you doing?",created_at:new Date(Date.now()-864e5).toISOString(),sender_id:"sample-friend-1"},unread:1},{id:"sample-friend-2",user_id:(e==null?void 0:e.id)||"",other_user_id:"sample-friend-2",other_user:{id:"sample-friend-2",full_name:"Sarah Miller",avatar_url:"https://randomuser.me/api/portraits/women/44.jpg"},last_message:{content:"Are we still meeting tomorrow?",created_at:new Date(Date.now()-72e5).toISOString(),sender_id:(e==null?void 0:e.id)||""},unread:0},{id:"sample-friend-3",user_id:(e==null?void 0:e.id)||"",other_user_id:"sample-friend-3",other_user:{id:"sample-friend-3",full_name:"Mike Robinson",avatar_url:"https://randomuser.me/api/portraits/men/67.jpg"},last_message:{content:"Did you see that cool new tech announcement?",created_at:new Date(Date.now()-2592e5).toISOString(),sender_id:"sample-friend-3"},unread:0},{id:"sample-friend-4",user_id:(e==null?void 0:e.id)||"",other_user_id:"sample-friend-4",other_user:{id:"sample-friend-4",full_name:"Emma Wilson",avatar_url:"https://randomuser.me/api/portraits/women/22.jpg"},last_message:{content:"Thanks for your help yesterday!",created_at:new Date(Date.now()-432e6).toISOString(),sender_id:"sample-friend-4"},unread:0}];try{localStorage.setItem("sampleFriends",JSON.stringify(R))}catch(G){console.error("Failed to save sample friends to localStorage:",G)}return R},I=()=>{const R=localStorage.getItem("sampleFriends");if(R)try{const G=JSON.parse(R);if(Array.isArray(G)&&G.length>0){console.log("Friends already exist in localStorage:",G.length);return}}catch(G){console.error("Error parsing localStorage friends:",G)}console.log("Creating default friends as none were found"),N()};m.useEffect(()=>{e&&I()},[e]);const C=async()=>{if(e)try{x(!0);try{const{data:W,error:K}=await Te.rpc("get_user_relationships",{p_user_id:e.id});if(!K&&W&&W.length>0){console.log("Successfully fetched relationships via RPC:",W);const H={};for(const $ of W)H[$.other_user_id]={id:$.other_user_id,user_id:e.id,other_user_id:$.other_user_id,other_user:{id:$.other_user_id,full_name:$.other_user_full_name||"User",avatar_url:$.other_user_avatar_url},unread:0};await L(H);return}console.log("RPC method for relationships not available, trying fallback method")}catch(W){console.log("RPC method for relationships failed, trying fallback method",W)}try{const{data:W,error:K}=await Te.rpc("get_user_friendships",{p_user_id:e.id});if(!K&&W&&W.length>0){console.log("Successfully fetched friendships via RPC:",W);const H={};for(const $ of W)H[$.other_user_id]={id:$.other_user_id,user_id:e.id,other_user_id:$.other_user_id,other_user:{id:$.other_user_id,full_name:$.other_user_full_name||"User",avatar_url:$.other_user_avatar_url},unread:0};await L(H);return}console.log("Friendships RPC method failed, trying direct queries")}catch(W){console.log("Friendships RPC method failed:",W)}try{const{data:W,error:K}=await Te.from("relationships").select("id, requester_id, addressee_id, status, created_at").or(`requester_id.eq.${e.id},addressee_id.eq.${e.id}`).eq("status","accepted");if(!K&&W&&W.length>0){const H={};for(const $ of W)try{const X=$.requester_id===(e==null?void 0:e.id)?$.addressee_id:$.requester_id,{data:ne,error:ie}=await Te.from("profiles").select("id, full_name, avatar_url").eq("id",X).single();if(ie){console.error(`Error fetching profile for user ${X}:`,ie);continue}if(!ne){console.log(`No profile found for user ${X}`);continue}H[X]={id:X,user_id:(e==null?void 0:e.id)||"",other_user_id:X,other_user:{id:ne.id,full_name:ne.full_name,avatar_url:ne.avatar_url},unread:0};try{const{data:J}=await Te.from("direct_messages").select("content, created_at, sender_id").or(`and(sender_id.eq.${e==null?void 0:e.id},receiver_id.eq.${X}),and(sender_id.eq.${X},receiver_id.eq.${e==null?void 0:e.id})`).order("created_at",{ascending:!1}).limit(1);J&&J.length>0&&(H[X].last_message={content:J[0].content,created_at:J[0].created_at,sender_id:J[0].sender_id})}catch(J){console.log(`Error fetching messages for conversation with ${X}:`,J)}}catch(X){console.error("Error processing relationship:",X)}if(Object.keys(H).length>0){o(H),n&&H[n]&&g(H[n]),x(!1);return}}}catch(W){console.log("Direct query for relationships failed, trying friendships table",W)}try{const{data:W,error:K}=await Te.from("friendships").select("id, user_id, friend_id, status, created_at").or(`user_id.eq.${e.id},friend_id.eq.${e.id}`).eq("status","accepted");if(!K&&W&&W.length>0){const H={};for(const $ of W)try{const X=$.user_id===(e==null?void 0:e.id)?$.friend_id:$.user_id,{data:ne,error:ie}=await Te.from("profiles").select("id, full_name, avatar_url").eq("id",X).single();if(ie){console.error(`Error fetching profile for user ${X}:`,ie);continue}if(!ne){console.log(`No profile found for user ${X}`);continue}H[X]={id:X,user_id:(e==null?void 0:e.id)||"",other_user_id:X,other_user:{id:ne.id,full_name:ne.full_name,avatar_url:ne.avatar_url},unread:0};try{const{data:J}=await Te.from("direct_messages").select("content, created_at, sender_id").or(`and(sender_id.eq.${e==null?void 0:e.id},receiver_id.eq.${X}),and(sender_id.eq.${X},receiver_id.eq.${e==null?void 0:e.id})`).order("created_at",{ascending:!1}).limit(1);J&&J.length>0&&(H[X].last_message={content:J[0].content,created_at:J[0].created_at,sender_id:J[0].sender_id})}catch(J){console.log(`Error fetching messages for conversation with ${X}:`,J)}}catch(X){console.error("Error processing friendship:",X)}if(Object.keys(H).length>0){o(H),n&&H[n]&&g(H[n]),x(!1);return}}}catch(W){console.log("Friendships table query failed",W)}const R=localStorage.getItem("sampleFriends");if(R)try{const W=JSON.parse(R);if(Array.isArray(W)&&W.length>0){console.log("Using sample friends from localStorage:",W);const K={};W.forEach(H=>{K[H.other_user_id]=H}),o(K),n&&K[n]&&g(K[n]),x(!1);return}}catch(W){console.error("Error parsing localStorage friends:",W)}console.log("No friends found, creating sample friends");const G=N(),Q={};G.forEach(W=>{Q[W.other_user_id]=W}),o(Q),x(!1)}catch(R){console.error("Error in fetchFriendConversations:",R),q.error("Failed to load conversations");const G=N(),Q={};G.forEach(W=>{Q[W.other_user_id]=W}),o(Q)}finally{x(!1)}},L=async R=>{try{const G=Object.keys(R);await Promise.all(G.map(async Q=>{try{const{data:W}=await Te.from("direct_messages").select("content, created_at, sender_id").or(`and(sender_id.eq.${e==null?void 0:e.id},receiver_id.eq.${Q}),and(sender_id.eq.${Q},receiver_id.eq.${e==null?void 0:e.id})`).order("created_at",{ascending:!1}).limit(1);W&&W.length>0&&(R[Q].last_message={content:W[0].content,created_at:W[0].created_at,sender_id:W[0].sender_id});const{count:K}=await Te.from("direct_messages").select("*",{count:"exact",head:!0}).eq("receiver_id",e==null?void 0:e.id).eq("sender_id",Q).eq("is_read",!1);R[Q].unread=K||0}catch(W){console.log(`Error fetching messages for conversation ${Q}:`,W)}})),o(R),n&&R[n]&&g(R[n]),x(!1)}catch(G){console.error("Error fetching last messages for conversations:",G),o(R),x(!1)}},P=()=>{const R=new Date;return[{id:"sample-event-1",title:"Community Meetup",start_date:new Date(R.getTime()+2*24*60*60*1e3).toISOString(),image_url:"https://images.unsplash.com/photo-1511795409834-432f7b1d6574"},{id:"sample-event-2",title:"Tech Conference",start_date:new Date(R.getTime()+7*24*60*60*1e3).toISOString(),image_url:"https://images.unsplash.com/photo-1523580494863-6f3031224c94"},{id:"sample-event-3",title:"Networking Party",start_date:new Date(R.getTime()+14*24*60*60*1e3).toISOString(),image_url:"https://images.unsplash.com/photo-1505373877841-8d25f7d46678"},{id:"sample-event-4",title:"Product Launch",start_date:new Date(R.getTime()+21*24*60*60*1e3).toISOString(),image_url:"https://images.unsplash.com/photo-1540317580384-e5d43867caa6"},{id:"sample-event-5",title:"Workshop: Advanced Skills",start_date:new Date(R.getTime()+5*24*60*60*1e3).toISOString(),image_url:"https://images.unsplash.com/photo-1552664730-d307ca884978"}]},D=R=>{try{localStorage.setItem("eventAttendances",JSON.stringify(R)),console.log("Saved events to localStorage:",R)}catch(G){console.error("Error saving events to localStorage:",G)}},A=async()=>{if(e)try{try{console.log("DEBUG: Trying direct query approach for events");const{data:G,error:Q}=await Te.from("event_attendees").select(`
            *,
            events (
              id, title, description, start_date, category, location, is_public, created_by
            )
          `).eq("user_id",e.id);if(Q)throw console.error("Error fetching attended events:",Q),Q;if(G&&G.length>0){console.log("DEBUG: Found",G.length,"events user is attending");const W=G.map(K=>{const H=K.events;return H?{id:H.id,title:H.title,description:H.description,start_date:H.start_date,category:H.category,location:H.location,is_public:H.is_public}:null}).filter(Boolean);if(W.length>0){console.log("DEBUG: Processed",W.length,"valid events");const K=await F(W);l(K),D(K);return}}}catch(G){console.error("Error with direct query approach:",G)}try{console.log("DEBUG: Trying RPC function for events");const{data:G,error:Q}=await Te.rpc("get_user_event_attendances",{p_user_id:e.id});if(Q)throw console.error("RPC function error:",Q),Q;if(G&&G.length>0){console.log("DEBUG: RPC returned",G.length,"events");const W=G.map(H=>({id:H.id,title:H.title,description:H.description,start_date:H.start_date,category:H.category,location:H.location,is_public:H.is_public,created_by:H.created_by})),K=await F(W);l(K),D(K);return}}catch(G){console.error("Error with RPC function approach:",G)}try{console.log("DEBUG: Trying to find events created by user");const{data:G,error:Q}=await Te.from("events").select("*").eq("created_by",e.id);if(Q)throw console.error("Error fetching created events:",Q),Q;if(G&&G.length>0){console.log("DEBUG: Found",G.length,"events created by user");const W=G.map(H=>({id:H.id,title:H.title,description:H.description,start_date:H.start_date,category:H.category,location:H.location,is_public:H.is_public,created_by:H.created_by})),K=await F(W);l(K),D(K);return}}catch(G){console.error("Error with created events approach:",G)}console.log("DEBUG: No real events found. Keeping sample events.");const R=P();l(R),D(R)}catch(R){console.error("Error in fetchEventChats:",R);const G=P();l(G),D(G)}finally{}},F=async R=>{try{const G=[...R];for(let Q=0;Q<G.length;Q++)try{if(G[Q].id.startsWith("sample-"))continue;const{data:W,error:K}=await Te.from("event_messages").select("content, created_at, user_id, profiles:user_id (full_name, avatar_url)").eq("event_id",G[Q].id).order("created_at",{ascending:!1}).limit(1);if(K){console.error(`Error fetching messages for event ${G[Q].id}:`,K);continue}if(W&&W.length>0){const H=W[0].profiles;G[Q].last_message={content:W[0].content,created_at:W[0].created_at,sender_id:W[0].user_id,sender_name:(H==null?void 0:H.full_name)||"Unknown User"}}}catch(W){console.log(`Error processing messages for event ${G[Q].id}:`,W)}return console.log("DEBUG: Events with messages:",G.length),G}catch(G){return console.error("Error fetching event messages:",G),R}},O=async()=>{if(e)try{x(!0);try{const{data:G,error:Q}=await Te.rpc("get_user_group_memberships",{p_user_id:e.id});if(!Q&&G&&G.length>0){await U(G);return}console.log("RPC method not available or returned no results, trying fallback method")}catch(G){console.log("RPC method failed, trying fallback method",G)}const{data:R}=await S();if(R&&R.length>0){console.log("Using groups from localStorage:",R);const G=R.map(K=>K.group_id),{data:Q,error:W}=await Te.from("groups").select("id, name, description, image_url, category, created_at, created_by").in("id",G);if(!W&&Q&&Q.length>0){const K=Q.map(H=>{const $=R.find(X=>X.group_id===H.id);return{...H,role:($==null?void 0:$.role)||"member"}});console.log("Fetched user groups from localStorage fallback:",K),u(K),x(!1);return}}console.log("No group memberships found via any method"),u([])}catch(R){console.error("Error in fetchUserGroups:",R),q.error("Failed to load your groups"),u([])}finally{x(!1)}},U=async R=>{const G=R.map(H=>H.group_id),{data:Q,error:W}=await Te.from("groups").select("id, name, description, image_url, category, created_at, created_by").in("id",G);if(W){console.error("Error fetching group details:",W),u([]);return}const K=(Q||[]).map(H=>{const $=R.find(X=>X.group_id===H.id);return{...H,role:($==null?void 0:$.role)||"member"}});console.log("Fetched user groups via processGroupMemberships:",K),u(K)},S=async()=>{try{const R=localStorage.getItem("groupMemberships");if(!R)return{data:[]};const G=JSON.parse(R);return{data:Object.entries(G).map(([W,K])=>({group_id:W,role:K.role||"member"}))}}catch(R){return console.error("Error parsing localStorage group memberships:",R),{data:[]}}},M=async R=>{if(e)try{const{error:G}=await Te.from("direct_messages").delete().or(`and(sender_id.eq.${e.id},receiver_id.eq.${R}),and(sender_id.eq.${R},receiver_id.eq.${e.id})`);if(G)throw G;o(Q=>{const W={...Q};return delete W[R],W}),(h==null?void 0:h.id)===R&&g(null),q(r("messages.conversation_deleted")||"Conversation deleted")}catch(G){console.error("Error deleting conversation:",G),q(r("messages.conversation_delete_error")||"Could not delete conversation")}},T=R=>{const Q=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(R),W=R.startsWith("sample-");if(!Q&&!W){console.error(`Invalid event ID format: ${R}`),q.error(r("messages.invalid_event_id")||"Invalid event ID format");return}const K=i.find(H=>H.id===R);if(!K){if(console.error(`Event not found: ${R}`),q.error(r("messages.event_not_found")||"Event not found"),W){const H=B(R);l($=>[...$,H]),D([...i,H]),t(`/events/${R}/chat`);return}return}console.log(`Navigating to event chat, ID: ${R}, Title: ${K.title}`),t(`/events/${R}/chat`)},B=R=>{const G=new Date;return{id:R,title:`Event ${R.substring(0,8)}`,start_date:new Date(G.getTime()+2*24*60*60*1e3).toISOString(),image_url:"https://images.unsplash.com/photo-1511795409834-432f7b1d6574"}},V=()=>{E(R=>!R)},re=R=>{R&&(console.log("Navigating to profile:",R),t(`/profile/${R}`))},se=async R=>{if(!(!e||!R))try{const{error:G}=await Te.from("direct_messages").update({is_read:!0}).eq("receiver_id",e.id).eq("sender_id",R);if(G){console.error("Error marking messages as read:",G);return}o(Q=>{const W={...Q};return W[R]&&(W[R]={...W[R],unread:0}),W})}catch(G){console.error("Error in markMessagesAsRead:",G)}};m.useEffect(()=>{h!=null&&h.id&&se(h.id)},[h==null?void 0:h.id]);const de=R=>{t(`/groups/${R}/chat`)},oe=()=>{const R=localStorage.getItem("eventAttendances");if(R)try{const Q=JSON.parse(R);if(Array.isArray(Q)&&Q.length>0){console.log("Events already exist in localStorage:",Q.length);return}}catch(Q){console.error("Error parsing localStorage events:",Q)}console.log("Creating default events as none were found");const G=P();D(G),l(G)};return m.useEffect(()=>{e&&oe()},[e]),y&&Object.keys(s).length===0&&i.length===0&&c.length===0?a.jsx("div",{className:"flex justify-center items-center min-h-screen",children:a.jsx(Ee,{size:"lg"})}):a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 md:py-12",children:[a.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:a.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center",children:[a.jsx(Jo,{className:"mr-3 h-6 w-6"})," ",r("messages.title")||"Messages"]})}),a.jsxs("div",{className:`flex flex-col md:flex-row rounded-xl shadow-md overflow-hidden border border-gray-200 dark:border-gray-700 h-[calc(100vh-12rem)] ${j?"fixed inset-0 z-50 h-screen w-screen max-w-none rounded-none":""}`,children:[a.jsx("div",{className:`w-full md:w-1/3 lg:w-1/4 flex-shrink-0 border-r border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 ${j||_&&(h||b||w)?"hidden md:flex md:flex-col":"flex flex-col"}`,children:a.jsxs(rU,{defaultValue:d,onValueChange:f,className:"flex-shrink-0",children:[a.jsxs(tU,{className:"flex border-b border-gray-200 dark:border-gray-700",children:[a.jsx($f,{value:"direct",active:d,onSelect:R=>{console.log("DEBUG: Tab changed to DIRECT",R),f(R)},className:"py-4 px-6 font-medium text-base focus:outline-none",children:r("messages.tabs.direct")||"Direct"}),a.jsx($f,{value:"groups",active:d,onSelect:R=>{console.log("DEBUG: Tab changed to GROUPS",R),f(R)},className:"py-4 px-6 font-medium text-base focus:outline-none",children:r("messages.tabs.groups")||"Groups"}),a.jsx($f,{value:"events",active:d,onSelect:R=>{console.log("DEBUG: Tab changed to EVENTS",R),f(R),R==="events"&&(console.log("DEBUG: Forcing event fetch because tab was selected"),A())},className:"py-4 px-6 font-medium text-base focus:outline-none",children:r("messages.tabs.events")||"Events"})]}),a.jsx(Uf,{value:"direct",active:d,className:"flex-1 overflow-y-auto",children:Object.keys(s).length===0?a.jsxs("div",{className:"text-center py-10 px-4",children:[a.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:r("messages.no_direct_messages")||"No direct messages yet"}),a.jsx(we,{to:"/friends",className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-indigo-500 to-purple-500 hover:from-indigo-600 hover:to-purple-600 rounded-full text-sm font-medium text-white shadow-sm hover:shadow transition-all",children:r("messages.find_friends")||"Find Friends"})]}):a.jsx("div",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:Object.values(s).sort((R,G)=>!R.last_message&&!G.last_message?0:R.last_message?G.last_message?new Date(G.last_message.created_at).getTime()-new Date(R.last_message.created_at).getTime():-1:1).map(R=>a.jsxs(Rm,{children:[a.jsx(Mm,{children:a.jsxs("div",{className:`flex items-center p-4 cursor-pointer ${(h==null?void 0:h.id)===R.id?"bg-indigo-50 dark:bg-indigo-900/30":"hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,onClick:()=>g(R),children:[a.jsx("div",{className:"flex-shrink-0 h-12 w-12 rounded-full overflow-hidden bg-gray-200 dark:bg-gray-700 relative",children:R.other_user.avatar_url?a.jsx("img",{src:R.other_user.avatar_url,alt:R.other_user.full_name,className:"h-full w-full object-cover"}):a.jsx("div",{className:"h-full w-full flex items-center justify-center bg-gradient-to-br from-indigo-500 to-purple-600 text-white",children:a.jsx(Sr,{size:22})})}),a.jsxs("div",{className:"ml-3 flex-1 overflow-hidden",children:[a.jsxs("div",{className:"flex justify-between items-baseline",children:[a.jsx("h3",{className:"text-base font-medium text-gray-900 dark:text-white truncate",children:R.other_user.full_name}),R.last_message&&a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(R.last_message.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:R.last_message?R.last_message.sender_id===(e==null?void 0:e.id)?`${r("messages.you")}: ${R.last_message.content}`:R.last_message.content:r("messages.no_messages_yet")})]}),R.unread&&R.unread>0&&a.jsx("div",{className:"ml-2 bg-indigo-600 text-white text-xs font-medium rounded-full h-5 w-5 flex items-center justify-center",children:R.unread})]})}),a.jsxs(ku,{children:[a.jsxs(br,{onClick:()=>re(R.other_user.id),children:[a.jsx(Sr,{className:"mr-2 h-4 w-4"}),r("messages.view_profile")||"View Profile"]}),a.jsxs(br,{children:[a.jsx(Fi,{className:"mr-2 h-4 w-4"}),r("messages.mute_notifications")||"Mute Notifications"]}),a.jsxs(br,{children:[a.jsx(rv,{className:"mr-2 h-4 w-4"}),r("messages.block_user")||"Block User"]}),a.jsxs(br,{onClick:()=>M(R.id),children:[a.jsx(Xo,{className:"mr-2 h-4 w-4"}),r("messages.delete_conversation")||"Delete Conversation"]})]})]},R.id))})}),a.jsx(Uf,{value:"groups",active:d,className:"flex-1 overflow-y-auto",children:c.length===0?a.jsxs("div",{className:"text-center py-10 px-4",children:[a.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:r("messages.no_group_chats")||"You are not a member of any groups yet"}),a.jsx(we,{to:"/groups",className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-rose-500 to-red-500 hover:from-rose-600 hover:to-red-600 rounded-full text-sm font-medium text-white shadow-sm hover:shadow transition-all",children:r("messages.browse_groups")||"Browse Groups"})]}):a.jsx("div",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:c.map(R=>a.jsxs("div",{className:"flex items-center p-4 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50",onClick:()=>de(R.id),children:[a.jsx("div",{className:"flex-shrink-0 h-12 w-12 rounded-full overflow-hidden bg-gray-200 dark:bg-gray-700",children:R.image_url?a.jsx("img",{src:R.image_url,alt:R.name,className:"h-full w-full object-cover"}):a.jsx("div",{className:"h-full w-full flex items-center justify-center bg-gradient-to-br from-indigo-500 to-purple-600 text-white",children:a.jsx(rt,{size:22})})}),a.jsxs("div",{className:"ml-3 flex-1 overflow-hidden",children:[a.jsxs("div",{className:"flex justify-between items-baseline",children:[a.jsx("h3",{className:"text-base font-medium text-gray-900 dark:text-white truncate",children:R.name}),a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:R.role==="admin"?r("messages.admin")||"Admin":r("messages.member")||"Member"})]}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:R.description||r("messages.no_description")||"No description"})]})]},R.id))})}),a.jsxs(Uf,{value:"events",active:d,className:"flex-1 overflow-y-auto",children:[(console.log("DEBUG: Inside Events TabsContent render, activeTab:",d,"eventChats:",i),null),i.length===0?a.jsxs("div",{className:"text-center py-10 px-4",children:[a.jsxs("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:[r("messages.no_event_chats")||"No event chats yet","(Debug info: activeTab=",d,", eventChats.length=",i.length,")"]}),a.jsx("button",{onClick:()=>{console.log("DEBUG: Force fetch clicked"),A()},className:"inline-flex items-center mb-4 px-4 py-2 bg-blue-500 hover:bg-blue-600 rounded-full text-sm font-medium text-white shadow-sm hover:shadow transition-all",children:"Olaylar Yenile"}),a.jsx(we,{to:"/events",className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-rose-500 to-red-500 hover:from-rose-600 hover:to-red-600 rounded-full text-sm font-medium text-white shadow-sm hover:shadow transition-all",children:r("messages.browse_events")||"Browse Events"})]}):a.jsxs("div",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:[a.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 sticky top-0 z-10 flex justify-between items-center",children:[a.jsxs("h3",{className:"font-medium text-gray-900 dark:text-white",children:[r("messages.your_events")||"Your Events"," (",i.length,")"]}),a.jsxs("button",{onClick:()=>{console.log("DEBUG: Refresh events button clicked"),A()},className:"p-2 text-sm text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-300 flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),r("messages.refresh")||"Refresh"]})]}),i.map(R=>a.jsxs("div",{className:`flex items-center p-4 cursor-pointer ${(w==null?void 0:w.id)===R.id?"bg-indigo-50 dark:bg-indigo-900/30":"hover:bg-gray-50 dark:hover:bg-gray-700/50"}`,onClick:()=>T(R.id),children:[a.jsx("div",{className:"flex-shrink-0 h-12 w-12 rounded-full overflow-hidden bg-gray-200 dark:bg-gray-700",children:R.image_url?a.jsx("img",{src:R.image_url,alt:R.title,className:"h-full w-full object-cover"}):a.jsx("div",{className:"h-full w-full flex items-center justify-center bg-gradient-to-br from-rose-500 to-red-600 text-white",children:a.jsx(cr,{size:22})})}),a.jsxs("div",{className:"ml-3 flex-1 overflow-hidden",children:[a.jsxs("div",{className:"flex justify-between items-baseline",children:[a.jsx("h3",{className:"text-base font-medium text-gray-900 dark:text-white truncate",children:R.title}),a.jsx("span",{className:"ml-2 px-2 py-1 text-xs rounded-full bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200",children:new Date(R.start_date).toLocaleDateString(void 0,{month:"short",day:"numeric"})})]}),a.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate flex items-center",children:[a.jsx(cr,{className:"mr-1 h-3 w-3"}),new Date(R.start_date).toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})]}),R.last_message&&a.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1 italic truncate",children:R.last_message.content})]})]},R.id))]})]})]})}),a.jsxs("div",{className:`flex flex-col flex-1 bg-white dark:bg-gray-800 ${_&&!h&&!b&&!w?"hidden md:flex":"flex"}`,children:[_&&(h||b||w)&&a.jsx("div",{className:"flex items-center p-3 border-b border-gray-200 dark:border-gray-700",children:a.jsx("button",{onClick:()=>{g(null),v(null),p(null),t("/messages")},className:"p-2 rounded-full text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700",children:a.jsx(dT,{size:20})})}),h?a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-10 w-10 rounded-full overflow-hidden bg-gray-200 dark:bg-gray-700 mr-3",children:h.other_user.avatar_url?a.jsx("img",{src:h.other_user.avatar_url,alt:h.other_user.full_name,className:"h-full w-full object-cover"}):a.jsx("div",{className:"h-full w-full flex items-center justify-center bg-gradient-to-br from-indigo-500 to-purple-600 text-white",children:a.jsx(Sr,{size:18})})}),a.jsx("div",{children:a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:h.other_user.full_name})})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:V,className:"p-2 rounded-full text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700","aria-label":j?r("messages.exit_fullscreen")||"Exit full screen":r("messages.enter_fullscreen")||"Full screen",children:j?a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:a.jsx("path",{d:"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"})}):a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:a.jsx("path",{d:"M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"})})}),a.jsxs(Rm,{children:[a.jsx(Mm,{children:a.jsx("button",{className:"p-2 rounded-full text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700","aria-label":r("messages.settings")||"Message Settings",children:a.jsx(nd,{size:20})})}),a.jsxs(ku,{children:[a.jsxs(br,{onClick:()=>re(h.other_user.id),children:[a.jsx(Sr,{className:"mr-2 h-4 w-4"}),r("messages.view_profile")||"View Profile"]}),a.jsxs(br,{children:[a.jsx(Fi,{className:"mr-2 h-4 w-4"}),r("messages.mute_notifications")||"Mute Notifications"]}),a.jsxs(br,{children:[a.jsx(rv,{className:"mr-2 h-4 w-4"}),r("messages.block_user")||"Block User"]}),a.jsxs(br,{onClick:()=>M(h.id),children:[a.jsx(Xo,{className:"mr-2 h-4 w-4"}),r("messages.delete_conversation")||"Delete Conversation"]})]})]})]})]}),a.jsx(b9,{conversationId:h.id,otherUserId:h.other_user.id,otherUserName:h.other_user.full_name,otherUserAvatar:h.other_user.avatar_url||void 0})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-4",children:[a.jsx("div",{className:"w-24 h-24 mb-6 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center",children:a.jsx(Jo,{size:40,className:"text-gray-400 dark:text-gray-500"})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:r("messages.select_conversation")||"Select a conversation"}),a.jsx("p",{className:"text-gray-500 dark:text-gray-400 max-w-md",children:r("messages.select_conversation_description")||"Choose a conversation from the list or start a new one from the Friends page"})]})]})]})]})})},sU=()=>{const{user:e}=$e(),[t,r]=m.useState(null),[n,s]=m.useState(!1),o=async()=>{if(!e){r({status:"error",message:"You must be logged in to use chat features",issues:[{type:"auth",message:"Not authenticated"}]});return}try{const l=[];let c=!1;const{count:u,error:d}=await z.from("chat_groups").select("*",{count:"exact",head:!0});d&&(console.error("Error checking chat_groups table:",d),l.push({type:"database",message:"Chat tables may not exist in the database",details:d.message}));const{data:f,error:h}=await z.from("chat_group_members").select("group_id, chat_groups(name, is_public)").eq("user_id",e.id);h?(console.error("Error checking group memberships:",h),l.push({type:"membership",message:"Could not verify group memberships",details:h.message})):!f||f.length===0?l.push({type:"membership",message:"You are not a member of any chat groups",fixable:!0}):c=!0;const{data:g,error:b}=await z.from("chat_groups").select("id, name").eq("is_public",!0).limit(5);b?console.error("Error checking public groups:",b):(!g||g.length===0)&&l.push({type:"groups",message:"No public groups available",fixable:!0});let v="success",w="Chat access is working correctly";return l.length>0&&(l.some(p=>p.type==="database")?(v="error",w="Database setup issue detected"):c?(v="info",w="Some minor issues detected"):(v="warning",w="You cannot access any chat groups")),r({status:v,message:w,issues:l,publicGroups:g||[]}),{status:v,message:w,issues:l,publicGroups:g||[]}}catch(l){return console.error("Error during chat diagnostics:",l),r({status:"error",message:"An error occurred during diagnostics",issues:[{type:"unknown",message:l.message}]}),{status:"error",message:"An error occurred during diagnostics",issues:[{type:"unknown",message:l.message}]}}};return{runDiagnostics:o,fixIssues:async()=>{if(!e)return q.error("You must be logged in to fix chat issues"),!1;if(!t&&(await o()).status==="success")return q.success("No issues to fix!"),!0;s(!0);try{const l=(t==null?void 0:t.issues)||[];if(l.filter(d=>d.fixable).length===0)return q.error("No automatically fixable issues found"),!1;let u=!1;if(l.some(d=>d.type==="membership")){const d=(t==null?void 0:t.publicGroups)||[];if(d.length>0){const f=d[0],{data:h,error:g}=await z.from("chat_group_members").select("id").eq("user_id",e.id).eq("group_id",f.id).maybeSingle();if(g)throw new Error(`Failed to check existing membership: ${g.message}`);if(h)q.info("You are already a member of a public group");else{const{error:b}=await z.from("chat_group_members").insert({user_id:e.id,group_id:f.id,joined_at:new Date().toISOString()});if(b)throw new Error(`Failed to join group: ${b.message}`);const{error:v}=await z.from("chat_messages").insert({group_id:f.id,user_id:e.id,content:"I just joined this group!",created_at:new Date().toISOString()});v&&console.error("Failed to add welcome message:",v),q.success(`You have been added to the group: ${f.name}`),u=!0}}else{const{data:f,error:h}=await z.from("chat_groups").insert({name:"General Chat",description:"Public chat group for all users",created_by:e.id,is_public:!0,max_members:100,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),avatar_url:"https://ui-avatars.com/api/?name=General+Chat&background=random"}).select();if(h)throw new Error(`Failed to create public group: ${h.message}`);if(f&&f[0]){const{error:g}=await z.from("chat_group_members").insert({user_id:e.id,group_id:f[0].id,is_admin:!0,joined_at:new Date().toISOString()});if(g)throw new Error(`Failed to join new group: ${g.message}`);q.success("Created and joined General Chat group"),u=!0}}}return await o(),u}catch(l){return console.error("Error fixing chat issues:",l),q.error(`Failed to fix issues: ${l.message}`),!1}finally{s(!1)}},diagnosisResult:t,isFixing:n,clearDiagnosis:()=>r(null)}},zf="px-4 py-2 bg-gradient-to-r from-indigo-500 to-rose-500 hover:opacity-90 text-white rounded-lg transition-colors font-medium",oU="px-4 py-2 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-white rounded-lg transition-colors font-medium",aU=()=>{const{user:e}=$e(),{tWithTemplate:t}=at(),r=ot(),{runDiagnostics:n,fixIssues:s,diagnosisResult:o,isFixing:i}=sU(),[l,c]=m.useState(null),[u,d]=m.useState(!1),[f,h]=m.useState([]),[g,b]=m.useState(!1);m.useEffect(()=>{e&&(v(),w())},[e]);const v=async()=>{try{const{data:_,error:k}=await z.from("profiles").select("*").eq("id",e.id).single();if(k)throw k;c(_)}catch(_){console.error("Error fetching user profile:",_)}},w=async()=>{if(e){b(!0);try{const{data:_,error:k}=await z.from("chat_group_members").select(`
          id,
          group_id,
          is_admin,
          joined_at,
          chat_groups(
            id,
            name,
            description,
            avatar_url,
            is_public,
            created_at
          )
        `).eq("user_id",e.id);if(k)throw k;h(_||[])}catch(_){console.error("Error fetching group memberships:",_)}finally{b(!1)}}},p=async()=>{d(!0);try{await n(),w()}finally{d(!1)}},y=async()=>{await s()&&w()},x=_=>{switch(_){case"success":return a.jsx(A2,{className:"h-6 w-6 text-green-500"});case"error":return a.jsx(lT,{className:"h-6 w-6 text-red-500"});case"warning":return a.jsx(T2,{className:"h-6 w-6 text-yellow-500"});case"info":return a.jsx(wT,{className:"h-6 w-6 text-blue-500"});default:return a.jsx(xc,{className:"h-6 w-6 text-gray-500"})}};return a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-6",children:"Chat Diagnostics"}),l&&a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 mb-6",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[a.jsx(Sr,{className:"mr-2"})," User Information"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400 w-32",children:"User ID:"}),a.jsx("span",{className:"text-gray-900 dark:text-white font-mono text-sm",children:l.id})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400 w-32",children:"Name:"}),a.jsx("span",{className:"text-gray-900 dark:text-white",children:l.full_name})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"text-gray-600 dark:text-gray-400 w-32",children:"Email:"}),a.jsx("span",{className:"text-gray-900 dark:text-white",children:l.email})]})]})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 mb-6",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[a.jsx(rt,{className:"mr-2"})," Group Memberships"]}),g?a.jsx("div",{className:"flex justify-center py-8",children:a.jsx(Ee,{size:"lg"})}):f.length===0?a.jsxs("div",{className:"text-center py-6 text-gray-500 dark:text-gray-400",children:[a.jsx("p",{children:"You are not a member of any chat groups."}),a.jsx("button",{onClick:p,className:`${zf} mt-4`,disabled:u,children:u?a.jsxs("span",{className:"flex items-center",children:[a.jsx(Ee,{size:"sm",className:"mr-2"})," Running Diagnostics..."]}):a.jsxs("span",{className:"flex items-center",children:[a.jsx(xc,{className:"mr-2"})," Run Diagnostics"]})})]}):a.jsx("div",{className:"space-y-4",children:f.map(_=>a.jsxs("div",{className:"p-4 border dark:border-gray-700 rounded-lg",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center mr-3",children:_.chat_groups.avatar_url?a.jsx("img",{src:_.chat_groups.avatar_url,alt:_.chat_groups.name,className:"w-full h-full rounded-full object-cover"}):a.jsx(rt,{className:"text-blue-600 dark:text-blue-400"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:_.chat_groups.name}),a.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[_.is_admin?"Admin":"Member","  Joined on ",new Date(_.joined_at).toLocaleDateString()]})]})]}),a.jsx("div",{className:"mt-3 text-sm text-gray-600 dark:text-gray-300",children:_.chat_groups.description||"No description provided"}),a.jsx("div",{className:"mt-3 flex",children:a.jsx("button",{onClick:()=>r(`/messages/group/${_.group_id}`),className:zf,children:"Open Chat"})})]},_.id))})]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white flex items-center",children:[a.jsx(xc,{className:"mr-2"})," Diagnostics"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:p,className:oU,disabled:u,children:u?a.jsxs("span",{className:"flex items-center",children:[a.jsx(Ee,{size:"sm",className:"mr-2"})," Running..."]}):a.jsxs("span",{className:"flex items-center",children:[a.jsx(L2,{className:"mr-2"})," Run Diagnostics"]})}),o&&a.jsx("button",{onClick:y,className:zf,disabled:i||o.status==="success",children:i?a.jsxs("span",{className:"flex items-center",children:[a.jsx(Ee,{size:"sm",className:"mr-2"})," Fixing..."]}):"Auto-Fix Issues"})]})]}),o?a.jsxs("div",{children:[a.jsxs("div",{className:`p-4 rounded-lg mb-4 flex items-start ${o.status==="success"?"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-200":o.status==="error"?"bg-red-100 dark:bg-red-900/20 text-red-800 dark:text-red-200":o.status==="warning"?"bg-yellow-100 dark:bg-yellow-900/20 text-yellow-800 dark:text-yellow-200":"bg-blue-100 dark:bg-blue-900/20 text-blue-800 dark:text-blue-200"}`,children:[a.jsx("div",{className:"mr-3 mt-0.5",children:x(o.status)}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold mb-1",children:o.message}),o.issues&&o.issues.length>0?a.jsx("ul",{className:"list-disc list-inside space-y-1 mt-2",children:o.issues.map((_,k)=>a.jsxs("li",{children:[_.message,_.details&&a.jsxs("span",{className:"text-sm opacity-75",children:[" (",_.details,")"]})]},k))}):o.status==="success"?a.jsx("p",{children:"All systems operational. Chat functionality is working correctly."}):null]})]}),o.publicGroups&&o.publicGroups.length>0&&a.jsxs("div",{className:"mt-4",children:[a.jsx("h3",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Available Public Groups:"}),a.jsx("ul",{className:"space-y-2",children:o.publicGroups.map(_=>a.jsxs("li",{className:"flex items-center",children:[a.jsx(rt,{className:"mr-2 text-blue-500"}),_.name]},_.id))})]})]}):a.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[a.jsx("p",{children:"Run the diagnostics to check your chat access."}),a.jsx("p",{className:"mt-2 text-sm",children:"This will check if you can access chat groups and identify any issues."})]})]})]})},t4="https://ohserebigziyxlxpkaib.supabase.co",r4="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9oc2VyZWJpZ3ppeXhseHBrYWliIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTI3NDk0MTAsImV4cCI6MjAyODMyNTQxMH0.2mVOdgG-4QPVjVxqKshjFmcAyVELY6KYHtqlR-KLpvw",iU=td(t4,r4,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!1}}),sb=()=>{const[e,t]=m.useState(!0),[r,n]=m.useState(null),[s,o]=m.useState(null),i=ot(),l=c=>{if(!c||c.length<2)return null;const d=c.substring(1).split("&"),f={};return d.forEach(h=>{try{const[g,b]=h.split("=");g&&b&&(f[decodeURIComponent(g)]=decodeURIComponent(b.replace(/\+/g," ")))}catch(g){console.warn("AuthCallback: Failed to parse key-value pair in hash:",h,g)}}),f};return m.useEffect(()=>{let c=!0;return(async()=>{try{if(!c)return;t(!0),n(null),console.log("========================="),console.log("AuthCallbackPage: Processing OAuth callback (Reverted Version)"),console.log("CURRENT URL:",window.location.href),console.log("URL Hash:",window.location.hash),console.log("Environment check:"),console.log("- VITE_SUPABASE_URL:","https://ohserebigziyxlxpkaib.supabase.co"),console.log("- VITE_SUPABASE_KEY:","SET"),console.log("=========================");const d={timestamp:new Date().toISOString(),url:window.location.href,hash:window.location.hash,supabaseUrlUsed:t4,supabaseKeySet:!!r4,userAgent:navigator.userAgent,authMethodAttempted:"None"};o(d);try{d.authMethodAttempted="getSession",o({...d}),console.log("AuthCallback: Attempt 1 - Checking existing session...");const{data:f,error:h}=await z.auth.getSession();if(h)console.error("AuthCallback: Error getting session:",h);else if(f!=null&&f.session){console.log("AuthCallback: SUCCESS (Approach 1)! Valid session detected:",f.session.user.id),localStorage.setItem("auth_method","existing_session"),ee.success("Already signed in!"),i("/home",{replace:!0});return}else console.log("AuthCallback: No existing session found.")}catch(f){console.error("AuthCallback: getSession check error:",f)}try{d.authMethodAttempted="exchangeCodeForSession",o({...d}),console.log("AuthCallback: Attempt 2 - Trying exchangeCodeForSession...");const{error:f}=await z.auth.exchangeCodeForSession(window.location.href);if(f)console.error("AuthCallback: Error with exchangeCodeForSession:",f);else{const{data:h}=await z.auth.getSession();if(h!=null&&h.session){console.log("AuthCallback: SUCCESS (Approach 2)! Session obtained via code exchange:",h.session.user.id),localStorage.setItem("auth_method","code_exchange"),ee.success("Successfully signed in!"),i("/home",{replace:!0});return}else console.error("AuthCallback: exchangeCodeForSession succeeded but no session found afterwards.")}}catch(f){console.error("AuthCallback: exchangeCodeForSession error:",f)}if(window.location.hash)try{d.authMethodAttempted="manualHashParsing",o({...d}),console.log("AuthCallback: Attempt 3 - Processing hash fragment...");const f=l(window.location.hash);if(f&&f.access_token){console.log("AuthCallback: Found access_token in hash. Params:",Object.keys(f).join(", "));const h={access_token:f.access_token,refresh_token:f.refresh_token||""};console.log("AuthCallback: Calling setSession with tokens...");const{data:g,error:b}=await iU.auth.setSession(h);if(b)throw console.error("AuthCallback: Error setting session manually:",b),b;if(g!=null&&g.session){console.log("AuthCallback: SUCCESS (Approach 3)! Session set manually:",g.session.user.id),localStorage.setItem("auth_method","manual_hash"),await z.auth.setSession(h),ee.success("Successfully signed in!"),i("/home",{replace:!0});return}else console.error("AuthCallback: Manual setSession call did not return a session.")}else{if(f!=null&&f.error)throw console.error("AuthCallback: Error found in hash fragment:",f.error,f.error_description),new Error(`OAuth Provider Error: ${f.error_description||f.error}`);console.error("AuthCallback: No access_token or error found in hash.")}}catch(f){if(console.error("AuthCallback: Manual hash processing error:",f),f instanceof Error)throw f}else console.log("AuthCallback: No hash fragment present in URL.");throw console.error("AuthCallback: All authentication approaches failed."),new Error("Unable to establish session. Please try logging in again.")}catch(d){console.error("AuthCallbackPage: Fatal error during callback handling:",d),c&&(n(d.message||"An unknown error occurred during authentication."),t(!1),o(f=>({...f,error:d.message,finalStatus:"Failed"})))}})(),()=>{c=!1}},[i]),a.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-100 dark:bg-neutral-900 p-4",children:a.jsxs("div",{className:"text-center max-w-lg w-full",children:[e&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-rose-500 mx-auto mb-4"}),a.jsx("h1",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200 mb-2",children:"Processing Authentication..."}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Please wait while we verify your login."})]}),r&&a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"mx-auto h-12 w-12 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("h1",{className:"text-xl font-semibold text-red-600 dark:text-red-400 mt-4 mb-2",children:"Authentication Failed"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4 whitespace-pre-wrap",children:r}),a.jsx("button",{onClick:()=>i("/login",{replace:!0}),className:"mt-6 px-4 py-2 bg-rose-500 text-white rounded-md hover:bg-rose-600 transition-colors",children:"Return to Login"})]}),s&&a.jsxs("details",{className:"mt-6 text-left",children:[a.jsx("summary",{className:"cursor-pointer text-sm text-gray-500 dark:text-gray-400",children:"Show Debug Info"}),a.jsx("pre",{className:"mt-2 text-xs bg-gray-200 dark:bg-gray-800 p-3 rounded overflow-auto",children:JSON.stringify(s,null,2)})]})]})})},lU=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],cU=()=>{const{t:e}=Yr(),t=ot(),{user:r,loading:n,setHasCompletedProfile:s,refreshUserData:o}=$e(),[i,l]=m.useState(""),[c,u]=m.useState(null),[d,f]=m.useState(null),[h,g]=m.useState(1),[b,v]=m.useState([]),[w,p]=m.useState(!1);m.useEffect(()=>{(async()=>{var I,C,L,P,D;if(n||!r){console.log("CompleteProfilePage: Skipping loadUserData - auth loading or no user.");return}try{console.log("CompleteProfilePage: Loading user data from user object:",r.id);const A=((I=r.user_metadata)==null?void 0:I.profile_completed)===!0;console.log("Profile complete in metadata:",A),(C=r.user_metadata)!=null&&C.full_name?(l(r.user_metadata.full_name),console.log("Loaded fullName from metadata:",r.user_metadata.full_name)):r.email&&(l(r.email.split("@")[0]),console.log("Set fallback fullName from email:",r.email.split("@")[0])),(L=r.user_metadata)!=null&&L.avatar_url&&(u(r.user_metadata.avatar_url),console.log("Loaded avatarUrl from metadata")),(P=r.user_metadata)!=null&&P.avatar_emoji&&(f(r.user_metadata.avatar_emoji),console.log("Loaded avatarEmoji from metadata")),(D=r.user_metadata)!=null&&D.interests&&Array.isArray(r.user_metadata.interests)&&(v(r.user_metadata.interests),console.log("Loaded interests from metadata:",r.user_metadata.interests));try{const{data:F,error:O}=await z.from("profiles").select("*").eq("id",r.id).maybeSingle();O&&O.code!=="PGRST116"&&console.error("Error loading profile data:",O),F&&(console.log("Found profile data in database"),F.full_name&&!i&&(l(F.full_name),console.log("Loaded fullName from database:",F.full_name)),F.avatar_url&&!c&&(u(F.avatar_url),console.log("Loaded avatarUrl from database")),F.avatar_emoji&&!d&&(f(F.avatar_emoji),console.log("Loaded avatarEmoji from database")))}catch(F){console.error("Error querying profiles database:",F)}try{const{data:F,error:O}=await z.from("user_interests").select("interest").eq("user_id",r.id);if(O&&console.error("Error loading interests:",O),F&&F.length>0&&b.length===0){const U=F.map(S=>S.interest);v(U),console.log("Loaded interests from database:",U)}}catch(F){console.error("Error querying interests database:",F)}try{const{data:F,error:O}=await z.from("users").select("full_name, avatar_url, avatar_emoji, interests").eq("id",r.id).maybeSingle();O&&O.code!=="PGRST116"&&console.error("Error loading user data:",O),F&&(console.log("Found user data in database"),F.full_name&&!i&&(l(F.full_name),console.log("Loaded fullName from users table:",F.full_name)),F.avatar_url&&!c&&(u(F.avatar_url),console.log("Loaded avatarUrl from users table")),F.avatar_emoji&&!d&&(f(F.avatar_emoji),console.log("Loaded avatarEmoji from users table")),F.interests&&Array.isArray(F.interests)&&b.length===0&&(v(F.interests),console.log("Loaded interests from users table:",F.interests)))}catch(F){console.error("Error querying users database:",F)}}catch(A){console.error("Error in loadUserData:",A)}})()},[r,n]);const y=()=>{if(!i.trim()){q.error("Please enter your full name");return}if(!c&&!d){q.error("Please select an avatar or emoji");return}g(2)},x=async N=>{if(N.preventDefault(),!!r){if(b.length===0){q.error("Please select at least 1 interest");return}try{p(!0),console.log("CompleteProfilePage: Submitting profile data");const I=[];I.push(z.auth.updateUser({data:{full_name:i,avatar_url:c,avatar_emoji:d,interests:b,profile_completed:!0}}).then(({error:D})=>{D?console.error("Error updating auth metadata:",D):console.log("Auth metadata updated successfully")})),I.push(z.from("profiles").upsert({id:r.id,full_name:i,avatar_url:c,avatar_emoji:d,is_profile_complete:!0,updated_at:new Date().toISOString()},{onConflict:"id"}).then(({error:D})=>{D?console.error("Error updating profiles table:",D):console.log("Profiles table updated successfully")})),I.push(z.from("users").upsert({id:r.id,full_name:i,avatar_url:c,avatar_emoji:d,interests:b,profile_completed:!0,email:r.email},{onConflict:"id"}).then(({error:D})=>{D?console.error("Error updating users table:",D):console.log("Users table updated successfully")})),I.push(z.from("user_interests").delete().eq("user_id",r.id).then(async({error:D})=>{if(D)console.error("Error deleting existing interests:",D);else if(console.log("Existing interests deleted successfully"),b.length>0){const A=b.map(O=>({user_id:r.id,interest:O})),{error:F}=await z.from("user_interests").insert(A);F?console.error("Error inserting new interests:",F):console.log("New interests inserted successfully")}}));const C=await Promise.allSettled(I);console.log("Profile update results:",C);const L=C[0].status==="rejected",P=C[1].status==="rejected";L||P?(L&&console.error("Auth update failed:",C[0].reason),P&&console.error("Profile update failed:",C[1].reason),q.error("Failed to save profile completely. Please try again.")):(s(!0),q.success("Profile completed successfully!"),await o(),t("/home",{replace:!0}))}catch(I){console.error("Error submitting profile:",I),q.error("An error occurred while saving your profile.")}finally{p(!1)}}},_=()=>{console.log("CompleteProfilePage: Skipping profile completion"),s(!0),q("Profile completion skipped."),t("/home",{replace:!0})},k=(N,I)=>{N==="url"?(u(I),f(null)):N==="emoji"?(f(I),u(null)):N==="file"&&(I instanceof File?j(I):(console.warn("Avatar change type 'file' received non-File value:",I),u(I),f(null)))},j=async N=>{if(r){p(!0);try{const I=N.name.split(".").pop(),C=`${r.id}/avatar.${I}`,{error:L}=await z.storage.from("avatars").upload(C,N,{upsert:!0});if(L)throw L;const{data:P}=z.storage.from("avatars").getPublicUrl(C);P.publicUrl&&(u(P.publicUrl),f(null),q.success("Avatar uploaded!"))}catch(I){console.error("Error uploading avatar:",I),q.error("Failed to upload avatar.")}finally{p(!1)}}},E=N=>{v(I=>I.includes(N)?I.filter(C=>C!==N):I.length<10?[...I,N]:(q.error("You can select up to 10 interests."),I))};return n?a.jsx("div",{className:"flex justify-center items-center h-screen",children:"Loading session..."}):!n&&!r?(console.log("CompleteProfilePage: Auth loaded, but no user found. Redirecting to login."),m.useEffect(()=>{t("/login")},[t]),null):a.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white dark:bg-gray-900 p-4",children:a.jsxs("div",{className:"w-full max-w-2xl bg-white dark:bg-gray-800 rounded-xl shadow-xl p-8 space-y-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:h===1?"Complete Your Profile":"Select Your Interests"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:h===1?"Tell us about yourself":"Choose what you love (up to 10)"}),a.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-1.5 mt-4",children:a.jsx("div",{className:"bg-gradient-to-r from-rose-500 to-indigo-500 h-1.5 rounded-full transition-all duration-500 ease-out",style:{width:`${h===1?"50%":"100%"}`}})})]}),a.jsxs("form",{onSubmit:x,className:"space-y-6",children:[h===1&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Full Name *"}),a.jsx("input",{type:"text",id:"fullName",value:i,onChange:N=>l(N.target.value),placeholder:"Enter your full name",className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-rose-500 focus:border-rose-500 dark:bg-gray-700 dark:text-white",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Choose Your Avatar *"}),a.jsx(ra,{userId:r==null?void 0:r.id,avatarUrl:c,avatarEmoji:d,fullName:i,size:"lg",editable:!0,onAvatarChange:k,suggestedEmojis:lU})]}),a.jsx(xe,{type:"button",onClick:y,className:"w-full",children:"Next: Select Interests"})]}),h===2&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Selected Interests (",b.length,"/10)"]}),b.length>0&&a.jsx("div",{className:"mb-4 flex flex-wrap gap-2 p-2 border border-blue-200 dark:border-blue-800 bg-blue-50 dark:bg-blue-900/30 rounded-lg",children:b.map(N=>a.jsx("button",{onClick:()=>E(N),className:"px-2 py-1 bg-blue-50 dark:bg-blue-800 text-blue-700 dark:text-blue-300 rounded-md hover:bg-blue-100 dark:hover:bg-blue-700",children:N},`${N}-${Math.random()}`))})]}),a.jsx("div",{className:"max-h-60 overflow-y-auto p-3 border border-gray-200 dark:border-gray-700 rounded-lg scrollbar-thin scrollbar-thumb-gray-400 dark:scrollbar-thumb-gray-600 scrollbar-track-gray-100 dark:scrollbar-track-gray-800",children:a.jsx("div",{className:"flex flex-wrap gap-2",children:PS.map(N=>a.jsx("button",{type:"button",onClick:()=>E(N),disabled:b.includes(N),className:`px-3 py-1.5 rounded-full text-sm transition-all duration-200 ${b.includes(N)?"bg-gray-300 text-gray-500 cursor-not-allowed dark:bg-gray-600 dark:text-gray-400 opacity-70":"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300 hover:bg-gradient-to-r hover:from-rose-100 hover:to-indigo-100 dark:hover:from-rose-900/50 dark:hover:to-indigo-900/50 hover:shadow"}`,children:N},N))})}),a.jsx("p",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:"Select at least one interest to help us connect you with relevant content."}),a.jsxs("div",{className:"flex justify-between gap-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[a.jsx(xe,{type:"button",onClick:()=>g(1),variant:"secondary",children:"Back"}),a.jsx(xe,{type:"submit",disabled:w||b.length===0,className:"min-w-[120px]",children:w?a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Finishing..."]}):"Finish Setup"})]})]})]}),a.jsx(xe,{type:"button",variant:"secondary",onClick:_,className:"w-full text-center text-xs text-gray-500 dark:text-gray-400 hover:text-rose-600 dark:hover:text-rose-400 mt-2",children:"Skip for now"})]})})},Ir=m.forwardRef(({className:e,type:t,...r},n)=>a.jsx("input",{type:t,className:je("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Ir.displayName="Input";const c0=m.forwardRef(({className:e,...t},r)=>a.jsx("textarea",{className:je("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm transition-colors placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));c0.displayName="Textarea";var uU="Label",n4=m.forwardRef((e,t)=>a.jsx(Se.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));n4.displayName=uU;var s4=n4;const dU=jk("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),qt=m.forwardRef(({className:e,...t},r)=>a.jsx(s4,{ref:r,className:je(dU(),e),...t}));qt.displayName=s4.displayName;function ob(e,[t,r]){return Math.min(r,Math.max(t,e))}function fU(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var o4=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),hU="VisuallyHidden",mU=m.forwardRef((e,t)=>a.jsx(Se.span,{...e,ref:t,style:{...o4,...e.style}}));mU.displayName=hU;var gU=[" ","Enter","ArrowUp","ArrowDown"],pU=[" ","Enter"],zs="Select",[wd,_d,yU]=Gp(zs),[wa,zG]=Ks(zs,[yU,vd]),kd=vd(),[vU,ls]=wa(zs),[xU,bU]=wa(zs),a4=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:o,value:i,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:g,form:b}=e,v=kd(t),[w,p]=m.useState(null),[y,x]=m.useState(null),[_,k]=m.useState(!1),j=qp(u),[E,N]=du({prop:n,defaultProp:s??!1,onChange:o,caller:zs}),[I,C]=du({prop:i,defaultProp:l,onChange:c,caller:zs}),L=m.useRef(null),P=w?b||!!w.closest("form"):!0,[D,A]=m.useState(new Set),F=Array.from(D).map(O=>O.props.value).join(";");return a.jsx(QS,{...v,children:a.jsxs(vU,{required:g,scope:t,trigger:w,onTriggerChange:p,valueNode:y,onValueNodeChange:x,valueNodeHasChildren:_,onValueNodeHasChildrenChange:k,contentId:Ts(),value:I,onValueChange:C,open:E,onOpenChange:N,dir:j,triggerPointerDownPosRef:L,disabled:h,children:[a.jsx(wd.Provider,{scope:t,children:a.jsx(xU,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(O=>{A(U=>new Set(U).add(O))},[]),onNativeOptionRemove:m.useCallback(O=>{A(U=>{const S=new Set(U);return S.delete(O),S})},[]),children:r})}),P?a.jsxs(T4,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:f,value:I,onChange:O=>C(O.target.value),disabled:h,form:b,children:[I===void 0?a.jsx("option",{value:""}):null,Array.from(D)]},F):null]})})};a4.displayName=zs;var i4="SelectTrigger",l4=m.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,o=kd(r),i=ls(i4,r),l=i.disabled||n,c=De(t,i.onTriggerChange),u=_d(r),d=m.useRef("touch"),[f,h,g]=R4(v=>{const w=u().filter(x=>!x.disabled),p=w.find(x=>x.value===i.value),y=M4(w,v,p);y!==void 0&&i.onValueChange(y.value)}),b=v=>{l||(i.onOpenChange(!0),g()),v&&(i.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return a.jsx(ZS,{asChild:!0,...o,children:a.jsx(Se.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":A4(i.value)?"":void 0,...s,ref:c,onClick:ue(s.onClick,v=>{v.currentTarget.focus(),d.current!=="mouse"&&b(v)}),onPointerDown:ue(s.onPointerDown,v=>{d.current=v.pointerType;const w=v.target;w.hasPointerCapture(v.pointerId)&&w.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(b(v),v.preventDefault())}),onKeyDown:ue(s.onKeyDown,v=>{const w=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&h(v.key),!(w&&v.key===" ")&&gU.includes(v.key)&&(b(),v.preventDefault())})})})});l4.displayName=i4;var c4="SelectValue",u4=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:o,placeholder:i="",...l}=e,c=ls(c4,r),{onValueNodeHasChildrenChange:u}=c,d=o!==void 0,f=De(t,c.onValueNodeChange);return Et(()=>{u(d)},[u,d]),a.jsx(Se.span,{...l,ref:f,style:{pointerEvents:"none"},children:A4(c.value)?a.jsx(a.Fragment,{children:i}):o})});u4.displayName=c4;var wU="SelectIcon",d4=m.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return a.jsx(Se.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});d4.displayName=wU;var _U="SelectPortal",f4=e=>a.jsx(dd,{asChild:!0,...e});f4.displayName=_U;var Bs="SelectContent",h4=m.forwardRef((e,t)=>{const r=ls(Bs,e.__scopeSelect),[n,s]=m.useState();if(Et(()=>{s(new DocumentFragment)},[]),!r.open){const o=n;return o?ca.createPortal(a.jsx(m4,{scope:e.__scopeSelect,children:a.jsx(wd.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),o):null}return a.jsx(g4,{...e,ref:t})});h4.displayName=Bs;var vr=10,[m4,cs]=wa(Bs),kU="SelectContentImpl",SU=Is("SelectContent.RemoveScroll"),g4=m.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:g,sticky:b,hideWhenDetached:v,avoidCollisions:w,...p}=e,y=ls(Bs,r),[x,_]=m.useState(null),[k,j]=m.useState(null),E=De(t,R=>_(R)),[N,I]=m.useState(null),[C,L]=m.useState(null),P=_d(r),[D,A]=m.useState(!1),F=m.useRef(!1);m.useEffect(()=>{if(x)return Dp(x)},[x]),Lp();const O=m.useCallback(R=>{const[G,...Q]=P().map(H=>H.ref.current),[W]=Q.slice(-1),K=document.activeElement;for(const H of R)if(H===K||(H==null||H.scrollIntoView({block:"nearest"}),H===G&&k&&(k.scrollTop=0),H===W&&k&&(k.scrollTop=k.scrollHeight),H==null||H.focus(),document.activeElement!==K))return},[P,k]),U=m.useCallback(()=>O([N,x]),[O,N,x]);m.useEffect(()=>{D&&U()},[D,U]);const{onOpenChange:S,triggerPointerDownPosRef:M}=y;m.useEffect(()=>{if(x){let R={x:0,y:0};const G=W=>{var K,H;R={x:Math.abs(Math.round(W.pageX)-(((K=M.current)==null?void 0:K.x)??0)),y:Math.abs(Math.round(W.pageY)-(((H=M.current)==null?void 0:H.y)??0))}},Q=W=>{R.x<=10&&R.y<=10?W.preventDefault():x.contains(W.target)||S(!1),document.removeEventListener("pointermove",G),M.current=null};return M.current!==null&&(document.addEventListener("pointermove",G),document.addEventListener("pointerup",Q,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",G),document.removeEventListener("pointerup",Q,{capture:!0})}}},[x,S,M]),m.useEffect(()=>{const R=()=>S(!1);return window.addEventListener("blur",R),window.addEventListener("resize",R),()=>{window.removeEventListener("blur",R),window.removeEventListener("resize",R)}},[S]);const[T,B]=R4(R=>{const G=P().filter(K=>!K.disabled),Q=G.find(K=>K.ref.current===document.activeElement),W=M4(G,R,Q);W&&setTimeout(()=>W.ref.current.focus())}),V=m.useCallback((R,G,Q)=>{const W=!F.current&&!Q;(y.value!==void 0&&y.value===G||W)&&(I(R),W&&(F.current=!0))},[y.value]),re=m.useCallback(()=>x==null?void 0:x.focus(),[x]),se=m.useCallback((R,G,Q)=>{const W=!F.current&&!Q;(y.value!==void 0&&y.value===G||W)&&L(R)},[y.value]),de=n==="popper"?Lm:p4,oe=de===Lm?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:g,sticky:b,hideWhenDetached:v,avoidCollisions:w}:{};return a.jsx(m4,{scope:r,content:x,viewport:k,onViewportChange:j,itemRefCallback:V,selectedItem:N,onItemLeave:re,itemTextRefCallback:se,focusSelectedItem:U,selectedItemText:C,position:n,isPositioned:D,searchRef:T,children:a.jsx(hd,{as:SU,allowPinchZoom:!0,children:a.jsx(ud,{asChild:!0,trapped:y.open,onMountAutoFocus:R=>{R.preventDefault()},onUnmountAutoFocus:ue(s,R=>{var G;(G=y.trigger)==null||G.focus({preventScroll:!0}),R.preventDefault()}),children:a.jsx(cd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:R=>R.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:a.jsx(de,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:R=>R.preventDefault(),...p,...oe,onPlaced:()=>A(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...p.style},onKeyDown:ue(p.onKeyDown,R=>{const G=R.ctrlKey||R.altKey||R.metaKey;if(R.key==="Tab"&&R.preventDefault(),!G&&R.key.length===1&&B(R.key),["ArrowUp","ArrowDown","Home","End"].includes(R.key)){let W=P().filter(K=>!K.disabled).map(K=>K.ref.current);if(["ArrowUp","End"].includes(R.key)&&(W=W.slice().reverse()),["ArrowUp","ArrowDown"].includes(R.key)){const K=R.target,H=W.indexOf(K);W=W.slice(H+1)}setTimeout(()=>O(W)),R.preventDefault()}})})})})})})});g4.displayName=kU;var jU="SelectItemAlignedPosition",p4=m.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,o=ls(Bs,r),i=cs(Bs,r),[l,c]=m.useState(null),[u,d]=m.useState(null),f=De(t,E=>d(E)),h=_d(r),g=m.useRef(!1),b=m.useRef(!0),{viewport:v,selectedItem:w,selectedItemText:p,focusSelectedItem:y}=i,x=m.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&u&&v&&w&&p){const E=o.trigger.getBoundingClientRect(),N=u.getBoundingClientRect(),I=o.valueNode.getBoundingClientRect(),C=p.getBoundingClientRect();if(o.dir!=="rtl"){const K=C.left-N.left,H=I.left-K,$=E.left-H,X=E.width+$,ne=Math.max(X,N.width),ie=window.innerWidth-vr,J=ob(H,[vr,Math.max(vr,ie-ne)]);l.style.minWidth=X+"px",l.style.left=J+"px"}else{const K=N.right-C.right,H=window.innerWidth-I.right-K,$=window.innerWidth-E.right-H,X=E.width+$,ne=Math.max(X,N.width),ie=window.innerWidth-vr,J=ob(H,[vr,Math.max(vr,ie-ne)]);l.style.minWidth=X+"px",l.style.right=J+"px"}const L=h(),P=window.innerHeight-vr*2,D=v.scrollHeight,A=window.getComputedStyle(u),F=parseInt(A.borderTopWidth,10),O=parseInt(A.paddingTop,10),U=parseInt(A.borderBottomWidth,10),S=parseInt(A.paddingBottom,10),M=F+O+D+S+U,T=Math.min(w.offsetHeight*5,M),B=window.getComputedStyle(v),V=parseInt(B.paddingTop,10),re=parseInt(B.paddingBottom,10),se=E.top+E.height/2-vr,de=P-se,oe=w.offsetHeight/2,R=w.offsetTop+oe,G=F+O+R,Q=M-G;if(G<=se){const K=L.length>0&&w===L[L.length-1].ref.current;l.style.bottom="0px";const H=u.clientHeight-v.offsetTop-v.offsetHeight,$=Math.max(de,oe+(K?re:0)+H+U),X=G+$;l.style.height=X+"px"}else{const K=L.length>0&&w===L[0].ref.current;l.style.top="0px";const $=Math.max(se,F+v.offsetTop+(K?V:0)+oe)+Q;l.style.height=$+"px",v.scrollTop=G-se+v.offsetTop}l.style.margin=`${vr}px 0`,l.style.minHeight=T+"px",l.style.maxHeight=P+"px",n==null||n(),requestAnimationFrame(()=>g.current=!0)}},[h,o.trigger,o.valueNode,l,u,v,w,p,o.dir,n]);Et(()=>x(),[x]);const[_,k]=m.useState();Et(()=>{u&&k(window.getComputedStyle(u).zIndex)},[u]);const j=m.useCallback(E=>{E&&b.current===!0&&(x(),y==null||y(),b.current=!1)},[x,y]);return a.jsx(CU,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:j,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:a.jsx(Se.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});p4.displayName=jU;var NU="SelectPopperPosition",Lm=m.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=vr,...o}=e,i=kd(r);return a.jsx(ej,{...i,...o,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Lm.displayName=NU;var[CU,u0]=wa(Bs,{}),Dm="SelectViewport",y4=m.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,o=cs(Dm,r),i=u0(Dm,r),l=De(t,o.onViewportChange),c=m.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(wd.Slot,{scope:r,children:a.jsx(Se.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ue(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=i;if(h!=null&&h.current&&f){const g=Math.abs(c.current-d.scrollTop);if(g>0){const b=window.innerHeight-vr*2,v=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),p=Math.max(v,w);if(p<b){const y=p+g,x=Math.min(b,y),_=y-x;f.style.height=x+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});y4.displayName=Dm;var v4="SelectGroup",[EU,PU]=wa(v4),TU=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Ts();return a.jsx(EU,{scope:r,id:s,children:a.jsx(Se.div,{role:"group","aria-labelledby":s,...n,ref:t})})});TU.displayName=v4;var x4="SelectLabel",b4=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=PU(x4,r);return a.jsx(Se.div,{id:s.id,...n,ref:t})});b4.displayName=x4;var Su="SelectItem",[AU,w4]=wa(Su),_4=m.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:o,...i}=e,l=ls(Su,r),c=cs(Su,r),u=l.value===n,[d,f]=m.useState(o??""),[h,g]=m.useState(!1),b=De(t,y=>{var x;return(x=c.itemRefCallback)==null?void 0:x.call(c,y,n,s)}),v=Ts(),w=m.useRef("touch"),p=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(AU,{scope:r,value:n,disabled:s,textId:v,isSelected:u,onItemTextChange:m.useCallback(y=>{f(x=>x||((y==null?void 0:y.textContent)??"").trim())},[]),children:a.jsx(wd.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:a.jsx(Se.div,{role:"option","aria-labelledby":v,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:b,onFocus:ue(i.onFocus,()=>g(!0)),onBlur:ue(i.onBlur,()=>g(!1)),onClick:ue(i.onClick,()=>{w.current!=="mouse"&&p()}),onPointerUp:ue(i.onPointerUp,()=>{w.current==="mouse"&&p()}),onPointerDown:ue(i.onPointerDown,y=>{w.current=y.pointerType}),onPointerMove:ue(i.onPointerMove,y=>{var x;w.current=y.pointerType,s?(x=c.onItemLeave)==null||x.call(c):w.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ue(i.onPointerLeave,y=>{var x;y.currentTarget===document.activeElement&&((x=c.onItemLeave)==null||x.call(c))}),onKeyDown:ue(i.onKeyDown,y=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&y.key===" "||(pU.includes(y.key)&&p(),y.key===" "&&y.preventDefault())})})})})});_4.displayName=Su;var Ja="SelectItemText",k4=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...o}=e,i=ls(Ja,r),l=cs(Ja,r),c=w4(Ja,r),u=bU(Ja,r),[d,f]=m.useState(null),h=De(t,p=>f(p),c.onItemTextChange,p=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,p,c.value,c.disabled)}),g=d==null?void 0:d.textContent,b=m.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:v,onNativeOptionRemove:w}=u;return Et(()=>(v(b),()=>w(b)),[v,w,b]),a.jsxs(a.Fragment,{children:[a.jsx(Se.span,{id:c.textId,...o,ref:h}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?ca.createPortal(o.children,i.valueNode):null]})});k4.displayName=Ja;var S4="SelectItemIndicator",j4=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return w4(S4,r).isSelected?a.jsx(Se.span,{"aria-hidden":!0,...n,ref:t}):null});j4.displayName=S4;var Om="SelectScrollUpButton",N4=m.forwardRef((e,t)=>{const r=cs(Om,e.__scopeSelect),n=u0(Om,e.__scopeSelect),[s,o]=m.useState(!1),i=De(t,n.onScrollButtonChange);return Et(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;o(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(E4,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});N4.displayName=Om;var Im="SelectScrollDownButton",C4=m.forwardRef((e,t)=>{const r=cs(Im,e.__scopeSelect),n=u0(Im,e.__scopeSelect),[s,o]=m.useState(!1),i=De(t,n.onScrollButtonChange);return Et(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;o(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(E4,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});C4.displayName=Im;var E4=m.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,o=cs("SelectScrollButton",r),i=m.useRef(null),l=_d(r),c=m.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),Et(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),a.jsx(Se.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:ue(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:ue(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:ue(s.onPointerLeave,()=>{c()})})}),RU="SelectSeparator",P4=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(Se.div,{"aria-hidden":!0,...n,ref:t})});P4.displayName=RU;var Fm="SelectArrow",MU=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=kd(r),o=ls(Fm,r),i=cs(Fm,r);return o.open&&i.position==="popper"?a.jsx(tj,{...s,...n,ref:t}):null});MU.displayName=Fm;var LU="SelectBubbleInput",T4=m.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=m.useRef(null),o=De(n,s),i=fU(t);return m.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[i,t]),a.jsx(Se.select,{...r,style:{...o4,...r.style},ref:o,defaultValue:t})});T4.displayName=LU;function A4(e){return e===""||e===void 0}function R4(e){const t=Er(e),r=m.useRef(""),n=m.useRef(0),s=m.useCallback(i=>{const l=r.current+i;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),o=m.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,o]}function M4(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let i=DU(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function DU(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var OU=a4,L4=l4,IU=u4,FU=d4,$U=f4,D4=h4,UU=y4,O4=b4,I4=_4,zU=k4,BU=j4,F4=N4,$4=C4,U4=P4;const z4=OU,B4=IU,d0=m.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(L4,{ref:n,className:je("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx(FU,{asChild:!0,children:a.jsx(Fk,{className:"h-4 w-4 opacity-50"})})]}));d0.displayName=L4.displayName;const V4=m.forwardRef(({className:e,...t},r)=>a.jsx(F4,{ref:r,className:je("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(zD,{className:"h-4 w-4"})}));V4.displayName=F4.displayName;const G4=m.forwardRef(({className:e,...t},r)=>a.jsx($4,{ref:r,className:je("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(Fk,{className:"h-4 w-4"})}));G4.displayName=$4.displayName;const f0=m.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>a.jsx($U,{children:a.jsxs(D4,{ref:s,className:je("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx(V4,{}),a.jsx(UU,{className:je("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(G4,{})]})}));f0.displayName=D4.displayName;const VU=m.forwardRef(({className:e,...t},r)=>a.jsx(O4,{ref:r,className:je("px-2 py-1.5 text-sm font-semibold",e),...t}));VU.displayName=O4.displayName;const h0=m.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(I4,{ref:n,className:je("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(BU,{children:a.jsx(Ik,{className:"h-4 w-4"})})}),a.jsx(zU,{children:t})]}));h0.displayName=I4.displayName;const GU=m.forwardRef(({className:e,...t},r)=>a.jsx(U4,{ref:r,className:je("-mx-1 my-1 h-px bg-muted",e),...t}));GU.displayName=U4.displayName;const qU=["technology","business","education","entertainment","health","sports","travel","art","food","music"],WU=()=>{const{t:e}=at(),t=ot(),[r,n]=m.useState(""),[s,o]=m.useState(null),[i,l]=m.useState(!1),{user:c}=$e(),u=m.useRef(null),[d,f]=m.useState({name:"",description:"",category:"technology",isPrivate:!1}),h=p=>{const{name:y,value:x,type:_}=p.target;f(k=>({...k,[y]:_==="checkbox"?p.target.checked:x}))},g=()=>{u.current&&u.current.click()},b=p=>{if(p.target.files&&p.target.files[0]){const y=p.target.files[0];if(y.size>5*1024*1024){ee.error("Image must be less than 5MB");return}if(!y.type.startsWith("image/")){ee.error("File must be an image");return}o(y);const x=new FileReader;x.onload=_=>{var k;(k=_.target)!=null&&k.result&&n(_.target.result)},x.readAsDataURL(y)}},v=p=>{p.stopPropagation(),n(""),o(null),u.current&&(u.current.value="")},w=async p=>{if(p.preventDefault(),!c){ee.error(e("errors.loginRequiredGroup")||"You must be logged in to create a group");return}if(!d.name.trim()){ee.error(e("errors.groupNameRequired")||"Group name is required");return}if(!d.category){ee.error(e("errors.groupCategoryRequired")||"Please select a category for the group");return}try{l(!0),console.log("Starting group creation with user:",c.id),console.log("Refreshing session before group creation...");try{const{error:P}=await fe.auth.refreshSession();P&&console.warn("Session refresh attempt failed:",P.message)}catch(P){console.warn("Exception during session refresh:",P)}console.log("Re-verifying session before insert...");const{data:y,error:x}=await fe.auth.getSession();if(x||!y.session){console.error("Session invalid right before insert:",x),ee.error("Authentication session problem. Please log in again."),l(!1);return}const _=y.session.user.id;console.log("Current authenticated user ID for group creation:",_),_!==c.id&&console.warn("User ID mismatch detected before insert! Using latest session ID.");let k="";if(s)try{const P=s.name.split(".").pop(),A=`group_images/${`${Math.random().toString(36).substring(2,15)}.${P}`}`;console.log("Uploading image:",A);const{error:F}=await fe.storage.from("images").upload(A,s,{cacheControl:"3600",upsert:!1});if(F){console.error("Error uploading image:",F),F.message.includes("File size limit")?ee.error("Image must be less than 5MB"):F.message.includes("Invalid file type")?ee.error("File must be an image (PNG, JPG, GIF)"):ee.error("Failed to upload image. Please try again.");return}const{data:{publicUrl:O}}=fe.storage.from("images").getPublicUrl(A);k=O,console.log("Image uploaded successfully:",k)}catch(P){console.error("Error in image upload:",P),ee.error("Failed to upload image. Please try again.");return}const j={name:d.name.trim(),description:d.description.trim(),category:d.category,privacy:d.isPrivate?"private":"public",image_url:k,created_by:_,created_at:new Date().toISOString()};console.log("Creating group with data:",j);let E;const{data:N,error:I}=await fe.from("groups").insert(j).select().single();if(I){if(console.error("Error creating group:",I),console.error("Error details:",{code:I.code,message:I.message,details:I.details,hint:I.hint}),I.code==="23505")ee.error("A group with this name already exists");else if(I.message.includes("created_by")){const{data:P,error:D}=await fe.from("groups").insert({...j,created_by:null}).select().single();if(D){console.error("Error in retry:",D),ee.error("Failed to create group. Please try again.");return}const{error:A}=await fe.from("groups").update({created_by:c.id}).eq("id",P.id);if(A){console.error("Error updating creator:",A),ee.error("Failed to set group creator. Please try again.");return}E=P}else I.message.includes("is_private")?ee.error("Error: Unable to set group privacy. Please try again."):I.message.includes("rules")?ee.error("Error: Unable to set group rules. Please try again."):I.message.includes("permission denied")?ee.error("Error: You do not have permission to create groups."):ee.error(`Failed to create group: ${I.message}`);return}E=N,console.log("Group created successfully:",E),console.log("Adding creator as member:",{group_id:E.id,user_id:c.id});const{error:C}=await fe.rpc("create_group_member",{p_group_id:E.id,p_user_id:c.id,p_role:"admin",p_status:"approved"});if(C){console.error("Error adding creator as member:",C),console.error("Error details:",{code:C.code,message:C.message,details:C.details,hint:C.hint}),await fe.from("groups").delete().eq("id",E.id),ee.error("Failed to set up group membership. Please try again.");return}const{error:L}=await fe.from("groups").update({member_count:1}).eq("id",E.id);L&&console.error("Error updating member count:",L),ee.success(e("success.groupCreated")||"Group created successfully!"),window.location.href=`/groups/${E.id}/chat`}catch(y){console.error("Error in handleSubmit:",y),ee.error(`${e("errors.groupCreationFailed")||"Failed to create group"}: ${y.message}`)}finally{l(!1)}};return a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 max-w-4xl mx-auto my-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-8",children:e("createGroup.title")||"Create a New Group"}),a.jsxs("form",{onSubmit:w,className:"space-y-8",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{onClick:g,className:`relative w-full max-w-2xl h-64 border-2 border-dashed ${r?"border-transparent":"border-gray-300 dark:border-gray-600"} rounded-lg flex items-center justify-center cursor-pointer overflow-hidden`,children:r?a.jsxs(a.Fragment,{children:[a.jsx("img",{src:r,alt:"Group",className:"w-full h-full object-cover"}),a.jsx("button",{type:"button",onClick:v,className:"absolute top-3 right-3 bg-red-500 text-white rounded-full p-2 hover:bg-red-600 shadow-lg",children:a.jsx(Kn,{size:20})})]}):a.jsxs("div",{className:"text-center p-6",children:[a.jsx(Hg,{className:"mx-auto h-16 w-16 text-gray-400"}),a.jsx("p",{className:"mt-4 text-base text-gray-500 dark:text-gray-400",children:"Click to upload group image"}),a.jsx("p",{className:"mt-2 text-sm text-gray-400 dark:text-gray-500",children:"PNG, JPG, GIF up to 5MB"})]})}),a.jsx("input",{type:"file",ref:u,onChange:b,accept:"image/*",className:"hidden"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx(qt,{htmlFor:"name",className:"block text-base font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("createGroup.nameLabel")||"Group Name *"}),a.jsx(Ir,{type:"text",id:"name",name:"name",value:d.name,onChange:h,placeholder:e("createGroup.namePlaceholder")||"E.g., Tech Enthusiasts, Book Club",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white text-base",required:!0})]}),a.jsxs("div",{children:[a.jsx(qt,{htmlFor:"category",className:"block text-base font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("createGroup.categoryLabel")||"Category"}),a.jsxs(z4,{onValueChange:p=>f({...d,category:p}),value:d.category,disabled:i,children:[a.jsx(d0,{className:"w-full",children:a.jsx(B4,{placeholder:e("createGroup.categoryPlaceholder")||"Select a category..."})}),a.jsx(f0,{children:qU.map(p=>a.jsx(h0,{value:p,children:e(`groups.categories.${p}`)||p.charAt(0).toUpperCase()+p.slice(1)},p))})]})]}),a.jsxs("div",{className:"flex items-center mt-8 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[a.jsx("input",{type:"checkbox",id:"isPrivate",name:"isPrivate",checked:d.isPrivate,onChange:h,className:"h-5 w-5 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"isPrivate",className:"ml-3 block text-base text-gray-700 dark:text-gray-300",children:e("createGroup.visibilityLabel")||"Visibility"})]})]}),a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{children:[a.jsx(qt,{htmlFor:"description",className:"block text-base font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("createGroup.descriptionLabel")||"Description"}),a.jsx(c0,{id:"description",name:"description",value:d.description,onChange:h,placeholder:e("createGroup.descriptionPlaceholder")||"What is this group about?",rows:8,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white text-base"})]})})]}),a.jsxs("div",{className:"flex justify-end space-x-4 mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:[a.jsx(xe,{type:"button",onClick:()=>t("/groups"),variant:"outline",disabled:i,children:e("buttons.cancel")||"Cancel"}),a.jsx(xe,{type:"submit",disabled:i,className:`px-6 py-3 ${i?"bg-gray-400":"bg-gradient-to-r from-indigo-500 to-rose-500 hover:opacity-90"} text-white rounded-lg transition-colors flex items-center justify-center font-medium text-base min-w-[120px]`,children:i?a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):e("createGroup.createButton")||"Create Group"})]})]})]})},Lr=["https://images.unsplash.com/photo-1523580494863-6f3031224c94?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2340&q=80","https://images.unsplash.com/photo-1519389950473-47ba0277781c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2340&q=80","https://images.unsplash.com/photo-1517245386807-bb43f82c33c4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2340&q=80","https://images.unsplash.com/photo-1522202176988-66273c2fd55f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2340&q=80","https://images.unsplash.com/photo-1517048676732-d65bc937f952?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2340&q=80","https://images.unsplash.com/photo-1511632765486-a01980e01a18?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2340&q=80"],HU=["technology","business","education","entertainment","health","sports","travel","art","food","music"],sc={technology:"",business:"",education:"",entertainment:"",health:"",sports:"",travel:"",art:"",food:"",music:"",all:""},KU=()=>{const{tWithTemplate:e}=at(),{user:t}=$e(),r=ot(),[n,s]=m.useState([]),[o,i]=m.useState(!0),[l,c]=m.useState(null),[u,d]=m.useState(""),[f,h]=m.useState("all"),[g,b]=m.useState(null),[v,w]=m.useState("all"),[p,y]=m.useState(!1);m.useEffect(()=>{if(t!=null&&t.id)try{console.log("Loading memberships from localStorage...");const P=localStorage.getItem("groupMemberships");if(P){const D=JSON.parse(P);console.log("Loaded memberships:",D),localStorage.setItem("membershipDataLoaded","true")}}catch(P){console.warn("Error loading group memberships from localStorage:",P)}},[t==null?void 0:t.id]),m.useEffect(()=>(v==="all"?x():_(),()=>{localStorage.removeItem("membershipDataLoaded")}),[t,v]);const x=async()=>{if(!t){console.log("No user, skipping fetchGroups");return}i(!0),c(null);try{console.log("Fetching groups...");const{data:P,error:D}=await fe.rpc("get_user_groups",{p_user_id:t.id});if(D){console.error("Error fetching groups via RPC:",D),console.log("Falling back to direct table queries...");const{data:A,error:F}=await fe.from("groups").select("*");if(F)throw console.error("Error fetching all groups:",F),F;console.log("Fetched all groups:",A);const{data:O,error:U}=await fe.from("group_members").select("group_id, role").eq("user_id",t.id);U&&console.error("Error fetching group memberships:",U),console.log("Fetched group memberships from group_members:",O);const{data:S,error:M}=await fe.from("chat_group_members").select("group_id, is_admin").eq("user_id",t.id);M&&console.error("Error fetching chat group memberships:",M),console.log("Fetched group memberships from chat_group_members:",S);const T=new Map;O&&O.forEach(V=>{T.set(V.group_id,{is_member:!0,role:V.role})}),S&&S.forEach(V=>{T.set(V.group_id,{is_member:!0,role:V.is_admin?"admin":"member"})}),console.log("Combined membership map:",Object.fromEntries(T));const B=(A||[]).map(V=>{const re=T.get(V.id);return{...V,is_member:!!re,is_admin:(re==null?void 0:re.role)==="admin",member_count:0}});console.log("Processed groups with membership info:",B),s(B),B.length>0&&k(B),B.length||E();return}if(console.log("Fetched groups via RPC:",P),P&&P.length>0){const A=P.map(F=>({...F,is_member:!0,member_count:F.member_count||0}));s(A)}else s([]),E()}catch(P){console.error("Error in fetchGroups:",P),c(P.message),E()}finally{i(!1)}},_=async()=>{try{if(i(!0),c(null),!(t!=null&&t.id)){console.log("User not authenticated, skipping my groups fetch"),s([]),i(!1);return}console.log("Fetching my groups from Supabase...");const{data:P,error:D}=await fe.from("group_members").select("group_id, role").eq("user_id",t.id);if(D){console.error("Error fetching group memberships:",D),c("Failed to load your groups"),s([]),i(!1);return}if(!P||P.length===0){console.log("No group memberships found for the user"),s([]),i(!1);return}const A=P.map(M=>M.group_id),F=new Map;P.forEach(M=>{F.set(M.group_id,{role:M.role})});const{data:O,error:U}=await fe.from("groups").select("id, name, description, image_url, category, created_at, created_by").in("id",A);if(U){console.error("Error fetching group details:",U),c("Failed to load your groups"),s([]),i(!1);return}const S=(O||[]).map(M=>{const T=F.get(M.id);return{...M,member_count:0,is_member:!0,is_admin:(T==null?void 0:T.role)==="admin"||!1}});console.log("Processed my groups:",S),s(S),S.length>0&&k(S)}catch(P){console.error("Error in fetchMyGroups:",P),ee.error("Failed to load your groups"),s([])}finally{i(!1)}},k=async P=>{try{const D=[...P],A=D.map(O=>fe.from("group_members").select("*",{count:"exact",head:!0}).eq("group_id",O.id));(await Promise.all(A)).forEach((O,U)=>{const{count:S,error:M}=O;!M&&S!==null&&(D[U].member_count=S)}),s(D)}catch(D){console.error("Error fetching member counts:",D)}},j=()=>[{id:"sample-1",name:"Tech Enthusiasts",description:"A group for discussing the latest in technology, gadgets, and software development. Join us for weekly virtual meetups!",category:"technology",image_url:Lr[0],created_at:new Date().toISOString(),member_count:24,is_member:!1,created_by:"sample"},{id:"sample-2",name:"Startup Founders",description:"Connect with other entrepreneurs and discuss business strategies, funding opportunities, and growth hacking techniques.",category:"business",image_url:Lr[1],created_at:new Date().toISOString(),member_count:15,is_member:!0,created_by:"sample"},{id:"sample-3",name:"Fitness Community",description:"Share workout tips, nutrition advice, and stay motivated together. We organize monthly fitness challenges with prizes!",category:"health",image_url:Lr[2],created_at:new Date().toISOString(),member_count:32,is_member:!1,created_by:"sample"},{id:"sample-4",name:"Travel Adventurers",description:"Exchange travel stories, tips, and plan group adventures around the world. From backpacking to luxury experiences!",category:"travel",image_url:Lr[3],created_at:new Date().toISOString(),member_count:18,is_member:!1,created_by:"sample"},{id:"sample-5",name:"Professional Network",description:"A space for professionals to connect, share job opportunities, and discuss career development strategies.",category:"business",image_url:Lr[4],created_at:new Date().toISOString(),member_count:27,is_member:!1,created_by:"sample"},{id:"sample-6",name:"Creative Arts Collective",description:"For artists, designers, and creatives to share their work, collaborate on projects, and get inspired together.",category:"art",image_url:Lr[5],created_at:new Date().toISOString(),member_count:21,is_member:!1,created_by:"sample"}],E=async()=>{try{if(!(t!=null&&t.id)){console.error("Cannot create sample groups: user not authenticated"),i(!1);return}console.log("Creating sample groups...");const P=[],D=[{name:"Tech Enthusiasts",description:"A group for discussing the latest in technology, gadgets, and software development.",category:"technology",image_url:Lr[0]},{name:"Startup Founders",description:"Connect with other entrepreneurs and discuss business strategies, funding, and growth.",category:"business",image_url:Lr[1]},{name:"Fitness Community",description:"Share workout tips, nutrition advice, and stay motivated together.",category:"health",image_url:Lr[2]},{name:"Travel Adventurers",description:"Exchange travel stories, tips, and plan group adventures around the world.",category:"travel",image_url:Lr[3]}];for(const A of D){const{data:F,error:O}=await fe.from("groups").insert({name:A.name,description:A.description,category:A.category,image_url:A.image_url,created_by:"sample",created_at:new Date().toISOString()}).select().single();if(O){console.error("Error creating sample group:",O);continue}await fe.from("group_members").insert({group_id:F.id,user_id:t.id,role:"admin",joined_at:new Date().toISOString()}),console.log(`Created sample group: ${A.name}`),P.push({...F,member_count:1,is_member:!0})}P.length>0?s(P):s(j()),i(!1)}catch(P){console.error("Error in createSampleGroups:",P),s(j()),i(!1)}},N=async P=>{try{if(!(t!=null&&t.id)){ee.error("You must be logged in to join a group");return}if(console.log(`Attempting to join group ${P} for user ${t.id}`),P.startsWith("sample-")){ee.success("Joined sample group! In a real app, this would connect you to the group."),s(n.map(M=>M.id===P?{...M,is_member:!0,member_count:M.member_count+1}:M));return}b(P),console.log("Checking existing membership in group_members table...");const{data:D,error:A}=await fe.from("group_members").select("id, role").eq("group_id",P).eq("user_id",t.id).single();if(A&&A.code!=="PGRST116")throw console.error("Error checking membership:",A),new Error(`Failed to check membership status: ${A.message}`);if(D){console.log("User is already a member of this group in group_members table:",D),ee.success("You are already a member of this group");try{const M=JSON.parse(localStorage.getItem("groupMemberships")||"{}");M[P]={is_member:!0,role:D.role},localStorage.setItem("groupMemberships",JSON.stringify(M))}catch(M){console.warn("Failed to update localStorage:",M)}r(`/groups/${P}/chat`);return}console.log("Checking existing membership in chat_group_members table...");const{data:F,error:O}=await fe.from("chat_group_members").select("id, is_admin").eq("group_id",P).eq("user_id",t.id).single();if(O&&O.code!=="PGRST116"&&console.error("Error checking chat membership:",O),F){console.log("User is already a member of this group in chat_group_members table:",F),ee.success("You are already a member of this group");try{const M=JSON.parse(localStorage.getItem("groupMemberships")||"{}");M[P]={is_member:!0,role:F.is_admin?"admin":"member"},localStorage.setItem("groupMemberships",JSON.stringify(M))}catch(M){console.warn("Failed to update localStorage:",M)}r(`/groups/${P}/chat`);return}console.log("User is not a member of this group, creating new membership...");const{error:U}=await fe.from("group_members").insert({group_id:P,user_id:t.id,role:"member"});U?console.error("Error joining group (group_members):",U):console.log("Successfully joined group in group_members table");const{error:S}=await fe.from("chat_group_members").insert({group_id:P,user_id:t.id,is_admin:!1});if(S){if(console.error("Error joining group (chat_group_members):",S),U)throw new Error(`Failed to join group: ${U.message}`)}else console.log("Successfully joined group in chat_group_members table");ee.success("Successfully joined the group!"),s(M=>M.map(T=>T.id===P?{...T,is_member:!0,member_count:(T.member_count||0)+1}:T));try{const M=JSON.parse(localStorage.getItem("groupMemberships")||"{}");M[P]={is_member:!0,role:"member"},localStorage.setItem("groupMemberships",JSON.stringify(M)),console.log("Saved membership to localStorage:",M)}catch(M){console.warn("Failed to store membership in localStorage:",M)}r(`/groups/${P}/chat`)}catch(D){console.error("Error in handleJoinGroup:",D),ee.error(D.message||"Failed to join group. Please try again later.")}finally{b(null)}},I=async P=>{try{if(!(t!=null&&t.id)){ee.error("You must be logged in to leave a group");return}if(console.log(`Attempting to leave group ${P} for user ${t.id}`),P.startsWith("sample-")){ee.success("Left sample group!"),s(n.map(V=>V.id===P?{...V,is_member:!1,member_count:V.member_count-1}:V));return}const{data:D,error:A}=await fe.from("group_members").select("role").eq("group_id",P).eq("user_id",t.id).single(),{data:F,error:O}=await fe.from("chat_group_members").select("is_admin").eq("group_id",P).eq("user_id",t.id).single(),U=(D==null?void 0:D.role)==="admin"||(F==null?void 0:F.is_admin)===!0;if(console.log("User role check results:",{memberData:D,chatMemberData:F,isAdmin:U}),U){if(!window.confirm("Are you sure you want to delete this group? This action cannot be undone."))return;console.log("Deleting group as admin...");const{error:re}=await fe.from("groups").delete().eq("id",P);if(re){console.error("Error deleting group:",re),ee.error("Failed to delete group");return}ee.success("Group deleted successfully"),s(n.filter(se=>se.id!==P));return}if(!window.confirm("Are you sure you want to leave this group?"))return;console.log("User confirmed leaving the group");let M=!1;const{error:T}=await fe.from("group_members").delete().eq("group_id",P).eq("user_id",t.id);T?console.error("Error leaving group (group_members):",T):(console.log("Successfully left group in group_members table"),M=!0);const{error:B}=await fe.from("chat_group_members").delete().eq("group_id",P).eq("user_id",t.id);if(B?console.error("Error leaving group (chat_group_members):",B):(console.log("Successfully left group in chat_group_members table"),M=!0),!M){console.error("Failed to leave group in both tables"),ee.error("Failed to leave group");return}ee.success("Successfully left the group"),s(n.map(V=>V.id===P?{...V,is_member:!1,member_count:V.member_count-1}:V));try{const V=JSON.parse(localStorage.getItem("groupMemberships")||"{}");delete V[P],localStorage.setItem("groupMemberships",JSON.stringify(V)),console.log("Updated localStorage after leaving group")}catch(V){console.warn("Failed to update membership in localStorage:",V)}}catch(D){console.error("Error in handleUnjoinGroup:",D),ee.error("Failed to leave group")}},C=()=>{r("/groups/create")},L=n.filter(P=>(f==="all"||P.category===f)&&(u===""||P.name.toLowerCase().includes(u.toLowerCase())||P.description.toLowerCase().includes(u.toLowerCase())));return a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 md:py-12",children:[a.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:a.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center",children:[a.jsx(rt,{className:"mr-3 h-6 w-6"})," ",e("groups.title")||"Groups"]})}),a.jsxs("div",{className:"flex justify-between items-center border-b border-gray-200 dark:border-gray-700 mb-6",children:[a.jsxs("div",{className:"flex",children:[a.jsx("button",{className:`py-4 px-6 font-medium text-base focus:outline-none flex-1 max-w-[160px] text-center ${v==="all"?"text-indigo-600 border-b-2 border-indigo-600 font-semibold":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,onClick:()=>w("all"),children:e("groups.tabs.all")||"All Groups"}),a.jsx("button",{className:`py-4 px-6 font-medium text-base focus:outline-none flex-1 max-w-[160px] text-center ${v==="my"?"text-indigo-600 border-b-2 border-indigo-600 font-semibold":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,onClick:()=>w("my"),children:e("groups.tabs.my")||"My Groups"})]}),a.jsxs(xe,{onClick:C,className:"flex items-center px-6 py-2.5 rounded-full bg-gradient-to-r from-rose-500 to-red-500 hover:from-rose-600 hover:to-red-600 text-white shadow-lg",children:[a.jsx(on,{className:"mr-2"})," ",e("groups.buttons.create")||"Create Group"]})]}),a.jsxs("div",{className:"mb-8 flex flex-col gap-4",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Ir,{type:"text",placeholder:e("groups.search_placeholder")||"Find your community...",value:u,onChange:P=>d(P.target.value),className:"w-full px-4 pl-10 py-2.5 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-full focus:outline-none focus:ring-2 focus:ring-rose-500 focus:border-transparent shadow-sm"}),a.jsx(Kg,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]}),a.jsxs("div",{className:"w-full",children:[a.jsxs("button",{onClick:()=>y(!p),className:"w-full flex items-center justify-between p-3 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-lg shadow-sm",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(yT,{className:"mr-2 text-gray-500"}),a.jsxs("span",{className:"font-medium",children:[e("groups.category_label")||"Category",": ",f==="all"?e("groups.categories.all")||"All":e(`groups.categories.${f}`)||f.charAt(0).toUpperCase()+f.slice(1)]})]}),p?a.jsx(fT,{className:"text-gray-500"}):a.jsx(R2,{className:"text-gray-500"})]}),a.jsx(rp,{children:p&&a.jsx(dr.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 border-t-0 rounded-b-lg shadow-md overflow-hidden mt-[-1px] z-10 relative",children:a.jsxs("div",{className:"max-h-60 overflow-y-auto p-2 grid grid-cols-2 gap-2",children:[a.jsxs("button",{onClick:()=>{h("all"),y(!1)},className:`p-2 rounded-lg text-sm flex items-center ${f==="all"?"bg-gradient-to-r from-rose-500 to-red-500 text-white shadow-md":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[a.jsx("span",{className:"mr-2",children:sc.all}),e("groups.categories.all")||"All"]}),HU.map(P=>a.jsxs("button",{onClick:()=>{h(P),y(!1)},className:`p-2 rounded-lg text-sm flex items-center ${f===P?"bg-gradient-to-r from-rose-500 to-red-500 text-white shadow-md":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[a.jsx("span",{className:"mr-2",children:sc[P]}),e(`groups.categories.${P}`)||P.charAt(0).toUpperCase()+P.slice(1)]},P))]})})})]})]}),a.jsx("div",{className:"min-h-[60vh]",children:o?a.jsx("div",{className:"flex justify-center my-16",children:a.jsx(Ee,{})}):l?a.jsxs("div",{className:"text-center my-16 py-16 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[a.jsx(na,{message:l}),a.jsx(xe,{onClick:()=>{v==="all"?x():_()},className:"mt-6 rounded-full bg-indigo-500 hover:bg-indigo-600 text-white px-6 py-3",children:e("buttons.tryAgain")||"Try Again"})]}):L.length>0?a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:L.map(P=>a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-all transform hover:-translate-y-1 border border-gray-200 dark:border-gray-700 h-full flex flex-col",children:[a.jsx("div",{className:"flex items-center justify-center h-32 bg-gradient-to-br from-rose-400/20 to-indigo-400/20 dark:from-rose-900/20 dark:to-indigo-900/20",children:a.jsx("span",{className:"text-5xl",role:"img","aria-label":P.category,children:sc[P.category]||sc.all})}),a.jsxs("div",{className:"p-5 flex-1 flex flex-col",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2 truncate",children:P.name}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4 line-clamp-3 flex-grow",children:P.description}),a.jsxs("div",{className:"flex justify-between items-center mt-auto",children:[a.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center",children:[a.jsx(rt,{className:"mr-1 h-3 w-3"}),P.member_count," ",e("groups.members")||"members"]}),P.is_member?a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("button",{onClick:()=>r(`/groups/${P.id}/chat`),className:"px-3 py-1 text-xs font-medium bg-gradient-to-r from-indigo-500 to-purple-500 hover:from-indigo-600 hover:to-purple-600 text-white rounded-full shadow-sm hover:shadow transition-all flex items-center",children:[a.jsx(rd,{className:"h-3 w-3 mr-1"}),e("groups.buttons.chat")||"Chat"]}),a.jsx("button",{onClick:()=>I(P.id),className:"px-3 py-1 text-xs font-medium bg-gradient-to-r from-red-500 to-orange-500 hover:from-red-600 hover:to-orange-600 text-white rounded-full shadow-sm hover:shadow transition-all flex items-center",children:e("groups.buttons.leave")||"Leave"})]}):a.jsx(xe,{onClick:()=>N(P.id),disabled:g===P.id,className:"text-xs px-3 py-1 rounded-full",children:g===P.id?e("groups.buttons.joining")||"Joining...":e("groups.buttons.join")||"Join"})]})]})]},P.id))}):a.jsxs("div",{className:"text-center my-16 py-16 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[a.jsx(rt,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:e("groups.no_groups_found_title")||"No groups found"}),a.jsx("p",{className:"mt-3 text-gray-500 dark:text-gray-400 text-lg",children:v==="my"?e("groups.no_my_groups_message")||"You haven't joined any groups yet.":e("groups.no_all_groups_message")||"Try adjusting your search or create a new group."}),a.jsx(xe,{onClick:C,className:"mt-6 rounded-full bg-gradient-to-r from-rose-500 to-red-500 hover:from-rose-600 hover:to-red-600 text-white px-6 py-3",children:e("groups.buttons.create")||"Create Group"})]})})]})})},ab=["https://images.unsplash.com/photo-1540575467063-178a50c2df87?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2370&q=80","https://images.unsplash.com/photo-1511795409834-ef04bbd61622?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2369&q=80","https://images.unsplash.com/photo-1540575467063-178a50c2df87?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2370&q=80","https://images.unsplash.com/photo-1501281668745-f7f57925c3b4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2370&q=80"],YU=["technology","business","education","entertainment","health","sports","travel","art","food","music"],JU=()=>{const{tWithTemplate:e}=at(),{user:t}=$e(),r=ot(),[n,s]=m.useState("all"),[o,i]=m.useState([]),[l,c]=m.useState(!0),[u,d]=m.useState(""),[f,h]=m.useState("all"),[g,b]=m.useState(null),[v,w]=m.useState(null);m.useEffect(()=>{n==="all"?p():y()},[t,n,f]);const p=async()=>{try{if(c(!0),!(t!=null&&t.id)){console.log("User not authenticated, using sample data"),i(x()),c(!1);return}console.log("Fetching all events from Supabase...");let C=fe.from("events").select(`
        id, 
        title, 
        description, 
        location,
        start_date,
        end_date,
        category,
        created_by,
        created_at,
        is_public,
        max_attendees,
        status
      `);f!=="all"&&(C=C.eq("category",f));const{data:L,error:P}=await C;if(P)throw console.error("Error fetching events:",P),P;if(console.log(`Found ${(L==null?void 0:L.length)||0} events`),!L||L.length===0){await _();return}const D=await Promise.all(L.map(async A=>{const{count:F}=await fe.from("event_attendees").select("*",{count:"exact"}).eq("event_id",A.id),{data:O}=await fe.from("event_attendees").select("id").eq("event_id",A.id).eq("user_id",t.id).maybeSingle();return{...A,attendee_count:F||0,is_attending:!!O}}));i(D)}catch(C){console.error("Error in fetchAllEvents:",C),ee.error("Failed to load events"),i(x())}finally{c(!1)}},y=async()=>{try{if(c(!0),!(t!=null&&t.id)){console.log("User not authenticated, skipping my events fetch"),i([]),c(!1);return}console.log("Fetching my events from Supabase...");const{data:C,error:L}=await fe.from("event_attendees").select(`
          event:events (
            id, 
            title, 
            description, 
            location,
            start_date,
            end_date,
            category,
            created_by,
            created_at,
            is_public,
            max_attendees,
            status
          )
        `).eq("user_id",t.id);if(L)throw console.error("Error fetching my events:",L),L;if(!C||C.length===0){console.log("No events found that the user is attending"),i([]),c(!1);return}const D=(await Promise.all(C.map(async A=>{const F=A.event;if(!F)return console.warn("Event data is missing for an attendee record"),null;const{count:O}=await fe.from("event_attendees").select("*",{count:"exact"}).eq("event_id",F.id);return{...F,attendee_count:O||0,is_attending:!0}}))).filter(A=>A!==null);i(D)}catch(C){console.error("Error in fetchMyEvents:",C),ee.error("Failed to load your events"),i([])}finally{c(!1)}},x=()=>{const C=new Date,L=new Date(C);L.setDate(L.getDate()+1);const P=new Date(C);P.setDate(P.getDate()+7);const D=new Date(C);return D.setMonth(D.getMonth()+1),[{id:"sample-1",title:"Tech Conference 2023",description:"Join us for the biggest tech conference of the year with renowned speakers, workshops, and networking opportunities.",location:"Convention Center, New York",start_date:L.toISOString(),end_date:P.toISOString(),category:"technology",created_by:"sample",created_at:C.toISOString(),is_public:!0,max_attendees:126,status:"going",attendee_count:126,is_attending:!1},{id:"sample-2",title:"Startup Pitch Night",description:"An exciting evening where innovative startups pitch their ideas to investors and industry experts.",location:"Innovation Hub, San Francisco",start_date:P.toISOString(),category:"business",created_by:"sample",created_at:C.toISOString(),is_public:!0,max_attendees:58,status:"going",attendee_count:58,is_attending:!1},{id:"sample-3",title:"Wellness Retreat Weekend",description:"A rejuvenating weekend of yoga, meditation, healthy food, and wellness workshops.",location:"Mountain View Resort, Colorado",start_date:D.toISOString(),category:"health",created_by:"sample",created_at:C.toISOString(),is_public:!0,max_attendees:45,status:"going",attendee_count:45,is_attending:!1},{id:"sample-4",title:"Photography Workshop",description:"Learn advanced photography techniques from professional photographers in this hands-on workshop.",location:"Art Gallery, Chicago",start_date:P.toISOString(),category:"art",created_by:"sample",created_at:C.toISOString(),is_public:!0,max_attendees:32,status:"going",attendee_count:32,is_attending:!1}]},_=async()=>{try{if(!(t!=null&&t.id)){console.error("Cannot create sample events: user not authenticated"),c(!1);return}console.log("Creating sample events...");const C=[],L=new Date,P=new Date(L);P.setDate(P.getDate()+1);const D=new Date(L);D.setDate(D.getDate()+7);const A=new Date(L);A.setMonth(A.getMonth()+1);const F=[{title:"Tech Conference 2023",description:"Join us for the biggest tech conference of the year with renowned speakers, workshops, and networking opportunities.",location:"Convention Center, New York",start_date:P.toISOString(),end_date:D.toISOString(),category:"technology",created_by:"sample",created_at:L.toISOString(),is_public:!0,max_attendees:126,status:"going"},{title:"Startup Pitch Night",description:"An exciting evening where innovative startups pitch their ideas to investors and industry experts.",location:"Innovation Hub, San Francisco",start_date:D.toISOString(),category:"business",created_by:"sample",created_at:L.toISOString(),is_public:!0,max_attendees:58,status:"going"},{title:"Wellness Retreat Weekend",description:"A rejuvenating weekend of yoga, meditation, healthy food, and wellness workshops.",location:"Mountain View Resort, Colorado",start_date:A.toISOString(),category:"health",created_by:"sample",created_at:L.toISOString(),is_public:!0,max_attendees:45,status:"going"},{title:"Photography Workshop",description:"Learn advanced photography techniques from professional photographers in this hands-on workshop.",location:"Art Gallery, Chicago",start_date:D.toISOString(),category:"art",created_by:"sample",created_at:L.toISOString(),is_public:!0,max_attendees:32,status:"going"}];for(const O of F){const{data:U,error:S}=await fe.from("events").insert({title:O.title,description:O.description,location:O.location,start_date:O.start_date,end_date:O.end_date,category:O.category,created_by:O.created_by,created_at:O.created_at,is_public:O.is_public,max_attendees:O.max_attendees,status:O.status}).select().single();if(S){console.error("Error creating sample event:",S);continue}await fe.from("event_attendees").insert({event_id:U.id,user_id:t.id,status:"going",joined_at:new Date().toISOString()}),console.log(`Created sample event: ${O.title}`),C.push({...U,attendee_count:1,is_attending:!0})}C.length>0?i(C):i(x()),c(!1)}catch(C){console.error("Error in createSampleEvents:",C),i(x()),c(!1)}},k=async C=>{try{if(!(t!=null&&t.id)){ee.error("You must be logged in to join an event");return}if(C.startsWith("sample-")){ee.success("RSVP successful! In a real app, this would add you to the event."),i(o.map(D=>D.id===C?{...D,is_attending:!0,attendee_count:D.attendee_count+1}:D));return}b(C);const{data:L}=await fe.from("event_attendees").select("id").eq("event_id",C).eq("user_id",t.id).maybeSingle();if(L){ee.error("You are already attending this event"),b(null);return}const{error:P}=await fe.from("event_attendees").insert({event_id:C,user_id:t.id,status:"going",joined_at:new Date().toISOString()});if(P){console.error("Error joining event:",P),ee.error("Failed to RSVP for the event");return}ee.success("Successfully RSVP'd for the event!"),i(o.map(D=>D.id===C?{...D,is_attending:!0,attendee_count:D.attendee_count+1}:D))}catch(L){console.error("Error in handleJoinEvent:",L),ee.error("Failed to RSVP for the event")}finally{b(null)}},j=async C=>{try{if(!(t!=null&&t.id)){ee.error("You must be logged in to leave an event");return}if(C.startsWith("sample-")){ee.success("Successfully left the event (simulated)."),i(o.map(P=>P.id===C?{...P,is_attending:!1,attendee_count:Math.max(0,P.attendee_count-1)}:P));return}w(C);const{error:L}=await fe.from("event_attendees").delete().eq("event_id",C).eq("user_id",t.id);if(L){console.error("Error leaving event:",L),ee.error("Failed to leave the event");return}ee.success("Successfully left the event"),i(o.map(P=>P.id===C?{...P,is_attending:!1,attendee_count:Math.max(0,P.attendee_count-1)}:P))}catch(L){console.error("Error in handleLeaveEvent:",L),ee.error("Failed to leave the event")}finally{w(null)}},E=()=>{r("/events/create")},N=C=>{try{return ml(new Date(C),"MMM d, yyyy")}catch{return C}},I=o.filter(C=>(f==="all"||C.category===f)&&(u===""||C.title.toLowerCase().includes(u.toLowerCase())||C.description.toLowerCase().includes(u.toLowerCase())||C.location.toLowerCase().includes(u.toLowerCase())));return a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 md:py-12",children:[a.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:a.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white flex items-center",children:[a.jsx(cr,{className:"mr-3 h-6 w-6"})," ",e("events.title")||"Events"]})}),a.jsxs("div",{className:"flex justify-between items-center border-b border-gray-200 dark:border-gray-700 mb-6",children:[a.jsxs("div",{className:"flex",children:[a.jsx("button",{className:`py-4 px-6 font-medium text-base focus:outline-none flex-1 max-w-[160px] text-center ${n==="all"?"text-indigo-600 border-b-2 border-indigo-600 font-semibold":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,onClick:()=>s("all"),children:e("events.tabs.all")||"All Events"}),a.jsx("button",{className:`py-4 px-6 font-medium text-base focus:outline-none flex-1 max-w-[160px] text-center ${n==="my"?"text-indigo-600 border-b-2 border-indigo-600 font-semibold":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"}`,onClick:()=>s("my"),children:e("events.tabs.my")||"My Events"})]}),a.jsxs("button",{onClick:E,className:"flex items-center px-6 py-2.5 bg-gradient-to-r from-slate-400 to-rose-300 text-white rounded-full hover:from-slate-500 hover:to-rose-400 transition-all text-base font-medium shadow-lg",children:[a.jsx(on,{className:"mr-2"})," ",e("events.buttons.create")||"Create Event"]})]}),a.jsxs("div",{className:"mb-8 flex flex-col sm:flex-row gap-4",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx("input",{type:"text",placeholder:e("events.search_placeholder")||"Search events...",value:u,onChange:C=>d(C.target.value),className:"w-full pl-12 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white text-base"}),a.jsx(Kg,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 text-lg"})]}),a.jsxs("select",{value:f,onChange:C=>h(C.target.value),className:"px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white min-w-[200px] text-base","aria-label":e("events.category_label")||"Select Category",children:[a.jsx("option",{value:"all",children:e("events.categories.all")||"All Categories"}),YU.map(C=>a.jsx("option",{value:C,children:e(`events.categories.${C}`)||C.charAt(0).toUpperCase()+C.slice(1)},C))]})]}),l?a.jsx("div",{className:"flex justify-center my-16",children:a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-500"})}):I.length>0?a.jsx("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:I.map((C,L)=>a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm hover:shadow-md transition-shadow duration-200 overflow-hidden border border-gray-200 dark:border-gray-700 flex flex-col",style:{maxHeight:"380px"},children:[a.jsxs("div",{className:"h-32 bg-gray-200 dark:bg-gray-700 relative overflow-hidden",style:{backgroundImage:`url(${ab[L%ab.length]})`,backgroundSize:"cover",backgroundPosition:"center"},children:[a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-20"}),a.jsx("div",{className:"absolute top-2 right-2",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${C.is_public?"bg-green-500":"bg-yellow-500"} text-white`,children:C.is_public?e("events.public")||"Public":e("events.private")||"Private"})})]}),a.jsxs("div",{className:"p-4 flex-1 flex flex-col",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1 line-clamp-1",children:C.title}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-2 line-clamp-2",children:C.description}),a.jsxs("div",{className:"mt-auto space-y-2",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400",children:[a.jsx(Es,{className:"w-4 h-4 mr-1"}),a.jsx("span",{className:"truncate",children:C.location})]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400",children:[a.jsx(cr,{className:"w-4 h-4 mr-1"}),a.jsx("span",{children:N(C.start_date)})]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400",children:[a.jsx(rt,{className:"w-4 h-4 mr-1"}),a.jsxs("span",{children:[C.attendee_count," / ",C.max_attendees||""]})]})]}),a.jsx("div",{className:"mt-4 flex justify-end",children:C.is_attending?a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>j(C.id),disabled:v===C.id,className:"px-3 py-1 text-sm bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-full hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors duration-200",children:v===C.id?e("events.buttons.leaving")||"Leaving...":e("events.buttons.leave")||"Leave"}),a.jsxs("button",{onClick:P=>{P.stopPropagation(),r(`/events/${C.id}/chat`)},className:"px-3 py-1 text-sm bg-rose-500 text-white rounded-full hover:bg-rose-600 transition-colors duration-200 flex items-center",children:[a.jsx(Jo,{className:"mr-1"})," ",e("events.buttons.chat")||"Chat"]})]}):a.jsx("button",{onClick:()=>k(C.id),disabled:g===C.id,className:"px-3 py-1 text-sm bg-indigo-500 text-white rounded-full hover:bg-indigo-600 transition-colors duration-200",children:g===C.id?e("events.buttons.joining")||"Joining...":e("events.buttons.join")||"Join"})})]})]},C.id))}):a.jsxs("div",{className:"text-center my-16 py-16 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[a.jsx(cr,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:e("events.no_events_found_title")||"No events found"}),a.jsx("p",{className:"mt-3 text-gray-500 dark:text-gray-400 text-lg",children:n==="my"?e("events.no_my_events_message")||"You haven't RSVP'd to any events yet.":e("events.no_all_events_message")||"Try adjusting your search or create a new event."}),a.jsx("button",{onClick:E,className:"mt-6 px-6 py-3 bg-gradient-to-r from-slate-400 to-rose-300 text-white rounded-full hover:from-slate-500 hover:to-rose-400 transition-all text-base font-medium shadow-sm",children:e("events.buttons.create")||"Create Event"})]})]})})},io={WEB_DEVELOPMENT:"/images/stock/content/web-development.jpg",URBAN_PHOTOGRAPHY:"/images/stock/content/urban-photography.jpg",DIGITAL_ART:"/images/stock/content/digital-art.jpg",ECO_LIVING:"/images/stock/content/eco-living.jpg",WILDLIFE:"/images/stock/content/wildlife.jpg",COOKING:"/images/stock/content/cooking.jpg"},XU=()=>{const{t:e}=at(),[t,r]=m.useState("all"),n=[{id:"all",name:e("saved.categories.all")||"All Items",emoji:""},{id:"articles",name:e("saved.categories.articles")||"Articles",emoji:""},{id:"photos",name:e("saved.categories.photos")||"Photos",emoji:""},{id:"videos",name:e("saved.categories.videos")||"Videos",emoji:""}],s=[{id:1,type:"article",title:"The Future of Web Development",description:"Exploring upcoming trends in web development for 2025",image:io.WEB_DEVELOPMENT,author:"Tech Insights",date:"2025-02-20",readTime:e("saved.readTime5")||"5 min read"},{id:2,type:"photo",title:"Urban Photography Collection",description:"A stunning collection of city landscapes",image:io.URBAN_PHOTOGRAPHY,author:"Urban Shots",date:"2025-02-19"},{id:3,type:"video",title:"Digital Art Tutorial",description:"Learn digital art techniques from professionals",image:io.DIGITAL_ART,author:"Creative Arts",date:"2025-02-18",duration:"15:30"},{id:4,type:"article",title:"Sustainable Living Guide",description:"Tips for a more eco-friendly lifestyle",image:io.ECO_LIVING,author:"Green Living",date:"2025-02-17",readTime:e("saved.readTime8")||"8 min read"},{id:5,type:"photo",title:"Wildlife Photography",description:"Capturing nature's most beautiful moments",image:io.WILDLIFE,author:"Nature Lens",date:"2025-02-16"},{id:6,type:"video",title:"Cooking Masterclass",description:"Learn to cook like a professional chef",image:io.COOKING,author:"Culinary Arts",date:"2025-02-15",duration:"25:45"}],o=t==="all"?s:s.filter(i=>i.type===t.slice(0,-1));return a.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8 dark:bg-neutral-800 min-h-full",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-6",children:e("saved.title")||"Saved Items"}),a.jsx("div",{className:"flex space-x-3 overflow-x-auto pb-4",children:n.map(i=>a.jsxs("button",{onClick:()=>r(i.id),className:`px-5 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors flex items-center shadow-sm ${t===i.id?"bg-gradient-to-r from-rose-600 to-red-600 text-white shadow-md":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600 border border-gray-200 dark:border-gray-600"}`,children:[a.jsx("span",{className:"mr-2 text-lg",role:"img","aria-label":i.name,children:i.emoji}),i.name]},i.id))})]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:o.map(i=>a.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-all transform hover:-translate-y-1 border border-gray-200 dark:border-gray-600",children:[a.jsxs("div",{className:"relative h-40",children:[a.jsx("img",{src:i.image,alt:i.title,className:"w-full h-full object-cover"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),a.jsx("div",{className:"absolute top-2 left-2 flex items-center",children:a.jsxs("span",{className:"text-xs font-medium bg-black/60 text-white px-2 py-1 rounded-full flex items-center",children:[i.type==="article"&&"",i.type==="photo"&&"",i.type==="video"&&"",a.jsx("span",{className:"ml-1 capitalize",children:i.type})]})}),i.type==="video"&&a.jsx("div",{className:"absolute bottom-2 right-2 px-2 py-1 bg-black/70 text-white text-xs rounded-full font-medium",children:i.duration}),i.readTime&&a.jsx("div",{className:"absolute bottom-2 right-2 px-2 py-1 bg-black/70 text-white text-xs rounded-full font-medium",children:i.readTime})]}),a.jsxs("div",{className:"p-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1 text-xs",children:[a.jsx("span",{className:"font-medium text-gray-600 dark:text-gray-300 truncate max-w-[120px]",children:i.author}),a.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:new Date(i.date).toLocaleDateString()})]}),a.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-1 truncate",children:i.title}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300 line-clamp-2 mb-3 h-8",children:i.description}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("button",{className:"p-1.5 bg-gray-100 dark:bg-gray-700 rounded-full text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:a.jsx(QT,{className:"w-3.5 h-3.5"})}),a.jsx("button",{className:"px-3 py-1 text-xs font-medium bg-gradient-to-r from-rose-500 to-red-500 hover:from-rose-600 hover:to-red-600 text-white rounded-full shadow-sm hover:shadow transition-all",children:e("buttons.view")||"View"}),a.jsx("button",{className:"p-1.5 text-rose-500 hover:text-rose-600 transition-colors bg-rose-50 dark:bg-rose-900/20 rounded-full",children:a.jsx(su,{className:"w-3.5 h-3.5"})})]})]})]},i.id))}),o.length===0&&a.jsxs("div",{className:"text-center py-12 bg-white dark:bg-gray-700 rounded-xl shadow-md my-6 border border-gray-200 dark:border-gray-600",children:[a.jsx("div",{className:"bg-gray-100 dark:bg-gray-600 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(su,{className:"h-8 w-8 text-gray-400 dark:text-gray-500"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:e("saved.no_items_title")||"No saved items found"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 max-w-md mx-auto",children:e("saved.no_items_message")||"Items you save will appear here. Browse content and click the bookmark icon to save items."}),a.jsx("button",{className:"mt-4 px-4 py-2 text-sm font-medium bg-gradient-to-r from-rose-500 to-red-500 hover:from-rose-600 hover:to-red-600 text-white rounded-full shadow-sm hover:shadow transition-all",children:e("saved.buttons.explore")||"Explore Content"})]})]})},QU=["technology","business","education","entertainment","health","sports","travel","art","food","music"],ZU=()=>{const{tWithTemplate:e}=at(),t=ot(),[r,n]=m.useState(""),[s,o]=m.useState(null),[i,l]=m.useState(!1),{user:c}=$e(),u=m.useRef(null),[d,f]=m.useState({title:"",description:"",location:"",startDate:"",startTime:"",endDate:"",endTime:"",category:"technology",isPrivate:!1,maxAttendees:""}),h=v=>{const{name:w,value:p}=v.target;f(y=>({...y,[w]:p}))},g=v=>{const{name:w,checked:p}=v.target;f(y=>({...y,[w]:p}))},b=async v=>{if(v.preventDefault(),!c){ee.error(e("errors.loginRequiredEvent")||"You must be logged in to create an event");return}if(!d.title.trim()){ee.error(e("errors.eventNameRequired")||"Event title is required");return}if(!d.startDate){ee.error(e("errors.eventDateRequired")||"Start date is required");return}if(!d.location.trim()){ee.error("Location is required");return}if(!d.category){ee.error(e("errors.eventCategoryRequired"));return}try{l(!0);let w="";if(s){const k=s.name.split(".").pop(),E=`event_images/${`${Math.random().toString(36).substring(2,15)}.${k}`}`,{error:N}=await fe.storage.from("images").upload(E,s);if(N)throw console.error("Error uploading image:",N),N;const{data:{publicUrl:I}}=fe.storage.from("images").getPublicUrl(E);w=I}let p=null;if(d.maxAttendees.trim()!==""){const k=parseInt(d.maxAttendees,10);if(isNaN(k)||k<=0){ee.error("Invalid number for Max Attendees."),l(!1);return}p=k}const{data:y,error:x}=await fe.from("events").insert({title:d.title,description:d.description,start_date:d.startDate,end_date:d.endDate||null,location:d.location,category:d.category,created_by:c.id,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),is_public:!d.isPrivate,max_attendees:p,status:"active"}).select().single();if(x)throw console.error("Error creating event:",x),x;console.log("Event created successfully:",y);const{error:_}=await fe.from("event_attendees").insert({event_id:y.id,user_id:c.id,status:"going",joined_at:new Date().toISOString()});_&&console.error("Error adding creator as attendee:",_),ee.success(e("success.eventCreated")||"Event created successfully!"),t("/events")}catch(w){console.error("Error in handleSubmit:",w),ee.error(`${e("errors.eventCreationFailed")}: ${w.message}`)}finally{l(!1)}};return a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 max-w-4xl mx-auto my-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-8",children:e("createEvent.title")||"Create a New Event"}),a.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 mb-6 rounded-lg border border-blue-200 dark:border-blue-800",children:a.jsxs("p",{className:"text-blue-800 dark:text-blue-200 text-sm",children:[a.jsx("strong",{children:"Note:"})," Event image upload is temporarily disabled due to system maintenance. You can create events without images for now."]})}),a.jsxs("form",{onSubmit:b,className:"space-y-8",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsxs("div",{className:"relative w-full max-w-2xl h-64 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg flex items-center justify-center overflow-hidden bg-gray-50 dark:bg-gray-700 opacity-60",children:[a.jsxs("div",{className:"text-center p-6",children:[a.jsx(Hg,{className:"mx-auto h-16 w-16 text-gray-400"}),a.jsx("p",{className:"mt-4 text-base text-gray-500 dark:text-gray-400",children:"Image upload temporarily disabled"}),a.jsx("p",{className:"mt-2 text-sm text-gray-400 dark:text-gray-500",children:"This feature will be available soon"})]}),a.jsx("div",{className:"absolute inset-0 bg-gray-100 dark:bg-gray-800 opacity-30"})]}),a.jsx("input",{type:"file",ref:u,className:"hidden",disabled:!0})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx(qt,{htmlFor:"title",className:"block text-base font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("createEvent.nameLabel")||"Event Title *"}),a.jsx(Ir,{type:"text",id:"title",name:"title",value:d.title,onChange:h,placeholder:e("createEvent.namePlaceholder")||"E.g., Annual Tech Conference, Community Meetup",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white text-base",required:!0})]}),a.jsxs("div",{children:[a.jsx(qt,{htmlFor:"description",className:"block text-base font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("createEvent.descriptionLabel")||"Description"}),a.jsx(c0,{id:"description",name:"description",value:d.description,onChange:h,placeholder:e("createEvent.descriptionPlaceholder")||"Tell people more about the event",rows:4,className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white text-base"})]})]}),a.jsxs("div",{children:[a.jsx(qt,{htmlFor:"location",className:"block text-base font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("createEvent.locationLabel")||"Location *"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Es,{className:"h-5 w-5 text-gray-400"})}),a.jsx(Ir,{type:"text",id:"location",name:"location",value:d.location,onChange:h,placeholder:e("createEvent.locationPlaceholder")||"E.g., Conference Center, Online",className:"w-full pl-12 px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white text-base",required:!0})]})]}),a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-6 rounded-lg",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:e("createEvent.startDateLabel")||"Start Date & Time"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx(qt,{htmlFor:"startDate",className:"block text-base font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("createEvent.startDateLabel")||"Start Date *"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(cr,{className:"h-5 w-5 text-gray-400"})}),a.jsx(Ir,{type:"datetime-local",id:"startDate",name:"startDate",value:d.startDate,onChange:h,className:"w-full pl-12 px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white text-base",required:!0})]})]}),a.jsxs("div",{children:[a.jsx(qt,{htmlFor:"startTime",className:"block text-base font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("createEvent.startTimeLabel")||"Start Time"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(nu,{className:"h-5 w-5 text-gray-400"})}),a.jsx(Ir,{type:"time",id:"startTime",name:"startTime",value:d.startTime,onChange:h,className:"w-full pl-12 px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white text-base"})]})]}),a.jsxs("div",{children:[a.jsx(qt,{htmlFor:"endDate",className:"block text-base font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("createEvent.endDateLabel")||"End Date & Time (Optional)"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(cr,{className:"h-5 w-5 text-gray-400"})}),a.jsx(Ir,{type:"datetime-local",id:"endDate",name:"endDate",value:d.endDate,onChange:h,className:"w-full pl-12 px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white text-base"})]})]}),a.jsxs("div",{children:[a.jsx(qt,{htmlFor:"endTime",className:"block text-base font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("createEvent.endTimeLabel")||"End Time"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(nu,{className:"h-5 w-5 text-gray-400"})}),a.jsx(Ir,{type:"time",id:"endTime",name:"endTime",value:d.endTime,onChange:h,className:"w-full pl-12 px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white text-base"})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx(qt,{htmlFor:"category",className:"block text-base font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("createEvent.categoryLabel")}),a.jsxs(z4,{value:d.category,onValueChange:v=>f(w=>({...w,category:v})),children:[a.jsx(d0,{className:"w-full",children:a.jsx(B4,{placeholder:e("createEvent.categoryPlaceholder")})}),a.jsx(f0,{children:QU.map(v=>a.jsx(h0,{value:v,children:e(`events.categories.${v}`)},v))})]})]}),a.jsxs("div",{className:"flex items-center p-6 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[a.jsx("input",{type:"checkbox",id:"isPrivate",name:"isPrivate",checked:d.isPrivate,onChange:g,className:"h-5 w-5 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"isPrivate",className:"ml-3 block text-base text-gray-700 dark:text-gray-300",children:d.isPrivate?e("createEvent.visibilityPrivate"):e("createEvent.visibilityPublic")})]}),a.jsxs("div",{children:[a.jsx(qt,{htmlFor:"max_attendees",className:"block text-base font-medium text-gray-700 dark:text-gray-300 mb-2",children:e("createEvent.maxAttendeesLabel")}),a.jsx(Ir,{id:"max_attendees",type:"number",name:"maxAttendees",value:d.maxAttendees,onChange:h,placeholder:e("createEvent.maxAttendeesPlaceholder"),min:"1",className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white text-base"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-4 mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:[a.jsx(xe,{type:"button",onClick:()=>t("/events"),className:"px-6 py-3 text-base border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 font-medium",children:e("buttons.cancel")||"Cancel"}),a.jsx(xe,{type:"submit",disabled:i,className:`px-6 py-3 ${i?"bg-gray-400":"bg-gradient-to-r from-slate-400 to-rose-300 hover:from-slate-500 hover:to-rose-400"} text-white rounded-lg transition-colors flex items-center justify-center font-medium text-base min-w-[120px]`,children:i?a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):e("createEvent.createButton")||"Create Event"})]})]})]})},ez=()=>{const{t:e}=at(),{user:t}=$e(),[r,n]=m.useState([]),[s,o]=m.useState(!0),[i,l]=m.useState("all");m.useEffect(()=>{t&&c()},[t]);const c=async()=>{try{o(!0),console.log("Fetching notifications for user:",t==null?void 0:t.id);const{data:b,error:v}=await z.from("notifications").select("*").eq("user_id",t==null?void 0:t.id).order("created_at",{ascending:!1});if(v)throw console.error("Error fetching notifications:",v),v;console.log("Raw notifications data:",b);const w=await Promise.all((b||[]).map(async p=>{if(p.related_id)try{console.log(`Fetching profile for notification type: ${p.type}, related_id: ${p.related_id}`);const{data:y,error:x}=await z.from("profiles").select("id, full_name, avatar_url").eq("id",p.related_id).single();if(x)return console.error("Error fetching profile:",x),p;if(y)return console.log("Profile data found:",y),{...p,sender:y}}catch(y){console.error("Error fetching profile for notification:",y)}return p}));console.log("Final notifications with profiles:",w),n(w)}catch(b){console.error("Error fetching notifications:",b),ee.error("Failed to load notifications")}finally{o(!1)}},u=async b=>{try{const{error:v}=await z.from("notifications").update({read:!0}).eq("id",b);if(v)throw v;n(w=>w.map(p=>p.id===b?{...p,read:!0}:p)),ee.success("Notification marked as read")}catch(v){console.error("Error marking notification as read:",v),ee.error("Failed to update notification")}},d=async()=>{try{const b=r.filter(w=>!w.read).map(w=>w.id);if(b.length===0)return;const{error:v}=await z.from("notifications").update({read:!0}).in("id",b);if(v)throw v;n(w=>w.map(p=>({...p,read:!0}))),ee.success("All notifications marked as read")}catch(b){console.error("Error marking all notifications as read:",b),ee.error("Failed to update notifications")}},f=async()=>{try{const{error:b}=await z.from("notifications").delete().eq("user_id",t==null?void 0:t.id);if(b)throw b;n([]),ee.success("All notifications deleted")}catch(b){console.error("Error deleting notifications:",b),ee.error("Failed to delete notifications")}},h=b=>{switch(b){case"friend_request":return a.jsx(ou,{className:"w-4 h-4 text-indigo-500"});case"friend_accepted":return a.jsx(ou,{className:"w-4 h-4 text-green-500"});case"like":return a.jsx(V2,{className:"w-4 h-4 text-rose-500"});case"comment":return a.jsx(zi,{className:"w-4 h-4 text-green-500"});case"group":return a.jsx(Zo,{className:"w-4 h-4 text-purple-500"});case"event":return a.jsx(Qo,{className:"w-4 h-4 text-yellow-500"});default:return a.jsx(zi,{className:"w-4 h-4 text-blue-500"})}},g=r.filter(b=>i==="all"?!0:i==="unread"?!b.read:b.type.includes(i));return a.jsxs("div",{className:"container max-w-4xl mx-auto px-4 py-8 dark:bg-neutral-800",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e("notifications.title")}),a.jsxs("div",{className:"space-x-2",children:[a.jsx("button",{onClick:d,className:"px-3 py-1 text-sm bg-indigo-50 text-indigo-600 dark:bg-indigo-900/20 dark:text-indigo-400 rounded-md hover:bg-indigo-100 dark:hover:bg-indigo-800/30",children:e("notifications.markAllAsRead")}),a.jsx("button",{onClick:f,className:"px-3 py-1 text-sm bg-red-50 text-red-600 dark:bg-red-900/20 dark:text-red-400 rounded-md hover:bg-red-100 dark:hover:bg-red-800/30",children:e("notifications.deleteAll")})]})]}),a.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-lg shadow overflow-hidden mb-6",children:[a.jsxs("div",{className:"flex overflow-x-auto scrollbar-hide border-b border-gray-200 dark:border-gray-700",children:[a.jsx("button",{className:`px-4 py-3 text-sm font-medium whitespace-nowrap ${i==="all"?"text-indigo-600 dark:text-indigo-400 border-b-2 border-indigo-600 dark:border-indigo-400":"text-gray-600 dark:text-gray-300"}`,onClick:()=>l("all"),children:e("notifications.all")}),a.jsx("button",{className:`px-4 py-3 text-sm font-medium whitespace-nowrap ${i==="unread"?"text-indigo-600 dark:text-indigo-400 border-b-2 border-indigo-600 dark:border-indigo-400":"text-gray-600 dark:text-gray-300"}`,onClick:()=>l("unread"),children:e("notifications.unread")}),a.jsx("button",{className:`px-4 py-3 text-sm font-medium whitespace-nowrap ${i==="friend"?"text-indigo-600 dark:text-indigo-400 border-b-2 border-indigo-600 dark:border-indigo-400":"text-gray-600 dark:text-gray-300"}`,onClick:()=>l("friend"),children:e("notifications.friends")}),a.jsx("button",{className:`px-4 py-3 text-sm font-medium whitespace-nowrap ${i==="like"?"text-indigo-600 dark:text-indigo-400 border-b-2 border-indigo-600 dark:border-indigo-400":"text-gray-600 dark:text-gray-300"}`,onClick:()=>l("like"),children:e("notifications.likes")}),a.jsx("button",{className:`px-4 py-3 text-sm font-medium whitespace-nowrap ${i==="comment"?"text-indigo-600 dark:text-indigo-400 border-b-2 border-indigo-600 dark:border-indigo-400":"text-gray-600 dark:text-gray-300"}`,onClick:()=>l("comment"),children:e("notifications.comments")})]}),s?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx("div",{className:"inline-block w-6 h-6 border-2 border-gray-300 border-t-indigo-600 rounded-full animate-spin"}),a.jsx("p",{className:"mt-2 text-gray-500 dark:text-gray-400",children:e("loading")})]}):a.jsx(a.Fragment,{children:g.length===0?a.jsx("div",{className:"p-8 text-center",children:a.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:e("notifications.empty")})}):a.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:g.map(b=>{var v;return a.jsxs("div",{className:`p-4 flex ${b.read?"bg-white dark:bg-neutral-800":"bg-indigo-50 dark:bg-indigo-900/20"}`,children:[a.jsx("div",{className:"flex-shrink-0 mr-4",children:(v=b.sender)!=null&&v.avatar_url?a.jsx("img",{src:b.sender.avatar_url,alt:b.sender.full_name,className:"w-10 h-10 rounded-full"}):a.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-100 dark:bg-indigo-800 flex items-center justify-center",children:h(b.type)})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("p",{className:"text-sm text-gray-900 dark:text-white",children:b.content}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 ml-2 whitespace-nowrap",children:Vp(new Date(b.created_at),{addSuffix:!0})})]}),!b.read&&a.jsx("button",{onClick:()=>u(b.id),className:"mt-2 text-xs text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-300",children:e("notifications.markAsRead")})]})]},b.id)})})})]})]})},tz=()=>{const{user:e,signOut:t,setUser:r}=$e(),{isDarkMode:n,toggleDarkMode:s}=Ug(),{t:o}=at(),i=ot(),[l,c]=m.useState("profile"),[u,d]=m.useState(null),[f,h]=m.useState(null),[g,b]=m.useState(null),[v,w]=m.useState(""),[p,y]=m.useState(""),[x,_]=m.useState(!0),[k,j]=m.useState(!1),[E,N]=m.useState(""),[I,C]=m.useState(null);m.useEffect(()=>{e?L():_(!1)},[e]);const L=async()=>{_(!0);try{const{data:$,error:X}=await z.from("profiles").select("*").eq("id",e==null?void 0:e.id).single();if(X)throw X;$?(d({name:$.full_name||"",email:(e==null?void 0:e.email)||""}),h({email_notifications:$.email_notifications!==!1,push_notifications:$.push_notifications!==!1,marketing_notifications:$.marketing_notifications||!1}),b({profile_visibility:$.profile_visibility||"public",show_email:$.show_email||!1,show_location:$.show_location||!1})):(console.log("Profile not found for user:",e==null?void 0:e.id),d({name:"",email:(e==null?void 0:e.email)||""}),h({email_notifications:!0,push_notifications:!0,marketing_notifications:!1}),b({profile_visibility:"public",show_email:!1,show_location:!1}))}catch($){console.error("Error loading user settings:",$),ee.error("Failed to load settings")}finally{_(!1)}},P=$=>{if(!u)return;const{name:X,value:ne}=$.target;d(ie=>ie?{...ie,[X]:ne}:null)},D=$=>{f&&h(X=>X?{...X,[$]:!X[$]}:null)},A=($,X)=>{g&&b(ne=>ne?{...ne,[$]:X}:null)},F=async $=>{if(e){j(!0);try{let X={},ne=!1;if($==="profile"&&u){X={...X,...u};const{error:ie}=await z.from("profiles").update(X).eq("id",e.id);ie&&(console.error("Error saving profile:",ie),ne=!0)}else if($==="notifications"&&f)console.log("Saving notifications:",f),await new Promise(ie=>setTimeout(ie,500));else if($==="privacy"&&g)console.log("Saving privacy:",g),await new Promise(ie=>setTimeout(ie,500));else if($==="password")if(v!==p||!v)ee.error("Passwords do not match or are empty."),ne=!0;else{const{error:ie}=await z.auth.updateUser({password:v});ie?(console.error("Error updating password:",ie),ee.error(`Password Update Failed: ${ie.message}`),ne=!0):(w(""),y(""),ee.success("Password updated successfully!"))}!ne&&$!=="password"&&ee.success(`${$.charAt(0).toUpperCase()+$.slice(1)} settings saved!`),ne&&ee.error(`Failed to save ${$} settings.`)}catch(X){console.error(`Error saving ${$} settings:`,X),ee.error(`Failed to save ${$} settings.`)}finally{j(!1)}}},O=async()=>{if(e&&window.confirm("Are you sure you want to delete your account permanently? This action cannot be undone.")){j(!0);try{const{error:$}=await z.rpc("delete_user_account");if($)throw $;ee.success("Account deleted successfully."),r(null),i("/")}catch($){console.error("Error deleting account:",$),ee.error(`Failed to delete account: ${$.message}`)}finally{j(!1)}}},U=$=>{($==="dark"&&!n||$==="light"&&n)&&s()},S=async()=>{try{await t(),ee.success("Logged out successfully"),i("/login")}catch($){console.error("Logout Error:",$),ee.error("Logout failed. Please try again.")}},M=()=>{window.open("https://t.me/your_support_bot","_blank"),ee.success(o("helpAndSupport.openingTelegram")||"Opening Telegram support")},T=()=>{window.location.href="mailto:support@yourapp.com",ee.success(o("helpAndSupport.openingEmail")||"Opening email client")},B=()=>{ee.success(o("helpAndSupport.redirectingToHelp")||"Redirecting to Help Center..."),setTimeout(()=>{window.open("https://help.yourdomain.com","_blank")},1e3)},V=()=>{ee.success(o("helpAndSupport.redirectingToDocs")||"Opening Documentation..."),setTimeout(()=>{window.open("https://docs.yourdomain.com","_blank")},1e3)},re=()=>{ee.success(o("helpAndSupport.redirectingToTutorials")||"Opening Tutorials..."),setTimeout(()=>{window.open("https://youtube.com/yourchannel","_blank")},1e3)},se=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200",children:o("settings.profile.title")||"Profile Information"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:o("settings.profile.fullNameLabel")||"Full Name"}),a.jsx("input",{type:"text",id:"name",name:"name",value:(u==null?void 0:u.name)||"",onChange:P,disabled:k,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-1 focus:ring-rose-500 focus:border-rose-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:o("settings.profile.emailLabel")||"Email Address"}),a.jsx("input",{type:"email",id:"email",name:"email",value:(u==null?void 0:u.email)||"",disabled:!0,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400 cursor-not-allowed"})]})]}),a.jsx("div",{className:"text-right",children:a.jsx(xe,{type:"submit",onClick:()=>F("profile"),disabled:k||x,className:"px-5 py-2.5 rounded-lg",children:k?o("buttons.saving")||"Saving...":o("buttons.saveProfile")||"Save Profile"})})]}),de=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200",children:o("settings.notifications.title")||"Notifications"}),a.jsxs("div",{className:"space-y-4 divide-y divide-gray-200 dark:divide-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between pt-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:o("settings.notifications.emailLabel")||"Email Notifications"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:o("settings.notifications.emailDescription")||"Receive important updates via email."})]}),a.jsx("input",{type:"checkbox",id:"email_notifications",name:"email_notifications",checked:(f==null?void 0:f.email_notifications)||!1,onChange:()=>D("email_notifications"),disabled:k,className:"form-checkbox h-5 w-5 text-rose-600 rounded focus:ring-rose-500 cursor-pointer"})]}),a.jsxs("div",{className:"flex items-center justify-between pt-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:o("settings.notifications.pushLabel")||"Push Notifications"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:o("settings.notifications.pushDescription")||"Get notified directly in the app (requires browser permission)."})]}),a.jsx("input",{type:"checkbox",id:"push_notifications",name:"push_notifications",checked:(f==null?void 0:f.push_notifications)||!1,onChange:()=>D("push_notifications"),disabled:k,className:"form-checkbox h-5 w-5 text-rose-600 rounded focus:ring-rose-500 cursor-pointer"})]}),a.jsxs("div",{className:"flex items-center justify-between pt-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-200",children:o("settings.notifications.marketingLabel")||"Marketing Emails"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:o("settings.notifications.marketingDescription")||"Receive promotional offers and news."})]}),a.jsx("input",{type:"checkbox",id:"marketing_notifications",name:"marketing_notifications",checked:(f==null?void 0:f.marketing_notifications)||!1,onChange:()=>D("marketing_notifications"),disabled:k,className:"form-checkbox h-5 w-5 text-rose-600 rounded focus:ring-rose-500 cursor-pointer"})]})]}),a.jsx("div",{className:"text-right",children:a.jsx(xe,{type:"submit",onClick:()=>F("notifications"),disabled:k||x,className:"px-5 py-2.5 rounded-lg",children:k?o("buttons.saving")||"Saving...":o("settings.notifications.saveButton")||"Save Notifications"})})]}),oe=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200",children:o("settings.privacy.title")||"Privacy Settings"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"profile_visibility",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:o("settings.privacy.profileVisibilityLabel")||"Profile Visibility"}),a.jsxs("select",{id:"profile_visibility",name:"profile_visibility",value:(g==null?void 0:g.profile_visibility)||"public",onChange:$=>A("profile_visibility",$.target.value),disabled:k,className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-1 focus:ring-rose-500 focus:border-rose-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[a.jsx("option",{value:"public",children:o("settings.privacy.visibilityOptions.public")||"Public (Visible to everyone)"}),a.jsx("option",{value:"connections",children:o("settings.privacy.visibilityOptions.connections")||"Connections Only"}),a.jsx("option",{value:"private",children:o("settings.privacy.visibilityOptions.private")||"Private (Only you)"})]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-700",children:[a.jsx("label",{htmlFor:"show_email",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:o("settings.privacy.showEmailLabel")||"Show Email on Profile"}),a.jsx("input",{type:"checkbox",id:"show_email",name:"show_email",checked:(g==null?void 0:g.show_email)||!1,onChange:$=>A("show_email",$.target.checked.toString()),disabled:k,className:"form-checkbox h-5 w-5 text-rose-600 rounded focus:ring-rose-500 cursor-pointer"})]}),a.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-700",children:[a.jsx("label",{htmlFor:"show_location",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:o("settings.privacy.showLocationLabel")||"Show Location on Profile"}),a.jsx("input",{type:"checkbox",id:"show_location",name:"show_location",checked:(g==null?void 0:g.show_location)||!1,onChange:$=>A("show_location",$.target.checked.toString()),disabled:k,className:"form-checkbox h-5 w-5 text-rose-600 rounded focus:ring-rose-500 cursor-pointer"})]})]}),a.jsx("div",{className:"text-right",children:a.jsx(xe,{type:"submit",onClick:()=>F("privacy"),disabled:k||x,className:"px-5 py-2.5 rounded-lg",children:k?o("buttons.saving")||"Saving...":o("settings.privacy.saveButton")||"Save Privacy Settings"})})]}),R=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200",children:o("settings.appearance.title")||"Appearance"}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:o("settings.appearance.themeLabel")||"Theme"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:()=>U("light"),className:`px-4 py-2 rounded-lg border ${n?"border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700":"bg-rose-100 border-rose-500 text-rose-700"}`,children:o("settings.appearance.lightTheme")||"Light"}),a.jsx("button",{onClick:()=>U("dark"),className:`px-4 py-2 rounded-lg border ${n?"bg-rose-900 border-rose-500 text-rose-300":"border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:o("settings.appearance.darkTheme")||"Dark"})]})]})})]}),G=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200",children:o("settings.security.title")||"Security"}),a.jsxs("div",{className:"space-y-4 p-4 border border-gray-200 dark:border-gray-700 rounded-lg",children:[a.jsx("h3",{className:"font-medium text-gray-800 dark:text-gray-200",children:o("settings.security.changePasswordTitle")||"Change Password"}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:o("settings.security.newPasswordLabel")||"New Password"}),a.jsx("input",{type:"password",id:"newPassword",value:v,onChange:$=>w($.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-1 focus:ring-rose-500 focus:border-rose-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:o("settings.security.confirmPasswordLabel")||"Confirm New Password"}),a.jsx("input",{type:"password",id:"confirmPassword",value:p,onChange:$=>y($.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-1 focus:ring-rose-500 focus:border-rose-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),a.jsx("div",{className:"text-right",children:a.jsx(xe,{type:"submit",onClick:()=>F("password"),disabled:k||!v||!p,className:"px-5 py-2.5 rounded-lg",children:k?o("buttons.saving")||"Saving...":o("settings.security.changePasswordButton")||"Change Password"})})]}),a.jsxs("div",{className:"space-y-4 p-4 border border-red-300 dark:border-red-700 rounded-lg",children:[a.jsx("h3",{className:"font-medium text-red-600 dark:text-red-400",children:o("settings.security.accountActionsTitle")||"Account Actions"}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsxs("button",{onClick:S,className:"w-full sm:w-auto px-5 py-2.5 rounded-lg border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors flex items-center justify-center gap-2",disabled:k,children:[a.jsx(tv,{})," ",o("settings.security.logoutButton")||"Log Out"]}),a.jsxs("button",{onClick:O,className:"w-full sm:w-auto px-5 py-2.5 rounded-lg bg-red-600 hover:bg-red-700 text-white transition-colors flex items-center justify-center gap-2",disabled:k,children:[a.jsx(Xo,{})," ",o("settings.security.deleteAccountButton")||"Delete Account"]})]}),a.jsx("p",{className:"text-xs text-red-500 dark:text-red-400",children:o("settings.security.deleteWarning")||"Warning: Deleting your account is permanent and cannot be undone."})]})]}),Q=()=>{const X=[{question:o("faq.createGroup.question")||"How do I create a group?",answer:o("faq.createGroup.answer")||'Navigate to the Groups page and click the "Create Group" button. Fill in the details and invite members.'},{question:o("faq.addFriends.question")||"How can I add friends?",answer:o("faq.addFriends.answer")||'Go to the Friends page, find people under "Suggestions" or search, and click "Connect" or "Add Friend".'},{question:o("faq.privacy.question")||"How do I manage my privacy settings?",answer:o("faq.privacy.answer")||"Go to Settings -> Privacy. Here you can control who sees your profile and posts."},{question:o("faq.notifications.question")||"How can I change my notification preferences?",answer:o("faq.notifications.answer")||"Visit Settings -> Notifications to enable or disable email and push notifications."},{question:o("faq.deleteAccount.question")||"How do I delete my account?",answer:o("faq.deleteAccount.answer")||"Go to Settings -> Security -> Account Actions. Be aware that deleting your account is permanent."}].filter(ne=>ne.question.toLowerCase().includes(E.toLowerCase())||ne.answer.toLowerCase().includes(E.toLowerCase()));return a.jsxs("div",{className:"space-y-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200",children:o("settings.help.title")||"Help & Support"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{onClick:M,className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow cursor-pointer group border border-gray-100 dark:border-gray-600",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx("div",{className:"bg-blue-100 dark:bg-blue-900 p-2 rounded-full mr-3",children:a.jsx($2,{className:"text-lg text-blue-500 dark:text-blue-400 group-hover:scale-110 transition-transform"})}),a.jsxs("h3",{className:"font-semibold text-gray-800 dark:text-white flex items-center",children:[o("helpAndSupport.telegramSupport")||"Telegram Support",a.jsx(af,{className:"ml-1.5 text-xs opacity-0 group-hover:opacity-100 transition-opacity"})]})]}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:o("helpAndSupport.telegramSupportDescription")||"Chat with us directly on Telegram."})]}),a.jsxs("div",{onClick:T,className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow cursor-pointer group border border-gray-100 dark:border-gray-600",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx("div",{className:"bg-red-100 dark:bg-red-900 p-2 rounded-full mr-3",children:a.jsx(Jg,{className:"text-lg text-red-500 dark:text-red-400 group-hover:scale-110 transition-transform"})}),a.jsxs("h3",{className:"font-semibold text-gray-800 dark:text-white flex items-center",children:[o("helpAndSupport.emailSupport")||"Email Support",a.jsx(af,{className:"ml-1.5 text-xs opacity-0 group-hover:opacity-100 transition-opacity"})]})]}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:o("helpAndSupport.emailSupportDescription")||"Send us an email for assistance."})]}),a.jsxs("div",{onClick:B,className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow cursor-pointer group border border-gray-100 dark:border-gray-600",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx("div",{className:"bg-green-100 dark:bg-green-900 p-2 rounded-full mr-3",children:a.jsx(JT,{className:"text-lg text-green-500 dark:text-green-400 group-hover:scale-110 transition-transform"})}),a.jsxs("h3",{className:"font-semibold text-gray-800 dark:text-white flex items-center",children:[o("helpAndSupport.helpCenter")||"Help Center",a.jsx(af,{className:"ml-1.5 text-xs opacity-0 group-hover:opacity-100 transition-opacity"})]})]}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:o("helpAndSupport.helpCenterDescription")||"Find answers in our knowledge base."})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 shadow-sm border border-gray-100 dark:border-gray-600",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx("div",{className:"bg-purple-100 dark:bg-purple-900 p-2 rounded-full mr-3",children:a.jsx(cT,{className:"text-lg text-purple-500 dark:text-purple-400"})}),a.jsx("h3",{className:"font-semibold text-gray-800 dark:text-white",children:o("helpAndSupport.documentation")||"Documentation"})]}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-3",children:o("helpAndSupport.documentationDescription")||"Browse comprehensive guides."}),a.jsx("button",{onClick:V,className:"text-sm text-indigo-600 dark:text-indigo-400 font-medium hover:underline",children:o("helpAndSupport.viewDocumentation")||"View Documentation"})]}),a.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 shadow-sm border border-gray-100 dark:border-gray-600",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx("div",{className:"bg-yellow-100 dark:bg-yellow-900 p-2 rounded-full mr-3",children:a.jsx(r8,{className:"text-lg text-yellow-500 dark:text-yellow-400"})}),a.jsx("h3",{className:"font-semibold text-gray-800 dark:text-white",children:o("helpAndSupport.videoTutorials")||"Video Tutorials"})]}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-3",children:o("helpAndSupport.videoTutorialsDescription")||"Watch videos to get started."}),a.jsx("button",{onClick:re,className:"text-sm text-indigo-600 dark:text-indigo-400 font-medium hover:underline",children:o("helpAndSupport.watchTutorials")||"Watch Tutorials"})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-200 mb-4",children:o("helpAndSupport.frequentlyAskedQuestions")||"Frequently Asked Questions"}),a.jsxs("div",{className:"relative mb-4",children:[a.jsx(q2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:o("actions.search")||"Search FAQs...",value:E,onChange:ne=>N(ne.target.value)})]}),a.jsx("div",{className:"space-y-2",children:X.length>0?X.map((ne,ie)=>a.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[a.jsxs("button",{className:"w-full text-left p-3 bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors flex justify-between items-center",onClick:()=>C(I===ie?null:ie),children:[a.jsx("span",{className:"font-medium text-gray-800 dark:text-white",children:ne.question}),a.jsx(R2,{className:`h-5 w-5 text-gray-500 dark:text-gray-400 transform transition-transform ${I===ie?"rotate-180":""}`})]}),I===ie&&a.jsx("div",{className:"p-3 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700",children:a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 whitespace-pre-line",children:ne.answer})})]},ie)):a.jsx("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:a.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:o("helpAndSupport.noMatchingFAQs")||"No matching FAQs found."})})})]})]})},W=()=>a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800 dark:text-gray-200",children:o("settings.account.title")||"Account Management"}),a.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[a.jsx(xe,{variant:"secondary",className:"w-full justify-center py-2",onClick:()=>ee("Sessions management not implemented yet"),children:o("settings.account.manageSessionsButton")||"Manage Logged-in Sessions"}),a.jsx(xe,{variant:"secondary",className:"w-full justify-center py-2 bg-blue-600 hover:bg-blue-700 text-white",onClick:()=>ee("Password change UI not fully implemented"),children:o("settings.account.managePasswordButton")||"Manage Password (OAuth?)"}),a.jsx(xe,{variant:"secondary",className:"w-full justify-center py-2 bg-amber-600 hover:bg-amber-700 text-white",onClick:()=>ee("Account deactivation not implemented"),children:o("settings.account.deactivateButton")||"Deactivate Account (Temporary)"}),a.jsx(xe,{variant:"destructive",className:"w-full justify-center py-2",onClick:O,disabled:k,children:k?o("buttons.deleting")||"Deleting...":o("settings.account.deletePermanentlyButton")||"Delete Account Permanently"})]})]}),K=[{id:"profile",label:o("settings.tabs.profile")||"Profile",icon:Sr,content:se},{id:"appearance",label:o("settings.tabs.appearance")||"Appearance",icon:mT,content:R},{id:"notifications",label:o("settings.tabs.notifications")||"Notifications",icon:Fi,content:de},{id:"privacy",label:o("settings.tabs.privacy")||"Privacy",icon:I2,content:oe},{id:"security",label:o("settings.tabs.security")||"Security",icon:_T,content:G},{id:"account",label:o("settings.tabs.account")||"Account",icon:D2,content:W},{id:"help",label:o("settings.tabs.help")||"Help & Support",icon:bT,content:Q}];if(x&&!u)return a.jsx("div",{className:"flex justify-center items-center min-h-screen",children:a.jsx(Ee,{size:"lg"})});if(!e&&!x)return a.jsx(ai,{to:"/login",replace:!0});const H=K.find($=>$.id===l);return a.jsxs("div",{className:"max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-8",children:o("settings.pageTitle")||"Settings"}),a.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[a.jsx("aside",{className:"w-full lg:w-64 flex-shrink-0 mb-6 lg:mb-0",children:a.jsx("div",{className:"sticky top-6 space-y-1 bg-white dark:bg-gray-800 rounded-lg shadow p-3",children:a.jsxs("nav",{className:"space-y-1",children:[K.map($=>a.jsxs("button",{onClick:()=>c($.id),className:`group flex items-center px-3 py-2 text-sm font-medium rounded-md w-full text-left ${l===$.id?"bg-indigo-50 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-200":"text-gray-600 hover:bg-gray-50 hover:text-gray-900 dark:text-gray-400 dark:hover:bg-gray-800 dark:hover:text-white"}`,children:[a.jsx($.icon,{className:`mr-3 flex-shrink-0 h-5 w-5 ${l===$.id?"text-indigo-500 dark:text-indigo-400":"text-gray-400 group-hover:text-gray-500 dark:text-gray-500 dark:group-hover:text-gray-400"}`}),$.label]},$.id)),a.jsxs("button",{onClick:S,className:"group flex items-center px-3 py-2 text-sm font-medium rounded-md w-full text-left text-gray-600 hover:bg-red-50 hover:text-red-700 dark:text-gray-400 dark:hover:bg-red-900/20 dark:hover:text-red-400 mt-4",children:[a.jsx(tv,{className:"mr-3 flex-shrink-0 h-5 w-5 text-gray-400 group-hover:text-red-500 dark:group-hover:text-red-400"}),"Logout"]})]})})}),a.jsx("div",{className:"flex-1 bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:H?H.content():a.jsx("div",{children:"Select a category"})})]})]})},rz=[{name:"Emma Johnson",avatar:"https://randomuser.me/api/portraits/women/1.jpg",bio:"Digital marketing specialist with 5+ years experience"},{name:"Liam Wilson",avatar:"https://randomuser.me/api/portraits/men/2.jpg",bio:"Software engineer passionate about AI and machine learning"},{name:"Olivia Martinez",avatar:"https://randomuser.me/api/portraits/women/3.jpg",bio:"Travel blogger exploring hidden gems around the world"},{name:"Noah Thompson",avatar:"https://randomuser.me/api/portraits/men/4.jpg",bio:"Fitness trainer specialized in nutrition and weight loss"},{name:"Sophia Anderson",avatar:"https://randomuser.me/api/portraits/women/5.jpg",bio:"Graphic designer with an eye for minimalist aesthetics"},{name:"Elijah Taylor",avatar:"https://randomuser.me/api/portraits/men/6.jpg",bio:"Photographer capturing beautiful landscapes and wildlife"},{name:"Ava Thomas",avatar:"https://randomuser.me/api/portraits/women/7.jpg",bio:"UX researcher focused on creating intuitive interfaces"},{name:"Lucas Walker",avatar:"https://randomuser.me/api/portraits/men/8.jpg",bio:"Chef specializing in fusion cuisine and baking"}],nz=()=>{const[e,t]=m.useState(!1),[r,n]=m.useState(null),[s,o]=m.useState([]),[i,l]=m.useState([]),[c,u]=m.useState(!1),[d,f]=m.useState({totalUsers:0,totalGroups:0,totalPosts:0,totalEvents:0}),{user:h}=$e(),g=ot(),b=async()=>{try{t(!0),console.log("Fetching mock users...");const{data:j,error:E}=await z.from("profiles").select("*").order("created_at",{ascending:!1});if(E)throw E;console.log("Fetched users:",(j==null?void 0:j.length)||0,"users found"),o(j||[])}catch(j){console.error("Error fetching users:",j),q.error("Failed to load users")}finally{t(!1)}},v=async()=>{try{const{data:j,error:E}=await z.from("chat_groups").select("*").order("created_at",{ascending:!1});if(E)throw E;l(j||[])}catch(j){console.error("Error fetching groups:",j)}},w=async()=>{u(!0);try{const{count:j,error:E}=await z.from("profiles").select("*",{count:"exact",head:!0});if(E)throw E;const{count:N,error:I}=await z.from("chat_groups").select("*",{count:"exact",head:!0});if(I)throw I;const{count:C,error:L}=await z.from("posts").select("*",{count:"exact",head:!0});let P=0;L||(P=C||0);const{count:D,error:A}=await z.from("events").select("*",{count:"exact",head:!0});let F=0;A||(F=D||0),f({totalUsers:j||0,totalGroups:N||0,totalPosts:P,totalEvents:F})}catch(j){console.error("Error fetching stats:",j)}finally{u(!1)}};m.useEffect(()=>{h&&(b(),v(),w())},[h]);const p=async()=>{var j;try{n("creating"),console.log("Creating mock users...");let E=0,N=0;const{data:I,error:C}=await z.from("profiles").select("full_name, email").order("created_at",{ascending:!1});if(C){console.error("Error fetching existing profiles:",C),q.error(`Error checking existing profiles: ${C.message}`);return}console.log(`Found ${(I==null?void 0:I.length)||0} existing profiles`);const L=new Set((I==null?void 0:I.map(D=>D.full_name.toLowerCase()))||[]),P=new Set((I==null?void 0:I.map(D=>{var A;return(A=D.email)==null?void 0:A.toLowerCase()}))||[]);for(const D of rz){if(L.has(D.name.toLowerCase())){console.log(`Skipping ${D.name} - user with this name already exists`);continue}const A=`test_${Math.random().toString(36).substring(2,10)}@example.com`;if(P.has(A.toLowerCase())){console.log(`Skipping ${D.name} - generated email ${A} already exists`);continue}const{data:F,error:O}=await z.auth.signUp({email:A,password:"test123456",options:{data:{full_name:D.name}}});if(O){console.error(`Error creating auth user for ${D.name}:`,O),N++;continue}const{error:U}=await z.from("profiles").insert([{id:(j=F.user)==null?void 0:j.id,full_name:D.name,avatar_url:D.avatar,bio:D.bio,email:A,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]);if(U){console.error(`Error creating profile for ${D.name}:`,U),N++;continue}E++}q.success(`Created ${E} users successfully${N>0?` (${N} failed)`:""}`),b()}catch(E){console.error("Error creating mock users:",E),q.error("Failed to create mock users")}finally{n(null)}},y=async()=>{if(h)try{n("group");const j=s.slice(0,4);if(j.length<2){q.error("Need at least 2 other users to create a group");return}const{data:E,error:N}=await z.from("chat_groups").insert({name:`Group Chat ${Math.floor(Math.random()*1e3)}`,description:"A mock group chat for testing",created_by:h.id,created_at:new Date().toISOString(),avatar_url:"https://ui-avatars.com/api/?name=Group+Chat&background=random"}).select();if(N)throw N;if(E&&E[0]){const I=E[0].id;await z.from("chat_group_members").insert({group_id:I,user_id:h.id,joined_at:new Date().toISOString(),is_admin:!0});const C=j.map(L=>z.from("chat_group_members").insert({group_id:I,user_id:L.id,joined_at:new Date().toISOString(),is_admin:!1}));await Promise.all(C),await z.from("chat_messages").insert({group_id:I,user_id:h.id,content:"Welcome to the group chat!",created_at:new Date().toISOString()}),q.success("Group chat created successfully"),v()}}catch(j){console.error("Error creating mock group:",j),q.error("Failed to create mock group chat")}finally{n(null)}},x=j=>{g(`/chat/groups/${j}`)},_=j=>{g(`/messages/${j}`)},k=async()=>{if(!(!h||!window.confirm("Are you sure? This will delete all mock users and chat groups.")))try{n("deleting"),await z.from("profiles").delete().not("id","eq",h.id),await z.from("chat_groups").delete().neq("id",0),q.success("All mock data deleted successfully"),b(),v()}catch(j){console.error("Error deleting mock data:",j),q.error("Failed to delete mock data")}finally{n(null)}};return e?a.jsx("div",{className:"flex justify-center items-center py-8",children:a.jsx(Ee,{size:"lg"})}):a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 mb-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Admin Dashboard"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage users, groups, and system settings"})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 mt-4 sm:mt-0",children:[a.jsx("button",{onClick:p,disabled:r==="creating",className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-indigo-500 to-rose-500 hover:opacity-90 text-white rounded-lg transition-colors",children:r==="creating"?a.jsxs(a.Fragment,{children:[a.jsx(Ee,{size:"sm",className:"mr-2"}),"Creating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ui,{className:"mr-2"}),"Create Mock Users"]})}),a.jsx("button",{onClick:y,disabled:r==="group"||s.length<2,className:"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:r==="group"?a.jsxs(a.Fragment,{children:[a.jsx(Ee,{size:"sm",className:"mr-2"}),"Creating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(on,{className:"mr-2"}),"Create Mock Group"]})}),a.jsx("button",{onClick:k,disabled:r==="deleting",className:"inline-flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:r==="deleting"?a.jsxs(a.Fragment,{children:[a.jsx(Ee,{size:"sm",className:"mr-2"}),"Deleting..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Xo,{className:"mr-2"}),"Delete All"]})}),a.jsxs("button",{onClick:()=>{b(),v(),w()},className:"inline-flex items-center px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:[a.jsx(L2,{className:"mr-2"}),"Refresh"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[a.jsx("div",{className:"bg-white dark:bg-gray-750 p-4 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-3 rounded-full bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-300",children:a.jsx(rt,{className:"h-6 w-6"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Total Users"}),a.jsx("div",{className:"text-2xl font-semibold text-gray-800 dark:text-white",children:c?a.jsx(Ee,{size:"sm"}):d.totalUsers})]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-750 p-4 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-3 rounded-full bg-green-100 dark:bg-green-900 text-green-600 dark:text-green-300",children:a.jsx(rt,{className:"h-6 w-6"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Groups"}),a.jsx("div",{className:"text-2xl font-semibold text-gray-800 dark:text-white",children:c?a.jsx(Ee,{size:"sm"}):d.totalGroups})]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-750 p-4 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-3 rounded-full bg-purple-100 dark:bg-purple-900 text-purple-600 dark:text-purple-300",children:a.jsx(xc,{className:"h-6 w-6"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Posts"}),a.jsx("div",{className:"text-2xl font-semibold text-gray-800 dark:text-white",children:c?a.jsx(Ee,{size:"sm"}):d.totalPosts})]})]})}),a.jsx("div",{className:"bg-white dark:bg-gray-750 p-4 rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-3 rounded-full bg-yellow-100 dark:bg-yellow-900 text-yellow-600 dark:text-yellow-300",children:a.jsx(hT,{className:"h-6 w-6"})}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:"Events"}),a.jsx("div",{className:"text-2xl font-semibold text-gray-800 dark:text-white",children:c?a.jsx(Ee,{size:"sm"}):d.totalEvents})]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"border dark:border-gray-700 p-4 rounded-lg",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[a.jsx(Sr,{className:"mr-2"}),"Users (",s.length,")"]}),a.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto pr-2",children:s.length===0?a.jsx("div",{className:"text-center py-4 text-gray-500 dark:text-gray-400",children:"No users found. Create some mock users to get started."}):s.map(j=>a.jsxs("div",{className:"flex items-center justify-between bg-gray-50 dark:bg-gray-750 p-3 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(sa,{src:j.avatar_url,name:j.full_name,size:"md"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:j.full_name}),j.bio&&a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 line-clamp-1",children:j.bio})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>_(j.id),className:"px-3 py-1 text-sm bg-gradient-to-r from-indigo-500/10 to-rose-500/10 text-indigo-700 dark:text-indigo-300 rounded-md hover:from-indigo-500/20 hover:to-rose-500/20 dark:hover:from-indigo-500/20 dark:hover:to-rose-500/20",children:"Message"}),a.jsx("button",{className:"px-3 py-1 text-sm bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600",onClick:()=>g(`/profile/${j.id}`),children:"View Profile"})]})]},j.id))})]}),a.jsxs("div",{className:"border dark:border-gray-700 p-4 rounded-lg",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[a.jsx(rt,{className:"mr-2"}),"Groups (",i.length,")"]}),a.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto pr-2",children:i.length===0?a.jsx("div",{className:"text-center py-4 text-gray-500 dark:text-gray-400",children:"No groups found. Create a mock group to get started."}):i.map(j=>a.jsxs("div",{className:"flex items-center justify-between bg-gray-50 dark:bg-gray-750 p-3 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(sa,{src:j.avatar_url,name:j.name,size:"md"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:j.name}),j.description&&a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 line-clamp-1",children:j.description})]})]}),a.jsx("button",{onClick:()=>x(j.id),className:"px-3 py-1 text-sm bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300 rounded-md hover:bg-blue-200 dark:hover:bg-blue-800",children:"View Group"})]},j.id))})]})]}),a.jsxs("div",{className:"mt-8",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[a.jsx(I2,{className:"mr-2"}),"Admin Tools"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("button",{onClick:()=>g("/admin/chat-diagnostics"),className:"p-4 bg-white dark:bg-gray-750 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-left",children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Chat Diagnostics"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Test and debug chat functionality"})]}),a.jsxs("button",{onClick:()=>g("/settings"),className:"p-4 bg-white dark:bg-gray-750 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-left",children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"System Settings"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Configure application settings"})]}),a.jsxs("button",{onClick:()=>window.open("/setup-database.js"),className:"p-4 bg-white dark:bg-gray-750 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-left",children:[a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Database Setup"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Initialize and configure database tables"})]})]})]})]})})},sz=e=>{if(!e)return"";try{return ml(new Date(e),"p")}catch(t){return console.error("Error formatting time:",t),"Invalid date"}},q4=mt.memo(({message:e,isCurrentUser:t,currentUserProfile:r,getMessageStyle:n})=>{const{t:s}=Yr(),o=t?r:e.profiles,i=(o==null?void 0:o.full_name)||(t?"You":s("group_chat.unknown_user")),l=(o==null?void 0:o.avatar_url)||"/default-avatar.png";return a.jsxs("div",{className:`flex items-end gap-2.5 ${t?"justify-end":"justify-start"} mb-2`,children:[!t&&a.jsx("img",{src:l,alt:i,className:"h-6 w-6 rounded-full flex-shrink-0 border border-gray-200 dark:border-gray-600 self-start mt-1",onError:c=>c.currentTarget.src="/default-avatar.png"}),a.jsxs("div",{className:`flex flex-col ${t?"items-end":"items-start"} max-w-[75%]`,children:[!t&&o&&a.jsx("span",{className:"text-xs font-medium mb-0.5 text-indigo-600 dark:text-indigo-400 ml-1",children:i}),a.jsxs("div",{className:n(t),children:[a.jsx("p",{className:"whitespace-pre-wrap",children:e.content}),a.jsx("span",{className:`text-[10px] mt-1 ${t?"text-indigo-100/80":"text-gray-500 dark:text-gray-400"} ${t?"text-right":"text-left"} block opacity-80`,children:sz(e.created_at)})]})]}),t&&a.jsx("img",{src:l,alt:i,className:"h-6 w-6 rounded-full flex-shrink-0 border border-gray-200 dark:border-gray-600 self-start mt-1 ml-1",onError:c=>c.currentTarget.src="/default-avatar.png"})]})});q4.displayName="MessageItem";const oz=()=>{const{id:e}=Wu(),{user:t}=$e(),r=ot(),{t:n}=Yr(),[s,o]=m.useState([]),[i,l]=m.useState(""),[c,u]=m.useState(!0),[d,f]=m.useState(null),[h,g]=m.useState(null),b=m.useRef(null),[v,w]=m.useState(!1),[p,y]=m.useState(!1),[x,_]=m.useState([]),[k,j]=m.useState(!1),[E,N]=m.useState(null),[I,C]=m.useState(!1),[L,P]=m.useState("default"),[D,A]=m.useState("rounded"),[F,O]=m.useState("medium"),[U,S]=m.useState(!1),[M,T]=m.useState(null),[B,V]=m.useState(null),re=()=>{C($=>!$)},se=async()=>{if(!e||!t){f(n("group_chat.error_invalid_group_id")),u(!1);return}u(!0),f(null);try{const{data:$,error:X}=await z.from("profiles").select("id, full_name, avatar_url").eq("id",t.id).single();!X&&$&&V($);const{data:ne,error:ie}=await z.from("groups").select("id, name, description, image_url").eq("id",e).single();if(ie)throw ie.code==="PGRST116"?new Error(n("group_chat.error_group_not_found")):ie;g({id:ne.id,name:ne.name,description:ne.description,image_url:ne.image_url}),console.log(`[fetchInitialData] Checking membership for user ${t.id} in group ${e}...`);try{const{count:pe,error:Ce}=await z.from("chat_group_members").select("*",{count:"exact",head:!0}).eq("group_id",e).eq("user_id",t.id);if(Ce)console.error("[fetchInitialData] Error checking membership via direct query:",Ce),w(!1);else{const Pe=(pe??0)>0;w(Pe),console.log("[fetchInitialData] Membership check result via direct query:",{isMember:Pe,count:pe})}}catch(pe){console.error("[fetchInitialData] Exception in membership check:",pe),w(!1)}const{data:J,error:he}=await z.from("chat_messages").select("id, created_at, content, user_id, group_id").eq("group_id",e).order("created_at",{ascending:!0});if(he){if(console.log("[fetchInitialData] Error fetching messages:",he),!he.message.includes("permission denied"))throw he}else{console.log("[fetchInitialData] Fetched messages data:",J);const pe=J||[],Ce=[...new Set(pe.map(nt=>nt.user_id))];let Pe={};if(Ce.length>0){const{data:nt,error:Y}=await z.from("profiles").select("id, full_name, avatar_url").in("id",Ce);!Y&&nt&&(Pe=nt.reduce((ye,Ve)=>(ye[Ve.id]=Ve,ye),{}))}const it=pe.map(nt=>({...nt,profiles:Pe[nt.user_id]||null}));o(it)}}catch($){console.error("[fetchInitialData] Error fetching initial data:",$),f($.message||n("group_chat.error_loading_chat"))}finally{u(!1)}};m.useEffect(()=>{if(!t){r("/login");return}se()},[t,r,e,n]);const de=async()=>{if(e)try{j(!0),N(null);const{data:$,error:X}=await z.from("chat_group_members").select(`
          id,
          user_id,
          group_id,
          role,
          profiles (
            id,
            full_name,
            avatar_url
          )
        `).eq("group_id",e);if(X)throw console.error("Error fetching group members directly:",X),X;if($&&$.length>0){const ne=$.map(ie=>({id:ie.id,user_id:ie.user_id,group_id:ie.group_id,role:ie.role,is_admin:ie.role==="admin",profiles:ie.profiles}));console.log("Fetched members with profiles:",ne),_(ne)}else console.log("No members found for group:",e),_([])}catch($){console.error("Error fetching group members:",$),N(n("group_chat.error_loading_members"))}finally{j(!1)}};m.useEffect(()=>{p&&x.length===0&&!k&&de()},[p,x.length,k,e,n]),m.useEffect(()=>{if(!e)return;const $=z.channel(`group_chat_${e}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_messages",filter:`group_id=eq.${e}`},async X=>{console.log("New message received:",X);const ne=X.new;if(ne.user_id)try{const{data:ie}=await z.from("profiles").select("id, full_name, avatar_url").eq("id",ne.user_id).single();o(J=>J.some(he=>he.id===ne.id)?J:[...J,{...ne,profiles:ie||null}])}catch(ie){console.error("Error fetching profile for new message:",ie),o(J=>J.some(he=>he.id===ne.id)?J:[...J,{...ne,profiles:null}])}}).subscribe(X=>{X==="SUBSCRIBED"?console.log(`Subscribed to group_chat_${e}`):X==="CHANNEL_ERROR"&&(console.error(`Subscription error on channel group_chat_${e}`),f(n("group_chat.error_realtime_connection")))});return()=>{z.removeChannel($).then(X=>console.log(`Unsubscribed from group_chat_${e}:`,X))}},[e,n]);const oe=async()=>{if(!(!e||!t))try{const{data:$,error:X}=await z.rpc("get_chat_group_settings",{p_group_id:e,p_user_id:t.id});if(X)throw X;$&&(T($),$.theme&&P($.theme),$.bubble_style&&A($.bubble_style),$.font_size&&O($.font_size))}catch($){console.error("Error fetching group settings:",$)}},R=async()=>{if(!(!e||!t))try{const{error:$}=await z.from("group_chat_settings").upsert({group_id:e,user_id:t.id,theme:L,bubble_style:D,font_size:F,updated_at:new Date().toISOString()});if($)throw $;ee.success(n("group_chat.settings_saved"))}catch($){console.error("Error saving chat settings:",$),ee.error(n("group_chat.error_saving_settings"))}};m.useEffect(()=>{se(),oe()},[e,t]);const G=async $=>{$.preventDefault();let X=`temp-${Date.now()}`;if(!i.trim()||!t||!e)return;const ne=i.trim(),ie=t.id,J=e;l("");const he={id:X,content:ne,user_id:ie,group_id:J,created_at:new Date().toISOString(),profiles:B};o(pe=>[...pe,he]);try{const{data:pe,error:Ce}=await z.from("chat_messages").insert({content:ne,group_id:J,user_id:ie}).select("id, created_at").single();if(Ce){console.error("Error inserting message directly:",Ce),o(Pe=>Pe.filter(it=>it.id!==X)),ee.error(n("group_chat.error_sending_message")),l(ne);return}console.log("Message inserted successfully:",pe),o(Pe=>Pe.map(it=>it.id===X?{...it,id:pe.id,created_at:pe.created_at}:it))}catch(pe){console.error("Error sending message catch block:",pe),o(Ce=>Ce.filter(Pe=>Pe.id!==X)),ee.error(n("group_chat.error_sending_message")),l(ne)}};m.useEffect(()=>{b.current&&b.current.scrollIntoView({behavior:"smooth"})},[s]);const Q=async()=>{if(!t||!e)return;const $=e,X=t.id;try{const{data:ne,error:ie}=await z.from("chat_group_members").insert({group_id:$,user_id:X}).select().single();if(ie)if(ie.code==="23505")console.warn("User might already be a member or rejoining failed due to constraint:",ie),w(!0),ee.success(n("group_chat.joined_group_success"));else{console.error("Error inserting group membership:",ie),ee.error(n("group_chat.error_joining_group"));return}else console.log("Successfully inserted group membership:",ne),ee.success(n("group_chat.joined_group_success")),w(!0);se()}catch(ne){console.error("Error in handleJoinGroup catch block:",ne),ee.error(ne.message||n("group_chat.error_joining_group"))}},W=$=>{let X="";switch(L){case"modern":X=$?"bg-gradient-to-br from-blue-500 to-indigo-600 text-white":"bg-gray-200 dark:bg-gray-800 text-gray-900 dark:text-gray-100";break;case"minimal":X=$?"bg-indigo-100 dark:bg-indigo-900 text-indigo-800 dark:text-indigo-100 border border-indigo-200 dark:border-indigo-800":"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200 border border-gray-200 dark:border-gray-700";break;case"colorful":X=$?"bg-gradient-to-br from-pink-500 to-orange-500 text-white":"bg-gradient-to-br from-cyan-500 to-blue-500 text-white";break;default:X=$?"bg-gradient-to-br from-indigo-500 to-purple-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-gray-100"}switch(D){case"square":X+=" rounded-md";break;case"bubble":X+=$?" rounded-2xl rounded-br-sm":" rounded-2xl rounded-bl-sm";break;default:X+=$?" rounded-xl rounded-br-sm":" rounded-xl rounded-bl-sm"}switch(F){case"small":X+=" text-xs";break;case"large":X+=" text-base";break;default:X+=" text-sm"}return`${X} px-3.5 py-2 shadow-sm break-words`},K=()=>a.jsxs("div",{className:"sticky top-0 z-10 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800 px-4 py-3 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("button",{onClick:()=>r("/messages"),className:"mr-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:a.jsx(ru,{size:20})}),a.jsxs("div",{className:"flex items-center",children:[h!=null&&h.image_url?a.jsx("img",{src:h.image_url,alt:h.name,className:"w-8 h-8 rounded-full mr-2",onError:$=>$.currentTarget.src="/default-group.png"}):a.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-100 dark:bg-indigo-900 flex items-center justify-center mr-2",children:a.jsx(rt,{size:16,className:"text-indigo-600 dark:text-indigo-400"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"font-medium text-gray-900 dark:text-white",children:h==null?void 0:h.name}),a.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[x.length," ",n("group_chat.members")]})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>y(!0),className:"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white p-1.5 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800","aria-label":n("group_chat.view_members"),children:a.jsx(rt,{size:18})}),a.jsx("button",{onClick:()=>S(!U),className:"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white p-1.5 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800","aria-label":n("group_chat.settings"),children:a.jsx(D2,{size:18})}),a.jsx("button",{onClick:re,className:"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white p-1.5 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800",children:I?a.jsx(jT,{size:18}):a.jsx(kT,{size:18})})]})]}),H=()=>a.jsxs("div",{className:`${U?"block":"hidden"} p-4 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700`,children:[a.jsx("h3",{className:"font-medium text-gray-900 dark:text-white mb-3",children:n("group_chat.appearance_settings")}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:n("group_chat.chat_theme")}),a.jsx("div",{className:"flex space-x-2",children:["default","modern","minimal","colorful"].map($=>a.jsx("button",{onClick:()=>P($),className:`px-3 py-1.5 text-xs rounded-full ${L===$?"bg-indigo-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:n(`group_chat.theme_${$}`)},$))})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:n("group_chat.bubble_style")}),a.jsx("div",{className:"flex space-x-2",children:["rounded","square","bubble"].map($=>a.jsx("button",{onClick:()=>A($),className:`px-3 py-1.5 text-xs rounded-full ${D===$?"bg-indigo-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:n(`group_chat.style_${$}`)},$))})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:n("group_chat.font_size")}),a.jsx("div",{className:"flex space-x-2",children:["small","medium","large"].map($=>a.jsx("button",{onClick:()=>O($),className:`px-3 py-1.5 text-xs rounded-full ${F===$?"bg-indigo-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:n(`group_chat.size_${$}`)},$))})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{onClick:R,className:"px-4 py-1.5 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:n("group_chat.save_settings")})})]});return c&&s.length===0?a.jsx("div",{className:"flex justify-center items-center h-full",children:a.jsx(Ee,{size:"lg"})}):d&&!h?a.jsxs("div",{className:"p-4 text-center",children:[a.jsx("p",{className:"text-red-600 dark:text-red-400",children:d}),a.jsx("button",{onClick:()=>r("/groups"),className:"mt-4 px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700",children:n("group_chat.back_to_groups")})]}):a.jsxs("div",{className:`flex flex-col h-screen ${I?"fixed inset-0 z-50 bg-white dark:bg-gray-900":""}`,children:[K(),H(),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-50 dark:bg-gray-900",children:[!v&&h&&a.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-4 text-center",children:[a.jsx("p",{className:"text-yellow-800 dark:text-yellow-200 mb-2",children:n("group_chat.not_a_member")||"You are not a member of this group."}),a.jsx("button",{onClick:Q,className:"px-4 py-2 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-lg hover:opacity-90 transition",children:n("group_chat.join_group")||"Join Group"})]}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-3 sm:p-4 space-y-1 pb-16",children:[d&&h&&a.jsx("p",{className:"text-red-500 dark:text-red-400 text-center text-sm mb-2",children:d}),c&&s.length===0&&a.jsx("div",{className:"flex justify-center pt-4",children:a.jsx(Ee,{})}),!c&&s.length===0&&a.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center pt-4",children:n("group_chat.no_messages_yet")}),!c&&s.length>0&&s.map($=>a.jsx(q4,{message:$,isCurrentUser:$.user_id===(t==null?void 0:t.id),currentUserProfile:{avatar_url:B==null?void 0:B.avatar_url,full_name:B==null?void 0:B.full_name},getMessageStyle:W},$.id)),a.jsx("div",{ref:b})]}),a.jsx("footer",{className:"fixed bottom-0 left-0 right-0 p-3 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-850",children:v?a.jsxs("form",{onSubmit:G,className:"flex items-center space-x-2",children:[a.jsx("input",{type:"text",value:i,onChange:$=>l($.target.value),placeholder:n("group_chat.type_a_message"),className:"flex-1 px-4 py-2.5 bg-gray-100 dark:bg-gray-700 border border-transparent rounded-full focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 text-sm transition duration-150 ease-in-out"}),a.jsx("button",{type:"submit",disabled:!i.trim(),className:"flex-shrink-0 flex items-center justify-center p-2.5 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-full hover:opacity-90 transition duration-150 ease-in-out disabled:opacity-50 disabled:cursor-not-allowed","aria-label":n("group_chat.send_message"),children:a.jsx(Yg,{size:18})})]}):a.jsx("div",{className:"flex justify-center items-center p-2",children:a.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:n("group_chat.join_to_send_messages")||"Join the group to send messages"})})})]}),a.jsx($p,{open:p,onOpenChange:y,children:a.jsxs(Up,{className:"sm:max-w-md",children:[a.jsx(zp,{children:a.jsx(Bp,{children:n("group_chat.group_members")})}),a.jsx("div",{className:"max-h-[60vh] overflow-y-auto my-4",children:k?a.jsx("div",{className:"flex justify-center py-4",children:a.jsx(Ee,{})}):E?a.jsx("div",{className:"text-center py-4 text-red-500",children:E}):a.jsx("div",{className:"space-y-3",children:x.map($=>{var X,ne,ie;return a.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("img",{src:((X=$.profiles)==null?void 0:X.avatar_url)||"/default-avatar.png",alt:((ne=$.profiles)==null?void 0:ne.full_name)||"Member",className:"h-8 w-8 rounded-full",onError:J=>J.currentTarget.src="/default-avatar.png"}),a.jsx("div",{children:a.jsxs("div",{className:"font-medium text-gray-900 dark:text-white",children:[((ie=$.profiles)==null?void 0:ie.full_name)||n("group_chat.unknown_user"),$.is_admin&&a.jsx("span",{className:"ml-2 text-xs bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200 px-2 py-0.5 rounded-full",children:n("group_chat.admin")})]})})]}),$.user_id!==(t==null?void 0:t.id)&&a.jsx("button",{onClick:()=>r(`/profile/${$.user_id}`),className:"text-sm text-indigo-600 hover:text-indigo-800 dark:text-indigo-400 dark:hover:text-indigo-300",children:n("general.view_profile")})]},$.id)})})}),a.jsx("div",{className:"flex justify-end mt-4",children:a.jsx("button",{onClick:()=>y(!1),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-800 focus:outline-none",children:n("general.close")})})]})})]})},W4=mt.memo(({message:e,currentUserId:t})=>{const r=e.user_id===t,n=e.profiles,s=(n==null?void 0:n.avatar_url)||"/default-avatar.png",o=(n==null?void 0:n.full_name)||"Unknown User",i=l=>{try{return ml(new Date(l),"p")}catch(c){return console.error("Error formatting timestamp:",c),"Invalid Date"}};return a.jsxs("div",{className:`flex items-end ${r?"justify-end":"justify-start"} mb-2`,children:[!r&&a.jsx("img",{src:s,alt:o,className:"h-6 w-6 rounded-full flex-shrink-0 mr-2 mb-1 self-start border border-gray-200 dark:border-gray-600"}),a.jsxs("div",{className:`flex flex-col ${r?"items-end":"items-start"} max-w-xs sm:max-w-md lg:max-w-lg`,children:[!r&&n&&a.jsx("span",{className:"text-xs font-medium mb-0.5 text-rose-600 dark:text-rose-400 ml-1",children:o}),a.jsxs("div",{className:`px-3 py-2 shadow-sm break-words ${r?"bg-gradient-to-br from-rose-500 to-red-600 text-white rounded-t-lg rounded-bl-lg":"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded-t-lg rounded-br-lg"}`,children:[a.jsx("p",{className:"text-sm whitespace-pre-wrap",children:e.content}),a.jsx("span",{className:`text-[10px] mt-1 ${r?"text-white/70":"text-gray-500 dark:text-gray-400"} ${r?"text-right":"text-left"} block`,children:i(e.created_at)})]})]})]})});W4.displayName="MessageItem";const az=()=>{const{eventId:e}=Wu(),{user:t}=$e(),{t:r}=at(),[n,s]=m.useState([]),[o,i]=m.useState(""),[l,c]=m.useState(!0),[u,d]=m.useState(null),[f,h]=m.useState(!1),[g,b]=m.useState(null),v=m.useRef(null),[w,p]=m.useState([]),[y,x]=m.useState(!1),[_,k]=m.useState(0),[j,E]=m.useState(!1),N=()=>{var A;(A=v.current)==null||A.scrollIntoView({behavior:"smooth"})},I=async A=>{try{if(A.startsWith("sample-")){console.log(`Loading sample event with ID: ${A}`);const de={id:A,title:`Sample Event ${A.split("-")[1]||"Unknown"}`,start_date:new Date().toISOString(),description:"This is a sample event for demonstration purposes.",location:"Online"};return b(de),de}if(!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(A)){console.error(`EventId is not a valid UUID: ${A}`);const de=A.substring(0,8),oe={id:A,title:`${r("events.title")} ${de}`,start_date:new Date().toISOString(),description:r("event_chat.error_event_not_found"),location:r("event_chat.unknown_location")||"Unknown"};return b(oe),oe}console.log(`Fetching event with ID: ${A}`);const{data:U,error:S}=await z.from("events").select("*").eq("id",A).maybeSingle();if(S&&console.error(`Database error in direct fetch: ${S.message}`),U){console.log("Successfully fetched event:",U);const de={id:U.id,title:U.title,start_date:U.start_date||U.start_time||new Date().toISOString(),description:U.description,location:U.location};return b(de),de}console.log(`No event found with direct ID match: ${A}, trying other queries`);const{data:M,error:T}=await z.from("events").select("*").or(`event_id.eq.${A},uuid.eq.${A}`).maybeSingle();if(!T&&M){console.log("Found event using alternative ID column:",M);const de={id:M.id||A,title:M.title,start_date:M.start_date||M.start_time||new Date().toISOString(),description:M.description,location:M.location};return b(de),de}const{data:B,error:V}=await z.from("event_attendees").select(`
          event_id,
          events:events (
            id, title, start_date, description, location
          )
        `).eq("event_id",A).limit(1);if(!V&&B&&B.length>0&&(console.log("Found event through attendance:",B[0]),B[0].events&&typeof B[0].events=="object")){const de=Array.isArray(B[0].events)?B[0].events[0]:B[0].events;if(de&&de.id){const oe={id:de.id,title:de.title||`Event ${A.substring(0,8)}`,start_date:de.start_date||new Date().toISOString(),description:de.description||"No description available",location:de.location||"No location specified"};return b(oe),oe}}console.log(`Creating fallback event for ID: ${A}`);const re=A.substring(0,8),se={id:A,title:`${r("events.title")} ${re}`,start_date:new Date().toISOString(),description:r("event_chat.error_event_not_found"),location:r("event_chat.unknown_location")||"Unknown"};return b(se),d("Error loading event details. Using fallback information."),se}catch(F){console.error("Error in fetchEvent:",F);const O=A.substring(0,8),U={id:A,title:`${r("events.title")} ${O}`,start_date:new Date().toISOString(),description:r("event_chat.error_event_not_found"),location:r("event_chat.unknown_location")||"Unknown"};return b(U),d("Error loading event details. Using fallback information."),U}},C=m.useCallback(async()=>{if(!(!e||!t)){c(!0),d(null);try{if(await I(e),e.startsWith("sample-")){s([]),k(Math.floor(Math.random()*20)+5),c(!1);return}console.log(`Fetching messages for event: ${e}`);try{const{data:A,error:F}=await z.from("event_messages").select("*, profiles:user_id (full_name, avatar_url)").eq("event_id",e).order("created_at",{ascending:!0}).limit(50);F?console.error(`Error fetching messages: ${F.message}`):(s(A||[]),console.log(`Fetched ${(A==null?void 0:A.length)||0} messages for event ${e}`))}catch(A){console.error("Error fetching messages:",A),s([])}try{console.log(`Fetching attendee count for event: ${e}`);const{count:A,error:F}=await z.from("event_attendees").select("*",{count:"exact",head:!0}).eq("event_id",e).in("status",["going","interested",null]);if(F)console.error(`Error fetching attendee count: ${F.message}`),k(0);else{console.log(`Found ${A||0} attendees for event ${e}`);const O=A??0;_!==O&&k(O)}}catch(A){console.error("Error fetching attendee count:",A),k(0)}}catch(A){console.error("Error fetching event data:",A),d(A.message||"Failed to load event chat."),g||b({id:e,title:`Event ${e.substring(0,8)}...`,start_date:new Date().toISOString(),description:"Event information unavailable.",location:"Unknown"})}finally{c(!1)}}},[e,t]);m.useEffect(()=>{C()},[C]),m.useEffect(()=>{N()},[n]),m.useEffect(()=>{if(!e||e.startsWith("sample-"))return;const A=z.channel(`event_chat:${e}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"event_messages",filter:`event_id=eq.${e}`},async F=>{if(console.log("New message received:",F),F.new&&F.new.user_id!==(t==null?void 0:t.id)){const{data:O,error:U}=await z.from("event_messages").select(`
                *,
                profiles:user_id (
                  full_name,
                  avatar_url
                )
              `).eq("id",F.new.id).single();if(U){console.error("Error fetching profile for new message:",U);const S={...F.new,profiles:null};s(M=>[...M,S])}else if(O){const S={id:O.id,content:O.content,created_at:O.created_at,user_id:O.user_id,profiles:Array.isArray(O.profiles)&&O.profiles.length>0?{full_name:O.profiles[0].full_name||"",avatar_url:O.profiles[0].avatar_url||null}:null};s(M=>[...M,S]),N()}}}).subscribe((F,O)=>{F==="SUBSCRIBED"&&console.log(`Subscribed to event chat ${e}`),(F==="CHANNEL_ERROR"||F==="TIMED_OUT")&&(console.error(`Subscription error: ${F}`,O),d("Connection error. Real-time updates may be unavailable."))});return()=>{z.removeChannel(A),console.log(`Unsubscribed from event chat ${e}`)}},[e,t]);const L=async A=>{var F;if(A.preventDefault(),!(!o.trim()||!t||f))try{h(!0);const O={id:`temp-${Date.now()}`,event_id:e,user_id:t.id,content:o.trim(),created_at:new Date().toISOString(),profiles:t.user_metadata?{full_name:t.user_metadata.full_name||((F=t.email)==null?void 0:F.split("@")[0])||"User",avatar_url:t.user_metadata.avatar_url||null}:null};if(s(M=>[...M,O]),i(""),N(),e&&e.startsWith("sample-")){h(!1);return}const{data:U,error:S}=await z.from("event_messages").insert({event_id:e,user_id:t.id,content:O.content,created_at:O.created_at}).select();if(S)throw S;U&&U.length>0&&s(M=>M.map(T=>T.id===O.id?{...T,id:U[0].id}:T))}catch(O){console.error("Error sending message:",O),d(r("event_chat.error_sending_message")),s(U=>U.filter(S=>S.id!==`temp-${Date.now()}`))}finally{h(!1)}},P=m.useCallback(async()=>{if(!(!e||!y))try{if(e.startsWith("sample-")){p([{user_id:"sample-user-1",profiles:{full_name:"Sample User 1",avatar_url:null}},{user_id:"sample-user-2",profiles:{full_name:"Sample User 2",avatar_url:null}},{user_id:"sample-user-3",profiles:{full_name:"Sample User 3",avatar_url:null}}]);return}const{data:A,error:F}=await z.from("event_attendees").select(`
                user_id,
                profiles:user_id (
                    full_name,
                    avatar_url
                )
            `).eq("event_id",e).in("status",["going","interested",null]);if(F)throw F;const O=(A||[]).map(U=>{const S=U,M=S.profiles&&Array.isArray(S.profiles)&&S.profiles.length>0?{full_name:S.profiles[0].full_name||"Unknown User",avatar_url:S.profiles[0].avatar_url}:null;return{user_id:S.user_id,profiles:M}});p(O)}catch(A){console.error("Error fetching event attendees:",A),p([])}},[e,y]);m.useEffect(()=>{y&&P()},[y,P]);const D=()=>{E(A=>!A)};return l&&!g?a.jsx("div",{className:"flex justify-center items-center h-screen",children:a.jsx(Ee,{size:"lg"})}):u&&!g?a.jsxs("div",{className:"p-4",children:[a.jsxs(we,{to:"/events",className:"text-rose-600 hover:underline mb-4 inline-block",children:[a.jsx(ru,{className:"inline mr-1"})," Back to Events"]}),a.jsx(na,{message:u})]}):a.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10 md:py-12",children:a.jsxs("div",{className:`flex flex-col rounded-xl shadow-md overflow-hidden border border-gray-200 dark:border-gray-700 h-[calc(100vh-12rem)] ${j?"fixed inset-0 z-50 h-screen w-screen max-w-none p-0 rounded-none":""}`,children:[a.jsx("header",{className:"flex-shrink-0 bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"w-full mx-auto px-3 py-2 flex items-center justify-between space-x-3",children:[a.jsx(we,{to:"/messages",className:"flex-shrink-0 text-gray-500 dark:text-gray-400 hover:text-rose-600 dark:hover:text-rose-500 transition-colors p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700","aria-label":r("event_chat.back_to_messages"),children:a.jsx(ru,{size:20})}),a.jsxs("div",{className:"flex flex-col min-w-0",children:[a.jsx("h1",{className:"text-lg md:text-xl font-semibold text-gray-900 dark:text-white truncate",children:(g==null?void 0:g.title)||r("event_chat.loading")}),a.jsxs("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400",children:[a.jsxs("span",{children:[_," ",r("event_chat.attendees")]}),(g==null?void 0:g.start_date)&&a.jsxs("span",{className:"ml-2",children:[" ",ml(new Date(g.start_date),"dd.MM.yyyy")]})]})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx("button",{onClick:D,className:"flex-shrink-0 text-gray-500 dark:text-gray-400 hover:text-rose-600 dark:hover:text-rose-500 transition-colors p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700","aria-label":r(j?"event_chat.exit_fullscreen":"event_chat.enter_fullscreen"),children:j?a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:a.jsx("path",{d:"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"})}):a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:a.jsx("path",{d:"M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"})})}),a.jsx("button",{onClick:()=>x(!0),className:"flex-shrink-0 text-gray-500 dark:text-gray-400 hover:text-rose-600 dark:hover:text-rose-500 transition-colors p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700","aria-label":r("event_chat.view_attendees"),children:a.jsx(rt,{size:20})}),a.jsxs(Rm,{children:[a.jsx(Mm,{children:a.jsx("button",{className:"flex-shrink-0 text-gray-500 dark:text-gray-400 hover:text-rose-600 dark:hover:text-rose-500 transition-colors p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700","aria-label":r("event_chat.settings"),children:a.jsx(nd,{size:20})})}),a.jsxs(ku,{children:[a.jsxs(br,{children:[a.jsx(pT,{className:"mr-2 h-4 w-4"}),r("event_chat.edit_event")]}),a.jsxs(br,{children:[a.jsx(PT,{className:"mr-2 h-4 w-4"}),r("event_chat.delete_event")]})]})]})]})]})}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden bg-white dark:bg-gray-900",children:[a.jsxs("main",{className:"flex-1 overflow-y-auto p-3 sm:p-4 space-y-3 pb-16",children:[l&&n.length===0&&a.jsx("div",{className:"flex justify-center items-center h-full pt-10",children:a.jsx(Ee,{})}),u&&g&&a.jsx("div",{className:"my-4 px-2",children:a.jsx(na,{message:`${r("event_chat.error_loading_messages")}: ${u}`})}),n.map(A=>a.jsx(W4,{message:A,currentUserId:t==null?void 0:t.id},A.id)),a.jsx("div",{ref:v,className:"h-1"})," "]}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 p-3",children:[a.jsxs("form",{onSubmit:L,className:"flex items-center gap-3",children:[a.jsx("textarea",{value:o,onChange:A=>i(A.target.value),placeholder:r("event_chat.type_your_message"),className:"flex-grow resize-none border border-gray-300 dark:border-gray-600 rounded-lg p-2 focus:ring-1 focus:ring-indigo-500 dark:bg-gray-700 dark:text-white",rows:1,onKeyDown:A=>{A.key==="Enter"&&!A.shiftKey&&(A.preventDefault(),L(A))}}),a.jsx(xe,{type:"submit",disabled:!o.trim()||f,className:"p-2 flex-shrink-0",children:a.jsx(Yg,{className:"h-5 w-5"})})]}),u&&!l&&a.jsx("p",{className:"text-xs text-red-500 mt-1 px-2",children:u})]})]}),y&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md max-h-[80vh] flex flex-col",children:[a.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("h3",{className:"text-lg font-semibold",children:[r("event_chat.event_attendees")," (",_,")"]}),a.jsx("button",{onClick:()=>x(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:a.jsx(Kn,{size:20})})]}),a.jsx("div",{className:"overflow-y-auto p-4 flex-1",children:w.length===0?a.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400",children:r("event_chat.no_attendees_found")}):a.jsx("div",{className:"space-y-3",children:w.map(A=>{var F,O,U;return a.jsxs("div",{className:"flex items-center space-x-3 p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-200 dark:bg-gray-700 overflow-hidden",children:(F=A.profiles)!=null&&F.avatar_url?a.jsx("img",{src:A.profiles.avatar_url,alt:A.profiles.full_name||r("event_chat.unknown_attendee"),className:"h-full w-full object-cover"}):a.jsx("div",{className:"h-full w-full flex items-center justify-center bg-gray-300 dark:bg-gray-600",children:a.jsx("span",{className:"text-gray-600 dark:text-gray-200 font-medium",children:(O=A.profiles)!=null&&O.full_name?A.profiles.full_name.charAt(0).toUpperCase():"?"})})}),a.jsx("div",{children:a.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:((U=A.profiles)==null?void 0:U.full_name)||r("event_chat.unknown_attendee")})})]},A.user_id)})})})]})})]})})})},iz=()=>{const{pathname:e}=er();return m.useEffect(()=>{window.scrollTo(0,0)},[e]),null},lz=()=>a.jsx(kc,{children:a.jsx(km,{children:a.jsx(XD,{})})}),cz=()=>{const{isDarkMode:e}=Ug();return a.jsx(r2,{children:a.jsxs(oT,{children:[a.jsx(U5,{position:"bottom-right",toastOptions:{duration:3e3,style:{background:"#363636",color:"#fff"}}}),a.jsx("div",{className:`app ${e?"dark":""}`,children:a.jsxs(m.Suspense,{fallback:a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-500"})}),children:[a.jsx(iz,{}),a.jsxs(wE,{children:[a.jsx(Le,{path:"/",element:a.jsx(f9,{})}),a.jsx(Le,{path:"/login",element:a.jsx(eO,{})}),a.jsx(Le,{path:"/register",element:a.jsx(tO,{})}),a.jsx(Le,{path:"/auth/callback",element:a.jsx(sb,{})}),a.jsx(Le,{path:"/callback",element:a.jsx(sb,{})}),a.jsx(Le,{path:"/complete-profile",element:a.jsx(kc,{children:a.jsx(cU,{})})}),a.jsxs(Le,{element:a.jsx(lz,{}),children:[a.jsx(Le,{path:"/home",element:a.jsx(t9,{})}),a.jsx(Le,{path:"/discover",element:a.jsx(p9,{})}),a.jsx(Le,{path:"/profile/:id?",element:a.jsx(l9,{})}),a.jsx(Le,{path:"/friends",element:a.jsx(y9,{})}),a.jsx(Le,{path:"/messages",element:a.jsx(nb,{})}),a.jsx(Le,{path:"/messages/:id",element:a.jsx(nb,{})}),a.jsx(Le,{path:"/groups",element:a.jsx(KU,{})}),a.jsx(Le,{path:"/groups/create",element:a.jsx(WU,{})}),a.jsx(Le,{path:"/events",element:a.jsx(JU,{})}),a.jsx(Le,{path:"/events/create",element:a.jsx(ZU,{})}),a.jsx(Le,{path:"/saved",element:a.jsx(XU,{})}),a.jsx(Le,{path:"/favorites",element:a.jsx(v9,{})}),a.jsx(Le,{path:"/notifications",element:a.jsx(ez,{})}),a.jsx(Le,{path:"/settings",element:a.jsx(tz,{})}),a.jsx(Le,{path:"/chat-diagnostics",element:a.jsx(aU,{})}),a.jsx(Le,{path:"/mock-users",element:a.jsx(nz,{})})]}),a.jsx(Le,{path:"/groups/:id/chat",element:a.jsx(kc,{children:a.jsx(km,{children:a.jsx(oz,{})})})}),a.jsx(Le,{path:"/events/:eventId/chat",element:a.jsx(kc,{children:a.jsx(km,{children:a.jsx(az,{})})})}),a.jsx(Le,{path:"*",element:a.jsx(c9,{})})]})]})})]})})},ge=e=>typeof e=="string",Ua=()=>{let e,t;const r=new Promise((n,s)=>{e=n,t=s});return r.resolve=e,r.reject=t,r},ib=e=>e==null?"":""+e,uz=(e,t,r)=>{e.forEach(n=>{t[n]&&(r[n]=t[n])})},dz=/###/g,lb=e=>e&&e.indexOf("###")>-1?e.replace(dz,"."):e,cb=e=>!e||ge(e),pi=(e,t,r)=>{const n=ge(t)?t.split("."):t;let s=0;for(;s<n.length-1;){if(cb(e))return{};const o=lb(n[s]);!e[o]&&r&&(e[o]=new r),Object.prototype.hasOwnProperty.call(e,o)?e=e[o]:e={},++s}return cb(e)?{}:{obj:e,k:lb(n[s])}},ub=(e,t,r)=>{const{obj:n,k:s}=pi(e,t,Object);if(n!==void 0||t.length===1){n[s]=r;return}let o=t[t.length-1],i=t.slice(0,t.length-1),l=pi(e,i,Object);for(;l.obj===void 0&&i.length;)o=`${i[i.length-1]}.${o}`,i=i.slice(0,i.length-1),l=pi(e,i,Object),l&&l.obj&&typeof l.obj[`${l.k}.${o}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${o}`]=r},fz=(e,t,r,n)=>{const{obj:s,k:o}=pi(e,t,Object);s[o]=s[o]||[],s[o].push(r)},ju=(e,t)=>{const{obj:r,k:n}=pi(e,t);if(r)return r[n]},hz=(e,t,r)=>{const n=ju(e,r);return n!==void 0?n:ju(t,r)},H4=(e,t,r)=>{for(const n in t)n!=="__proto__"&&n!=="constructor"&&(n in e?ge(e[n])||e[n]instanceof String||ge(t[n])||t[n]instanceof String?r&&(e[n]=t[n]):H4(e[n],t[n],r):e[n]=t[n]);return e},lo=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var mz={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const gz=e=>ge(e)?e.replace(/[&<>"'\/]/g,t=>mz[t]):e;class pz{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const r=this.regExpMap.get(t);if(r!==void 0)return r;const n=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,n),this.regExpQueue.push(t),n}}const yz=[" ",",","?","!",";"],vz=new pz(20),xz=(e,t,r)=>{t=t||"",r=r||"";const n=yz.filter(i=>t.indexOf(i)<0&&r.indexOf(i)<0);if(n.length===0)return!0;const s=vz.getRegExp(`(${n.map(i=>i==="?"?"\\?":i).join("|")})`);let o=!s.test(e);if(!o){const i=e.indexOf(r);i>0&&!s.test(e.substring(0,i))&&(o=!0)}return o},$m=function(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!e)return;if(e[t])return e[t];const n=t.split(r);let s=e;for(let o=0;o<n.length;){if(!s||typeof s!="object")return;let i,l="";for(let c=o;c<n.length;++c)if(c!==o&&(l+=r),l+=n[c],i=s[l],i!==void 0){if(["string","number","boolean"].indexOf(typeof i)>-1&&c<n.length-1)continue;o+=c-o+1;break}s=i}return s},Nu=e=>e&&e.replace("_","-"),bz={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class Cu{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(t,r)}init(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=t||bz,this.options=r,this.debug=r.debug}log(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.forward(r,"log","",!0)}warn(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.forward(r,"warn","",!0)}error(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.forward(r,"error","")}deprecate(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}forward(t,r,n,s){return s&&!this.debug?null:(ge(t[0])&&(t[0]=`${n}${this.prefix} ${t[0]}`),this.logger[r](t))}create(t){return new Cu(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new Cu(this.logger,t)}}var Ur=new Cu;class Sd{constructor(){this.observers={}}on(t,r){return t.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const s=this.observers[n].get(r)||0;this.observers[n].set(r,s+1)}),this}off(t,r){if(this.observers[t]){if(!r){delete this.observers[t];return}this.observers[t].delete(r)}}emit(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];this.observers[t]&&Array.from(this.observers[t].entries()).forEach(i=>{let[l,c]=i;for(let u=0;u<c;u++)l(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(i=>{let[l,c]=i;for(let u=0;u<c;u++)l.apply(l,[t,...n])})}}class db extends Sd{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const r=this.options.ns.indexOf(t);r>-1&&this.options.ns.splice(r,1)}getResource(t,r,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,i=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;t.indexOf(".")>-1?l=t.split("."):(l=[t,r],n&&(Array.isArray(n)?l.push(...n):ge(n)&&o?l.push(...n.split(o)):l.push(n)));const c=ju(this.data,l);return!c&&!r&&!n&&t.indexOf(".")>-1&&(t=l[0],r=l[1],n=l.slice(2).join(".")),c||!i||!ge(n)?c:$m(this.data&&this.data[t]&&this.data[t][r],n,o)}addResource(t,r,n,s){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const i=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let l=[t,r];n&&(l=l.concat(i?n.split(i):n)),t.indexOf(".")>-1&&(l=t.split("."),s=r,r=l[1]),this.addNamespaces(r),ub(this.data,l,s),o.silent||this.emit("added",t,r,n,s)}addResources(t,r,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const o in n)(ge(n[o])||Array.isArray(n[o]))&&this.addResource(t,r,o,n[o],{silent:!0});s.silent||this.emit("added",t,r,n)}addResourceBundle(t,r,n,s,o){let i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},l=[t,r];t.indexOf(".")>-1&&(l=t.split("."),s=n,n=r,r=l[1]),this.addNamespaces(r);let c=ju(this.data,l)||{};i.skipCopy||(n=JSON.parse(JSON.stringify(n))),s?H4(c,n,o):c={...c,...n},ub(this.data,l,c),i.silent||this.emit("added",t,r,n)}removeResourceBundle(t,r){this.hasResourceBundle(t,r)&&delete this.data[t][r],this.removeNamespaces(r),this.emit("removed",t,r)}hasResourceBundle(t,r){return this.getResource(t,r)!==void 0}getResourceBundle(t,r){return r||(r=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(t,r)}:this.getResource(t,r)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const r=this.getDataByLanguage(t);return!!(r&&Object.keys(r)||[]).find(s=>r[s]&&Object.keys(r[s]).length>0)}toJSON(){return this.data}}var K4={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,r,n,s){return e.forEach(o=>{this.processors[o]&&(t=this.processors[o].process(t,r,n,s))}),t}};const fb={};class Eu extends Sd{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),uz(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Ur.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(t==null)return!1;const n=this.resolve(t,r);return n&&n.res!==void 0}extractFromKey(t,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const s=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let o=r.ns||this.options.defaultNS||[];const i=n&&t.indexOf(n)>-1,l=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!xz(t,n,s);if(i&&!l){const c=t.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:t,namespaces:ge(o)?[o]:o};const u=t.split(n);(n!==s||n===s&&this.options.ns.indexOf(u[0])>-1)&&(o=u.shift()),t=u.join(s)}return{key:t,namespaces:ge(o)?[o]:o}}translate(t,r,n){if(typeof r!="object"&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),typeof r=="object"&&(r={...r}),r||(r={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const s=r.returnDetails!==void 0?r.returnDetails:this.options.returnDetails,o=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,{key:i,namespaces:l}=this.extractFromKey(t[t.length-1],r),c=l[l.length-1],u=r.lng||this.language,d=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(d){const _=r.nsSeparator||this.options.nsSeparator;return s?{res:`${c}${_}${i}`,usedKey:i,exactUsedKey:i,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(r)}:`${c}${_}${i}`}return s?{res:i,usedKey:i,exactUsedKey:i,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(r)}:i}const f=this.resolve(t,r);let h=f&&f.res;const g=f&&f.usedKey||i,b=f&&f.exactUsedKey||i,v=Object.prototype.toString.apply(h),w=["[object Number]","[object Function]","[object RegExp]"],p=r.joinArrays!==void 0?r.joinArrays:this.options.joinArrays,y=!this.i18nFormat||this.i18nFormat.handleAsObject,x=!ge(h)&&typeof h!="boolean"&&typeof h!="number";if(y&&h&&x&&w.indexOf(v)<0&&!(ge(p)&&Array.isArray(h))){if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const _=this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,h,{...r,ns:l}):`key '${i} (${this.language})' returned an object instead of string.`;return s?(f.res=_,f.usedParams=this.getUsedParamsDetails(r),f):_}if(o){const _=Array.isArray(h),k=_?[]:{},j=_?b:g;for(const E in h)if(Object.prototype.hasOwnProperty.call(h,E)){const N=`${j}${o}${E}`;k[E]=this.translate(N,{...r,joinArrays:!1,ns:l}),k[E]===N&&(k[E]=h[E])}h=k}}else if(y&&ge(p)&&Array.isArray(h))h=h.join(p),h&&(h=this.extendTranslation(h,t,r,n));else{let _=!1,k=!1;const j=r.count!==void 0&&!ge(r.count),E=Eu.hasDefaultValue(r),N=j?this.pluralResolver.getSuffix(u,r.count,r):"",I=r.ordinal&&j?this.pluralResolver.getSuffix(u,r.count,{ordinal:!1}):"",C=j&&!r.ordinal&&r.count===0&&this.pluralResolver.shouldUseIntlApi(),L=C&&r[`defaultValue${this.options.pluralSeparator}zero`]||r[`defaultValue${N}`]||r[`defaultValue${I}`]||r.defaultValue;!this.isValidLookup(h)&&E&&(_=!0,h=L),this.isValidLookup(h)||(k=!0,h=i);const D=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&k?void 0:h,A=E&&L!==h&&this.options.updateMissing;if(k||_||A){if(this.logger.log(A?"updateKey":"missingKey",u,c,i,A?L:h),o){const S=this.resolve(i,{...r,keySeparator:!1});S&&S.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let F=[];const O=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if(this.options.saveMissingTo==="fallback"&&O&&O[0])for(let S=0;S<O.length;S++)F.push(O[S]);else this.options.saveMissingTo==="all"?F=this.languageUtils.toResolveHierarchy(r.lng||this.language):F.push(r.lng||this.language);const U=(S,M,T)=>{const B=E&&T!==h?T:D;this.options.missingKeyHandler?this.options.missingKeyHandler(S,c,M,B,A,r):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(S,c,M,B,A,r),this.emit("missingKey",S,c,M,h)};this.options.saveMissing&&(this.options.saveMissingPlurals&&j?F.forEach(S=>{const M=this.pluralResolver.getSuffixes(S,r);C&&r[`defaultValue${this.options.pluralSeparator}zero`]&&M.indexOf(`${this.options.pluralSeparator}zero`)<0&&M.push(`${this.options.pluralSeparator}zero`),M.forEach(T=>{U([S],i+T,r[`defaultValue${T}`]||L)})}):U(F,i,L))}h=this.extendTranslation(h,t,r,f,n),k&&h===i&&this.options.appendNamespaceToMissingKey&&(h=`${c}:${i}`),(k||_)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?h=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}:${i}`:i,_?h:void 0):h=this.options.parseMissingKeyHandler(h))}return s?(f.res=h,f.usedParams=this.getUsedParamsDetails(r),f):h}extendTranslation(t,r,n,s,o){var i=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const u=ge(t)&&(n&&n.interpolation&&n.interpolation.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(u){const h=t.match(this.interpolator.nestingRegexp);d=h&&h.length}let f=n.replace&&!ge(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),t=this.interpolator.interpolate(t,f,n.lng||this.language||s.usedLng,n),u){const h=t.match(this.interpolator.nestingRegexp),g=h&&h.length;d<g&&(n.nest=!1)}!n.lng&&this.options.compatibilityAPI!=="v1"&&s&&s.res&&(n.lng=this.language||s.usedLng),n.nest!==!1&&(t=this.interpolator.nest(t,function(){for(var h=arguments.length,g=new Array(h),b=0;b<h;b++)g[b]=arguments[b];return o&&o[0]===g[0]&&!n.context?(i.logger.warn(`It seems you are nesting recursively key: ${g[0]} in key: ${r[0]}`),null):i.translate(...g,r)},n)),n.interpolation&&this.interpolator.reset()}const l=n.postProcess||this.options.postProcess,c=ge(l)?[l]:l;return t!=null&&c&&c.length&&n.applyPostProcessor!==!1&&(t=K4.handle(c,t,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),t}resolve(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n,s,o,i,l;return ge(t)&&(t=[t]),t.forEach(c=>{if(this.isValidLookup(n))return;const u=this.extractFromKey(c,r),d=u.key;s=d;let f=u.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const h=r.count!==void 0&&!ge(r.count),g=h&&!r.ordinal&&r.count===0&&this.pluralResolver.shouldUseIntlApi(),b=r.context!==void 0&&(ge(r.context)||typeof r.context=="number")&&r.context!=="",v=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);f.forEach(w=>{this.isValidLookup(n)||(l=w,!fb[`${v[0]}-${w}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(l)&&(fb[`${v[0]}-${w}`]=!0,this.logger.warn(`key "${s}" for languages "${v.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),v.forEach(p=>{if(this.isValidLookup(n))return;i=p;const y=[d];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(y,d,p,w,r);else{let _;h&&(_=this.pluralResolver.getSuffix(p,r.count,r));const k=`${this.options.pluralSeparator}zero`,j=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(y.push(d+_),r.ordinal&&_.indexOf(j)===0&&y.push(d+_.replace(j,this.options.pluralSeparator)),g&&y.push(d+k)),b){const E=`${d}${this.options.contextSeparator}${r.context}`;y.push(E),h&&(y.push(E+_),r.ordinal&&_.indexOf(j)===0&&y.push(E+_.replace(j,this.options.pluralSeparator)),g&&y.push(E+k))}}let x;for(;x=y.pop();)this.isValidLookup(n)||(o=x,n=this.getResource(p,w,x,r))}))})}),{res:n,usedKey:s,exactUsedKey:o,usedLng:i,usedNS:l}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,r,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,r,n,s):this.resourceStore.getResource(t,r,n,s)}getUsedParamsDetails(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=t.replace&&!ge(t.replace);let s=n?t.replace:t;if(n&&typeof t.count<"u"&&(s.count=t.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!n){s={...s};for(const o of r)delete s[o]}return s}static hasDefaultValue(t){const r="defaultValue";for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&r===n.substring(0,r.length)&&t[n]!==void 0)return!0;return!1}}const Bf=e=>e.charAt(0).toUpperCase()+e.slice(1);class hb{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Ur.create("languageUtils")}getScriptPartFromCode(t){if(t=Nu(t),!t||t.indexOf("-")<0)return null;const r=t.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(t){if(t=Nu(t),!t||t.indexOf("-")<0)return t;const r=t.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(t){if(ge(t)&&t.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let s=Intl.getCanonicalLocales(t)[0];if(s&&this.options.lowerCaseLng&&(s=s.toLowerCase()),s)return s}catch{}const r=["hans","hant","latn","cyrl","cans","mong","arab"];let n=t.split("-");return this.options.lowerCaseLng?n=n.map(s=>s.toLowerCase()):n.length===2?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),r.indexOf(n[1].toLowerCase())>-1&&(n[1]=Bf(n[1].toLowerCase()))):n.length===3&&(n[0]=n[0].toLowerCase(),n[1].length===2&&(n[1]=n[1].toUpperCase()),n[0]!=="sgn"&&n[2].length===2&&(n[2]=n[2].toUpperCase()),r.indexOf(n[1].toLowerCase())>-1&&(n[1]=Bf(n[1].toLowerCase())),r.indexOf(n[2].toLowerCase())>-1&&(n[2]=Bf(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let r;return t.forEach(n=>{if(r)return;const s=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(s))&&(r=s)}),!r&&this.options.supportedLngs&&t.forEach(n=>{if(r)return;const s=this.getLanguagePartFromCode(n);if(this.isSupportedCode(s))return r=s;r=this.options.supportedLngs.find(o=>{if(o===s)return o;if(!(o.indexOf("-")<0&&s.indexOf("-")<0)&&(o.indexOf("-")>0&&s.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===s||o.indexOf(s)===0&&s.length>1))return o})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(t,r){if(!t)return[];if(typeof t=="function"&&(t=t(r)),ge(t)&&(t=[t]),Array.isArray(t))return t;if(!r)return t.default||[];let n=t[r];return n||(n=t[this.getScriptPartFromCode(r)]),n||(n=t[this.formatLanguageCode(r)]),n||(n=t[this.getLanguagePartFromCode(r)]),n||(n=t.default),n||[]}toResolveHierarchy(t,r){const n=this.getFallbackCodes(r||this.options.fallbackLng||[],t),s=[],o=i=>{i&&(this.isSupportedCode(i)?s.push(i):this.logger.warn(`rejecting language code not found in supportedLngs: ${i}`))};return ge(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(t))):ge(t)&&o(this.formatLanguageCode(t)),n.forEach(i=>{s.indexOf(i)<0&&o(this.formatLanguageCode(i))}),s}}let wz=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],_z={1:e=>+(e>1),2:e=>+(e!=1),3:e=>0,4:e=>e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,5:e=>e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5,6:e=>e==1?0:e>=2&&e<=4?1:2,7:e=>e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2,8:e=>e==1?0:e==2?1:e!=8&&e!=11?2:3,9:e=>+(e>=2),10:e=>e==1?0:e==2?1:e<7?2:e<11?3:4,11:e=>e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3,12:e=>+(e%10!=1||e%100==11),13:e=>+(e!==0),14:e=>e==1?0:e==2?1:e==3?2:3,15:e=>e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2,16:e=>e%10==1&&e%100!=11?0:e!==0?1:2,17:e=>e==1||e%10==1&&e%100!=11?0:1,18:e=>e==0?0:e==1?1:2,19:e=>e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3,20:e=>e==1?0:e==0||e%100>0&&e%100<20?1:2,21:e=>e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0,22:e=>e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3};const kz=["v1","v2","v3"],Sz=["v4"],mb={zero:0,one:1,two:2,few:3,many:4,other:5},jz=()=>{const e={};return wz.forEach(t=>{t.lngs.forEach(r=>{e[r]={numbers:t.nr,plurals:_z[t.fc]}})}),e};class Nz{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=t,this.options=r,this.logger=Ur.create("pluralResolver"),(!this.options.compatibilityJSON||Sz.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=jz(),this.pluralRulesCache={}}addRule(t,r){this.rules[t]=r}clearCache(){this.pluralRulesCache={}}getRule(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const n=Nu(t==="dev"?"en":t),s=r.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:n,type:s});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let i;try{i=new Intl.PluralRules(n,{type:s})}catch{if(!t.match(/-|_/))return;const c=this.languageUtils.getLanguagePartFromCode(t);i=this.getRule(c,r)}return this.pluralRulesCache[o]=i,i}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}needsPlural(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(t,r);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,n).map(s=>`${r}${s}`)}getSuffixes(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(t,r);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort((s,o)=>mb[s]-mb[o]).map(s=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s}`):n.numbers.map(s=>this.getSuffix(t,s,r)):[]}getSuffix(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=this.getRule(t,n);return s?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s.select(r)}`:this.getSuffixRetroCompatible(s,r):(this.logger.warn(`no plural rule found for: ${t}`),"")}getSuffixRetroCompatible(t,r){const n=t.noAbs?t.plurals(r):t.plurals(Math.abs(r));let s=t.numbers[n];this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1&&(s===2?s="plural":s===1&&(s=""));const o=()=>this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString();return this.options.compatibilityJSON==="v1"?s===1?"":typeof s=="number"?`_plural_${s.toString()}`:o():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1?o():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!kz.includes(this.options.compatibilityJSON)}}const gb=function(e,t,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=hz(e,t,r);return!o&&s&&ge(r)&&(o=$m(e,r,n),o===void 0&&(o=$m(t,r,n))),o},Vf=e=>e.replace(/\$/g,"$$$$");class Cz{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Ur.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||(r=>r),this.init(t)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});const{escape:r,escapeValue:n,useRawValueToEscape:s,prefix:o,prefixEscaped:i,suffix:l,suffixEscaped:c,formatSeparator:u,unescapeSuffix:d,unescapePrefix:f,nestingPrefix:h,nestingPrefixEscaped:g,nestingSuffix:b,nestingSuffixEscaped:v,nestingOptionsSeparator:w,maxReplaces:p,alwaysFormat:y}=t.interpolation;this.escape=r!==void 0?r:gz,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=o?lo(o):i||"{{",this.suffix=l?lo(l):c||"}}",this.formatSeparator=u||",",this.unescapePrefix=d?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=h?lo(h):g||lo("$t("),this.nestingSuffix=b?lo(b):v||lo(")"),this.nestingOptionsSeparator=w||",",this.maxReplaces=p||1e3,this.alwaysFormat=y!==void 0?y:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(r,n)=>r&&r.source===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,r,n,s){let o,i,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=g=>{if(g.indexOf(this.formatSeparator)<0){const p=gb(r,c,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(p,void 0,n,{...s,...r,interpolationkey:g}):p}const b=g.split(this.formatSeparator),v=b.shift().trim(),w=b.join(this.formatSeparator).trim();return this.format(gb(r,c,v,this.options.keySeparator,this.options.ignoreJSONStructure),w,n,{...s,...r,interpolationkey:v})};this.resetRegExp();const d=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,f=s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>Vf(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?Vf(this.escape(g)):Vf(g)}].forEach(g=>{for(l=0;o=g.regex.exec(t);){const b=o[1].trim();if(i=u(b),i===void 0)if(typeof d=="function"){const w=d(t,o,s);i=ge(w)?w:""}else if(s&&Object.prototype.hasOwnProperty.call(s,b))i="";else if(f){i=o[0];continue}else this.logger.warn(`missed to pass in variable ${b} for interpolating ${t}`),i="";else!ge(i)&&!this.useRawValueToEscape&&(i=ib(i));const v=g.safeValue(i);if(t=t.replace(o[0],v),f?(g.regex.lastIndex+=i.length,g.regex.lastIndex-=o[0].length):g.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),t}nest(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,o,i;const l=(c,u)=>{const d=this.nestingOptionsSeparator;if(c.indexOf(d)<0)return c;const f=c.split(new RegExp(`${d}[ ]*{`));let h=`{${f[1]}`;c=f[0],h=this.interpolate(h,i);const g=h.match(/'/g),b=h.match(/"/g);(g&&g.length%2===0&&!b||b.length%2!==0)&&(h=h.replace(/'/g,'"'));try{i=JSON.parse(h),u&&(i={...u,...i})}catch(v){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,v),`${c}${d}${h}`}return i.defaultValue&&i.defaultValue.indexOf(this.prefix)>-1&&delete i.defaultValue,c};for(;s=this.nestingRegexp.exec(t);){let c=[];i={...n},i=i.replace&&!ge(i.replace)?i.replace:i,i.applyPostProcessor=!1,delete i.defaultValue;let u=!1;if(s[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(s[1])){const d=s[1].split(this.formatSeparator).map(f=>f.trim());s[1]=d.shift(),c=d,u=!0}if(o=r(l.call(this,s[1].trim(),i),i),o&&s[0]===t&&!ge(o))return o;ge(o)||(o=ib(o)),o||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${t}`),o=""),u&&(o=c.reduce((d,f)=>this.format(d,f,n.lng,{...n,interpolationkey:s[1].trim()}),o.trim())),t=t.replace(s[0],o),this.regexp.lastIndex=0}return t}}const Ez=e=>{let t=e.toLowerCase().trim();const r={};if(e.indexOf("(")>-1){const n=e.split("(");t=n[0].toLowerCase().trim();const s=n[1].substring(0,n[1].length-1);t==="currency"&&s.indexOf(":")<0?r.currency||(r.currency=s.trim()):t==="relativetime"&&s.indexOf(":")<0?r.range||(r.range=s.trim()):s.split(";").forEach(i=>{if(i){const[l,...c]=i.split(":"),u=c.join(":").trim().replace(/^'+|'+$/g,""),d=l.trim();r[d]||(r[d]=u),u==="false"&&(r[d]=!1),u==="true"&&(r[d]=!0),isNaN(u)||(r[d]=parseInt(u,10))}})}return{formatName:t,formatOptions:r}},co=e=>{const t={};return(r,n,s)=>{let o=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(o={...o,[s.interpolationkey]:void 0});const i=n+JSON.stringify(o);let l=t[i];return l||(l=e(Nu(n),s),t[i]=l),l(r)}};class Pz{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Ur.create("formatter"),this.options=t,this.formats={number:co((r,n)=>{const s=new Intl.NumberFormat(r,{...n});return o=>s.format(o)}),currency:co((r,n)=>{const s=new Intl.NumberFormat(r,{...n,style:"currency"});return o=>s.format(o)}),datetime:co((r,n)=>{const s=new Intl.DateTimeFormat(r,{...n});return o=>s.format(o)}),relativetime:co((r,n)=>{const s=new Intl.RelativeTimeFormat(r,{...n});return o=>s.format(o,n.range||"day")}),list:co((r,n)=>{const s=new Intl.ListFormat(r,{...n});return o=>s.format(o)})},this.init(t)}init(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=r.interpolation.formatSeparator||","}add(t,r){this.formats[t.toLowerCase().trim()]=r}addCached(t,r){this.formats[t.toLowerCase().trim()]=co(r)}format(t,r,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=r.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(l=>l.indexOf(")")>-1)){const l=o.findIndex(c=>c.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,l)].join(this.formatSeparator)}return o.reduce((l,c)=>{const{formatName:u,formatOptions:d}=Ez(c);if(this.formats[u]){let f=l;try{const h=s&&s.formatParams&&s.formatParams[s.interpolationkey]||{},g=h.locale||h.lng||s.locale||s.lng||n;f=this.formats[u](l,g,{...d,...s,...h})}catch(h){this.logger.warn(h)}return f}else this.logger.warn(`there was no format function for ${u}`);return l},t)}}const Tz=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class Az extends Sd{constructor(t,r,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=t,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=s,this.logger=Ur.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,s.backend,s)}queueLoad(t,r,n,s){const o={},i={},l={},c={};return t.forEach(u=>{let d=!0;r.forEach(f=>{const h=`${u}|${f}`;!n.reload&&this.store.hasResourceBundle(u,f)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?i[h]===void 0&&(i[h]=!0):(this.state[h]=1,d=!1,i[h]===void 0&&(i[h]=!0),o[h]===void 0&&(o[h]=!0),c[f]===void 0&&(c[f]=!0)))}),d||(l[u]=!0)}),(Object.keys(o).length||Object.keys(i).length)&&this.queue.push({pending:i,pendingCount:Object.keys(i).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(o),pending:Object.keys(i),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(t,r,n){const s=t.split("|"),o=s[0],i=s[1];r&&this.emit("failedLoading",o,i,r),!r&&n&&this.store.addResourceBundle(o,i,n,void 0,void 0,{skipCopy:!0}),this.state[t]=r?-1:2,r&&n&&(this.state[t]=0);const l={};this.queue.forEach(c=>{fz(c.loaded,[o],i),Tz(c,t),r&&c.errors.push(r),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(u=>{l[u]||(l[u]={});const d=c.loaded[u];d.length&&d.forEach(f=>{l[u][f]===void 0&&(l[u][f]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(t,r,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,i=arguments.length>5?arguments[5]:void 0;if(!t.length)return i(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:r,fcName:n,tried:s,wait:o,callback:i});return}this.readingCalls++;const l=(u,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(u&&d&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,t,r,n,s+1,o*2,i)},o);return}i(u,d)},c=this.backend[n].bind(this.backend);if(c.length===2){try{const u=c(t,r);u&&typeof u.then=="function"?u.then(d=>l(null,d)).catch(l):l(null,u)}catch(u){l(u)}return}return c(t,r,l)}prepareLoading(t,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();ge(t)&&(t=this.languageUtils.toResolveHierarchy(t)),ge(r)&&(r=[r]);const o=this.queueLoad(t,r,n,s);if(!o.toLoad.length)return o.pending.length||s(),null;o.toLoad.forEach(i=>{this.loadOne(i)})}load(t,r,n){this.prepareLoading(t,r,{},n)}reload(t,r,n){this.prepareLoading(t,r,{reload:!0},n)}loadOne(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const n=t.split("|"),s=n[0],o=n[1];this.read(s,o,"read",void 0,void 0,(i,l)=>{i&&this.logger.warn(`${r}loading namespace ${o} for language ${s} failed`,i),!i&&l&&this.logger.log(`${r}loaded namespace ${o} for language ${s}`,l),this.loaded(t,i,l)})}saveMissing(t,r,n,s,o){let i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(r)){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend&&this.backend.create){const c={...i,isUpdate:o},u=this.backend.create.bind(this.backend);if(u.length<6)try{let d;u.length===5?d=u(t,r,n,s,c):d=u(t,r,n,s),d&&typeof d.then=="function"?d.then(f=>l(null,f)).catch(l):l(null,d)}catch(d){l(d)}else u(t,r,n,s,l,c)}!t||!t[0]||this.store.addResource(t[0],r,n,s)}}}const pb=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),ge(e[1])&&(t.defaultValue=e[1]),ge(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const r=e[3]||e[2];Object.keys(r).forEach(n=>{t[n]=r[n]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),yb=e=>(ge(e.ns)&&(e.ns=[e.ns]),ge(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),ge(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e),oc=()=>{},Rz=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(r=>{typeof e[r]=="function"&&(e[r]=e[r].bind(e))})};class el extends Sd{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(super(),this.options=yb(t),this.services={},this.logger=Ur,this.modules={external:[]},Rz(this),r&&!this.isInitialized&&!t.isClone){if(!this.options.initImmediate)return this.init(t,r),this;setTimeout(()=>{this.init(t,r)},0)}}init(){var t=this;let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof r=="function"&&(n=r,r={}),!r.defaultNS&&r.defaultNS!==!1&&r.ns&&(ge(r.ns)?r.defaultNS=r.ns:r.ns.indexOf("translation")<0&&(r.defaultNS=r.ns[0]));const s=pb();this.options={...s,...this.options,...yb(r)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...s.interpolation,...this.options.interpolation}),r.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=r.keySeparator),r.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=r.nsSeparator);const o=d=>d?typeof d=="function"?new d:d:null;if(!this.options.isClone){this.modules.logger?Ur.init(o(this.modules.logger),this.options):Ur.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:typeof Intl<"u"&&(d=Pz);const f=new hb(this.options);this.store=new db(this.options.resources,this.options);const h=this.services;h.logger=Ur,h.resourceStore=this.store,h.languageUtils=f,h.pluralResolver=new Nz(f,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),d&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(h.formatter=o(d),h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new Cz(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new Az(o(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",function(g){for(var b=arguments.length,v=new Array(b>1?b-1:0),w=1;w<b;w++)v[w-1]=arguments[w];t.emit(g,...v)}),this.modules.languageDetector&&(h.languageDetector=o(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=o(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new Eu(this.services,this.options),this.translator.on("*",function(g){for(var b=arguments.length,v=new Array(b>1?b-1:0),w=1;w<b;w++)v[w-1]=arguments[w];t.emit(g,...v)}),this.modules.external.forEach(g=>{g.init&&g.init(this)})}if(this.format=this.options.interpolation.format,n||(n=oc),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=function(){return t.store[d](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=function(){return t.store[d](...arguments),t}});const c=Ua(),u=()=>{const d=(f,h)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(h),n(f,h)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),c}loadResources(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:oc;const s=ge(t)?t:this.language;if(typeof t=="function"&&(n=t),!this.options.resources||this.options.partialBundledLanguages){if(s&&s.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const o=[],i=l=>{if(!l||l==="cimode")return;this.services.languageUtils.toResolveHierarchy(l).forEach(u=>{u!=="cimode"&&o.indexOf(u)<0&&o.push(u)})};s?i(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>i(c)),this.options.preload&&this.options.preload.forEach(l=>i(l)),this.services.backendConnector.load(o,this.options.ns,l=>{!l&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(l)})}else n(null)}reloadResources(t,r,n){const s=Ua();return typeof t=="function"&&(n=t,t=void 0),typeof r=="function"&&(n=r,r=void 0),t||(t=this.languages),r||(r=this.options.ns),n||(n=oc),this.services.backendConnector.reload(t,r,o=>{s.resolve(),n(o)}),s}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&K4.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1))for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}changeLanguage(t,r){var n=this;this.isLanguageChangingTo=t;const s=Ua();this.emit("languageChanging",t);const o=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},i=(c,u)=>{u?(o(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,s.resolve(function(){return n.t(...arguments)}),r&&r(c,function(){return n.t(...arguments)})},l=c=>{!t&&!c&&this.services.languageDetector&&(c=[]);const u=ge(c)?c:this.services.languageUtils.getBestMatchFromCodes(c);u&&(this.language||o(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,d=>{i(d,u)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(t),s}getFixedT(t,r,n){var s=this;const o=function(i,l){let c;if(typeof l!="object"){for(var u=arguments.length,d=new Array(u>2?u-2:0),f=2;f<u;f++)d[f-2]=arguments[f];c=s.options.overloadTranslationOptionHandler([i,l].concat(d))}else c={...l};c.lng=c.lng||o.lng,c.lngs=c.lngs||o.lngs,c.ns=c.ns||o.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||n||o.keyPrefix);const h=s.options.keySeparator||".";let g;return c.keyPrefix&&Array.isArray(i)?g=i.map(b=>`${c.keyPrefix}${h}${b}`):g=c.keyPrefix?`${c.keyPrefix}${h}${i}`:i,s.t(g,c)};return ge(t)?o.lng=t:o.lngs=t,o.ns=r,o.keyPrefix=n,o}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const i=(l,c)=>{const u=this.services.backendConnector.state[`${l}|${c}`];return u===-1||u===0||u===2};if(r.precheck){const l=r.precheck(this,i);if(l!==void 0)return l}return!!(this.hasResourceBundle(n,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||i(n,t)&&(!s||i(o,t)))}loadNamespaces(t,r){const n=Ua();return this.options.ns?(ge(t)&&(t=[t]),t.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{n.resolve(),r&&r(s)}),n):(r&&r(),Promise.resolve())}loadLanguages(t,r){const n=Ua();ge(t)&&(t=[t]);const s=this.options.preload||[],o=t.filter(i=>s.indexOf(i)<0&&this.services.languageUtils.isSupportedCode(i));return o.length?(this.options.preload=s.concat(o),this.loadResources(i=>{n.resolve(),r&&r(i)}),n):(r&&r(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!t)return"rtl";const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services&&this.services.languageUtils||new hb(pb());return r.indexOf(n.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return new el(t,r)}cloneInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:oc;const n=t.forkResourceStore;n&&delete t.forkResourceStore;const s={...this.options,...t,isClone:!0},o=new el(s);return(t.debug!==void 0||t.prefix!==void 0)&&(o.logger=o.logger.clone(t)),["store","services","language"].forEach(l=>{o[l]=this[l]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},n&&(o.store=new db(this.store.data,s),o.services.resourceStore=o.store),o.translator=new Eu(o.services,s),o.translator.on("*",function(l){for(var c=arguments.length,u=new Array(c>1?c-1:0),d=1;d<c;d++)u[d-1]=arguments[d];o.emit(l,...u)}),o.init(s,r),o.translator.options=s,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Pt=el.createInstance();Pt.createInstance=el.createInstance;Pt.createInstance;Pt.dir;Pt.init;Pt.loadResources;Pt.reloadResources;Pt.use;Pt.changeLanguage;Pt.getFixedT;Pt.t;Pt.exists;Pt.setDefaultNamespace;Pt.hasLoadedNamespace;Pt.loadNamespaces;Pt.loadLanguages;const{slice:Mz,forEach:Lz}=[];function Dz(e){return Lz.call(Mz.call(arguments,1),t=>{if(t)for(const r in t)e[r]===void 0&&(e[r]=t[r])}),e}function Oz(e){return typeof e!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(r=>r.test(e))}const vb=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Iz=function(e,t){const n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},s=encodeURIComponent(t);let o=`${e}=${s}`;if(n.maxAge>0){const i=n.maxAge-0;if(Number.isNaN(i))throw new Error("maxAge should be a Number");o+=`; Max-Age=${Math.floor(i)}`}if(n.domain){if(!vb.test(n.domain))throw new TypeError("option domain is invalid");o+=`; Domain=${n.domain}`}if(n.path){if(!vb.test(n.path))throw new TypeError("option path is invalid");o+=`; Path=${n.path}`}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+=`; Expires=${n.expires.toUTCString()}`}if(n.httpOnly&&(o+="; HttpOnly"),n.secure&&(o+="; Secure"),n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return o},xb={create(e,t,r,n){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(s.expires=new Date,s.expires.setTime(s.expires.getTime()+r*60*1e3)),n&&(s.domain=n),document.cookie=Iz(e,encodeURIComponent(t),s)},read(e){const t=`${e}=`,r=document.cookie.split(";");for(let n=0;n<r.length;n++){let s=r[n];for(;s.charAt(0)===" ";)s=s.substring(1,s.length);if(s.indexOf(t)===0)return s.substring(t.length,s.length)}return null},remove(e){this.create(e,"",-1)}};var Fz={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&typeof document<"u")return xb.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:r,cookieMinutes:n,cookieDomain:s,cookieOptions:o}=t;r&&typeof document<"u"&&xb.create(r,e,n,s,o)}},$z={name:"querystring",lookup(e){var n;let{lookupQuerystring:t}=e,r;if(typeof window<"u"){let{search:s}=window.location;!window.location.search&&((n=window.location.hash)==null?void 0:n.indexOf("?"))>-1&&(s=window.location.hash.substring(window.location.hash.indexOf("?")));const i=s.substring(1).split("&");for(let l=0;l<i.length;l++){const c=i[l].indexOf("=");c>0&&i[l].substring(0,c)===t&&(r=i[l].substring(c+1))}}return r}};let uo=null;const bb=()=>{if(uo!==null)return uo;try{if(uo=typeof window<"u"&&window.localStorage!==null,!uo)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{uo=!1}return uo};var Uz={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&bb())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:r}=t;r&&bb()&&window.localStorage.setItem(r,e)}};let fo=null;const wb=()=>{if(fo!==null)return fo;try{if(fo=typeof window<"u"&&window.sessionStorage!==null,!fo)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{fo=!1}return fo};var zz={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&wb())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:r}=t;r&&wb()&&window.sessionStorage.setItem(r,e)}},Bz={name:"navigator",lookup(e){const t=[];if(typeof navigator<"u"){const{languages:r,userLanguage:n,language:s}=navigator;if(r)for(let o=0;o<r.length;o++)t.push(r[o]);n&&t.push(n),s&&t.push(s)}return t.length>0?t:void 0}},Vz={name:"htmlTag",lookup(e){let{htmlTag:t}=e,r;const n=t||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(r=n.getAttribute("lang")),r}},Gz={name:"path",lookup(e){var s;let{lookupFromPathIndex:t}=e;if(typeof window>"u")return;const r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(r)?(s=r[typeof t=="number"?t:0])==null?void 0:s.replace("/",""):void 0}},qz={name:"subdomain",lookup(e){var s,o;let{lookupFromSubdomainIndex:t}=e;const r=typeof t=="number"?t+1:1,n=typeof window<"u"&&((o=(s=window.location)==null?void 0:s.hostname)==null?void 0:o.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(n)return n[r]}};let Y4=!1;try{document.cookie,Y4=!0}catch{}const J4=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];Y4||J4.splice(1,1);const Wz=()=>({order:J4,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e});class X4{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(t,r)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t,this.options=Dz(r,this.options||{},Wz()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=s=>s.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(Fz),this.addDetector($z),this.addDetector(Uz),this.addDetector(zz),this.addDetector(Bz),this.addDetector(Vz),this.addDetector(Gz),this.addDetector(qz)}addDetector(t){return this.detectors[t.name]=t,this}detect(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,r=[];return t.forEach(n=>{if(this.detectors[n]){let s=this.detectors[n].lookup(this.options);s&&typeof s=="string"&&(s=[s]),s&&(r=r.concat(s))}}),r=r.filter(n=>n!=null&&!Oz(n)).map(n=>this.options.convertDetectedLanguage(n)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?r:r.length>0?r[0]:null}cacheUserLanguage(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||r.forEach(n=>{this.detectors[n]&&this.detectors[n].cacheUserLanguage(t,this.options)}))}}X4.type="languageDetector";const Hz={save:"Save",cancel:"Cancel",post:"Post",posting:"Posting...",edit:"Edit",delete:"Delete",like:"Like",comment:"Comment",share:"Share",unsave:"Unsave",login:"Login",createPost:"Create Post",close:"Close",postComment:"Post Comment",joinNow:"Join Now",getStarted:"Get Started",signIn:"Sign In",signUp:"Sign Up",submit:"Submit",sendMessage:"Send Message",viewProfile:"View Profile",saveChanges:"Save Changes",completeProfile:"Complete Profile",goBack:"Go Back",continue:"Continue",search:"Search",loadMore:"Load More",refresh:"Refresh",apply:"Apply",reset:"Reset",message:"Message",sending:"Sending...",addFriend:"Add Friend",requestSent:"Request Sent",friends:"Friends",confirm:"Confirm",saved:"Saved",send:"Send",tryAgain:"Try Again",remove:"Remove",view:"View",saving:"Saving...",deleting:"Deleting...",saveProfile:"Save Profile"},Kz={school:"School",degree:"Degree",field:"Field of Study",startDate:"Start Date",endDate:"End Date",currentlyStudying:"Currently Studying Here",description:"Description"},Yz={incompleteProfile:"Incomplete Profile",completeProfileMessage:"Please complete your profile to create posts",editProfile:"Edit Profile ",yourProfile:"Your Profile",confirmDeletePost:"Are you sure you want to delete this post?",postDeletedSuccess:"Post deleted successfully.",postDeleteFailed:"Failed to delete post.",friendRequestSent:"Friend request sent!",friendRequestFailed:"Failed to send friend request.",confirmRemoveFriend:"Are you sure you want to remove this friend?",friendRemovedSuccess:"Friend removed.",friendRemoveFailed:"Failed to remove friend.",friendRequestAccepted:"Friend request accepted!",friendRequestAcceptFailed:"Failed to accept friend request.",buttons:{addFriend:"Add Friend",accept:"Accept",decline:"Decline",removeFriend:"Remove Friend",viewGroup:"View Group",createGroup:"Create Group",viewDetails:"View Details",createEvent:"Create Event",findFriends:"Find Friends",editProfile:"Edit Profile"},status:{requestSent:"Request Sent"},noPostsYet:"You have no posts yet.",userHasNoPostsSuffix:"has no posts.",noGroupsJoined:"You haven't joined or created any groups yet.",userNotInGroupsSuffix:"isn't part of any groups.",noEventsJoined:"You haven't created or joined any events yet.",userNotInEventsSuffix:"isn't associated with any events.",noFriendsYet:"You haven't added any friends yet.",userHasNoFriendsSuffix:"has no friends to display.",noSavedItems:"You haven't saved any items yet.",tabs:{posts:"Posts",groups:"Groups",events:"Events",friends:"Friends",saved:"Saved"},notFound:"Profile not found."},Jz={createPostPlaceholder:"What's on your mind?",createTitle:"Create Title",submit:"Post",addImage:"Add Image",postEmpty:"Post cannot be empty",publish:"Publish",share:"Share",save:"Save",unsave:"Unsave",selectGroup:"Select a group to post to",selectEvent:"Select an event to post to",popularHashtags:"Popular hashtags",postingToGroup:"Posting to group",postingToEvent:"Posting to event",tagLocation:"Tag location",addVideo:"Add video",addEmoji:"Add emoji",selectFriend:"Share with friend",sharingWithFriend:"Sharing with"},Xz={incompleteProfile:"Please complete your profile first",loginRequired:"Please log in to create a post",postCreationFailed:"Failed to create post",completeProfileToPost:"Complete your profile to start posting",loginRequiredGroup:"You must be logged in to create a group.",groupNameRequired:"Group name is required.",groupCategoryRequired:"Please select a category for the group.",groupCreationFailed:"Failed to create group",groupMemberAddFailed:"Group created, but failed to add creator as member.",loginRequiredEvent:"You must be logged in to create an event.",eventNameRequired:"Event title is required.",eventDateRequired:"Event start date is required.",eventCategoryRequired:"Please select a category for the event.",eventCreationFailed:"Failed to create event"},Qz={postCreated:"Post created successfully",groupCreated:"Group created successfully!",eventCreated:"Event created successfully!"},Zz={title:"Settings",account:"Account Settings",profile:"Profile Settings",notifications:"Notification Settings",privacy:"Privacy Settings",language:"Language Settings",theme:"Theme Settings",deleteAccount:"Delete Account",darkMode:"Dark Mode",emailNotifications:"Email Notifications",pushNotifications:"Push Notifications",profileVisibility:"Profile Visibility",postVisibility:"Post Visibility",messagePermissions:"Message Permissions",selectLanguage:"Select Language",public:"Public",private:"Private",everyone:"Everyone",connections:"Connections Only",nobody:"Nobody",pageTitle:"Settings",logoutButton:"Logout",tabs:{profile:"Profile",appearance:"Appearance",notifications:"Notifications",privacy:"Privacy",security:"Security",account:"Account",help:"Help & Support"},profileSection:{title:"Profile Information",fullNameLabel:"Full Name",emailLabel:"Email Address"},notificationsSection:{title:"Notifications",emailLabel:"Email Notifications",emailDescription:"Receive important updates via email.",pushLabel:"Push Notifications",pushDescription:"Get notified directly in the app (requires browser permission).",marketingLabel:"Marketing Emails",marketingDescription:"Receive promotional offers and news.",saveButton:"Save Notifications"},privacySection:{title:"Privacy Settings",profileVisibilityLabel:"Profile Visibility",visibilityOptions:{public:"Public (Visible to everyone)",connections:"Connections Only",private:"Private (Only you)"},showEmailLabel:"Show Email on Profile",showLocationLabel:"Show Location on Profile",saveButton:"Save Privacy Settings"},appearanceSection:{title:"Appearance",themeLabel:"Theme",lightTheme:"Light",darkTheme:"Dark"},securitySection:{title:"Security",changePasswordTitle:"Change Password",newPasswordLabel:"New Password",confirmPasswordLabel:"Confirm New Password",changePasswordButton:"Change Password",accountActionsTitle:"Account Actions",logoutButton:"Log Out",deleteAccountButton:"Delete Account",deleteWarning:"Warning: Deleting your account is permanent and cannot be undone."},helpSection:{title:"Help & Support",description:"Need assistance or have questions? Visit our Help Center for guides and FAQs.",helpCenterButton:"Go to Help Center"},accountSection:{title:"Account Management",manageSessionsButton:"Manage Logged-in Sessions",managePasswordButton:"Manage Password (OAuth?)",deactivateButton:"Deactivate Account (Temporary)",deletePermanentlyButton:"Delete Account Permanently"}},eB={title:"Comments",noComments:"No comments yet",writeCommentPlaceholder:"Write a comment..."},tB={welcome:"Welcome to our social network",loginPrompt:"Please log in to see and interact with posts",loading:"Loading...",using_mock_data:"Using Mock Data",use_real_data:"Use Real Data",more_options:"More options"},rB={signIn:"Sign In",signInWithGoogle:"Sign in with Google",signingIn:"Signing in...",welcomeBack:"Welcome Back",dontHaveAccount:"Don't have an account?",register:"Register",emailAddress:"Email address",emailPlaceholder:"you@example.com",password:"Password",passwordPlaceholder:"",rememberMe:"Remember me",forgotPassword:"Forgot password?",failedToSignIn:"Failed to sign in",failedToSignInWithGoogle:"Failed to sign in with Google",loginFailed:"Login failed",redirectTimeout:"Redirect timeout - please try again",redirectingToGoogle:"Redirecting to Google for authentication...",loginFailedTryAgain:"Login failed. Please try again.",redirectingToOAuth:"Redirecting to authentication service...",signInToAccount:"Sign in to your account",connectWithCommunity:"Connect with your community and friends"},nB={landingPage:"Landing Page",joinNow:"Join Now",goToCompleteProfile:"Go to Complete Profile",orContinueWithEmail:"Or continue with email"},sB={allRightsReserved:"All rights reserved"},oB={title:"Notifications",markAsRead:"Mark as read",markAllAsRead:"Mark all as read",deleteAll:"Delete all",empty:"No notifications to display",all:"All",unread:"Unread",friends:"Friends",likes:"Likes",comments:"Comments",groups:"Groups",events:"Events"},aB={completeNow:"Complete Now"},iB={shareThoughts:"What's on your mind?"},lB={title:"Friends",requests:"Requests",suggestions:"Suggestions",no_friends:"No friends yet. Find people in Suggestions!",no_requests:"No pending requests.",no_suggestions:"No suggestions right now. Check back later!",incoming:"Incoming",sent:"Sent",actions:{accept:"Accept",decline:"Decline",cancel_request:"Cancel Request",connect:"Connect",message:"Message",view_profile:"View Profile"},buttons:{createGroup:"Create Group",findPeople:"Find People",accept:"Accept",decline:"Decline",cancel:"Cancel",connect:"Connect"},tabs:{friends:"Friends",requests:"Requests",people:"People"},no_friends_message:"You don't have any friends yet. Find people to connect with!",incoming_requests:"Incoming Requests",sent_requests:"Sent Requests",no_pending_requests:"No pending friend requests",people_you_may_know:"People You May Know",no_suggestions_message:"No suggestions available at the moment",create_group_title:"Create a New Group",create_group_description:"Select friends to add to your new group",create_group_name_label:"Group Name",create_group_name_placeholder:"Enter group name...",create_group_select_label:"Select Friends",create_group_selected:"selected"},cB={main:"Main",shortcuts:"Shortcuts",resources:"Resources",home:"Home",profile:"Profile",groups:"Groups",events:"Events",friends:"Friends",messages:"Messages",chat:"Chat",notifications:"Notifications",discover:"Discover",saved:"Saved",favorites:"Favorites",settings:"Settings"},uB={signIn:"Sign In",signInWithGoogle:"Sign in with Google",signingIn:"Signing in...",signOut:"Sign Out",createAccount:"Create Account",forgotPassword:"Forgot Password?",resetPassword:"Reset Password",sendResetLink:"Send Reset Link"},dB={accept:"Accept",decline:"Decline",connect:"Connect",disconnect:"Disconnect",follow:"Follow",unfollow:"Unfollow",block:"Block",unblock:"Unblock",report:"Report",markAsRead:"Mark as Read",markAllAsRead:"Mark All as Read",clearAll:"Clear All",showMore:"Show More",showLess:"Show Less",readMore:"Read More",seeAll:"See All",unfriendConfirm:"Unfriend @{{username}}?",search:"Search FAQs..."},fB={title:"Messages",tabs:{direct:"Direct",groups:"Groups",events:"Events"},direct:"Direct Messages",groups:"Group Chats",events:"Event Chats",select_conversation:"Select conversation",select_conversation_description:"Select a conversation from the list or start a new one from the Friends page",no_direct_messages:"You don't have any direct messages yet",no_group_chats:"You're not in any groups yet",no_event_chats:"You don't have any event chats yet",find_friends:"Find Friends",browse_groups:"Browse Groups",browse_events:"Browse Events",you:"You",no_messages_yet:"No messages yet",start_conversation:"Start Conversation",members:"members",view_profile:"View Profile",delete_conversation:"Delete Conversation",archive_chat:"Archive Chat",mute_notifications:"Mute Notifications",block_user:"Block User",message_settings:"Message Settings",message_settings_soon:"Message settings coming soon",group_chats_coming_soon:"Group chats coming soon",event_chat_ui_coming_soon:"Event chat UI coming soon",group_chat_ui_coming_soon:"Group chat UI coming soon",view_group_info:"View Group Info",view_event_details:"View Event Details",choose_conversation_or_start_new:"Choose a conversation from the list or start a new one",your_events:"Your Events",refresh:"Refresh",admin:"Admin",member:"Member",no_description:"No description",enter_fullscreen:"Enter Fullscreen",exit_fullscreen:"Exit Fullscreen",settings:"Message Settings",direct_message_policies:{delete_own:"Users can delete their own messages",insert_own:"Users can send their own messages",update_own:"Users can update their own messages",view_own:"Users can view their own messages"}},hB={event_chat:"Event Chat",back_to_messages:"Back to Messages",view_event_details:"View Event Details",view_attendees:"View Attendees",event_attendees:"Event Attendees",no_attendees_found:"No Attendees Found",attendee:"Attendee",attendees:"Attendees",unknown_attendee:"Unknown Attendee",unknown_location:"Unknown Location",type_your_message:"Type your message...",loading:"Loading...",error_loading_messages:"Error loading messages",error_sending_message:"Failed to send message. Please try again.",date:"Date",location:"Location",description:"Description",view_full_event_page:"View Full Event Page",event_settings:"Event Settings",mute_notifications:"Mute Notifications",add_to_calendar:"Add to Calendar",share_event:"Share Event",leave_event:"Leave Event",enter_fullscreen:"Enter Fullscreen",exit_fullscreen:"Exit Fullscreen",error_invalid_event_id:"Invalid event ID",error_event_not_found:"Event not found or may have been deleted",members_can_view:"Members can view other attendees",attendees_can_join:"Users can join events",attendees_can_leave:"Attendees can leave events",users_own_attendance:"Users can see their own attendance",attendees_send_messages:"Attendees can send messages to events",attendees_update_status:"Attendees can update their status",view_attendees_policy:"View attendees policy",delete_own_messages:"Users can delete their own messages",update_own_messages:"Users can update their own messages"},mB={appearance_settings:"Appearance Settings",chat_theme:"Chat Theme",bubble_style:"Bubble Style",font_size:"Font Size",save_settings:"Save Settings",settings_saved:"Settings saved successfully",error_saving_settings:"Error saving settings",members:"members",view_members:"View Members",settings:"Settings",theme_default:"Default",theme_modern:"Modern",theme_minimal:"Minimal",theme_colorful:"Colorful",style_rounded:"Rounded",style_square:"Square",style_bubble:"Bubble",size_small:"Small",size_medium:"Medium",size_large:"Large",error_title:"Error",not_member_title:"Not a Member",not_member_message:"You are not a member of this group. Join to send and view messages.",join_group:"Join Group",admin:"Admin",unknown_user:"Unknown User",no_messages_title:"No Messages Yet",no_messages_message:"Be the first to start a conversation in this group!",message_placeholder:"Type a message...",join_to_send_messages:"Join the group to send messages",group_members:"Group Members",error_invalid_group_id:"Invalid group ID",error_group_not_found:"Group not found",error_loading_chat:"Error loading chat",error_realtime_connection:"Realtime error",error_loading_members:"Error loading group members",error_sending_message:"Failed to send message",error_joining_group:"Error joining group",joined_group_success:"Successfully joined the group",not_a_member:"You are not a member of this group",loading:"Loading...",no_messages_yet:"No messages yet",type_a_message:"Type a message...",send_message:"Send",back_to_messages:"Back to Messages",back_to_groups:"Back to Groups",view_group_info:"View Group Info",mute_notifications:"Mute Notifications",create_event:"Create Event",leave_group:"Leave Group",chat_settings:"Chat Settings",view_group_members:"View Group Members",enter_fullscreen:"Enter Fullscreen",exit_fullscreen:"Exit Fullscreen",not_found:"Group Not Found",error_loading:"Error Loading Group",members_view_policy:"Members can view other members",users_join_policy:"Users can join groups",users_leave_policy:"Users can leave groups",users_view_own_policy:"Users can see their own memberships",members_send_messages:"Members can send messages to groups",members_update_status:"Users can update their chat group status",members_view_others:"Users can view memberships in their groups",view_members_policy:"View members policy",view_own_memberships:"View own memberships policy"},gB={main:"Main",home:"Home",profile:"Profile",groups:"Groups",events:"Events",resources:"Resources",friends:"Friends",messages:"Messages",notifications:"Notifications",saved:"Saved",settings:"Settings"},pB={search_placeholder:"Search posts...",no_posts_title:"No posts found",no_my_posts_message:"You haven't created any posts yet.",no_all_posts_message:"There are no posts to display.",create_first_post:"Create your first post"},yB={title:"Groups",tabs:{all:"All Groups",my:"My Groups"},buttons:{create:"Create Group",joining:"Joining...",join:"Join Group",chat:"Chat",leave:"Leave"},search_placeholder:"Find your community...",category_label:"Category",categories:{all:"All",technology:"Technology",business:"Business",education:"Education",entertainment:"Entertainment",health:"Health",sports:"Sports",travel:"Travel",art:"Art",food:"Food",music:"Music"},members:"members",no_groups_found_title:"No groups found",no_my_groups_message:"You haven't joined any groups yet.",no_all_groups_message:"Try adjusting your search or create a new group."},vB={title:"Events",tabs:{all:"All Events",my:"My Events"},buttons:{create:"Create Event",leaving:"Leaving...",leave:"Leave",chat:"Chat",joining:"Joining...",join:"Join"},search_placeholder:"Search events...",category_label:"Select Category",categories:{all:"All Categories",technology:"Technology",business:"Business",education:"Education",entertainment:"Entertainment",health:"Health",sports:"Sports",travel:"Travel",art:"Art",food:"Food",music:"Music"},public:"Public",private:"Private",no_events_found_title:"No events found",no_my_events_message:"You haven't RSVP'd to any events yet.",no_all_events_message:"Try adjusting your search or create a new event."},xB={eventDate:"Event Date"},bB={title:"Saved Items",categories:{all:"All Items",articles:"Articles",photos:"Photos",videos:"Videos"},readTime5:"5 min read",readTime8:"8 min read",no_items_title:"No saved items found",no_items_message:"Items you save will appear here. Browse content and click the bookmark icon to save items.",buttons:{explore:"Explore Content"}},wB={title:"Favorites",tabs:{groups:"Groups",connections:"Connections"},buttons:{remove:"Remove from Favorites",viewGroup:"View Group"},noHeadline:"No headline",no_groups:"You haven't favorited any groups yet.",no_connections:"You haven't favorited any connections yet."},_B={helpAndSupport:"Help & Support",helpAndSupportDescription:"Find answers to common questions and get in touch with our support team.",telegramSupport:"Telegram Support",telegramSupportDescription:"Chat with us directly on Telegram.",emailSupport:"Email Support",emailSupportDescription:"Send us an email for assistance.",helpCenter:"Help Center",helpCenterDescription:"Find answers in our knowledge base.",documentation:"Documentation",documentationDescription:"Browse comprehensive guides.",viewDocumentation:"View Documentation",videoTutorials:"Video Tutorials",videoTutorialsDescription:"Watch videos to get started.",watchTutorials:"Watch Tutorials",frequentlyAskedQuestions:"Frequently Asked Questions",noMatchingFAQs:"No matching FAQs found.",openingTelegram:"Opening Telegram support",openingEmail:"Opening email client",redirectingToHelp:"Redirecting to Help Center...",redirectingToDocs:"Opening Documentation...",redirectingToTutorials:"Opening Tutorials..."},kB={createGroup:{question:"How do I create a group?",answer:'Navigate to the Groups page and click the "Create Group" button. Fill in the details and invite members.'},addFriends:{question:"How can I add friends?",answer:'Go to the Friends page, find people under "Suggestions" or search, and click "Connect" or "Add Friend".'},privacy:{question:"How do I manage my privacy settings?",answer:"Go to Settings -> Privacy. Here you can control who sees your profile and posts."},notifications:{question:"How can I change my notification preferences?",answer:"Visit Settings -> Notifications to enable or disable email and push notifications."},deleteAccount:{question:"How do I delete my account?",answer:"Go to Settings -> Security -> Account Actions. Be aware that deleting your account is permanent."}},SB={title:"Create a New Group",nameLabel:"Group Name *",namePlaceholder:"E.g., Tech Enthusiasts, Book Club",descriptionLabel:"Description",descriptionPlaceholder:"What is this group about?",categoryLabel:"Category",categoryPlaceholder:"Select a category...",visibilityLabel:"Visibility",visibilityPlaceholder:"Select visibility...",visibilityPublic:"Public - Anyone can see and join",visibilityPrivate:"Private - Members must be invited",createButton:"Create Group",creatingButton:"Creating Group..."},jB={title:"Create a New Event",nameLabel:"Event Title *",namePlaceholder:"E.g., Annual Tech Conference, Community Meetup",descriptionLabel:"Description",descriptionPlaceholder:"Tell people more about the event",categoryLabel:"Category",categoryPlaceholder:"Select a category...",locationLabel:"Location *",locationPlaceholder:"E.g., Conference Center, Online",startDateLabel:"Start Date & Time *",startTimeLabel:"Start Time",endDateLabel:"End Date & Time (Optional)",endTimeLabel:"End Time",visibilityLabel:"Visibility",visibilityPlaceholder:"Select visibility...",visibilityPublic:"Public - Anyone can see",visibilityPrivate:"Private - Invite only",maxAttendeesLabel:"Max Attendees (Optional)",maxAttendeesPlaceholder:"Leave blank for unlimited",createButton:"Create Event",creatingButton:"Creating Event..."},NB={buttons:Hz,formLabels:Kz,profile:Yz,post:Jz,errors:Xz,success:Qz,settings:Zz,comments:eB,common:tB,login:rB,navigation:nB,footer:sB,notifications:oB,action:aB,placeholder:iB,friends:lB,nav:cB,auth:uB,actions:dB,messages:fB,event_chat:hB,group_chat:mB,sidebar:gB,home:pB,groups:yB,events:vB,discover:xB,saved:bB,favorites:wB,helpAndSupport:_B,faq:kB,createGroup:SB,createEvent:jB},CB={welcome:"     ",search:"",submit:"",cancel:"",save:"",delete:"",loading:"...",loginPrompt:"Please log in to see and interact with posts",using_mock_data:"  ",use_real_data:"  ",more_options:" ",select_tab:" "},EB={sign_in:"",sign_up:"",sign_out:"",continueWithGoogle:"Continue with Google",login:"Login",register:"Register",forgotPassword:"Forgot Password",resetPassword:"Reset Password",verifyEmail:"Verify Email",completeProfile:"Complete Profile",loginWithGoogle:"Login with Google",loginWithFacebook:"Login with Facebook",alreadyHaveAccount:"Already have an account?",dontHaveAccount:"Don't have an account?",createAccount:"Create Account"},PB={main:"",shortcuts:"",resources:"",home:"",profile:"",groups:"",events:"",friends:"",messages:"",chat:"",notifications:"",discover:"",saved:"",favorites:"",settings:""},TB={title:"",markAsRead:"  ",markAllAsRead:"   ",deleteAll:" ",empty:"   ",all:"",unread:"",friends:"",likes:"",comments:"",groups:"",events:""},AB={save:"",cancel:"",post:"",posting:"...",edit:"",delete:"",like:"",comment:"",share:"",unsave:"  ",login:"Login",createPost:" ",close:"Close",postComment:"Post Comment",message:"",sending:"...",addFriend:"  ",requestSent:" ",friends:"",confirm:"",saved:"",send:"",tryAgain:" ",remove:"",view:"",saving:"...",deleting:"...",saveProfile:" "},RB={school:"School",degree:"Degree",field:"Field of Study",startDate:"Start Date",endDate:"End Date",currentlyStudying:"Currently Studying Here",description:"Description"},MB={incompleteProfile:"Incomplete Profile",completeProfileMessage:"Please complete your profile to create posts",editProfile:"Edit Profile ",yourProfile:"Your Profile",confirmDeletePost:" ,     ?",postDeletedSuccess:"  .",postDeleteFailed:"   .",friendRequestSent:"   !",friendRequestFailed:"     .",confirmRemoveFriend:" ,     ?",friendRemovedSuccess:" .",friendRemoveFailed:"   .",friendRequestAccepted:"   !",friendRequestAcceptFailed:"     .",buttons:{addFriend:"  ",accept:"",decline:"",removeFriend:"  ",viewGroup:" ",createGroup:" ",viewDetails:" ",createEvent:" ",findFriends:" ",editProfile:" "},status:{requestSent:" "},noPostsYet:"    .",userHasNoPostsSuffix:"  .",noGroupsJoined:"         .",userNotInGroupsSuffix:"     .",noEventsJoined:"          .",userNotInEventsSuffix:"     .",noFriendsYet:"      .",userHasNoFriendsSuffix:"    .",noSavedItems:"    .",tabs:{posts:"",groups:"",events:"",friends:"",saved:""},notFound:"  ."},LB={createPostPlaceholder:"   ?",createTitle:" ",submit:"",addImage:" ",publish:"",share:"",save:"",unsave:"  ",writePost:"    ?",post:"",postingToGroup:"  ",postingToEvent:"  ",selectGroup:"   ",selectEvent:"   ",popularHashtags:" ",tagLocation:" ",addVideo:" ",addEmoji:" ",selectFriend:"  ",sharingWithFriend:" "},DB={incompleteProfile:"Please complete your profile first",loginRequired:"Please log in to create post",postCreationFailed:"Failed to create post",completeProfileToPost:"Complete your profile to start posting",loginRequiredGroup:"    ,   .",groupNameRequired:"  .",groupCategoryRequired:",    .",groupCreationFailed:"   ",groupMemberAddFailed:" ,       .",loginRequiredEvent:"    ,   .",eventNameRequired:"  .",eventDateRequired:"   .",eventCategoryRequired:",    .",eventCreationFailed:"   "},OB={postCreated:"Post created successfully",groupCreated:"  !",eventCreated:"  !"},IB={appearance_settings:"  ",chat_theme:" ",bubble_style:" ",font_size:" ",save_settings:" ",settings_saved:"  ",error_saving_settings:"   ",members:" ",add_member:" ",remove_member:" ",leave_group:" ",join_group:"  ",group_settings:" ",group_name:" ",group_description:" ",group_privacy:" ",public:"",private:"",notifications:"",all_messages:" ",mentions_only:" ",none:"",message_placeholder:" ...",typing:"...",no_messages:" ",load_more:" ",seen_by:"",message_not_sent:"  ",try_again:" ",delete_message:" ",edit_message:" ",reply:"",replying_to:" ",message_deleted:" ",you:"",search_messages:" ",member_settings:" ",member_notifications:" ",everyone:"",admins_only:" ",error_loading_chat:"   ",error_sending_message:"   ",error_adding_member:"   ",error_removing_member:"   ",error_leaving_group:"    ",error_joining_group:"    ",error_updating_settings:"   ",create:"  ",edit:"  ",settings:" ",add_members:" ",leave:" ",delete:" ",appearance:"  ",theme:" ",default_theme:" ",dark_theme:"",light_theme:"",custom_theme:"",mute_notifications:" ",permissions:"",admin_only:" ",all_members:" ",message_permissions:" ",invite_permissions:" ",error:{create:"    ",update:"    ",delete:"    ",leave:"    ",add_members:"   ",remove_member:"   ",load:"    "},success:{create:"   ",update:"   ",delete:"   ",leave:"    ",add_members:"  ",remove_member:"  "}},FB={event_chat:" ",back_to_messages:"  ",view_event_details:"  ",view_attendees:" ",event_attendees:" ",no_attendees_found:"  ",attendee:"",attendees:"",unknown_attendee:" ",unknown_location:" ",type_your_message:" ...",loading:"...",error_loading_messages:"   ",error_sending_message:"   . ,   .",date:"",location:" ",description:"",view_full_event_page:"   ",event_settings:" ",mute_notifications:" ",add_to_calendar:"  ",share_event:" ",leave_event:" ",enter_fullscreen:" ",exit_fullscreen:"   ",error_invalid_event_id:" ID ",error_event_not_found:"      .",members_can_view:"    ",attendees_can_join:"    ",attendees_can_leave:"   ",users_own_attendance:"     ",attendees_send_messages:"     ",attendees_update_status:"    ",view_attendees_policy:"  ",delete_own_messages:"     ",update_own_messages:"     "},$B={title:"Settings",account:{title:" ",manageSessionsButton:"  ",managePasswordButton:"  (OAuth?)",deactivateButton:"  ()",deletePermanentlyButton:"  "},profile:{title:" ",fullNameLabel:" ",emailLabel:"  "},notifications:{title:"",emailLabel:"   ",emailDescription:"     .",pushLabel:"Push-",pushDescription:"     (  ).",marketingLabel:" ",marketingDescription:"    .",saveButton:" "},privacy:{title:" ",profileVisibilityLabel:" ",visibilityOptions:{public:" ( )",connections:" ",private:" ( )"},showEmailLabel:" email  ",showLocationLabel:"   ",saveButton:"  "},language:"Language Settings",theme:"Theme Settings",deleteAccount:"Delete Account",darkMode:"Dark Mode",emailNotifications:"Email Notifications",pushNotifications:"Push Notifications",profileVisibility:"Profile Visibility",postVisibility:"Post Visibility",messagePermissions:"Message Permissions",selectLanguage:"Select Language",public:"Public",private:"Private",everyone:"Everyone",connections:"Connections Only",nobody:"Nobody",pageTitle:"",tabs:{profile:"",appearance:" ",notifications:"",privacy:"",security:"",account:"",help:"  "},appearance:{title:" ",themeLabel:"",lightTheme:"",darkTheme:""},security:{title:"",changePasswordTitle:" ",newPasswordLabel:" ",confirmPasswordLabel:"  ",changePasswordButton:" ",accountActionsTitle:"  ",logoutButton:"",deleteAccountButton:" ",deleteWarning:":    ."},help:{title:"  ",description:"    ?             .",helpCenterButton:"   "},logoutButton:""},UB={title:"",noComments:"  ",writeCommentPlaceholder:" ..."},zB={signIn:"",signInWithGoogle:"  Google",signingIn:" ...",welcomeBack:" ",dontHaveAccount:" ?",register:"",emailAddress:"  ",emailPlaceholder:"@.com",password:"",passwordPlaceholder:"",rememberMe:" ",forgotPassword:" ?",failedToSignIn:"  ",failedToSignInWithGoogle:"    Google",loginFailed:"  ",redirectTimeout:"  - ,  ",redirectingToGoogle:"  Google  ...",loginFailedTryAgain:"  . ,  .",redirectingToOAuth:"   ...",signInToAccount:"   ",connectWithCommunity:"     "},BB={landingPage:"Landing Page",joinNow:"Join Now",goToCompleteProfile:"Go to Complete Profile",orContinueWithEmail:"Or continue with email"},VB={allRightsReserved:"All rights reserved"},GB={completeNow:"Complete Now"},qB={shareThoughts:"   ?"},WB={title:"",requests:"",suggestions:"",no_friends:"    .     !",no_requests:"  .",no_suggestions:"  .  !",incoming:"",sent:"",actions:{accept:"",decline:"",cancel_request:" ",connect:"",message:"",view_profile:" "},requestPending:"  ",alreadyFriend:"  "},HB="",KB=" ",YB="",JB={search_placeholder:" ...",no_posts_title:"  ",no_my_posts_message:"      .",no_all_posts_message:"   .",create_first_post:"   "},XB={title:"",tabs:{all:" ",my:" "},buttons:{create:" ",joining:"...",join:"",chat:"",leave:""},search_placeholder:"  ...",category_label:"",categories:{all:"",technology:"",business:"",education:"",entertainment:"",health:"",sports:"",travel:"",art:"",food:"",music:""},members:"",no_groups_found_title:"  ",no_my_groups_message:"       .",no_all_groups_message:"      ."},QB={title:"",tabs:{all:" ",my:" "},buttons:{create:" ",leaving:"...",leave:"",chat:"",joining:"...",join:""},search_placeholder:" ...",category_label:" ",categories:{all:" ",technology:"",business:"",education:"",entertainment:"",health:"",sports:"",travel:"",art:"",food:"",music:""},public:"",private:"",no_events_found_title:"  ",no_my_events_message:"       .",no_all_events_message:"      ."},ZB={title:"",tabs:{direct:"",groups:"",events:""},direct:" ",groups:" ",events:" ",select_conversation:" ",select_conversation_description:"         ",no_direct_messages:"     ",no_group_chats:"      ",no_event_chats:"     ",find_friends:" ",browse_groups:" ",browse_events:" ",you:"",no_messages_yet:"  ",start_conversation:" ",members:"",view_profile:" ",delete_conversation:" ",archive_chat:" ",mute_notifications:" ",block_user:" ",message_settings:" ",message_settings_soon:"   ",group_chats_coming_soon:"   ",event_chat_ui_coming_soon:"    ",group_chat_ui_coming_soon:"    ",view_group_info:"   ",view_event_details:"  ",choose_conversation_or_start_new:"      ",your_events:" ",refresh:"",admin:"",member:"",no_description:" ",enter_fullscreen:" ",exit_fullscreen:"   ",settings:" ",direct_message_policies:{delete_own:"     ",insert_own:"     ",update_own:"     ",view_own:"     "}},eV={title:"",searchPlaceholder:" ,   ...",tabs:{trending:" ",groups:"",events:"",people:""},buttons:{explore:" "},eventDate:" "},tV={title:"",buttons:{explore:" "}},rV={title:"",tabs:{groups:"",connections:""},buttons:{remove:"  ",viewGroup:" "},noHeadline:" ",no_groups:"     .",no_connections:"     ."},nV={helpAndSupport:"  ",helpAndSupportDescription:"           .",telegramSupport:"  Telegram",telegramSupportDescription:"     Telegram.",emailSupport:"   ",emailSupportDescription:"     .",helpCenter:" ",helpCenterDescription:"     .",documentation:"",documentationDescription:"   .",viewDocumentation:" ",videoTutorials:"-",videoTutorialsDescription:" ,   .",watchTutorials:" ",frequentlyAskedQuestions:"  ",noMatchingFAQs:"   .",openingTelegram:"   Telegram",openingEmail:"  ",redirectingToHelp:"   ...",redirectingToDocs:" ...",redirectingToTutorials:" ..."},sV={createGroup:{question:"  ?",answer:'       " ".     .'},addFriends:{question:"  ?",answer:'   ,     ""   ,   ""  "  ".'},privacy:{question:"   ?",answer:"   -> .    ,      ."},notifications:{question:"   ?",answer:"  -> ,          push-."},deleteAccount:{question:"   ?",answer:"   ->  ->   . ,      ."}},oV={accept:"",decline:"",connect:"",disconnect:"",follow:"",unfollow:"",block:"",unblock:"",report:"",markAsRead:"  ",markAllAsRead:"   ",clearAll:" ",showMore:" ",showLess:" ",readMore:" ",seeAll:" ",unfriendConfirm:" @{{username}}  ?",search:"    ..."},aV={title:"  ",nameLabel:"  *",namePlaceholder:":  ,  ",descriptionLabel:"",descriptionPlaceholder:"   ?",categoryLabel:"",categoryPlaceholder:" ...",visibilityLabel:"",visibilityPlaceholder:" ...",visibilityPublic:" -     ",visibilityPrivate:" -    ",createButton:" ",creatingButton:" ..."},iV={title:"  ",nameLabel:"  *",namePlaceholder:":   ,  ",descriptionLabel:"",descriptionPlaceholder:"   ",categoryLabel:"",categoryPlaceholder:" ...",locationLabel:"  *",locationPlaceholder:": -, ",startDateLabel:"    *",startTimeLabel:" ",endDateLabel:"    ()",endTimeLabel:" ",visibilityLabel:"",visibilityPlaceholder:" ...",visibilityPublic:" -   ",visibilityPrivate:" -   ",maxAttendeesLabel:"   ()",maxAttendeesPlaceholder:"    ",createButton:" ",creatingButton:" ..."},lV={common:CB,auth:EB,nav:PB,notifications:TB,buttons:AB,formLabels:RB,profile:MB,post:LB,errors:DB,success:OB,group_chat:IB,event_chat:FB,settings:$B,comments:UB,login:zB,navigation:BB,footer:VB,action:GB,placeholder:qB,friends:WB,main:HB,shortcuts:KB,resources:YB,home:JB,groups:XB,events:QB,messages:ZB,discover:eV,saved:tV,favorites:rV,helpAndSupport:nV,faq:sV,actions:oV,createGroup:aV,createEvent:iV},cV={save:"",cancel:"",post:"",posting:"...",edit:"",delete:"",like:"",comment:" ",share:"",unsave:" ",login:"",createPost:" ",close:"",postComment:" ",message:"",sending:"...",addFriend:" ",requestSent:" ",friends:"",confirm:"",saved:"",send:"",tryAgain:"",remove:"",view:"",saving:"...",deleting:"...",saveProfile:" "},uV={school:"",degree:"",field:"",startDate:" ",endDate:" ",currentlyStudying:"  ",description:""},dV={incompleteProfile:"  ",completeProfileMessage:"    ",editProfile:"  ",yourProfile:" ",confirmDeletePost:"     ?",postDeletedSuccess:"  .",postDeleteFailed:"   .",friendRequestSent:"  !",friendRequestFailed:"    .",confirmRemoveFriend:"     ?",friendRemovedSuccess:" .",friendRemoveFailed:"   .",friendRequestAccepted:"  !",friendRequestAcceptFailed:"    .",buttons:{addFriend:" ",accept:"",decline:" ",removeFriend:" ",viewGroup:" ",createGroup:" ",viewDetails:" ",createEvent:" ",findFriends:" ",editProfile:" "},status:{requestSent:" "},noPostsYet:"   .",userHasNoPostsSuffix:"   .",noGroupsJoined:"      .",userNotInGroupsSuffix:"     .",noEventsJoined:"      .",userNotInEventsSuffix:"     .",noFriendsYet:"   .",userHasNoFriendsSuffix:"    .",noSavedItems:"    .",tabs:{posts:"",groups:"",events:"",friends:"",saved:""},notFound:" ."},fV={createPostPlaceholder:"  ?",createTitle:" ",submit:"",addImage:" ",publish:"",share:"",save:"",unsave:" ",writePost:"  ?",post:"",postingToGroup:" ",postingToEvent:" ",selectGroup:"   ",selectEvent:"   ",popularHashtags:" ",tagLocation:" ",addVideo:" ",addEmoji:" ",selectFriend:" ",sharingWithFriend:" "},hV={incompleteProfile:"  ",loginRequired:"   ",postCreationFailed:"   ",completeProfileToPost:"     ",loginRequiredGroup:"     .",groupNameRequired:"  .",groupCategoryRequired:"   .",groupCreationFailed:"   ",groupMemberAddFailed:" ,       .",loginRequiredEvent:"     .",eventNameRequired:"  .",eventDateRequired:"   .",eventCategoryRequired:"   .",eventCreationFailed:"   "},mV={postCreated:"  ",groupCreated:"  !",eventCreated:"  !"},gV={loading:"...",no_messages_yet:"  .   !",type_a_message:" ...",send_message:"",back_to_messages:" ",back_to_groups:" ",error_loading_members:"    ",error_sending_message:"   .  .",error_realtime_connection:"   ",group_members:"",unknown_user:" ",no_members_found:" ",mute_notifications:" ",view_group_info:"   ",create_event:" ",leave_group:" ",chat_settings:" ",view_group_members:"  ",enter_fullscreen:" ",exit_fullscreen:"  "},pV={title:"",account:{title:" ",manageSessionsButton:"  ",managePasswordButton:"   (OAuth?)",deactivateButton:"  ()",deletePermanentlyButton:"  "},profile:{title:" ",fullNameLabel:" ",emailLabel:"  "},notifications:{title:"",emailLabel:"  ",emailDescription:"     .",pushLabel:"Push ",pushDescription:"    (  ).",marketingLabel:" ",marketingDescription:"    .",saveButton:" "},privacy:{title:" ",profileVisibilityLabel:" ",visibilityOptions:{public:"  (  )",connections:" ",private:" ( )"},showEmailLabel:"   ",showLocationLabel:"   ",saveButton:"  "},language:" ",theme:" ",deleteAccount:" ",darkMode:" ",emailNotifications:"  ",pushNotifications:"Push ",profileVisibility:" ",postVisibility:" ",messagePermissions:" ",selectLanguage:" ",public:" ",private:"",everyone:"",connections:" ",nobody:"",pageTitle:"",tabs:{profile:"",appearance:" ",notifications:"",privacy:"",security:"",account:"",help:" & "},appearance:{title:" ",themeLabel:"",lightTheme:"",darkTheme:""},security:{title:"",changePasswordTitle:"  ",newPasswordLabel:"  ",confirmPasswordLabel:"   ",changePasswordButton:"  ",accountActionsTitle:" ",logoutButton:"",deleteAccountButton:" ",deleteWarning:":    ."},help:{title:" & ",description:"      ?       .",helpCenterButton:"  "},logoutButton:""},yV={title:"",noComments:"  ",writeCommentPlaceholder:" ..."},vV={welcome:"    ",loginPrompt:"      ",loading:"...",using_mock_data:"  ",use_real_data:"  ",more_options:" ",select_tab:" "},xV={signIn:"",signInWithGoogle:"Google  ",signingIn:"...",welcomeBack:"  ",dontHaveAccount:"  ?",register:"",emailAddress:"  ",emailPlaceholder:"siz@example.com",password:" ",passwordPlaceholder:"",rememberMe:"  ",forgotPassword:"   ?",failedToSignIn:"  ",failedToSignInWithGoogle:"Google    ",loginFailed:"  ",redirectTimeout:"   -  ",redirectingToGoogle:"  Google- ...",loginFailedTryAgain:"  .  .",redirectingToOAuth:"  ...",signInToAccount:" ",connectWithCommunity:"   "},bV={landingPage:" ",joinNow:" ",goToCompleteProfile:"  ",orContinueWithEmail:"   "},wV={allRightsReserved:"  "},_V={title:"",markAsRead:"  ",markAllAsRead:"   ",deleteAll:" ",empty:"  ",all:"",unread:"",friends:"",likes:"",comments:"",groups:"",events:""},kV={completeNow:" "},SV={shareThoughts:"  ?"},jV={main:"",home:" ",profile:"",groups:"",events:"",shortcuts:" ",friends:"",messages:"",resources:"",discover:"",saved:"",favorites:"",settings:""},NV={title:"",requests:"",suggestions:"",no_friends:"  .    !",no_requests:"  .",no_suggestions:"  .  !",incoming:"",sent:"",actions:{accept:"",decline:" ",cancel_request:" ",connect:"",message:"",view_profile:" "},buttons:{createGroup:" ",findPeople:" ",accept:"",decline:" ",cancel:"",connect:"",addFriend:" "},tabs:{friends:"",requests:"",people:""},no_friends_message:"   .   !",incoming_requests:"  ",sent_requests:" ",no_pending_requests:"    ",people_you_may_know:"   ",no_suggestions_message:"   ",create_group_title:"  ",create_group_description:"     ",create_group_name_label:" ",create_group_name_placeholder:"  ...",create_group_select_label:" ",create_group_selected:"",requestPending:" ",alreadyFriend:"  "},CV={main:"",shortcuts:" ",resources:"",home:" ",profile:"",groups:"",events:"",friends:"",messages:"",chat:"",notifications:"",discover:"",saved:"",favorites:"",settings:""},EV={search_placeholder:" ...",no_posts_title:" ",no_my_posts_message:"   .",no_all_posts_message:"  .",create_first_post:"  "},PV={title:"",tabs:{all:" ",my:" "},buttons:{create:" ",joining:"...",join:" ",chat:"",leave:""},search_placeholder:"  ...",category_label:"",categories:{all:"",technology:"",business:"",education:"",entertainment:"-",health:"",sports:"",travel:"",art:"",food:"",music:""},members:"",no_groups_found_title:" ",no_my_groups_message:"    .",no_all_groups_message:"      ."},TV={title:"",tabs:{all:" ",my:" "},buttons:{create:" ",leaving:"...",leave:"",chat:"",joining:"...",join:""},search_placeholder:" ...",category_label:" ",categories:{all:" ",technology:"",business:"",education:"",entertainment:"-",health:"",sports:"",travel:"",art:"",food:"",music:""},public:" ",private:"",no_events_found_title:" ",no_my_events_message:"    .",no_all_events_message:"      ."},AV={title:"",tabs:{direct:"",groups:"",events:""},no_direct_messages:"   ",find_friends:" ",delete_conversation:" ",group_chats_coming_soon:"  ",browse_groups:" ",no_event_chats:"   ",browse_events:" ",exit_fullscreen:"  ",enter_fullscreen:" ",settings:" ",view_profile:" ",mute_notifications:" ",block_user:" ",select_conversation:" ",select_conversation_description:"       ",you:"",no_messages_yet:"  "},RV={title:"",searchPlaceholder:",    ...",tabs:{trending:"",groups:"",events:"",people:""},buttons:{explore:" "},eventDate:" "},MV={title:"",categories:{all:" ",articles:"",photos:"",videos:""},readTime5:"5  ",readTime8:"8  ",no_items_title:"  ",no_items_message:"     .   ,      .",buttons:{explore:" "}},LV={title:"",tabs:{groups:"",connections:""},buttons:{remove:" ",viewGroup:" "},noHeadline:" ",no_groups:"     .",no_connections:"     ."},DV={helpAndSupport:" & ",helpAndSupportDescription:"         .",telegramSupport:"Telegram ",telegramSupportDescription:"Telegram    .",emailSupport:"  ",emailSupportDescription:"      .",helpCenter:" ",helpCenterDescription:"    .",documentation:"",documentationDescription:"-   .",viewDocumentation:" ",videoTutorials:" ",videoTutorialsDescription:"   .",watchTutorials:" ",frequentlyAskedQuestions:"  ",noMatchingFAQs:"   .",openingTelegram:"Telegram  ",openingEmail:"   ",redirectingToHelp:"  ...",redirectingToDocs:" ...",redirectingToTutorials:" ..."},OV={createGroup:{question:"  ?",answer:'  , " "  .  ,  .'},addFriends:{question:"  ?",answer:'  , ""       ""  " "  .'},privacy:{question:"   ?",answer:" ->   .         ."},notifications:{question:"   ?",answer:"   push       ->   ."},deleteAccount:{question:"  ?",answer:" ->  ->    .     ."}},IV={accept:"",decline:" ",connect:"",disconnect:"",follow:"",unfollow:" ",block:"",unblock:" ",report:"",markAsRead:"  ",markAllAsRead:"   ",clearAll:" ",showMore:" ",showLess:" ",readMore:" ",seeAll:" ",unfriendConfirm:"@{{username}}   ?",search:" ..."},FV={title:"  ",nameLabel:"  *",namePlaceholder:":  ,  ",descriptionLabel:"",descriptionPlaceholder:"   ?",categoryLabel:"",categoryPlaceholder:" ...",visibilityLabel:"",visibilityPlaceholder:" ...",visibilityPublic:"  -        ",visibilityPrivate:" -   ",createButton:" ",creatingButton:" ..."},$V={title:"  ",nameLabel:"  *",namePlaceholder:":   . ,  ",descriptionLabel:"",descriptionPlaceholder:"    ",categoryLabel:"",categoryPlaceholder:" ...",locationLabel:"  *",locationPlaceholder:":  , ",startDateLabel:"    *",startTimeLabel:" ",endDateLabel:"    ( )",endTimeLabel:" ",visibilityLabel:"",visibilityPlaceholder:" ...",visibilityPublic:"  -     ",visibilityPrivate:" -  ",maxAttendeesLabel:".  ( )",maxAttendeesPlaceholder:"   ",createButton:" ",creatingButton:" ..."},UV={buttons:cV,formLabels:uV,profile:dV,post:fV,errors:hV,success:mV,group_chat:gV,settings:pV,comments:yV,common:vV,login:xV,navigation:bV,footer:wV,notifications:_V,action:kV,placeholder:SV,sidebar:jV,friends:NV,nav:CV,home:EV,groups:PV,events:TV,messages:AV,discover:RV,saved:MV,favorites:LV,helpAndSupport:DV,faq:OV,actions:IV,createGroup:FV,createEvent:$V},zV={save:"Kaydet",cancel:"ptal",post:"Gnder",posting:"Gnderiliyor...",edit:"Dzenle",delete:"Sil",like:"Been",comment:"Yorum Yap",share:"Payla",unsave:"Kaydetmeyi Kaldr",login:"Giri Yap",createPost:"Gnderi Olutur",close:"Kapat",postComment:"Yorum Gnder",message:"Mesaj",sending:"Gnderiliyor...",addFriend:"Arkada Ekle",requestSent:"stek Gnderildi",friends:"Arkadalar",confirm:"Onayla",saved:"Kaydedildi",send:"Gnder",tryAgain:"Tekrar Dene",remove:"Kaldr",view:"Grntle",saving:"Kaydediliyor...",deleting:"Siliniyor...",saveProfile:"Profili Kaydet"},BV={school:"Okul",degree:"Diploma",field:"Alan",startDate:"Balang Tarihi",endDate:"Biti Tarihi",currentlyStudying:"u Anda Burada Okuyor",description:"Aklama"},VV={incompleteProfile:"Eksik Profil",completeProfileMessage:"Gnderi oluturmak iin ltfen profilinizi tamamlayn",editProfile:"Profili Dzenle ",yourProfile:"Profilin",confirmDeletePost:"Bu gnderiyi silmek istediinizden emin misiniz?",postDeletedSuccess:"Gnderi baaryla silindi.",postDeleteFailed:"Gnderi silinemedi.",friendRequestSent:"Arkadalk istei gnderildi!",friendRequestFailed:"Arkadalk istei gnderilemedi.",confirmRemoveFriend:"Bu arkada silmek istediinizden emin misiniz?",friendRemovedSuccess:"Arkada kaldrld.",friendRemoveFailed:"Arkada kaldrlamad.",friendRequestAccepted:"Arkadalk istei kabul edildi!",friendRequestAcceptFailed:"Arkadalk istei kabul edilemedi.",buttons:{addFriend:"Arkada Ekle",accept:"Kabul Et",decline:"Reddet",removeFriend:"Arkadalktan kar",viewGroup:"Grubu Grntle",createGroup:"Grup Olutur",viewDetails:"Detaylar Grntle",createEvent:"Etkinlik Olutur",findFriends:"Arkada Bul",editProfile:"Profili Dzenle"},status:{requestSent:"stek Gnderildi"},noPostsYet:"Henz hi gnderiniz yok.",userHasNoPostsSuffix:"adl kullancnn gnderisi yok.",noGroupsJoined:"Henz hibir gruba katlmadnz veya oluturmadnz.",userNotInGroupsSuffix:"adl kullanc herhangi bir grubun yesi deil.",noEventsJoined:"Henz hibir etkinlie katlmadnz veya oluturmadnz.",userNotInEventsSuffix:"adl kullanc herhangi bir etkinlikle ilikili deil.",noFriendsYet:"Henz hi arkada eklemediniz.",userHasNoFriendsSuffix:"adl kullancnn grntlenecek arkada yok.",noSavedItems:"Henz hibir e kaydetmediniz.",tabs:{posts:"Gnderiler",groups:"Gruplar",events:"Etkinlikler",friends:"Arkadalar",saved:"Kaydedilenler"},notFound:"Profil bulunamad."},GV={createPostPlaceholder:"Aklnda ne var?",createTitle:"Gnderi Olutur",submit:"Gnder",addImage:"Resim Ekle",publish:"Yaynla",share:"Payla",save:"Kaydet",unsave:"Kaydetmeyi Kaldr",writePost:"Aklnda ne var?",post:"Gnder",postingToGroup:"Gruba gnderiliyor",postingToEvent:"Etkinlie gnderiliyor",selectGroup:"Gnderi iin bir grup sein",selectEvent:"Gnderi iin bir etkinlik sein",popularHashtags:"Popler hashtagler",tagLocation:"Konum ekle",addVideo:"Video ekle",addEmoji:"Emoji ekle",selectFriend:"Arkada ile payla",sharingWithFriend:"Paylalacak kii"},qV={incompleteProfile:"Ltfen nce profilinizi tamamlayn",loginRequired:"Gnderi oluturmak iin ltfen giri yapn",postCreationFailed:"Gnderi oluturulamad",completeProfileToPost:"Gnderi paylamaya balamak iin profilinizi tamamlayn",loginRequiredGroup:"Grup oluturmak iin giri yapmalsnz.",groupNameRequired:"Grup ad gerekli.",groupCategoryRequired:"Ltfen grup iin bir kategori sein.",groupCreationFailed:"Grup oluturulamad",groupMemberAddFailed:"Grup oluturuldu, ancak oluturucu ye olarak eklenemedi.",loginRequiredEvent:"Etkinlik oluturmak iin giri yapmalsnz.",eventNameRequired:"Etkinlik bal gerekli.",eventDateRequired:"Etkinlik balang tarihi gerekli.",eventCategoryRequired:"Ltfen etkinlik iin bir kategori sein.",eventCreationFailed:"Etkinlik oluturulamad"},WV={postCreated:"Gnderi baaryla oluturuldu",groupCreated:"Grup baaryla oluturuldu!",eventCreated:"Etkinlik baaryla oluturuldu!"},HV={appearance_settings:"Grnm Ayarlar",chat_theme:"Sohbet Temas",bubble_style:"Baloncuk Stili",font_size:"Yaz Boyutu",save_settings:"Ayarlar Kaydet",settings_saved:"Ayarlar baaryla kaydedildi",error_saving_settings:"Ayarlar kaydedilirken hata olutu",members:"ye",view_members:"yeleri Grntle",settings:"Ayarlar",theme_default:"Varsaylan",theme_modern:"Modern",theme_minimal:"Sade",theme_colorful:"Renkli",style_rounded:"Yuvarlak",style_square:"Kare",style_bubble:"Balon",size_small:"Kk",size_medium:"Orta",size_large:"Byk",error_title:"Hata",not_member_title:"ye Deilsiniz",not_member_message:"Bu grubun yesi deilsiniz. Mesaj gndermek ve grntlemek iin katln.",join_group:"Gruba Katl",no_messages_title:"Henz Mesaj Yok",no_messages_message:"Bu gruptaki ilk konumay balatan siz olun!",message_placeholder:"Bir mesaj yazn...",join_to_send_messages:"Mesaj gndermek iin gruba katln",error_invalid_group_id:"Geersiz grup ID",error_group_not_found:"Grup bulunamad",error_loading_chat:"Sohbet yklenirken hata olutu",error_realtime_connection:"Gerek zamanl balantda hata olutu",error_loading_members:"Grup yeleri yklenirken hata olutu",error_sending_message:"Mesaj gnderilemedi",error_joining_group:"Gruba katlrken hata olutu",joined_group_success:"Gruba baaryla katldnz",not_a_member:"Bu grubun yesi deilsiniz",type_a_message:"Bir mesaj yazn...",send_message:"Gnder",back_to_messages:"Mesajlara Dn",back_to_groups:"Gruplara Dn",view_group_info:"Grup Bilgilerini Grntle",mute_notifications:"Bildirimleri Sessize Al",create_event:"Etkinlik Olutur",leave_group:"Gruptan Ayrl",chat_settings:"Sohbet Ayarlar",view_group_members:"Grup yelerini Grntle",enter_fullscreen:"Tam Ekran",exit_fullscreen:"Tam Ekrandan k",not_found:"Grup bulunamad",error_loading:"Grup yklenirken hata olutu",members_view_policy:"yeler dier yeleri grebilir",users_join_policy:"Kullanclar gruplara katlabilir",users_leave_policy:"Kullanclar gruplardan ayrlabilir",users_view_own_policy:"Kullanclar kendi yeliklerini grebilir",members_send_messages:"yeler gruplara mesaj gnderebilir",members_update_status:"Kullanclar grup durumlarn gncelleyebilir",members_view_others:"Kullanclar gruplarndaki yelikleri grntleyebilir",view_members_policy:"yeleri grntleme politikas",view_own_memberships:"Kendi yeliklerini grntleme politikas"},KV={group_chat:"Grup Sohbeti",back_to_messages:"Mesajlara Geri Dn",view_group_members:"Grup yelerini Grntle",group_members:"Grup yeleri",no_members_found:"ye bulunamad",unknown_user:"Bilinmeyen Kullanc",type_a_message:"Bir mesaj yazn...",no_messages_yet:"Henz mesaj yok",send_message:"Mesaj Gnder",chat_settings:"Sohbet Ayarlar",mute_notifications:"Bildirimleri Sustur",view_group_info:"Grup Bilgilerini Grntle",create_event:"Etkinlik Olutur",leave_group:"Gruptan Ayrl",loading:"Ykleniyor...",enter_fullscreen:"Tam Ekrana Ge",exit_fullscreen:"Tam Ekrandan k",error_invalid_group_id:"Geersiz grup kimlii",error_group_not_found:"Grup bulunamad",error_loading_messages:"Mesajlar yklenirken hata olutu",member:"ye",admin:"Ynetici"},YV={title:"Ayarlar",account:{title:"Hesap Ynetimi",manageSessionsButton:"Oturumlar Ynet",managePasswordButton:"ifreyi Ynet (OAuth?)",deactivateButton:"Hesab Dondur (Geici)",deletePermanentlyButton:"Hesab Kalc Olarak Sil"},profile:{title:"Profil Bilgileri",fullNameLabel:"Tam Ad",emailLabel:"E-posta Adresi"},notifications:{title:"Bildirimler",emailLabel:"E-posta Bildirimleri",emailDescription:"nemli gncellemeleri e-posta ile aln.",pushLabel:"Anlk Bildirimler",pushDescription:"Dorudan uygulamada bildirim aln (tarayc izni gerektirir).",marketingLabel:"Pazarlama E-postalar",marketingDescription:"Promosyon teklifleri ve haberleri aln.",saveButton:"Bildirimleri Kaydet"},privacy:{title:"Gizlilik Ayarlar",profileVisibilityLabel:"Profil Grnrl",visibilityOptions:{public:"Herkese Ak (Herkes grebilir)",connections:"Sadece Balantlar",private:"zel (Sadece siz)"},showEmailLabel:"E-postay Profilde Gster",showLocationLabel:"Konumu Profilde Gster",saveButton:"Gizlilik Ayarlarn Kaydet"},language:"Dil Ayarlar",theme:"Tema Ayarlar",deleteAccount:"Hesab Sil",darkMode:"Karanlk Mod",emailNotifications:"E-posta Bildirimleri",pushNotifications:"Anlk Bildirimler",profileVisibility:"Profil Grnrl",postVisibility:"Gnderi Grnrl",messagePermissions:"Mesaj zinleri",selectLanguage:"Dil Sein",public:"Herkese Ak",private:"zel",everyone:"Herkes",connections:"Sadece Balantlar",nobody:"Hi Kimse",pageTitle:"Ayarlar",tabs:{profile:"Profil",appearance:"Grnm",notifications:"Bildirimler",privacy:"Gizlilik",security:"Gvenlik",account:"Hesap",help:"Yardm & Destek"},appearance:{title:"Grnm",themeLabel:"Tema",lightTheme:"Ak",darkTheme:"Koyu"},security:{title:"Gvenlik",changePasswordTitle:"ifre Deitir",newPasswordLabel:"Yeni ifre",confirmPasswordLabel:"Yeni ifreyi Onayla",changePasswordButton:"ifreyi Deitir",accountActionsTitle:"Hesap lemleri",logoutButton:"k Yap",deleteAccountButton:"Hesab Sil",deleteWarning:"Uyar: Hesabnz silmek kalcdr ve geri alnamaz."},help:{title:"Yardm & Destek",description:"Yardma m ihtiyacnz var veya sorularnz m var? Klavuzlar ve SSS iin Yardm Merkezimizi ziyaret edin.",helpCenterButton:"Yardm Merkezine Git"},logoutButton:"k Yap"},JV={title:"Yorumlar",noComments:"Henz yorum yok",writeCommentPlaceholder:"Yorum yaz..."},XV={welcome:"Sosyal amza ho geldiniz",loginPrompt:"Gnderileri grmek ve etkileimde bulunmak iin ltfen giri yapn",loading:"Ykleniyor...",using_mock_data:"Test Verisi Kullanlyor",use_real_data:"Gerek Veri Kullan",more_options:"Daha fazla seenek",select_tab:"Bir sekme sein"},QV={signIn:"Giri Yap",signInWithGoogle:"Google ile Giri Yap",signingIn:"Giri yaplyor...",welcomeBack:"Tekrar Ho Geldiniz",dontHaveAccount:"Hesabnz yok mu?",register:"Kayt Ol",emailAddress:"E-posta adresi",emailPlaceholder:"siz@ornek.com",password:"ifre",passwordPlaceholder:"",rememberMe:"Beni hatrla",forgotPassword:"ifrenizi mi unuttunuz?",failedToSignIn:"Giri yaplamad",failedToSignInWithGoogle:"Google ile giri yaplamad",loginFailed:"Giri baarsz",redirectTimeout:"Ynlendirme zaman am - ltfen tekrar deneyin",redirectingToGoogle:"Kimlik dorulama iin Google'a ynlendiriliyor...",loginFailedTryAgain:"Giri baarsz. Ltfen tekrar deneyin.",redirectingToOAuth:"Kimlik dorulama servisine ynlendiriliyor...",signInToAccount:"Hesabnza giri yapn",connectWithCommunity:"Topluluunuz ve arkadalarnzla balant kurun"},ZV={landingPage:"Al Sayfas",joinNow:"imdi Katl",goToCompleteProfile:"Profili Tamamlamaya Git",orContinueWithEmail:"Veya e-posta ile devam et"},eG={allRightsReserved:"Tm haklar sakldr"},tG={title:"Bildirimler",markAsRead:"Okundu olarak iaretle",markAllAsRead:"Tmn okundu olarak iaretle",deleteAll:"Tmn sil",empty:"Grntlenecek bildirim yok",all:"Tm",unread:"Okunmam",friends:"Arkadalar",likes:"Beeniler",comments:"Yorumlar",groups:"Gruplar",events:"Etkinlikler"},rG={completeNow:"imdi Tamamla"},nG={shareThoughts:"Aklnda ne var?"},sG={title:"Arkadalar",requests:"stekler",suggestions:"neriler",no_friends:"Henz arkadanz yok. neriler blmnden arkada bulabilirsiniz!",no_requests:"Bekleyen istek yok.",no_suggestions:"u anda neri yok. Daha sonra tekrar kontrol edin!",incoming:"Gelen",sent:"Gnderilen",actions:{accept:"Kabul Et",decline:"Reddet",cancel_request:"stei ptal Et",connect:"Balan",message:"Mesaj",view_profile:"Profili Grntle"},requestPending:"stek Beklemede",alreadyFriend:"Zaten Arkada"},oG={main:"Ana",shortcuts:"Ksayollar",resources:"Kaynaklar",home:"Ana Sayfa",profile:"Profil",groups:"Gruplar",events:"Etkinlikler",friends:"Arkadalar",messages:"Mesajlar",chat:"Sohbet",notifications:"Bildirimler",discover:"Kefet",saved:"Kaydedilenler",favorites:"Favoriler",settings:"Ayarlar"},aG={accept:"Kabul Et",decline:"Reddet",connect:"Balan",disconnect:"Balanty Kes",follow:"Takip Et",unfollow:"Takibi Brak",block:"Engelle",unblock:"Engeli Kaldr",report:"Bildir",markAsRead:"Okundu Olarak aretle",markAllAsRead:"Tmn Okundu Olarak aretle",clearAll:"Tmn Temizle",showMore:"Daha Fazla Gster",showLess:"Daha Az Gster",readMore:"Devamn Oku",seeAll:"Tmn Gr",unfriendConfirm:"@{{username}} arkadalktan karlsn m?",search:"SSS Ara..."},iG={main:"Ana Men",home:"Anasayfa",profile:"Profil",groups:"Gruplar",events:"Etkinlikler",resources:"Kaynaklar",friends:"Arkadalar",messages:"Mesajlar",notifications:"Bildirimler",saved:"Kaydedilenler",settings:"Ayarlar"},lG={search_placeholder:"Gnderi ara...",no_posts_title:"Gnderi bulunamad",no_my_posts_message:"Henz hi gnderi oluturmadnz.",no_all_posts_message:"Grntlenecek gnderi yok.",create_first_post:"lk gnderinizi oluturun"},cG={title:"Gruplar",tabs:{all:"Tm Gruplar",my:"Gruplarm"},buttons:{create:"Grup Olutur",joining:"Katlnyor...",join:"Gruba Katl",chat:"Sohbet",leave:"Ayrl"},search_placeholder:"Topluluunu bul...",category_label:"Kategori",categories:{all:"Tm",technology:"Teknoloji",business:" Dnyas",education:"Eitim",entertainment:"Elence",health:"Salk",sports:"Spor",travel:"Seyahat",art:"Sanat",food:"Yemek",music:"Mzik"},members:"ye",no_groups_found_title:"Grup bulunamad",no_my_groups_message:"Henz hibir gruba katlmadnz.",no_all_groups_message:"Aramanz deitirmeyi veya yeni bir grup oluturmay deneyin."},uG={title:"Etkinlikler",tabs:{all:"Tm Etkinlikler",my:"Etkinliklerim"},buttons:{create:"Etkinlik Olutur",leaving:"Ayrlyor...",leave:"Ayrl",chat:"Sohbet",joining:"Katlnyor...",join:"Katl"},search_placeholder:"Etkinlik ara...",category_label:"Kategori Se",categories:{all:"Tm Kategoriler",technology:"Teknoloji",business:" Dnyas",education:"Eitim",entertainment:"Elence",health:"Salk",sports:"Spor",travel:"Seyahat",art:"Sanat",food:"Yemek",music:"Mzik"},public:"Herkese Ak",private:"zel",no_events_found_title:"Etkinlik bulunamad",no_my_events_message:"Henz hibir etkinlie katlmadnz.",no_all_events_message:"Aramanz deitirmeyi veya yeni bir etkinlik oluturmay deneyin."},dG={title:"Mesajlar",tabs:{direct:"Kiisel",groups:"Gruplar",events:"Etkinlikler"},direct:"Kiisel Mesajlar",groups:"Grup Sohbetleri",events:"Etkinlik Sohbetleri",select_conversation:"Bir konuma sein",select_conversation_description:"Listeden bir konuma sein veya Arkadalar sayfasndan yeni bir konuma balatn",no_direct_messages:"Henz kiisel mesajnz yok",no_group_chats:"Henz hibir grupta deilsiniz",no_event_chats:"Henz etkinlik sohbetiniz yok",find_friends:"Arkada Bul",browse_groups:"Gruplara Gz At",browse_events:"Etkinliklere Gz At",you:"Siz",no_messages_yet:"Henz mesaj yok",start_conversation:"Konuma Balat",members:"ye",view_profile:"Profili Grntle",delete_conversation:"Konumay Sil",archive_chat:"Sohbeti Arivle",mute_notifications:"Bildirimleri Sessize Al",block_user:"Kullancy Engelle",message_settings:"Mesaj Ayarlar",message_settings_soon:"Mesaj ayarlar yaknda gelecek",group_chats_coming_soon:"Grup sohbetleri yaknda gelecek",event_chat_ui_coming_soon:"Etkinlik sohbet arayz yaknda gelecek",group_chat_ui_coming_soon:"Grup sohbet arayz yaknda gelecek",view_group_info:"Grup Bilgisini Grntle",view_event_details:"Etkinlik Detaylarn Grntle",choose_conversation_or_start_new:"Listeden bir konuma sein veya yeni bir konuma balatn",your_events:"Etkinlikleriniz",refresh:"Yenile",admin:"Ynetici",member:"ye",no_description:"Aklama yok",enter_fullscreen:"Tam Ekran",exit_fullscreen:"Tam Ekrandan k",settings:"Mesaj Ayarlar",direct_message_policies:{delete_own:"Kullanclar kendi mesajlarn silebilir",insert_own:"Kullanclar kendi mesajlarn gnderebilir",update_own:"Kullanclar kendi mesajlarn gncelleyebilir",view_own:"Kullanclar kendi mesajlarn grntleyebilir"}},fG={title:"Kefet",searchPlaceholder:"Kii, grup veya etkinlik ara...",tabs:{trending:"Trendler",groups:"Gruplar",events:"Etkinlikler",people:"Kiiler"},buttons:{explore:"Daha Fazla Kefet"},eventDate:"Etkinlik Tarihi"},hG={title:"Kaydedilenler",categories:{all:"Tm eler",articles:"Makaleler",photos:"Fotoraflar",videos:"Videolar"},readTime5:"5 dk okuma",readTime8:"8 dk okuma",no_items_title:"Kaydedilmi e bulunamad",no_items_message:"Kaydettiiniz eler burada grnecektir. erie gz atn ve eleri kaydetmek iin yer imi simgesine tklayn.",buttons:{explore:"erii Kefet"}},mG={title:"Favoriler",tabs:{groups:"Gruplar",connections:"Balantlar"},buttons:{remove:"Favorilerden Kaldr",viewGroup:"Grubu Grntle"},noHeadline:"Balk yok",no_groups:"Henz favori grubunuz yok.",no_connections:"Henz favori balantnz yok."},gG={helpAndSupport:"Yardm & Destek",helpAndSupportDescription:"Sk sorulan sorularn yantlarn bulun ve destek ekibimizle iletiime gein.",telegramSupport:"Telegram Destei",telegramSupportDescription:"Telegram zerinden bizimle dorudan sohbet edin.",emailSupport:"E-posta Destei",emailSupportDescription:"Yardm iin bize bir e-posta gnderin.",helpCenter:"Yardm Merkezi",helpCenterDescription:"Bilgi bankamzda yantlar bulun.",documentation:"Dokmantasyon",documentationDescription:"Kapsaml klavuzlara gz atn.",viewDocumentation:"Dokmantasyonu Grntle",videoTutorials:"Video Eitimleri",videoTutorialsDescription:"Balamak iin videolarmz izleyin.",watchTutorials:"Eitimleri zle",frequentlyAskedQuestions:"Ska Sorulan Sorular",noMatchingFAQs:"Eleen SSS bulunamad.",openingTelegram:"Telegram destei alyor",openingEmail:"E-posta istemcisi alyor",redirectingToHelp:"Yardm Merkezine ynlendiriliyor...",redirectingToDocs:"Dokmantasyon alyor...",redirectingToTutorials:"Eitimler alyor..."},pG={createGroup:{question:"Nasl grup olutururum?",answer:'Gruplar sayfasna gidin ve "Grup Olutur" dmesine tklayn. Ayrntlar doldurun ve yeleri davet edin.'},addFriends:{question:"Nasl arkada ekleyebilirim?",answer:'Arkadalar sayfasna gidin, "neriler" altnda kiileri bulun veya arama yapn ve "Balan" veya "Arkada Ekle" dmesine tklayn.'},privacy:{question:"Gizlilik ayarlarm nasl ynetirim?",answer:"Ayarlar -> Gizlilik blmne gidin. Burada profilinizi ve gnderilerinizi kimlerin grebileceini kontrol edebilirsiniz."},notifications:{question:"Bildirim tercihlerimi nasl deitirebilirim?",answer:"E-posta ve anlk bildirimleri etkinletirmek veya devre d brakmak iin Ayarlar -> Bildirimler blmn ziyaret edin."},deleteAccount:{question:"Hesabm nasl silerim?",answer:"Ayarlar -> Gvenlik -> Hesap lemleri blmne gidin. Hesabnz silmenin kalc olduunu unutmayn."}},yG={title:"Yeni Grup Olutur",nameLabel:"Grup Ad *",namePlaceholder:"rn: Teknoloji Merakllar, Kitap Kulb",descriptionLabel:"Aklama",descriptionPlaceholder:"Bu grup ne hakknda?",categoryLabel:"Kategori",categoryPlaceholder:"Bir kategori sein...",visibilityLabel:"Grnrlk",visibilityPlaceholder:"Grnrl sein...",visibilityPublic:"Herkese Ak - Herkes grebilir ve katlabilir",visibilityPrivate:"zel - yeler davet edilmelidir",createButton:"Grubu Olutur",creatingButton:"Grup Oluturuluyor..."},vG={title:"Yeni Etkinlik Olutur",nameLabel:"Etkinlik Bal *",namePlaceholder:"rn: Yllk Teknoloji Konferans, Topluluk Bulumas",descriptionLabel:"Aklama",descriptionPlaceholder:"Etkinlik hakknda daha fazla bilgi verin",categoryLabel:"Kategori",categoryPlaceholder:"Bir kategori sein...",locationLabel:"Konum *",locationPlaceholder:"rn: Konferans Merkezi, evrimii",startDateLabel:"Balang Tarihi ve Saati *",startTimeLabel:"Balang Saati",endDateLabel:"Biti Tarihi ve Saati (stee bal)",endTimeLabel:"Biti Saati",visibilityLabel:"Grnrlk",visibilityPlaceholder:"Grnrl sein...",visibilityPublic:"Herkese Ak - Herkes grebilir",visibilityPrivate:"zel - Sadece davetliler",maxAttendeesLabel:"Maksimum Katlmc (stee bal)",maxAttendeesPlaceholder:"Snrsz iin bo brakn",createButton:"Etkinlii Olutur",creatingButton:"Etkinlik Oluturuluyor..."},xG={event_chat:"Etkinlik Sohbeti",back_to_messages:"Mesajlara Dn",view_event_details:"Etkinlik Detaylarn Grntle",view_attendees:"Katlmclar Grntle",event_attendees:"Etkinlik Katlmclar",no_attendees_found:"Katlmc bulunamad",attendee:"Katlmc",attendees:"Katlmclar",unknown_attendee:"Bilinmeyen Katlmc",unknown_location:"Bilinmeyen Konum",type_your_message:"Mesajnz yazn...",loading:"Ykleniyor...",error_loading_messages:"Mesajlar yklenirken hata olutu",error_sending_message:"Mesaj gnderilirken hata olutu. Ltfen tekrar deneyin.",date:"Tarih",location:"Konum",description:"Aklama",view_full_event_page:"Tam Etkinlik Sayfasn Grntle",event_settings:"Etkinlik Ayarlar",mute_notifications:"Bildirimleri Sessize Al",add_to_calendar:"Takvime Ekle",share_event:"Etkinlii Payla",leave_event:"Etkinlikten Ayrl",enter_fullscreen:"Tam Ekran",exit_fullscreen:"Tam Ekrandan k",error_invalid_event_id:"Geersiz etkinlik ID",error_event_not_found:"Etkinlik bulunamad veya silinmi olabilir",members_can_view:"Katlmclar dier katlmclar grebilir",attendees_can_join:"Kullanclar etkinliklere katlabilir",attendees_can_leave:"Katlmclar etkinliklerden ayrlabilir",users_own_attendance:"Kullanclar kendi katlmlarn grebilir",attendees_send_messages:"Katlmclar etkinlie mesaj gnderebilir",attendees_update_status:"Katlmclar durumlarn gncelleyebilir",view_attendees_policy:"Katlmclar grntle politikas",delete_own_messages:"Kullanclar kendi mesajlarn silebilir",update_own_messages:"Kullanclar kendi mesajlarn dzenleyebilir"},bG={buttons:zV,formLabels:BV,profile:VV,post:GV,errors:qV,success:WV,group_chat_settings:HV,group_chat:KV,settings:YV,comments:JV,common:XV,login:QV,navigation:ZV,footer:eG,notifications:tG,action:rG,placeholder:nG,friends:sG,nav:oG,actions:aG,sidebar:iG,home:lG,groups:cG,events:uG,messages:dG,discover:fG,saved:hG,favorites:mG,helpAndSupport:gG,faq:pG,createGroup:yG,createEvent:vG,event_chat:xG},wG={en:{translation:NB},ru:{translation:lV},kk:{translation:UV},tr:{translation:bG}};Pt.use(X4).use(VE).init({resources:wG,lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator"],caches:["localStorage"]},returnObjects:!0,returnEmptyString:!1,parseMissingKeyHandler:e=>`Missing translation: ${e}`,debug:!1});class _G extends m.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}componentDidCatch(t,r){this.setState({hasError:!0,error:t,errorInfo:r}),console.error("Error caught by ErrorBoundaryDebug:",t,r)}render(){var t,r;return this.state.hasError?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 p-4",children:a.jsxs("div",{className:"bg-white shadow-lg rounded-lg p-6 max-w-3xl w-full",children:[a.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-4",children:"Something went wrong"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Error:"}),a.jsx("pre",{className:"bg-gray-100 p-3 rounded overflow-auto text-sm",children:(t=this.state.error)==null?void 0:t.toString()})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Component Stack:"}),a.jsx("pre",{className:"bg-gray-100 p-3 rounded overflow-auto text-sm",children:(r=this.state.errorInfo)==null?void 0:r.componentStack})]}),a.jsx("button",{onClick:()=>window.location.reload(),className:"mt-6 px-4 py-2 bg-gradient-to-r from-gray-300 to-rose-500 text-white rounded hover:from-gray-400 hover:to-rose-600 transition-all",children:"Reload Page"})]})}):this.props.children}}const kG={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_APP_PORT:"3004",VITE_APP_URL:"https://connectme-uqip.onrender.com",VITE_GOOGLE_TRANSLATE_API_KEY:"AIzaSyAk07im0xTRrro37PicVQNuj0l9qAR_MH0",VITE_PUBLIC_URL:"https://connectme-uqip.onrender.com",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9oc2VyZWJpZ3ppeXhseHBrYWliIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTI3NDk0MTAsImV4cCI6MjAyODMyNTQxMH0.2mVOdgG-4QPVjVxqKshjFmcAyVELY6KYHtqlR-KLpvw",VITE_SUPABASE_URL:"https://ohserebigziyxlxpkaib.supabase.co",VITE_TRANSLATION_SERVER_PORT:"3005"};console.log("Application starting...");console.log("Environment:",kG);Oi(2,1e3).then(e=>{e?console.log("Translation server is available and connected."):console.warn("Translation server is not available. Translations will be disabled.")}).catch(e=>{console.error("Error checking translation server:",e)});window.addEventListener("error",e=>{console.error("Unhandled error:",e.error)});window.addEventListener("unhandledrejection",e=>{console.error("Unhandled promise rejection:",e.reason)});window.addEventListener("languageChanged",()=>{console.log("Language changed event detected, refreshing UI..."),document.body.style.zoom="0.99999",setTimeout(()=>{document.body.style.zoom="1"},10)});const Q4=document.getElementById("root");if(!Q4)throw new Error("Root element not found");console.log("Root element found, rendering app...");window.location.hash&&(window.location.hash.includes("access_token")||window.location.hash.includes("refresh_token")||window.location.hash.includes("error_description"))?(console.log("MAIN.TSX: Detected auth tokens in URL hash!"),console.log("Hash content:",window.location.hash)):localStorage.getItem("force_redirect_home")==="true"&&(localStorage.removeItem("force_redirect_home"),localStorage.removeItem("redirect_attempts"),localStorage.removeItem("auth_hash"));const SG={future:{v7_startTransition:!0,v7_relativeSplatPath:!0}};D1(Q4).render(a.jsx(m.StrictMode,{children:a.jsx(_G,{children:a.jsx(EE,{future:SG.future,children:a.jsx(r2,{children:a.jsx(z5,{children:a.jsx(cz,{})})})})})}));export{_b as g};
//# sourceMappingURL=index-FVzSVJD5.js.map
